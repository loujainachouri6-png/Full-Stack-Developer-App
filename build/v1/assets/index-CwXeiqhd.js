var i_=e=>{throw TypeError(e)};var Dd=(e,t,n)=>t.has(e)||i_("Cannot "+n);var U=(e,t,n)=>(Dd(e,t,"read from private field"),n?n.call(e):t.get(e)),Et=(e,t,n)=>t.has(e)?i_("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ot=(e,t,n,r)=>(Dd(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Ie=(e,t,n)=>(Dd(e,t,"access private method"),n);var Tc=(e,t,n,r)=>({set _(i){ot(e,t,i,n)},get _(){return U(e,t,r)}});function hC(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function WE(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ZE={exports:{}},Tf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fC=Symbol.for("react.transitional.element"),dC=Symbol.for("react.fragment");function JE(e,t,n){var r=null;if(n!==void 0&&(r=""+n),t.key!==void 0&&(r=""+t.key),"key"in t){n={};for(var i in t)i!=="key"&&(n[i]=t[i])}else n=t;return t=n.ref,{$$typeof:fC,type:e,key:r,ref:t!==void 0?t:null,props:n}}Tf.Fragment=dC;Tf.jsx=JE;Tf.jsxs=JE;ZE.exports=Tf;var M=ZE.exports,tw={exports:{}},Af={},ew={exports:{}},nw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,$){var H=q.length;q.push($);t:for(;0<H;){var F=H-1>>>1,W=q[F];if(0<i(W,$))q[F]=$,q[H]=W,H=F;else break t}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var $=q[0],H=q.pop();if(H!==$){q[0]=H;t:for(var F=0,W=q.length,Ut=W>>>1;F<Ut;){var at=2*(F+1)-1,J=q[at],gt=at+1,Dt=q[gt];if(0>i(J,H))gt<W&&0>i(Dt,J)?(q[F]=Dt,q[gt]=H,F=gt):(q[F]=J,q[at]=H,F=at);else if(gt<W&&0>i(Dt,H))q[F]=Dt,q[gt]=H,F=gt;else break t}}return $}function i(q,$){var H=q.sortIndex-$.sortIndex;return H!==0?H:q.id-$.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var u=[],c=[],h=1,m=null,p=3,d=!1,S=!1,E=!1,A=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function I(q){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=q)r(c),$.sortIndex=$.expirationTime,t(u,$);else break;$=n(c)}}function V(q){if(E=!1,I(q),!S)if(n(u)!==null)S=!0,L||(L=!0,O());else{var $=n(c);$!==null&&wt(V,$.startTime-q)}}var L=!1,T=-1,_=5,x=-1;function R(){return A?!0:!(e.unstable_now()-x<_)}function N(){if(A=!1,L){var q=e.unstable_now();x=q;var $=!0;try{t:{S=!1,E&&(E=!1,v(T),T=-1),d=!0;var H=p;try{e:{for(I(q),m=n(u);m!==null&&!(m.expirationTime>q&&R());){var F=m.callback;if(typeof F=="function"){m.callback=null,p=m.priorityLevel;var W=F(m.expirationTime<=q);if(q=e.unstable_now(),typeof W=="function"){m.callback=W,I(q),$=!0;break e}m===n(u)&&r(u),I(q)}else r(u);m=n(u)}if(m!==null)$=!0;else{var Ut=n(c);Ut!==null&&wt(V,Ut.startTime-q),$=!1}}break t}finally{m=null,p=H,d=!1}$=void 0}}finally{$?O():L=!1}}}var O;if(typeof w=="function")O=function(){w(N)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,rt=C.port2;C.port1.onmessage=N,O=function(){rt.postMessage(null)}}else O=function(){y(N,0)};function wt(q,$){T=y(function(){q(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(q){switch(p){case 1:case 2:case 3:var $=3;break;default:$=p}var H=p;p=$;try{return q()}finally{p=H}},e.unstable_requestPaint=function(){A=!0},e.unstable_runWithPriority=function(q,$){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var H=p;p=q;try{return $()}finally{p=H}},e.unstable_scheduleCallback=function(q,$,H){var F=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?F+H:F):H=F,q){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=H+W,q={id:h++,callback:$,priorityLevel:q,startTime:H,expirationTime:W,sortIndex:-1},H>F?(q.sortIndex=H,t(c,q),n(u)===null&&q===n(c)&&(E?(v(T),T=-1):E=!0,wt(V,H-F))):(q.sortIndex=W,t(u,q),S||d||(S=!0,L||(L=!0,O()))),q},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(q){var $=p;return function(){var H=p;p=$;try{return q.apply(this,arguments)}finally{p=H}}}})(nw);ew.exports=nw;var mC=ew.exports,rw={exports:{}},ut={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fg=Symbol.for("react.transitional.element"),pC=Symbol.for("react.portal"),gC=Symbol.for("react.fragment"),yC=Symbol.for("react.strict_mode"),vC=Symbol.for("react.profiler"),_C=Symbol.for("react.consumer"),bC=Symbol.for("react.context"),EC=Symbol.for("react.forward_ref"),wC=Symbol.for("react.suspense"),TC=Symbol.for("react.memo"),iw=Symbol.for("react.lazy"),s_=Symbol.iterator;function AC(e){return e===null||typeof e!="object"?null:(e=s_&&e[s_]||e["@@iterator"],typeof e=="function"?e:null)}var sw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},aw=Object.assign,ow={};function Mo(e,t,n){this.props=e,this.context=t,this.refs=ow,this.updater=n||sw}Mo.prototype.isReactComponent={};Mo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Mo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function lw(){}lw.prototype=Mo.prototype;function dg(e,t,n){this.props=e,this.context=t,this.refs=ow,this.updater=n||sw}var mg=dg.prototype=new lw;mg.constructor=dg;aw(mg,Mo.prototype);mg.isPureReactComponent=!0;var a_=Array.isArray,Gt={H:null,A:null,T:null,S:null,V:null},uw=Object.prototype.hasOwnProperty;function pg(e,t,n,r,i,s){return n=s.ref,{$$typeof:fg,type:e,key:t,ref:n!==void 0?n:null,props:s}}function SC(e,t){return pg(e.type,t,void 0,void 0,void 0,e.props)}function gg(e){return typeof e=="object"&&e!==null&&e.$$typeof===fg}function RC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var o_=/\/+/g;function Md(e,t){return typeof e=="object"&&e!==null&&e.key!=null?RC(""+e.key):t.toString(36)}function l_(){}function xC(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(l_,l_):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function _a(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case fg:case pC:a=!0;break;case iw:return a=e._init,_a(a(e._payload),t,n,r,i)}}if(a)return i=i(e),a=r===""?"."+Md(e,0):r,a_(i)?(n="",a!=null&&(n=a.replace(o_,"$&/")+"/"),_a(i,t,n,"",function(c){return c})):i!=null&&(gg(i)&&(i=SC(i,n+(i.key==null||e&&e.key===i.key?"":(""+i.key).replace(o_,"$&/")+"/")+a)),t.push(i)),1;a=0;var o=r===""?".":r+":";if(a_(e))for(var u=0;u<e.length;u++)r=e[u],s=o+Md(r,u),a+=_a(r,t,n,s,i);else if(u=AC(e),typeof u=="function")for(e=u.call(e),u=0;!(r=e.next()).done;)r=r.value,s=o+Md(r,u++),a+=_a(r,t,n,s,i);else if(s==="object"){if(typeof e.then=="function")return _a(xC(e),t,n,r,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return a}function Ac(e,t,n){if(e==null)return e;var r=[],i=0;return _a(e,r,"","",function(s){return t.call(n,s,i++)}),r}function CC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var u_=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function IC(){}ut.Children={map:Ac,forEach:function(e,t,n){Ac(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ac(e,function(){t++}),t},toArray:function(e){return Ac(e,function(t){return t})||[]},only:function(e){if(!gg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ut.Component=Mo;ut.Fragment=gC;ut.Profiler=vC;ut.PureComponent=dg;ut.StrictMode=yC;ut.Suspense=wC;ut.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Gt;ut.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Gt.H.useMemoCache(e)}};ut.cache=function(e){return function(){return e.apply(null,arguments)}};ut.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var r=aw({},e.props),i=e.key,s=void 0;if(t!=null)for(a in t.ref!==void 0&&(s=void 0),t.key!==void 0&&(i=""+t.key),t)!uw.call(t,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&t.ref===void 0||(r[a]=t[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),u=0;u<a;u++)o[u]=arguments[u+2];r.children=o}return pg(e.type,i,void 0,void 0,s,r)};ut.createContext=function(e){return e={$$typeof:bC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:_C,_context:e},e};ut.createElement=function(e,t,n){var r,i={},s=null;if(t!=null)for(r in t.key!==void 0&&(s=""+t.key),t)uw.call(t,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var o=Array(a),u=0;u<a;u++)o[u]=arguments[u+2];i.children=o}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return pg(e,s,void 0,void 0,null,i)};ut.createRef=function(){return{current:null}};ut.forwardRef=function(e){return{$$typeof:EC,render:e}};ut.isValidElement=gg;ut.lazy=function(e){return{$$typeof:iw,_payload:{_status:-1,_result:e},_init:CC}};ut.memo=function(e,t){return{$$typeof:TC,type:e,compare:t===void 0?null:t}};ut.startTransition=function(e){var t=Gt.T,n={};Gt.T=n;try{var r=e(),i=Gt.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(IC,u_)}catch(s){u_(s)}finally{Gt.T=t}};ut.unstable_useCacheRefresh=function(){return Gt.H.useCacheRefresh()};ut.use=function(e){return Gt.H.use(e)};ut.useActionState=function(e,t,n){return Gt.H.useActionState(e,t,n)};ut.useCallback=function(e,t){return Gt.H.useCallback(e,t)};ut.useContext=function(e){return Gt.H.useContext(e)};ut.useDebugValue=function(){};ut.useDeferredValue=function(e,t){return Gt.H.useDeferredValue(e,t)};ut.useEffect=function(e,t,n){var r=Gt.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)};ut.useId=function(){return Gt.H.useId()};ut.useImperativeHandle=function(e,t,n){return Gt.H.useImperativeHandle(e,t,n)};ut.useInsertionEffect=function(e,t){return Gt.H.useInsertionEffect(e,t)};ut.useLayoutEffect=function(e,t){return Gt.H.useLayoutEffect(e,t)};ut.useMemo=function(e,t){return Gt.H.useMemo(e,t)};ut.useOptimistic=function(e,t){return Gt.H.useOptimistic(e,t)};ut.useReducer=function(e,t,n){return Gt.H.useReducer(e,t,n)};ut.useRef=function(e){return Gt.H.useRef(e)};ut.useState=function(e){return Gt.H.useState(e)};ut.useSyncExternalStore=function(e,t,n){return Gt.H.useSyncExternalStore(e,t,n)};ut.useTransition=function(){return Gt.H.useTransition()};ut.version="19.1.1";rw.exports=ut;var D=rw.exports;const Q=WE(D),cw=hC({__proto__:null,default:Q},[D]);var hw={exports:{}},Be={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NC=D;function fw(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function hi(){}var je={d:{f:hi,r:function(){throw Error(fw(522))},D:hi,C:hi,L:hi,m:hi,X:hi,S:hi,M:hi},p:0,findDOMNode:null},OC=Symbol.for("react.portal");function DC(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:OC,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}var Il=NC.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Sf(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Be.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=je;Be.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(fw(299));return DC(e,t,null,n)};Be.flushSync=function(e){var t=Il.T,n=je.p;try{if(Il.T=null,je.p=2,e)return e()}finally{Il.T=t,je.p=n,je.d.f()}};Be.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,je.d.C(e,t))};Be.prefetchDNS=function(e){typeof e=="string"&&je.d.D(e)};Be.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,r=Sf(n,t.crossOrigin),i=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?je.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):n==="script"&&je.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Be.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Sf(t.as,t.crossOrigin);je.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&je.d.M(e)};Be.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,r=Sf(n,t.crossOrigin);je.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Be.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Sf(t.as,t.crossOrigin);je.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else je.d.m(e)};Be.requestFormReset=function(e){je.d.r(e)};Be.unstable_batchedUpdates=function(e,t){return e(t)};Be.useFormState=function(e,t,n){return Il.H.useFormState(e,t,n)};Be.useFormStatus=function(){return Il.H.useHostTransitionStatus()};Be.version="19.1.1";function dw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dw)}catch(e){console.error(e)}}dw(),hw.exports=Be;var Rf=hw.exports;const MC=WE(Rf);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fe=mC,mw=D,PC=Rf;function B(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function pw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function xu(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function gw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function c_(e){if(xu(e)!==e)throw Error(B(188))}function VC(e){var t=e.alternate;if(!t){if(t=xu(e),t===null)throw Error(B(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return c_(i),e;if(s===r)return c_(i),t;s=s.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?e:t}function yw(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=yw(e),t!==null)return t;e=e.sibling}return null}var qt=Object.assign,kC=Symbol.for("react.element"),Sc=Symbol.for("react.transitional.element"),bl=Symbol.for("react.portal"),xa=Symbol.for("react.fragment"),vw=Symbol.for("react.strict_mode"),Dm=Symbol.for("react.profiler"),LC=Symbol.for("react.provider"),_w=Symbol.for("react.consumer"),Dr=Symbol.for("react.context"),yg=Symbol.for("react.forward_ref"),Mm=Symbol.for("react.suspense"),Pm=Symbol.for("react.suspense_list"),vg=Symbol.for("react.memo"),vi=Symbol.for("react.lazy"),Vm=Symbol.for("react.activity"),UC=Symbol.for("react.memo_cache_sentinel"),h_=Symbol.iterator;function cl(e){return e===null||typeof e!="object"?null:(e=h_&&e[h_]||e["@@iterator"],typeof e=="function"?e:null)}var zC=Symbol.for("react.client.reference");function km(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===zC?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case xa:return"Fragment";case Dm:return"Profiler";case vw:return"StrictMode";case Mm:return"Suspense";case Pm:return"SuspenseList";case Vm:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case bl:return"Portal";case Dr:return(e.displayName||"Context")+".Provider";case _w:return(e._context.displayName||"Context")+".Consumer";case yg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case vg:return t=e.displayName||null,t!==null?t:km(e.type)||"Memo";case vi:t=e._payload,e=e._init;try{return km(e(t))}catch{}}return null}var El=Array.isArray,tt=mw.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,At=PC.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Vs={pending:!1,data:null,method:null,action:null},Lm=[],Ca=-1;function yr(e){return{current:e}}function ye(e){0>Ca||(e.current=Lm[Ca],Lm[Ca]=null,Ca--)}function Qt(e,t){Ca++,Lm[Ca]=e.current,e.current=t}var ir=yr(null),Xl=yr(null),zi=yr(null),bh=yr(null);function Eh(e,t){switch(Qt(zi,t),Qt(Xl,e),Qt(ir,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?g0(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=g0(t),e=k1(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ye(ir),Qt(ir,e)}function ho(){ye(ir),ye(Xl),ye(zi)}function Um(e){e.memoizedState!==null&&Qt(bh,e);var t=ir.current,n=k1(t,e.type);t!==n&&(Qt(Xl,e),Qt(ir,n))}function wh(e){Xl.current===e&&(ye(ir),ye(Xl)),bh.current===e&&(ye(bh),au._currentValue=Vs)}var zm=Object.prototype.hasOwnProperty,_g=fe.unstable_scheduleCallback,Pd=fe.unstable_cancelCallback,jC=fe.unstable_shouldYield,BC=fe.unstable_requestPaint,sr=fe.unstable_now,qC=fe.unstable_getCurrentPriorityLevel,bw=fe.unstable_ImmediatePriority,Ew=fe.unstable_UserBlockingPriority,Th=fe.unstable_NormalPriority,HC=fe.unstable_LowPriority,ww=fe.unstable_IdlePriority,FC=fe.log,GC=fe.unstable_setDisableYieldValue,Cu=null,ln=null;function Mi(e){if(typeof FC=="function"&&GC(e),ln&&typeof ln.setStrictMode=="function")try{ln.setStrictMode(Cu,e)}catch{}}var un=Math.clz32?Math.clz32:YC,QC=Math.log,$C=Math.LN2;function YC(e){return e>>>=0,e===0?32:31-(QC(e)/$C|0)|0}var Rc=256,xc=4194304;function Ts(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xf(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var i=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var o=r&134217727;return o!==0?(r=o&~s,r!==0?i=Ts(r):(a&=o,a!==0?i=Ts(a):n||(n=o&~e,n!==0&&(i=Ts(n))))):(o=r&~s,o!==0?i=Ts(o):a!==0?i=Ts(a):n||(n=r&~e,n!==0&&(i=Ts(n)))),i===0?0:t!==0&&t!==i&&!(t&s)&&(s=i&-i,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:i}function Iu(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function KC(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tw(){var e=Rc;return Rc<<=1,!(Rc&4194048)&&(Rc=256),e}function Aw(){var e=xc;return xc<<=1,!(xc&62914560)&&(xc=4194304),e}function Vd(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Nu(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function XC(e,t,n,r,i,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,u=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var h=31-un(n),m=1<<h;o[h]=0,u[h]=-1;var p=c[h];if(p!==null)for(c[h]=null,h=0;h<p.length;h++){var d=p[h];d!==null&&(d.lane&=-536870913)}n&=~m}r!==0&&Sw(e,r,0),s!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=s&~(a&~t))}function Sw(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-un(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&4194090}function Rw(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-un(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function bg(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Eg(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function xw(){var e=At.p;return e!==0?e:(e=window.event,e===void 0?32:Q1(e.type))}function WC(e,t){var n=At.p;try{return At.p=e,t()}finally{At.p=n}}var cs=Math.random().toString(36).slice(2),Pe="__reactFiber$"+cs,Ke="__reactProps$"+cs,Po="__reactContainer$"+cs,jm="__reactEvents$"+cs,ZC="__reactListeners$"+cs,JC="__reactHandles$"+cs,f_="__reactResources$"+cs,Ou="__reactMarker$"+cs;function wg(e){delete e[Pe],delete e[Ke],delete e[jm],delete e[ZC],delete e[JC]}function Ia(e){var t=e[Pe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Po]||n[Pe]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=_0(e);e!==null;){if(n=e[Pe])return n;e=_0(e)}return t}e=n,n=e.parentNode}return null}function Vo(e){if(e=e[Pe]||e[Po]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function wl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(B(33))}function ja(e){var t=e[f_];return t||(t=e[f_]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function pe(e){e[Ou]=!0}var Cw=new Set,Iw={};function ta(e,t){fo(e,t),fo(e+"Capture",t)}function fo(e,t){for(Iw[e]=t,e=0;e<t.length;e++)Cw.add(t[e])}var tI=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),d_={},m_={};function eI(e){return zm.call(m_,e)?!0:zm.call(d_,e)?!1:tI.test(e)?m_[e]=!0:(d_[e]=!0,!1)}function Kc(e,t,n){if(eI(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Cc(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Sr(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}var kd,p_;function ba(e){if(kd===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);kd=t&&t[1]||"",p_=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+kd+e+p_}var Ld=!1;function Ud(e,t){if(!e||Ld)return"";Ld=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(d){var p=d}Reflect.construct(e,[],m)}else{try{m.call()}catch(d){p=d}e.call(m.prototype)}}else{try{throw Error()}catch(d){p=d}(m=e())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(d){if(d&&p&&typeof d.stack=="string")return[d.stack,p.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var u=a.split(`
`),c=o.split(`
`);for(i=r=0;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===u.length||i===c.length)for(r=u.length-1,i=c.length-1;1<=r&&0<=i&&u[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(u[r]!==c[i]){if(r!==1||i!==1)do if(r--,i--,0>i||u[r]!==c[i]){var h=`
`+u[r].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=r&&0<=i);break}}}finally{Ld=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ba(n):""}function nI(e){switch(e.tag){case 26:case 27:case 5:return ba(e.type);case 16:return ba("Lazy");case 13:return ba("Suspense");case 19:return ba("SuspenseList");case 0:case 15:return Ud(e.type,!1);case 11:return Ud(e.type.render,!1);case 1:return Ud(e.type,!0);case 31:return ba("Activity");default:return""}}function g_(e){try{var t="";do t+=nI(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function _n(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Nw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rI(e){var t=Nw(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ah(e){e._valueTracker||(e._valueTracker=rI(e))}function Ow(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Nw(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Sh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var iI=/[\n"\\]/g;function wn(e){return e.replace(iI,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Bm(e,t,n,r,i,s,a,o){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+_n(t)):e.value!==""+_n(t)&&(e.value=""+_n(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?qm(e,a,_n(t)):n!=null?qm(e,a,_n(n)):r!=null&&e.removeAttribute("value"),i==null&&s!=null&&(e.defaultChecked=!!s),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+_n(o):e.removeAttribute("name")}function Dw(e,t,n,r,i,s,a,o){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null))return;n=n!=null?""+_n(n):"",t=t!=null?""+_n(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a)}function qm(e,t,n){t==="number"&&Sh(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Ba(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+_n(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Mw(e,t,n){if(t!=null&&(t=""+_n(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+_n(n):""}function Pw(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(B(92));if(El(r)){if(1<r.length)throw Error(B(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=_n(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r)}function mo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var sI=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function y_(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||sI.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Vw(e,t,n){if(t!=null&&typeof t!="object")throw Error(B(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&y_(e,i,r)}else for(var s in t)t.hasOwnProperty(s)&&y_(e,s,t[s])}function Tg(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var aI=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oI=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xc(e){return oI.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Hm=null;function Ag(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Na=null,qa=null;function v_(e){var t=Vo(e);if(t&&(e=t.stateNode)){var n=e[Ke]||null;t:switch(e=t.stateNode,t.type){case"input":if(Bm(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+wn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Ke]||null;if(!i)throw Error(B(90));Bm(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&Ow(r)}break t;case"textarea":Mw(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&Ba(e,!!n.multiple,t,!1)}}}var zd=!1;function kw(e,t,n){if(zd)return e(t,n);zd=!0;try{var r=e(t);return r}finally{if(zd=!1,(Na!==null||qa!==null)&&(Lf(),Na&&(t=Na,e=qa,qa=Na=null,v_(t),e)))for(t=0;t<e.length;t++)v_(e[t])}}function Wl(e,t){var n=e.stateNode;if(n===null)return null;var r=n[Ke]||null;if(r===null)return null;n=r[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(B(231,t,typeof n));return n}var qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fm=!1;if(qr)try{var hl={};Object.defineProperty(hl,"passive",{get:function(){Fm=!0}}),window.addEventListener("test",hl,hl),window.removeEventListener("test",hl,hl)}catch{Fm=!1}var Pi=null,Sg=null,Wc=null;function Lw(){if(Wc)return Wc;var e,t=Sg,n=t.length,r,i="value"in Pi?Pi.value:Pi.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return Wc=i.slice(e,1<r?1-r:void 0)}function Zc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ic(){return!0}function __(){return!1}function Je(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ic:__,this.isPropagationStopped=__,this}return qt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ic)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ic)},persist:function(){},isPersistent:Ic}),t}var ea={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cf=Je(ea),Du=qt({},ea,{view:0,detail:0}),lI=Je(Du),jd,Bd,fl,If=qt({},Du,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fl&&(fl&&e.type==="mousemove"?(jd=e.screenX-fl.screenX,Bd=e.screenY-fl.screenY):Bd=jd=0,fl=e),jd)},movementY:function(e){return"movementY"in e?e.movementY:Bd}}),b_=Je(If),uI=qt({},If,{dataTransfer:0}),cI=Je(uI),hI=qt({},Du,{relatedTarget:0}),qd=Je(hI),fI=qt({},ea,{animationName:0,elapsedTime:0,pseudoElement:0}),dI=Je(fI),mI=qt({},ea,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pI=Je(mI),gI=qt({},ea,{data:0}),E_=Je(gI),yI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_I={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bI(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_I[e])?!!t[e]:!1}function Rg(){return bI}var EI=qt({},Du,{key:function(e){if(e.key){var t=yI[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vI[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rg,charCode:function(e){return e.type==="keypress"?Zc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wI=Je(EI),TI=qt({},If,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w_=Je(TI),AI=qt({},Du,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rg}),SI=Je(AI),RI=qt({},ea,{propertyName:0,elapsedTime:0,pseudoElement:0}),xI=Je(RI),CI=qt({},If,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),II=Je(CI),NI=qt({},ea,{newState:0,oldState:0}),OI=Je(NI),DI=[9,13,27,32],xg=qr&&"CompositionEvent"in window,Nl=null;qr&&"documentMode"in document&&(Nl=document.documentMode);var MI=qr&&"TextEvent"in window&&!Nl,Uw=qr&&(!xg||Nl&&8<Nl&&11>=Nl),T_=" ",A_=!1;function zw(e,t){switch(e){case"keyup":return DI.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Oa=!1;function PI(e,t){switch(e){case"compositionend":return jw(t);case"keypress":return t.which!==32?null:(A_=!0,T_);case"textInput":return e=t.data,e===T_&&A_?null:e;default:return null}}function VI(e,t){if(Oa)return e==="compositionend"||!xg&&zw(e,t)?(e=Lw(),Wc=Sg=Pi=null,Oa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Uw&&t.locale!=="ko"?null:t.data;default:return null}}var kI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function S_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!kI[e.type]:t==="textarea"}function Bw(e,t,n,r){Na?qa?qa.push(r):qa=[r]:Na=r,t=Hh(t,"onChange"),0<t.length&&(n=new Cf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ol=null,Zl=null;function LI(e){M1(e,0)}function Nf(e){var t=wl(e);if(Ow(t))return e}function R_(e,t){if(e==="change")return t}var qw=!1;if(qr){var Hd;if(qr){var Fd="oninput"in document;if(!Fd){var x_=document.createElement("div");x_.setAttribute("oninput","return;"),Fd=typeof x_.oninput=="function"}Hd=Fd}else Hd=!1;qw=Hd&&(!document.documentMode||9<document.documentMode)}function C_(){Ol&&(Ol.detachEvent("onpropertychange",Hw),Zl=Ol=null)}function Hw(e){if(e.propertyName==="value"&&Nf(Zl)){var t=[];Bw(t,Zl,e,Ag(e)),kw(LI,t)}}function UI(e,t,n){e==="focusin"?(C_(),Ol=t,Zl=n,Ol.attachEvent("onpropertychange",Hw)):e==="focusout"&&C_()}function zI(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nf(Zl)}function jI(e,t){if(e==="click")return Nf(t)}function BI(e,t){if(e==="input"||e==="change")return Nf(t)}function qI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dn=typeof Object.is=="function"?Object.is:qI;function Jl(e,t){if(dn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!zm.call(t,i)||!dn(e[i],t[i]))return!1}return!0}function I_(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function N_(e,t){var n=I_(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=I_(n)}}function Fw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Fw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Gw(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Sh(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Sh(e.document)}return t}function Cg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var HI=qr&&"documentMode"in document&&11>=document.documentMode,Da=null,Gm=null,Dl=null,Qm=!1;function O_(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qm||Da==null||Da!==Sh(r)||(r=Da,"selectionStart"in r&&Cg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Dl&&Jl(Dl,r)||(Dl=r,r=Hh(Gm,"onSelect"),0<r.length&&(t=new Cf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Da)))}function ws(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ma={animationend:ws("Animation","AnimationEnd"),animationiteration:ws("Animation","AnimationIteration"),animationstart:ws("Animation","AnimationStart"),transitionrun:ws("Transition","TransitionRun"),transitionstart:ws("Transition","TransitionStart"),transitioncancel:ws("Transition","TransitionCancel"),transitionend:ws("Transition","TransitionEnd")},Gd={},Qw={};qr&&(Qw=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function na(e){if(Gd[e])return Gd[e];if(!Ma[e])return e;var t=Ma[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Qw)return Gd[e]=t[n];return e}var $w=na("animationend"),Yw=na("animationiteration"),Kw=na("animationstart"),FI=na("transitionrun"),GI=na("transitionstart"),QI=na("transitioncancel"),Xw=na("transitionend"),Ww=new Map,$m="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$m.push("scrollEnd");function Hn(e,t){Ww.set(e,t),ta(t,[e])}var D_=new WeakMap;function Tn(e,t){if(typeof e=="object"&&e!==null){var n=D_.get(e);return n!==void 0?n:(t={value:e,source:t,stack:g_(t)},D_.set(e,t),t)}return{value:e,source:t,stack:g_(t)}}var vn=[],Pa=0,Ig=0;function Of(){for(var e=Pa,t=Ig=Pa=0;t<e;){var n=vn[t];vn[t++]=null;var r=vn[t];vn[t++]=null;var i=vn[t];vn[t++]=null;var s=vn[t];if(vn[t++]=null,r!==null&&i!==null){var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}s!==0&&Zw(n,i,s)}}function Df(e,t,n,r){vn[Pa++]=e,vn[Pa++]=t,vn[Pa++]=n,vn[Pa++]=r,Ig|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Ng(e,t,n,r){return Df(e,t,n,r),Rh(e)}function ko(e,t){return Df(e,null,null,t),Rh(e)}function Zw(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var i=!1,s=e.return;s!==null;)s.childLanes|=n,r=s.alternate,r!==null&&(r.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(i=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,i&&t!==null&&(i=31-un(n),e=s.hiddenUpdates,r=e[i],r===null?e[i]=[t]:r.push(t),t.lane=n|536870912),s):null}function Rh(e){if(50<ql)throw ql=0,mp=null,Error(B(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Va={};function $I(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(e,t,n,r){return new $I(e,t,n,r)}function Og(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zr(e,t){var n=e.alternate;return n===null?(n=on(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Jw(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Jc(e,t,n,r,i,s){var a=0;if(r=e,typeof e=="function")Og(e)&&(a=1);else if(typeof e=="string")a=K2(e,n,ir.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case Vm:return e=on(31,n,t,i),e.elementType=Vm,e.lanes=s,e;case xa:return ks(n.children,i,s,t);case vw:a=8,i|=24;break;case Dm:return e=on(12,n,t,i|2),e.elementType=Dm,e.lanes=s,e;case Mm:return e=on(13,n,t,i),e.elementType=Mm,e.lanes=s,e;case Pm:return e=on(19,n,t,i),e.elementType=Pm,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case LC:case Dr:a=10;break t;case _w:a=9;break t;case yg:a=11;break t;case vg:a=14;break t;case vi:a=16,r=null;break t}a=29,n=Error(B(130,e===null?"null":typeof e,"")),r=null}return t=on(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function ks(e,t,n,r){return e=on(7,e,r,t),e.lanes=n,e}function Qd(e,t,n){return e=on(6,e,null,t),e.lanes=n,e}function $d(e,t,n){return t=on(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ka=[],La=0,xh=null,Ch=0,bn=[],En=0,Ls=null,Mr=1,Pr="";function As(e,t){ka[La++]=Ch,ka[La++]=xh,xh=e,Ch=t}function tT(e,t,n){bn[En++]=Mr,bn[En++]=Pr,bn[En++]=Ls,Ls=e;var r=Mr;e=Pr;var i=32-un(r)-1;r&=~(1<<i),n+=1;var s=32-un(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Mr=1<<32-un(t)+i|n<<i|r,Pr=s+e}else Mr=1<<s|n<<i|r,Pr=e}function Dg(e){e.return!==null&&(As(e,1),tT(e,1,0))}function Mg(e){for(;e===xh;)xh=ka[--La],ka[La]=null,Ch=ka[--La],ka[La]=null;for(;e===Ls;)Ls=bn[--En],bn[En]=null,Pr=bn[--En],bn[En]=null,Mr=bn[--En],bn[En]=null}var ze=null,Zt=null,Tt=!1,Us=null,er=!1,Ym=Error(B(519));function Fs(e){var t=Error(B(418,""));throw tu(Tn(t,e)),Ym}function M_(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Pe]=e,t[Ke]=r,n){case"dialog":ht("cancel",t),ht("close",t);break;case"iframe":case"object":case"embed":ht("load",t);break;case"video":case"audio":for(n=0;n<ru.length;n++)ht(ru[n],t);break;case"source":ht("error",t);break;case"img":case"image":case"link":ht("error",t),ht("load",t);break;case"details":ht("toggle",t);break;case"input":ht("invalid",t),Dw(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),Ah(t);break;case"select":ht("invalid",t);break;case"textarea":ht("invalid",t),Pw(t,r.value,r.defaultValue,r.children),Ah(t)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||V1(t.textContent,n)?(r.popover!=null&&(ht("beforetoggle",t),ht("toggle",t)),r.onScroll!=null&&ht("scroll",t),r.onScrollEnd!=null&&ht("scrollend",t),r.onClick!=null&&(t.onclick=jf),t=!0):t=!1,t||Fs(e)}function P_(e){for(ze=e.return;ze;)switch(ze.tag){case 5:case 13:er=!1;return;case 27:case 3:er=!0;return;default:ze=ze.return}}function dl(e){if(e!==ze)return!1;if(!Tt)return P_(e),Tt=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||bp(e.type,e.memoizedProps)),n=!n),n&&Zt&&Fs(e),P_(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){Zt=zn(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}Zt=null}}else t===27?(t=Zt,hs(e.type)?(e=Tp,Tp=null,Zt=e):Zt=t):Zt=ze?zn(e.stateNode.nextSibling):null;return!0}function Mu(){Zt=ze=null,Tt=!1}function V_(){var e=Us;return e!==null&&(Qe===null?Qe=e:Qe.push.apply(Qe,e),Us=null),e}function tu(e){Us===null?Us=[e]:Us.push(e)}var Km=yr(null),ra=null,Vr=null;function bi(e,t,n){Qt(Km,t._currentValue),t._currentValue=n}function jr(e){e._currentValue=Km.current,ye(Km)}function Xm(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Wm(e,t,n,r){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var s=i.dependencies;if(s!==null){var a=i.child;s=s.firstContext;t:for(;s!==null;){var o=s;s=i;for(var u=0;u<t.length;u++)if(o.context===t[u]){s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),Xm(s.return,n,e),r||(a=null);break t}s=o.next}}else if(i.tag===18){if(a=i.return,a===null)throw Error(B(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Xm(a,n,e),a=null}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}}function Pu(e,t,n,r){e=null;for(var i=t,s=!1;i!==null;){if(!s){if(i.flags&524288)s=!0;else if(i.flags&262144)break}if(i.tag===10){var a=i.alternate;if(a===null)throw Error(B(387));if(a=a.memoizedProps,a!==null){var o=i.type;dn(i.pendingProps.value,a.value)||(e!==null?e.push(o):e=[o])}}else if(i===bh.current){if(a=i.alternate,a===null)throw Error(B(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(au):e=[au])}i=i.return}e!==null&&Wm(t,e,n,r),t.flags|=262144}function Ih(e){for(e=e.firstContext;e!==null;){if(!dn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Gs(e){ra=e,Vr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ve(e){return eT(ra,e)}function Nc(e,t){return ra===null&&Gs(e),eT(e,t)}function eT(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Vr===null){if(e===null)throw Error(B(308));Vr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Vr=Vr.next=t;return n}var YI=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},KI=fe.unstable_scheduleCallback,XI=fe.unstable_NormalPriority,le={$$typeof:Dr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pg(){return{controller:new YI,data:new Map,refCount:0}}function Vu(e){e.refCount--,e.refCount===0&&KI(XI,function(){e.controller.abort()})}var Ml=null,Zm=0,po=0,Ha=null;function WI(e,t){if(Ml===null){var n=Ml=[];Zm=0,po=ry(),Ha={status:"pending",value:void 0,then:function(r){n.push(r)}}}return Zm++,t.then(k_,k_),t}function k_(){if(--Zm===0&&Ml!==null){Ha!==null&&(Ha.status="fulfilled");var e=Ml;Ml=null,po=0,Ha=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function ZI(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var L_=tt.S;tt.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&WI(e,t),L_!==null&&L_(e,t)};var zs=yr(null);function Vg(){var e=zs.current;return e!==null?e:Lt.pooledCache}function th(e,t){t===null?Qt(zs,zs.current):Qt(zs,t.pool)}function nT(){var e=Vg();return e===null?null:{parent:le._currentValue,pool:e}}var ku=Error(B(460)),rT=Error(B(474)),Mf=Error(B(542)),Jm={then:function(){}};function U_(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Oc(){}function iT(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Oc,Oc),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,j_(e),e;default:if(typeof t.status=="string")t.then(Oc,Oc);else{if(e=Lt,e!==null&&100<e.shellSuspendCounter)throw Error(B(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=r}},function(r){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,j_(e),e}throw Pl=t,ku}}var Pl=null;function z_(){if(Pl===null)throw Error(B(459));var e=Pl;return Pl=null,e}function j_(e){if(e===ku||e===Mf)throw Error(B(483))}var _i=!1;function kg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ji(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Bi(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,It&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Rh(e),Zw(e,null,n),t}return Df(e,r,t,n),Rh(e)}function Vl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Rw(e,n)}}function Yd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ep=!1;function kl(){if(ep){var e=Ha;if(e!==null)throw e}}function Ll(e,t,n,r){ep=!1;var i=e.updateQueue;_i=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var u=o,c=u.next;u.next=null,a===null?s=c:a.next=c,a=u;var h=e.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=u))}if(s!==null){var m=i.baseState;a=0,h=c=u=null,o=s;do{var p=o.lane&-536870913,d=p!==o.lane;if(d?(vt&p)===p:(r&p)===p){p!==0&&p===po&&(ep=!0),h!==null&&(h=h.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});t:{var S=e,E=o;p=t;var A=n;switch(E.tag){case 1:if(S=E.payload,typeof S=="function"){m=S.call(A,m,p);break t}m=S;break t;case 3:S.flags=S.flags&-65537|128;case 0:if(S=E.payload,p=typeof S=="function"?S.call(A,m,p):S,p==null)break t;m=qt({},m,p);break t;case 2:_i=!0}}p=o.callback,p!==null&&(e.flags|=64,d&&(e.flags|=8192),d=i.callbacks,d===null?i.callbacks=[p]:d.push(p))}else d={lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(c=h=d,u=m):h=h.next=d,a|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;d=o,o=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);h===null&&(u=m),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=h,s===null&&(i.shared.lanes=0),ts|=a,e.lanes=a,e.memoizedState=m}}function sT(e,t){if(typeof e!="function")throw Error(B(191,e));e.call(t)}function aT(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)sT(n[e],t)}var go=yr(null),Nh=yr(0);function B_(e,t){e=Gr,Qt(Nh,e),Qt(go,t),Gr=e|t.baseLanes}function np(){Qt(Nh,Gr),Qt(go,go.current)}function Lg(){Gr=Nh.current,ye(go),ye(Nh)}var Zi=0,ct=null,Ot=null,ie=null,Oh=!1,Fa=!1,Qs=!1,Dh=0,eu=0,Ga=null,JI=0;function te(){throw Error(B(321))}function Ug(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!dn(e[n],t[n]))return!1;return!0}function zg(e,t,n,r,i,s){return Zi=s,ct=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,tt.H=e===null||e.memoizedState===null?LT:UT,Qs=!1,s=n(r,i),Qs=!1,Fa&&(s=lT(t,n,r,i)),oT(e),s}function oT(e){tt.H=Mh;var t=Ot!==null&&Ot.next!==null;if(Zi=0,ie=Ot=ct=null,Oh=!1,eu=0,Ga=null,t)throw Error(B(300));e===null||ge||(e=e.dependencies,e!==null&&Ih(e)&&(ge=!0))}function lT(e,t,n,r){ct=e;var i=0;do{if(Fa&&(Ga=null),eu=0,Fa=!1,25<=i)throw Error(B(301));if(i+=1,ie=Ot=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}tt.H=a2,s=t(n,r)}while(Fa);return s}function t2(){var e=tt.H,t=e.useState()[0];return t=typeof t.then=="function"?Lu(t):t,e=e.useState()[0],(Ot!==null?Ot.memoizedState:null)!==e&&(ct.flags|=1024),t}function jg(){var e=Dh!==0;return Dh=0,e}function Bg(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function qg(e){if(Oh){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Oh=!1}Zi=0,ie=Ot=ct=null,Fa=!1,eu=Dh=0,Ga=null}function Fe(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ie===null?ct.memoizedState=ie=e:ie=ie.next=e,ie}function oe(){if(Ot===null){var e=ct.alternate;e=e!==null?e.memoizedState:null}else e=Ot.next;var t=ie===null?ct.memoizedState:ie.next;if(t!==null)ie=t,Ot=e;else{if(e===null)throw ct.alternate===null?Error(B(467)):Error(B(310));Ot=e,e={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},ie===null?ct.memoizedState=ie=e:ie=ie.next=e}return ie}function Hg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Lu(e){var t=eu;return eu+=1,Ga===null&&(Ga=[]),e=iT(Ga,e,t),t=ct,(ie===null?t.memoizedState:ie.next)===null&&(t=t.alternate,tt.H=t===null||t.memoizedState===null?LT:UT),e}function Pf(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Lu(e);if(e.$$typeof===Dr)return Ve(e)}throw Error(B(438,String(e)))}function Fg(e){var t=null,n=ct.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=ct.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Hg(),ct.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=UC;return t.index++,n}function Hr(e,t){return typeof t=="function"?t(e):t}function eh(e){var t=oe();return Gg(t,Ot,e)}function Gg(e,t,n){var r=e.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=n;var i=e.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}t.baseQueue=i=s,r.pending=null}if(s=e.baseState,i===null)e.memoizedState=s;else{t=i.next;var o=a=null,u=null,c=t,h=!1;do{var m=c.lane&-536870913;if(m!==c.lane?(vt&m)===m:(Zi&m)===m){var p=c.revertLane;if(p===0)u!==null&&(u=u.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),m===po&&(h=!0);else if((Zi&p)===p){c=c.next,p===po&&(h=!0);continue}else m={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(o=u=m,a=s):u=u.next=m,ct.lanes|=p,ts|=p;m=c.action,Qs&&n(s,m),s=c.hasEagerState?c.eagerState:n(s,m)}else p={lane:m,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(o=u=p,a=s):u=u.next=p,ct.lanes|=m,ts|=m;c=c.next}while(c!==null&&c!==t);if(u===null?a=s:u.next=o,!dn(s,e.memoizedState)&&(ge=!0,h&&(n=Ha,n!==null)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=u,r.lastRenderedState=s}return i===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Kd(e){var t=oe(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);dn(s,t.memoizedState)||(ge=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function uT(e,t,n){var r=ct,i=oe(),s=Tt;if(s){if(n===void 0)throw Error(B(407));n=n()}else n=t();var a=!dn((Ot||i).memoizedState,n);a&&(i.memoizedState=n,ge=!0),i=i.queue;var o=fT.bind(null,r,i,e);if(Uu(2048,8,o,[e]),i.getSnapshot!==t||a||ie!==null&&ie.memoizedState.tag&1){if(r.flags|=2048,yo(9,Vf(),hT.bind(null,r,i,n,t),null),Lt===null)throw Error(B(349));s||Zi&124||cT(r,t,n)}return n}function cT(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ct.updateQueue,t===null?(t=Hg(),ct.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function hT(e,t,n,r){t.value=n,t.getSnapshot=r,dT(t)&&mT(e)}function fT(e,t,n){return n(function(){dT(t)&&mT(e)})}function dT(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!dn(e,n)}catch{return!0}}function mT(e){var t=ko(e,2);t!==null&&hn(t,e,2)}function rp(e){var t=Fe();if(typeof e=="function"){var n=e;if(e=n(),Qs){Mi(!0);try{n()}finally{Mi(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:e},t}function pT(e,t,n,r){return e.baseState=n,Gg(e,Ot,typeof r=="function"?r:Hr)}function e2(e,t,n,r,i){if(kf(e))throw Error(B(485));if(e=t.action,e!==null){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};tt.T!==null?n(!0):s.isTransition=!1,r(s),n=t.pending,n===null?(s.next=t.pending=s,gT(t,s)):(s.next=n.next,t.pending=n.next=s)}}function gT(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var s=tt.T,a={};tt.T=a;try{var o=n(i,r),u=tt.S;u!==null&&u(a,o),q_(e,t,o)}catch(c){ip(e,t,c)}finally{tt.T=s}}else try{s=n(i,r),q_(e,t,s)}catch(c){ip(e,t,c)}}function q_(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){H_(e,t,r)},function(r){return ip(e,t,r)}):H_(e,t,n)}function H_(e,t,n){t.status="fulfilled",t.value=n,yT(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,gT(e,n)))}function ip(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,yT(t),t=t.next;while(t!==r)}e.action=null}function yT(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function vT(e,t){return t}function F_(e,t){if(Tt){var n=Lt.formState;if(n!==null){t:{var r=ct;if(Tt){if(Zt){e:{for(var i=Zt,s=er;i.nodeType!==8;){if(!s){i=null;break e}if(i=zn(i.nextSibling),i===null){i=null;break e}}s=i.data,i=s==="F!"||s==="F"?i:null}if(i){Zt=zn(i.nextSibling),r=i.data==="F!";break t}}Fs(r)}r=!1}r&&(t=n[0])}}return n=Fe(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vT,lastRenderedState:t},n.queue=r,n=PT.bind(null,ct,r),r.dispatch=n,r=rp(!1),s=Kg.bind(null,ct,!1,r.queue),r=Fe(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=e2.bind(null,ct,i,s,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function G_(e){var t=oe();return _T(t,Ot,e)}function _T(e,t,n){if(t=Gg(e,t,vT)[0],e=eh(Hr)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=Lu(t)}catch(a){throw a===ku?Mf:a}else r=t;t=oe();var i=t.queue,s=i.dispatch;return n!==t.memoizedState&&(ct.flags|=2048,yo(9,Vf(),n2.bind(null,i,n),null)),[r,s,e]}function n2(e,t){e.action=t}function Q_(e){var t=oe(),n=Ot;if(n!==null)return _T(t,n,e);oe(),t=t.memoizedState,n=oe();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function yo(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=ct.updateQueue,t===null&&(t=Hg(),ct.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vf(){return{destroy:void 0,resource:void 0}}function bT(){return oe().memoizedState}function nh(e,t,n,r){var i=Fe();r=r===void 0?null:r,ct.flags|=e,i.memoizedState=yo(1|t,Vf(),n,r)}function Uu(e,t,n,r){var i=oe();r=r===void 0?null:r;var s=i.memoizedState.inst;Ot!==null&&r!==null&&Ug(r,Ot.memoizedState.deps)?i.memoizedState=yo(t,s,n,r):(ct.flags|=e,i.memoizedState=yo(1|t,s,n,r))}function $_(e,t){nh(8390656,8,e,t)}function ET(e,t){Uu(2048,8,e,t)}function wT(e,t){return Uu(4,2,e,t)}function TT(e,t){return Uu(4,4,e,t)}function AT(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ST(e,t,n){n=n!=null?n.concat([e]):null,Uu(4,4,AT.bind(null,t,e),n)}function Qg(){}function RT(e,t){var n=oe();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&Ug(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function xT(e,t){var n=oe();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&Ug(t,r[1]))return r[0];if(r=e(),Qs){Mi(!0);try{e()}finally{Mi(!1)}}return n.memoizedState=[r,t],r}function $g(e,t,n){return n===void 0||Zi&1073741824?e.memoizedState=t:(e.memoizedState=n,e=y1(),ct.lanes|=e,ts|=e,n)}function CT(e,t,n,r){return dn(n,t)?n:go.current!==null?(e=$g(e,n,r),dn(e,t)||(ge=!0),e):Zi&42?(e=y1(),ct.lanes|=e,ts|=e,t):(ge=!0,e.memoizedState=n)}function IT(e,t,n,r,i){var s=At.p;At.p=s!==0&&8>s?s:8;var a=tt.T,o={};tt.T=o,Kg(e,!1,t,n);try{var u=i(),c=tt.S;if(c!==null&&c(o,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=ZI(u,r);Ul(e,t,h,cn(e))}else Ul(e,t,r,cn(e))}catch(m){Ul(e,t,{then:function(){},status:"rejected",reason:m},cn())}finally{At.p=s,tt.T=a}}function r2(){}function sp(e,t,n,r){if(e.tag!==5)throw Error(B(476));var i=NT(e).queue;IT(e,i,t,Vs,n===null?r2:function(){return OT(e),n(r)})}function NT(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Vs,baseState:Vs,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:Vs},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hr,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function OT(e){var t=NT(e).next.queue;Ul(e,t,{},cn())}function Yg(){return Ve(au)}function DT(){return oe().memoizedState}function MT(){return oe().memoizedState}function i2(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=cn();e=ji(n);var r=Bi(t,e,n);r!==null&&(hn(r,t,n),Vl(r,t,n)),t={cache:Pg()},e.payload=t;return}t=t.return}}function s2(e,t,n){var r=cn();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},kf(e)?VT(t,n):(n=Ng(e,t,n,r),n!==null&&(hn(n,e,r),kT(n,t,r)))}function PT(e,t,n){var r=cn();Ul(e,t,n,r)}function Ul(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(kf(e))VT(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,dn(o,a))return Df(e,t,i,0),Lt===null&&Of(),!1}catch{}finally{}if(n=Ng(e,t,i,r),n!==null)return hn(n,e,r),kT(n,t,r),!0}return!1}function Kg(e,t,n,r){if(r={lane:2,revertLane:ry(),action:r,hasEagerState:!1,eagerState:null,next:null},kf(e)){if(t)throw Error(B(479))}else t=Ng(e,n,r,2),t!==null&&hn(t,e,2)}function kf(e){var t=e.alternate;return e===ct||t!==null&&t===ct}function VT(e,t){Fa=Oh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function kT(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Rw(e,n)}}var Mh={readContext:Ve,use:Pf,useCallback:te,useContext:te,useEffect:te,useImperativeHandle:te,useLayoutEffect:te,useInsertionEffect:te,useMemo:te,useReducer:te,useRef:te,useState:te,useDebugValue:te,useDeferredValue:te,useTransition:te,useSyncExternalStore:te,useId:te,useHostTransitionStatus:te,useFormState:te,useActionState:te,useOptimistic:te,useMemoCache:te,useCacheRefresh:te},LT={readContext:Ve,use:Pf,useCallback:function(e,t){return Fe().memoizedState=[e,t===void 0?null:t],e},useContext:Ve,useEffect:$_,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,nh(4194308,4,AT.bind(null,t,e),n)},useLayoutEffect:function(e,t){return nh(4194308,4,e,t)},useInsertionEffect:function(e,t){nh(4,2,e,t)},useMemo:function(e,t){var n=Fe();t=t===void 0?null:t;var r=e();if(Qs){Mi(!0);try{e()}finally{Mi(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Fe();if(n!==void 0){var i=n(t);if(Qs){Mi(!0);try{n(t)}finally{Mi(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=s2.bind(null,ct,e),[r.memoizedState,e]},useRef:function(e){var t=Fe();return e={current:e},t.memoizedState=e},useState:function(e){e=rp(e);var t=e.queue,n=PT.bind(null,ct,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Qg,useDeferredValue:function(e,t){var n=Fe();return $g(n,e,t)},useTransition:function(){var e=rp(!1);return e=IT.bind(null,ct,e.queue,!0,!1),Fe().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=ct,i=Fe();if(Tt){if(n===void 0)throw Error(B(407));n=n()}else{if(n=t(),Lt===null)throw Error(B(349));vt&124||cT(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,$_(fT.bind(null,r,s,e),[e]),r.flags|=2048,yo(9,Vf(),hT.bind(null,r,s,n,t),null),n},useId:function(){var e=Fe(),t=Lt.identifierPrefix;if(Tt){var n=Pr,r=Mr;n=(r&~(1<<32-un(r)-1)).toString(32)+n,t=""+t+"R"+n,n=Dh++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=JI++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:Yg,useFormState:F_,useActionState:F_,useOptimistic:function(e){var t=Fe();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Kg.bind(null,ct,!0,n),n.dispatch=t,[e,t]},useMemoCache:Fg,useCacheRefresh:function(){return Fe().memoizedState=i2.bind(null,ct)}},UT={readContext:Ve,use:Pf,useCallback:RT,useContext:Ve,useEffect:ET,useImperativeHandle:ST,useInsertionEffect:wT,useLayoutEffect:TT,useMemo:xT,useReducer:eh,useRef:bT,useState:function(){return eh(Hr)},useDebugValue:Qg,useDeferredValue:function(e,t){var n=oe();return CT(n,Ot.memoizedState,e,t)},useTransition:function(){var e=eh(Hr)[0],t=oe().memoizedState;return[typeof e=="boolean"?e:Lu(e),t]},useSyncExternalStore:uT,useId:DT,useHostTransitionStatus:Yg,useFormState:G_,useActionState:G_,useOptimistic:function(e,t){var n=oe();return pT(n,Ot,e,t)},useMemoCache:Fg,useCacheRefresh:MT},a2={readContext:Ve,use:Pf,useCallback:RT,useContext:Ve,useEffect:ET,useImperativeHandle:ST,useInsertionEffect:wT,useLayoutEffect:TT,useMemo:xT,useReducer:Kd,useRef:bT,useState:function(){return Kd(Hr)},useDebugValue:Qg,useDeferredValue:function(e,t){var n=oe();return Ot===null?$g(n,e,t):CT(n,Ot.memoizedState,e,t)},useTransition:function(){var e=Kd(Hr)[0],t=oe().memoizedState;return[typeof e=="boolean"?e:Lu(e),t]},useSyncExternalStore:uT,useId:DT,useHostTransitionStatus:Yg,useFormState:Q_,useActionState:Q_,useOptimistic:function(e,t){var n=oe();return Ot!==null?pT(n,Ot,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Fg,useCacheRefresh:MT},Qa=null,nu=0;function Dc(e){var t=nu;return nu+=1,Qa===null&&(Qa=[]),iT(Qa,e,t)}function ml(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Mc(e,t){throw t.$$typeof===kC?Error(B(525)):(e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Y_(e){var t=e._init;return t(e._payload)}function zT(e){function t(y,v){if(e){var w=y.deletions;w===null?(y.deletions=[v],y.flags|=16):w.push(v)}}function n(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function r(y){for(var v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(y,v){return y=zr(y,v),y.index=0,y.sibling=null,y}function s(y,v,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<v?(y.flags|=67108866,v):w):(y.flags|=67108866,v)):(y.flags|=1048576,v)}function a(y){return e&&y.alternate===null&&(y.flags|=67108866),y}function o(y,v,w,I){return v===null||v.tag!==6?(v=Qd(w,y.mode,I),v.return=y,v):(v=i(v,w),v.return=y,v)}function u(y,v,w,I){var V=w.type;return V===xa?h(y,v,w.props.children,I,w.key):v!==null&&(v.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===vi&&Y_(V)===v.type)?(v=i(v,w.props),ml(v,w),v.return=y,v):(v=Jc(w.type,w.key,w.props,null,y.mode,I),ml(v,w),v.return=y,v)}function c(y,v,w,I){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=$d(w,y.mode,I),v.return=y,v):(v=i(v,w.children||[]),v.return=y,v)}function h(y,v,w,I,V){return v===null||v.tag!==7?(v=ks(w,y.mode,I,V),v.return=y,v):(v=i(v,w),v.return=y,v)}function m(y,v,w){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=Qd(""+v,y.mode,w),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Sc:return w=Jc(v.type,v.key,v.props,null,y.mode,w),ml(w,v),w.return=y,w;case bl:return v=$d(v,y.mode,w),v.return=y,v;case vi:var I=v._init;return v=I(v._payload),m(y,v,w)}if(El(v)||cl(v))return v=ks(v,y.mode,w,null),v.return=y,v;if(typeof v.then=="function")return m(y,Dc(v),w);if(v.$$typeof===Dr)return m(y,Nc(y,v),w);Mc(y,v)}return null}function p(y,v,w,I){var V=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return V!==null?null:o(y,v,""+w,I);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Sc:return w.key===V?u(y,v,w,I):null;case bl:return w.key===V?c(y,v,w,I):null;case vi:return V=w._init,w=V(w._payload),p(y,v,w,I)}if(El(w)||cl(w))return V!==null?null:h(y,v,w,I,null);if(typeof w.then=="function")return p(y,v,Dc(w),I);if(w.$$typeof===Dr)return p(y,v,Nc(y,w),I);Mc(y,w)}return null}function d(y,v,w,I,V){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return y=y.get(w)||null,o(v,y,""+I,V);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Sc:return y=y.get(I.key===null?w:I.key)||null,u(v,y,I,V);case bl:return y=y.get(I.key===null?w:I.key)||null,c(v,y,I,V);case vi:var L=I._init;return I=L(I._payload),d(y,v,w,I,V)}if(El(I)||cl(I))return y=y.get(w)||null,h(v,y,I,V,null);if(typeof I.then=="function")return d(y,v,w,Dc(I),V);if(I.$$typeof===Dr)return d(y,v,w,Nc(v,I),V);Mc(v,I)}return null}function S(y,v,w,I){for(var V=null,L=null,T=v,_=v=0,x=null;T!==null&&_<w.length;_++){T.index>_?(x=T,T=null):x=T.sibling;var R=p(y,T,w[_],I);if(R===null){T===null&&(T=x);break}e&&T&&R.alternate===null&&t(y,T),v=s(R,v,_),L===null?V=R:L.sibling=R,L=R,T=x}if(_===w.length)return n(y,T),Tt&&As(y,_),V;if(T===null){for(;_<w.length;_++)T=m(y,w[_],I),T!==null&&(v=s(T,v,_),L===null?V=T:L.sibling=T,L=T);return Tt&&As(y,_),V}for(T=r(T);_<w.length;_++)x=d(T,y,_,w[_],I),x!==null&&(e&&x.alternate!==null&&T.delete(x.key===null?_:x.key),v=s(x,v,_),L===null?V=x:L.sibling=x,L=x);return e&&T.forEach(function(N){return t(y,N)}),Tt&&As(y,_),V}function E(y,v,w,I){if(w==null)throw Error(B(151));for(var V=null,L=null,T=v,_=v=0,x=null,R=w.next();T!==null&&!R.done;_++,R=w.next()){T.index>_?(x=T,T=null):x=T.sibling;var N=p(y,T,R.value,I);if(N===null){T===null&&(T=x);break}e&&T&&N.alternate===null&&t(y,T),v=s(N,v,_),L===null?V=N:L.sibling=N,L=N,T=x}if(R.done)return n(y,T),Tt&&As(y,_),V;if(T===null){for(;!R.done;_++,R=w.next())R=m(y,R.value,I),R!==null&&(v=s(R,v,_),L===null?V=R:L.sibling=R,L=R);return Tt&&As(y,_),V}for(T=r(T);!R.done;_++,R=w.next())R=d(T,y,_,R.value,I),R!==null&&(e&&R.alternate!==null&&T.delete(R.key===null?_:R.key),v=s(R,v,_),L===null?V=R:L.sibling=R,L=R);return e&&T.forEach(function(O){return t(y,O)}),Tt&&As(y,_),V}function A(y,v,w,I){if(typeof w=="object"&&w!==null&&w.type===xa&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Sc:t:{for(var V=w.key;v!==null;){if(v.key===V){if(V=w.type,V===xa){if(v.tag===7){n(y,v.sibling),I=i(v,w.props.children),I.return=y,y=I;break t}}else if(v.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===vi&&Y_(V)===v.type){n(y,v.sibling),I=i(v,w.props),ml(I,w),I.return=y,y=I;break t}n(y,v);break}else t(y,v);v=v.sibling}w.type===xa?(I=ks(w.props.children,y.mode,I,w.key),I.return=y,y=I):(I=Jc(w.type,w.key,w.props,null,y.mode,I),ml(I,w),I.return=y,y=I)}return a(y);case bl:t:{for(V=w.key;v!==null;){if(v.key===V)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(y,v.sibling),I=i(v,w.children||[]),I.return=y,y=I;break t}else{n(y,v);break}else t(y,v);v=v.sibling}I=$d(w,y.mode,I),I.return=y,y=I}return a(y);case vi:return V=w._init,w=V(w._payload),A(y,v,w,I)}if(El(w))return S(y,v,w,I);if(cl(w)){if(V=cl(w),typeof V!="function")throw Error(B(150));return w=V.call(w),E(y,v,w,I)}if(typeof w.then=="function")return A(y,v,Dc(w),I);if(w.$$typeof===Dr)return A(y,v,Nc(y,w),I);Mc(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,v!==null&&v.tag===6?(n(y,v.sibling),I=i(v,w),I.return=y,y=I):(n(y,v),I=Qd(w,y.mode,I),I.return=y,y=I),a(y)):n(y,v)}return function(y,v,w,I){try{nu=0;var V=A(y,v,w,I);return Qa=null,V}catch(T){if(T===ku||T===Mf)throw T;var L=on(29,T,null,y.mode);return L.lanes=I,L.return=y,L}finally{}}}var vo=zT(!0),jT=zT(!1),Cn=yr(null),ar=null;function Ei(e){var t=e.alternate;Qt(ue,ue.current&1),Qt(Cn,e),ar===null&&(t===null||go.current!==null||t.memoizedState!==null)&&(ar=e)}function BT(e){if(e.tag===22){if(Qt(ue,ue.current),Qt(Cn,e),ar===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(ar=e)}}else wi()}function wi(){Qt(ue,ue.current),Qt(Cn,Cn.current)}function kr(e){ye(Cn),ar===e&&(ar=null),ye(ue)}var ue=yr(0);function Ph(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||wp(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Xd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:qt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ap={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=cn(),i=ji(r);i.payload=t,n!=null&&(i.callback=n),t=Bi(e,i,r),t!==null&&(hn(t,e,r),Vl(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=cn(),i=ji(r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Bi(e,i,r),t!==null&&(hn(t,e,r),Vl(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=cn(),r=ji(n);r.tag=2,t!=null&&(r.callback=t),t=Bi(e,r,n),t!==null&&(hn(t,e,n),Vl(t,e,n))}};function K_(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!Jl(n,r)||!Jl(i,s):!0}function X_(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ap.enqueueReplaceState(t,t.state,null)}function $s(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=qt({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}var Vh=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function qT(e){Vh(e)}function HT(e){console.error(e)}function FT(e){Vh(e)}function kh(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function W_(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function op(e,t,n){return n=ji(n),n.tag=3,n.payload={element:null},n.callback=function(){kh(e,t)},n}function GT(e){return e=ji(e),e.tag=3,e}function QT(e,t,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=r.value;e.payload=function(){return i(s)},e.callback=function(){W_(t,n,r)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){W_(t,n,r),typeof i!="function"&&(qi===null?qi=new Set([this]):qi.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})})}function o2(e,t,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&Pu(t,n,i,!0),n=Cn.current,n!==null){switch(n.tag){case 13:return ar===null?pp():n.alternate===null&&Jt===0&&(Jt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Jm?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),om(e,r,i)),!1;case 22:return n.flags|=65536,r===Jm?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),om(e,r,i)),!1}throw Error(B(435,n.tag))}return om(e,r,i),pp(),!1}if(Tt)return t=Cn.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==Ym&&(e=Error(B(422),{cause:r}),tu(Tn(e,n)))):(r!==Ym&&(t=Error(B(423),{cause:r}),tu(Tn(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,r=Tn(r,n),i=op(e.stateNode,r,i),Yd(e,i),Jt!==4&&(Jt=2)),!1;var s=Error(B(520),{cause:r});if(s=Tn(s,n),Bl===null?Bl=[s]:Bl.push(s),Jt!==4&&(Jt=2),t===null)return!0;r=Tn(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=op(n.stateNode,r,e),Yd(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(qi===null||!qi.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,i=GT(i),QT(i,e,n,r),Yd(n,i),!1}n=n.return}while(n!==null);return!1}var $T=Error(B(461)),ge=!1;function Ee(e,t,n,r){t.child=e===null?jT(t,null,n,r):vo(t,e.child,n,r)}function Z_(e,t,n,r,i){n=n.render;var s=t.ref;if("ref"in r){var a={};for(var o in r)o!=="ref"&&(a[o]=r[o])}else a=r;return Gs(t),r=zg(e,t,n,a,s,i),o=jg(),e!==null&&!ge?(Bg(e,t,i),Fr(e,t,i)):(Tt&&o&&Dg(t),t.flags|=1,Ee(e,t,r,i),t.child)}function J_(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Og(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,YT(e,t,s,r,i)):(e=Jc(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!Xg(e,i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Jl,n(a,r)&&e.ref===t.ref)return Fr(e,t,i)}return t.flags|=1,e=zr(s,r),e.ref=t.ref,e.return=t,t.child=e}function YT(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Jl(s,r)&&e.ref===t.ref)if(ge=!1,t.pendingProps=r=s,Xg(e,i))e.flags&131072&&(ge=!0);else return t.lanes=e.lanes,Fr(e,t,i)}return lp(e,t,n,r,i)}function KT(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden"){if(t.flags&128){if(r=s!==null?s.baseLanes|n:n,e!==null){for(i=t.child=e.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;t.childLanes=s&~r}else t.childLanes=0,t.child=null;return t0(e,t,r,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&th(t,s!==null?s.cachePool:null),s!==null?B_(t,s):np(),BT(t);else return t.lanes=t.childLanes=536870912,t0(e,t,s!==null?s.baseLanes|n:n,n)}else s!==null?(th(t,s.cachePool),B_(t,s),wi(),t.memoizedState=null):(e!==null&&th(t,null),np(),wi());return Ee(e,t,i,n),t.child}function t0(e,t,n,r){var i=Vg();return i=i===null?null:{parent:le._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},e!==null&&th(t,null),np(),BT(t),e!==null&&Pu(e,t,r,!0),null}function rh(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(B(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function lp(e,t,n,r,i){return Gs(t),n=zg(e,t,n,r,void 0,i),r=jg(),e!==null&&!ge?(Bg(e,t,i),Fr(e,t,i)):(Tt&&r&&Dg(t),t.flags|=1,Ee(e,t,n,i),t.child)}function e0(e,t,n,r,i,s){return Gs(t),t.updateQueue=null,n=lT(t,r,n,i),oT(e),r=jg(),e!==null&&!ge?(Bg(e,t,s),Fr(e,t,s)):(Tt&&r&&Dg(t),t.flags|=1,Ee(e,t,n,s),t.child)}function n0(e,t,n,r,i){if(Gs(t),t.stateNode===null){var s=Va,a=n.contextType;typeof a=="object"&&a!==null&&(s=Ve(a)),s=new n(r,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=ap,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=r,s.state=t.memoizedState,s.refs={},kg(t),a=n.contextType,s.context=typeof a=="object"&&a!==null?Ve(a):Va,s.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Xd(t,n,a,r),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&ap.enqueueReplaceState(s,s.state,null),Ll(t,r,s,i),kl(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){s=t.stateNode;var o=t.memoizedProps,u=$s(n,o);s.props=u;var c=s.context,h=n.contextType;a=Va,typeof h=="object"&&h!==null&&(a=Ve(h));var m=n.getDerivedStateFromProps;h=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o||c!==a)&&X_(t,s,r,a),_i=!1;var p=t.memoizedState;s.state=p,Ll(t,r,s,i),kl(),c=t.memoizedState,o||p!==c||_i?(typeof m=="function"&&(Xd(t,n,m,r),c=t.memoizedState),(u=_i||K_(t,n,u,r,p,c,a))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=a,r=u):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,tp(e,t),a=t.memoizedProps,h=$s(n,a),s.props=h,m=t.pendingProps,p=s.context,c=n.contextType,u=Va,typeof c=="object"&&c!==null&&(u=Ve(c)),o=n.getDerivedStateFromProps,(c=typeof o=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==m||p!==u)&&X_(t,s,r,u),_i=!1,p=t.memoizedState,s.state=p,Ll(t,r,s,i),kl();var d=t.memoizedState;a!==m||p!==d||_i||e!==null&&e.dependencies!==null&&Ih(e.dependencies)?(typeof o=="function"&&(Xd(t,n,o,r),d=t.memoizedState),(h=_i||K_(t,n,h,r,p,d,u)||e!==null&&e.dependencies!==null&&Ih(e.dependencies))?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,d,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,d,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=d),s.props=r,s.state=d,s.context=u,r=h):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,rh(e,t),r=(t.flags&128)!==0,s||r?(s=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&r?(t.child=vo(t,e.child,null,i),t.child=vo(t,null,n,i)):Ee(e,t,n,i),t.memoizedState=s.state,e=t.child):e=Fr(e,t,i),e}function r0(e,t,n,r){return Mu(),t.flags|=256,Ee(e,t,n,r),t.child}var Wd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zd(e){return{baseLanes:e,cachePool:nT()}}function Jd(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=xn),e}function XT(e,t,n){var r=t.pendingProps,i=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(ue.current&2)!==0),a&&(i=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(Tt){if(i?Ei(t):wi(),Tt){var o=Zt,u;if(u=o){t:{for(u=o,o=er;u.nodeType!==8;){if(!o){o=null;break t}if(u=zn(u.nextSibling),u===null){o=null;break t}}o=u}o!==null?(t.memoizedState={dehydrated:o,treeContext:Ls!==null?{id:Mr,overflow:Pr}:null,retryLane:536870912,hydrationErrors:null},u=on(18,null,null,0),u.stateNode=o,u.return=t,t.child=u,ze=t,Zt=null,u=!0):u=!1}u||Fs(t)}if(o=t.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return wp(o)?t.lanes=32:t.lanes=536870912,null;kr(t)}return o=r.children,r=r.fallback,i?(wi(),i=t.mode,o=Lh({mode:"hidden",children:o},i),r=ks(r,i,n,null),o.return=t,r.return=t,o.sibling=r,t.child=o,i=t.child,i.memoizedState=Zd(n),i.childLanes=Jd(e,a,n),t.memoizedState=Wd,r):(Ei(t),up(t,o))}if(u=e.memoizedState,u!==null&&(o=u.dehydrated,o!==null)){if(s)t.flags&256?(Ei(t),t.flags&=-257,t=tm(e,t,n)):t.memoizedState!==null?(wi(),t.child=e.child,t.flags|=128,t=null):(wi(),i=r.fallback,o=t.mode,r=Lh({mode:"visible",children:r.children},o),i=ks(i,o,n,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,vo(t,e.child,null,n),r=t.child,r.memoizedState=Zd(n),r.childLanes=Jd(e,a,n),t.memoizedState=Wd,t=i);else if(Ei(t),wp(o)){if(a=o.nextSibling&&o.nextSibling.dataset,a)var c=a.dgst;a=c,r=Error(B(419)),r.stack="",r.digest=a,tu({value:r,source:null,stack:null}),t=tm(e,t,n)}else if(ge||Pu(e,t,n,!1),a=(n&e.childLanes)!==0,ge||a){if(a=Lt,a!==null&&(r=n&-n,r=r&42?1:bg(r),r=r&(a.suspendedLanes|n)?0:r,r!==0&&r!==u.retryLane))throw u.retryLane=r,ko(e,r),hn(a,e,r),$T;o.data==="$?"||pp(),t=tm(e,t,n)}else o.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,Zt=zn(o.nextSibling),ze=t,Tt=!0,Us=null,er=!1,e!==null&&(bn[En++]=Mr,bn[En++]=Pr,bn[En++]=Ls,Mr=e.id,Pr=e.overflow,Ls=t),t=up(t,r.children),t.flags|=4096);return t}return i?(wi(),i=r.fallback,o=t.mode,u=e.child,c=u.sibling,r=zr(u,{mode:"hidden",children:r.children}),r.subtreeFlags=u.subtreeFlags&65011712,c!==null?i=zr(c,i):(i=ks(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o===null?o=Zd(n):(u=o.cachePool,u!==null?(c=le._currentValue,u=u.parent!==c?{parent:c,pool:c}:u):u=nT(),o={baseLanes:o.baseLanes|n,cachePool:u}),i.memoizedState=o,i.childLanes=Jd(e,a,n),t.memoizedState=Wd,r):(Ei(t),n=e.child,e=n.sibling,n=zr(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function up(e,t){return t=Lh({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Lh(e,t){return e=on(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function tm(e,t,n){return vo(t,e.child,null,n),e=up(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function i0(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Xm(e.return,t,n)}function em(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function WT(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Ee(e,t,r.children,n),r=ue.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&i0(e,n,t);else if(e.tag===19)i0(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(Qt(ue,r),i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Ph(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),em(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ph(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}em(t,!0,n,null,s);break;case"together":em(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ts|=t.lanes,!(n&t.childLanes))if(e!==null){if(Pu(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,n=zr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=zr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Xg(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Ih(e)))}function l2(e,t,n){switch(t.tag){case 3:Eh(t,t.stateNode.containerInfo),bi(t,le,e.memoizedState.cache),Mu();break;case 27:case 5:Um(t);break;case 4:Eh(t,t.stateNode.containerInfo);break;case 10:bi(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Ei(t),t.flags|=128,null):n&t.child.childLanes?XT(e,t,n):(Ei(t),e=Fr(e,t,n),e!==null?e.sibling:null);Ei(t);break;case 19:var i=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(Pu(e,t,n,!1),r=(n&t.childLanes)!==0),i){if(r)return WT(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Qt(ue,ue.current),r)break;return null;case 22:case 23:return t.lanes=0,KT(e,t,n);case 24:bi(t,le,e.memoizedState.cache)}return Fr(e,t,n)}function ZT(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)ge=!0;else{if(!Xg(e,n)&&!(t.flags&128))return ge=!1,l2(e,t,n);ge=!!(e.flags&131072)}else ge=!1,Tt&&t.flags&1048576&&tT(t,Ch,t.index);switch(t.lanes=0,t.tag){case 16:t:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,typeof r=="function")Og(r)?(e=$s(r,e),t.tag=1,t=n0(null,t,r,e,n)):(t.tag=0,t=lp(null,t,r,e,n));else{if(r!=null){if(i=r.$$typeof,i===yg){t.tag=11,t=Z_(null,t,r,e,n);break t}else if(i===vg){t.tag=14,t=J_(null,t,r,e,n);break t}}throw t=km(r)||r,Error(B(306,t,""))}}return t;case 0:return lp(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,i=$s(r,t.pendingProps),n0(e,t,r,i,n);case 3:t:{if(Eh(t,t.stateNode.containerInfo),e===null)throw Error(B(387));r=t.pendingProps;var s=t.memoizedState;i=s.element,tp(e,t),Ll(t,r,null,n);var a=t.memoizedState;if(r=a.cache,bi(t,le,r),r!==s.cache&&Wm(t,[le],n,!0),kl(),r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=r0(e,t,r,n);break t}else if(r!==i){i=Tn(Error(B(424)),t),tu(i),t=r0(e,t,r,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Zt=zn(e.firstChild),ze=t,Tt=!0,Us=null,er=!0,n=jT(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Mu(),r===i){t=Fr(e,t,n);break t}Ee(e,t,r,n)}t=t.child}return t;case 26:return rh(e,t),e===null?(n=E0(t.type,null,t.pendingProps,null))?t.memoizedState=n:Tt||(n=t.type,e=t.pendingProps,r=Fh(zi.current).createElement(n),r[Pe]=t,r[Ke]=e,Se(r,n,e),pe(r),t.stateNode=r):t.memoizedState=E0(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Um(t),e===null&&Tt&&(r=t.stateNode=U1(t.type,t.pendingProps,zi.current),ze=t,er=!0,i=Zt,hs(t.type)?(Tp=i,Zt=zn(r.firstChild)):Zt=i),Ee(e,t,t.pendingProps.children,n),rh(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Tt&&((i=r=Zt)&&(r=k2(r,t.type,t.pendingProps,er),r!==null?(t.stateNode=r,ze=t,Zt=zn(r.firstChild),er=!1,i=!0):i=!1),i||Fs(t)),Um(t),i=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,r=s.children,bp(i,s)?r=null:a!==null&&bp(i,a)&&(t.flags|=32),t.memoizedState!==null&&(i=zg(e,t,t2,null,null,n),au._currentValue=i),rh(e,t),Ee(e,t,r,n),t.child;case 6:return e===null&&Tt&&((e=n=Zt)&&(n=L2(n,t.pendingProps,er),n!==null?(t.stateNode=n,ze=t,Zt=null,e=!0):e=!1),e||Fs(t)),null;case 13:return XT(e,t,n);case 4:return Eh(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=vo(t,null,r,n):Ee(e,t,r,n),t.child;case 11:return Z_(e,t,t.type,t.pendingProps,n);case 7:return Ee(e,t,t.pendingProps,n),t.child;case 8:return Ee(e,t,t.pendingProps.children,n),t.child;case 12:return Ee(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,bi(t,t.type,r.value),Ee(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Gs(t),i=Ve(i),r=r(i),t.flags|=1,Ee(e,t,r,n),t.child;case 14:return J_(e,t,t.type,t.pendingProps,n);case 15:return YT(e,t,t.type,t.pendingProps,n);case 19:return WT(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},e===null?(n=Lh(r,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=zr(e.child,r),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return KT(e,t,n);case 24:return Gs(t),r=Ve(le),e===null?(i=Vg(),i===null&&(i=Lt,s=Pg(),i.pooledCache=s,s.refCount++,s!==null&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:r,cache:i},kg(t),bi(t,le,i)):(e.lanes&n&&(tp(e,t),Ll(t,null,null,n),kl()),i=e.memoizedState,s=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),bi(t,le,r)):(r=s.cache,bi(t,le,r),r!==i.cache&&Wm(t,[le],n,!0))),Ee(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(B(156,t.tag))}function Rr(e){e.flags|=4}function s0(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!B1(t)){if(t=Cn.current,t!==null&&((vt&4194048)===vt?ar!==null:(vt&62914560)!==vt&&!(vt&536870912)||t!==ar))throw Pl=Jm,rT;e.flags|=8192}}function Pc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Aw():536870912,e.lanes|=t,_o|=t)}function pl(e,t){if(!Tt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $t(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function u2(e,t,n){var r=t.pendingProps;switch(Mg(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(t),null;case 1:return $t(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),jr(le),ho(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(dl(t)?Rr(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,V_())),$t(t),null;case 26:return n=t.memoizedState,e===null?(Rr(t),n!==null?($t(t),s0(t,n)):($t(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Rr(t),$t(t),s0(t,n)):($t(t),t.flags&=-16777217):(e.memoizedProps!==r&&Rr(t),$t(t),t.flags&=-16777217),null;case 27:wh(t),n=zi.current;var i=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Rr(t);else{if(!r){if(t.stateNode===null)throw Error(B(166));return $t(t),null}e=ir.current,dl(t)?M_(t):(e=U1(i,r,n),t.stateNode=e,Rr(t))}return $t(t),null;case 5:if(wh(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Rr(t);else{if(!r){if(t.stateNode===null)throw Error(B(166));return $t(t),null}if(e=ir.current,dl(t))M_(t);else{switch(i=Fh(zi.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof r.is=="string"?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e=typeof r.is=="string"?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Pe]=t,e[Ke]=r;t:for(i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break t;for(;i.sibling===null;){if(i.return===null||i.return===t)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;t:switch(Se(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Rr(t)}}return $t(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Rr(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(B(166));if(e=zi.current,dl(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,i=ze,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Pe]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||V1(e.nodeValue,n)),e||Fs(t)}else e=Fh(e).createTextNode(r),e[Pe]=t,t.stateNode=e}return $t(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=dl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(B(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[Pe]=t}else Mu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$t(t),i=!1}else i=V_(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(kr(t),t):(kr(t),null)}if(kr(t),t.flags&128)return t.lanes=n,t;if(n=r!==null,e=e!==null&&e.memoizedState!==null,n){r=t.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool);var s=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Pc(t,t.updateQueue),$t(t),null;case 4:return ho(),e===null&&iy(t.stateNode.containerInfo),$t(t),null;case 10:return jr(t.type),$t(t),null;case 19:if(ye(ue),i=t.memoizedState,i===null)return $t(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)pl(i,!1);else{if(Jt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Ph(e),s!==null){for(t.flags|=128,pl(i,!1),e=s.updateQueue,t.updateQueue=e,Pc(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Jw(n,e),n=n.sibling;return Qt(ue,ue.current&1|2),t.child}e=e.sibling}i.tail!==null&&sr()>zh&&(t.flags|=128,r=!0,pl(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ph(s),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Pc(t,e),pl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Tt)return $t(t),null}else 2*sr()-i.renderingStartTime>zh&&n!==536870912&&(t.flags|=128,r=!0,pl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(e=i.last,e!==null?e.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=sr(),t.sibling=null,e=ue.current,Qt(ue,r?e&1|2:e&1),t):($t(t),null);case 22:case 23:return kr(t),Lg(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&($t(t),t.subtreeFlags&6&&(t.flags|=8192)):$t(t),n=t.updateQueue,n!==null&&Pc(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&ye(zs),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),jr(le),$t(t),null;case 25:return null;case 30:return null}throw Error(B(156,t.tag))}function c2(e,t){switch(Mg(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return jr(le),ho(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return wh(t),null;case 13:if(kr(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));Mu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ye(ue),null;case 4:return ho(),null;case 10:return jr(t.type),null;case 22:case 23:return kr(t),Lg(),e!==null&&ye(zs),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return jr(le),null;case 25:return null;default:return null}}function JT(e,t){switch(Mg(t),t.tag){case 3:jr(le),ho();break;case 26:case 27:case 5:wh(t);break;case 4:ho();break;case 13:kr(t);break;case 19:ye(ue);break;case 10:jr(t.type);break;case 22:case 23:kr(t),Lg(),e!==null&&ye(zs);break;case 24:jr(le)}}function zu(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var s=n.create,a=n.inst;r=s(),a.destroy=r}n=n.next}while(n!==i)}}catch(o){Vt(t,t.return,o)}}function Ji(e,t,n){try{var r=t.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var s=i.next;r=s;do{if((r.tag&e)===e){var a=r.inst,o=a.destroy;if(o!==void 0){a.destroy=void 0,i=t;var u=n,c=o;try{c()}catch(h){Vt(i,u,h)}}}r=r.next}while(r!==s)}}catch(h){Vt(t,t.return,h)}}function t1(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{aT(t,n)}catch(r){Vt(e,e.return,r)}}}function e1(e,t,n){n.props=$s(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Vt(e,t,r)}}function zl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(i){Vt(e,t,i)}}function nr(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){Vt(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){Vt(e,t,i)}else n.current=null}function n1(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break t;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Vt(e,e.return,i)}}function nm(e,t,n){try{var r=e.stateNode;O2(r,e.type,n,t),r[Ke]=t}catch(i){Vt(e,e.return,i)}}function r1(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&hs(e.type)||e.tag===4}function rm(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||r1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&hs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=jf));else if(r!==4&&(r===27&&hs(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(cp(e,t,n),e=e.sibling;e!==null;)cp(e,t,n),e=e.sibling}function Uh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&hs(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Uh(e,t,n),e=e.sibling;e!==null;)Uh(e,t,n),e=e.sibling}function i1(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Se(t,r,n),t[Pe]=e,t[Ke]=n}catch(s){Vt(e,e.return,s)}}var Or=!1,ee=!1,im=!1,a0=typeof WeakSet=="function"?WeakSet:Set,me=null;function h2(e,t){if(e=e.containerInfo,vp=Yh,e=Gw(e),Cg(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break t}var a=0,o=-1,u=-1,c=0,h=0,m=e,p=null;e:for(;;){for(var d;m!==n||i!==0&&m.nodeType!==3||(o=a+i),m!==s||r!==0&&m.nodeType!==3||(u=a+r),m.nodeType===3&&(a+=m.nodeValue.length),(d=m.firstChild)!==null;)p=m,m=d;for(;;){if(m===e)break e;if(p===n&&++c===i&&(o=a),p===s&&++h===r&&(u=a),(d=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=d}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(_p={focusedElem:e,selectionRange:n},Yh=!1,me=t;me!==null;)if(t=me,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,me=e;else for(;me!==null;){switch(t=me,s=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var S=$s(n.type,i,n.elementType===n.type);e=r.getSnapshotBeforeUpdate(S,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(E){Vt(n,n.return,E)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Ep(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ep(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(B(163))}if(e=t.sibling,e!==null){e.return=t.return,me=e;break}me=t.return}}function s1(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:fi(e,n),r&4&&zu(5,n);break;case 1:if(fi(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){Vt(n,n.return,a)}else{var i=$s(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){Vt(n,n.return,a)}}r&64&&t1(n),r&512&&zl(n,n.return);break;case 3:if(fi(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{aT(e,t)}catch(a){Vt(n,n.return,a)}}break;case 27:t===null&&r&4&&i1(n);case 26:case 5:fi(e,n),t===null&&r&4&&n1(n),r&512&&zl(n,n.return);break;case 12:fi(e,n);break;case 13:fi(e,n),r&4&&l1(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=b2.bind(null,n),U2(e,n))));break;case 22:if(r=n.memoizedState!==null||Or,!r){t=t!==null&&t.memoizedState!==null||ee,i=Or;var s=ee;Or=r,(ee=t)&&!s?gi(e,n,(n.subtreeFlags&8772)!==0):fi(e,n),Or=i,ee=s}break;case 30:break;default:fi(e,n)}}function a1(e){var t=e.alternate;t!==null&&(e.alternate=null,a1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&wg(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ft=null,Ge=!1;function xr(e,t,n){for(n=n.child;n!==null;)o1(e,t,n),n=n.sibling}function o1(e,t,n){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Cu,n)}catch{}switch(n.tag){case 26:ee||nr(n,t),xr(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ee||nr(n,t);var r=Ft,i=Ge;hs(n.type)&&(Ft=n.stateNode,Ge=!1),xr(e,t,n),Hl(n.stateNode),Ft=r,Ge=i;break;case 5:ee||nr(n,t);case 6:if(r=Ft,i=Ge,Ft=null,xr(e,t,n),Ft=r,Ge=i,Ft!==null)if(Ge)try{(Ft.nodeType===9?Ft.body:Ft.nodeName==="HTML"?Ft.ownerDocument.body:Ft).removeChild(n.stateNode)}catch(s){Vt(n,t,s)}else try{Ft.removeChild(n.stateNode)}catch(s){Vt(n,t,s)}break;case 18:Ft!==null&&(Ge?(e=Ft,v0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),uu(e)):v0(Ft,n.stateNode));break;case 4:r=Ft,i=Ge,Ft=n.stateNode.containerInfo,Ge=!0,xr(e,t,n),Ft=r,Ge=i;break;case 0:case 11:case 14:case 15:ee||Ji(2,n,t),ee||Ji(4,n,t),xr(e,t,n);break;case 1:ee||(nr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&e1(n,t,r)),xr(e,t,n);break;case 21:xr(e,t,n);break;case 22:ee=(r=ee)||n.memoizedState!==null,xr(e,t,n),ee=r;break;default:xr(e,t,n)}}function l1(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{uu(e)}catch(n){Vt(t,t.return,n)}}function f2(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new a0),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new a0),t;default:throw Error(B(435,e.tag))}}function sm(e,t){var n=f2(e);t.forEach(function(r){var i=E2.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}function nn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],s=e,a=t,o=a;t:for(;o!==null;){switch(o.tag){case 27:if(hs(o.type)){Ft=o.stateNode,Ge=!1;break t}break;case 5:Ft=o.stateNode,Ge=!1;break t;case 3:case 4:Ft=o.stateNode.containerInfo,Ge=!0;break t}o=o.return}if(Ft===null)throw Error(B(160));o1(s,a,i),Ft=null,Ge=!1,s=i.alternate,s!==null&&(s.return=null),i.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)u1(t,e),t=t.sibling}var kn=null;function u1(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:nn(t,e),rn(e),r&4&&(Ji(3,e,e.return),zu(3,e),Ji(5,e,e.return));break;case 1:nn(t,e),rn(e),r&512&&(ee||n===null||nr(n,n.return)),r&64&&Or&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=kn;if(nn(t,e),rn(e),r&512&&(ee||n===null||nr(n,n.return)),r&4){var s=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){t:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;e:switch(r){case"title":s=i.getElementsByTagName("title")[0],(!s||s[Ou]||s[Pe]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),Se(s,r,n),s[Pe]=e,pe(s),r=s;break t;case"link":var a=T0("link","href",i).get(r+(n.href||""));if(a){for(var o=0;o<a.length;o++)if(s=a[o],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(o,1);break e}}s=i.createElement(r),Se(s,r,n),i.head.appendChild(s);break;case"meta":if(a=T0("meta","content",i).get(r+(n.content||""))){for(o=0;o<a.length;o++)if(s=a[o],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(o,1);break e}}s=i.createElement(r),Se(s,r,n),i.head.appendChild(s);break;default:throw Error(B(468,r))}s[Pe]=e,pe(s),r=s}e.stateNode=r}else A0(i,e.type,e.stateNode);else e.stateNode=w0(i,r,e.memoizedProps);else s!==r?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,r===null?A0(i,e.type,e.stateNode):w0(i,r,e.memoizedProps)):r===null&&e.stateNode!==null&&nm(e,e.memoizedProps,n.memoizedProps)}break;case 27:nn(t,e),rn(e),r&512&&(ee||n===null||nr(n,n.return)),n!==null&&r&4&&nm(e,e.memoizedProps,n.memoizedProps);break;case 5:if(nn(t,e),rn(e),r&512&&(ee||n===null||nr(n,n.return)),e.flags&32){i=e.stateNode;try{mo(i,"")}catch(d){Vt(e,e.return,d)}}r&4&&e.stateNode!=null&&(i=e.memoizedProps,nm(e,i,n!==null?n.memoizedProps:i)),r&1024&&(im=!0);break;case 6:if(nn(t,e),rn(e),r&4){if(e.stateNode===null)throw Error(B(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(d){Vt(e,e.return,d)}}break;case 3:if(ah=null,i=kn,kn=Gh(t.containerInfo),nn(t,e),kn=i,rn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{uu(t.containerInfo)}catch(d){Vt(e,e.return,d)}im&&(im=!1,c1(e));break;case 4:r=kn,kn=Gh(e.stateNode.containerInfo),nn(t,e),rn(e),kn=r;break;case 12:nn(t,e),rn(e);break;case 13:nn(t,e),rn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ey=sr()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,sm(e,r)));break;case 22:i=e.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,c=Or,h=ee;if(Or=c||i,ee=h||u,nn(t,e),ee=h,Or=c,rn(e),r&8192)t:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||u||Or||ee||Ss(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){u=n=t;try{if(s=u.stateNode,i)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{o=u.stateNode;var m=u.memoizedProps.style,p=m!=null&&m.hasOwnProperty("display")?m.display:null;o.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(d){Vt(u,u.return,d)}}}else if(t.tag===6){if(n===null){u=t;try{u.stateNode.nodeValue=i?"":u.memoizedProps}catch(d){Vt(u,u.return,d)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,sm(e,n))));break;case 19:nn(t,e),rn(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,sm(e,r)));break;case 30:break;case 21:break;default:nn(t,e),rn(e)}}function rn(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(r1(r)){n=r;break}r=r.return}if(n==null)throw Error(B(160));switch(n.tag){case 27:var i=n.stateNode,s=rm(e);Uh(e,s,i);break;case 5:var a=n.stateNode;n.flags&32&&(mo(a,""),n.flags&=-33);var o=rm(e);Uh(e,o,a);break;case 3:case 4:var u=n.stateNode.containerInfo,c=rm(e);cp(e,c,u);break;default:throw Error(B(161))}}catch(h){Vt(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function c1(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;c1(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function fi(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)s1(e,t.alternate,t),t=t.sibling}function Ss(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ji(4,t,t.return),Ss(t);break;case 1:nr(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&e1(t,t.return,n),Ss(t);break;case 27:Hl(t.stateNode);case 26:case 5:nr(t,t.return),Ss(t);break;case 22:t.memoizedState===null&&Ss(t);break;case 30:Ss(t);break;default:Ss(t)}e=e.sibling}}function gi(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,i=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:gi(i,s,n),zu(4,s);break;case 1:if(gi(i,s,n),r=s,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(c){Vt(r,r.return,c)}if(r=s,i=r.updateQueue,i!==null){var o=r.stateNode;try{var u=i.shared.hiddenCallbacks;if(u!==null)for(i.shared.hiddenCallbacks=null,i=0;i<u.length;i++)sT(u[i],o)}catch(c){Vt(r,r.return,c)}}n&&a&64&&t1(s),zl(s,s.return);break;case 27:i1(s);case 26:case 5:gi(i,s,n),n&&r===null&&a&4&&n1(s),zl(s,s.return);break;case 12:gi(i,s,n);break;case 13:gi(i,s,n),n&&a&4&&l1(i,s);break;case 22:s.memoizedState===null&&gi(i,s,n),zl(s,s.return);break;case 30:break;default:gi(i,s,n)}t=t.sibling}}function Wg(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Vu(n))}function Zg(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Vu(e))}function Kn(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)h1(e,t,n,r),t=t.sibling}function h1(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Kn(e,t,n,r),i&2048&&zu(9,t);break;case 1:Kn(e,t,n,r);break;case 3:Kn(e,t,n,r),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Vu(e)));break;case 12:if(i&2048){Kn(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,o=s.onPostCommit;typeof o=="function"&&o(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){Vt(t,t.return,u)}}else Kn(e,t,n,r);break;case 13:Kn(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,t.memoizedState!==null?s._visibility&2?Kn(e,t,n,r):jl(e,t):s._visibility&2?Kn(e,t,n,r):(s._visibility|=2,Ea(e,t,n,r,(t.subtreeFlags&10256)!==0)),i&2048&&Wg(a,t);break;case 24:Kn(e,t,n,r),i&2048&&Zg(t.alternate,t);break;default:Kn(e,t,n,r)}}function Ea(e,t,n,r,i){for(i=i&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var s=e,a=t,o=n,u=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:Ea(s,a,o,u,i),zu(8,a);break;case 23:break;case 22:var h=a.stateNode;a.memoizedState!==null?h._visibility&2?Ea(s,a,o,u,i):jl(s,a):(h._visibility|=2,Ea(s,a,o,u,i)),i&&c&2048&&Wg(a.alternate,a);break;case 24:Ea(s,a,o,u,i),i&&c&2048&&Zg(a.alternate,a);break;default:Ea(s,a,o,u,i)}t=t.sibling}}function jl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:jl(n,r),i&2048&&Wg(r.alternate,r);break;case 24:jl(n,r),i&2048&&Zg(r.alternate,r);break;default:jl(n,r)}t=t.sibling}}var Tl=8192;function ya(e){if(e.subtreeFlags&Tl)for(e=e.child;e!==null;)f1(e),e=e.sibling}function f1(e){switch(e.tag){case 26:ya(e),e.flags&Tl&&e.memoizedState!==null&&W2(kn,e.memoizedState,e.memoizedProps);break;case 5:ya(e);break;case 3:case 4:var t=kn;kn=Gh(e.stateNode.containerInfo),ya(e),kn=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Tl,Tl=16777216,ya(e),Tl=t):ya(e));break;default:ya(e)}}function d1(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function gl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];me=r,p1(r,e)}d1(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)m1(e),e=e.sibling}function m1(e){switch(e.tag){case 0:case 11:case 15:gl(e),e.flags&2048&&Ji(9,e,e.return);break;case 3:gl(e);break;case 12:gl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ih(e)):gl(e);break;default:gl(e)}}function ih(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];me=r,p1(r,e)}d1(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ji(8,t,t.return),ih(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,ih(t));break;default:ih(t)}e=e.sibling}}function p1(e,t){for(;me!==null;){var n=me;switch(n.tag){case 0:case 11:case 15:Ji(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Vu(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,me=r;else t:for(n=e;me!==null;){r=me;var i=r.sibling,s=r.return;if(a1(r),r===n){me=null;break t}if(i!==null){i.return=s,me=i;break t}me=s}}}var d2={getCacheForType:function(e){var t=Ve(le),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},m2=typeof WeakMap=="function"?WeakMap:Map,It=0,Lt=null,ft=null,vt=0,Ct=0,sn=null,Vi=!1,Lo=!1,Jg=!1,Gr=0,Jt=0,ts=0,js=0,ty=0,xn=0,_o=0,Bl=null,Qe=null,hp=!1,ey=0,zh=1/0,jh=null,qi=null,Te=0,Hi=null,bo=null,$a=0,fp=0,dp=null,g1=null,ql=0,mp=null;function cn(){if(It&2&&vt!==0)return vt&-vt;if(tt.T!==null){var e=po;return e!==0?e:ry()}return xw()}function y1(){xn===0&&(xn=!(vt&536870912)||Tt?Tw():536870912);var e=Cn.current;return e!==null&&(e.flags|=32),xn}function hn(e,t,n){(e===Lt&&(Ct===2||Ct===9)||e.cancelPendingCommit!==null)&&(Eo(e,0),ki(e,vt,xn,!1)),Nu(e,n),(!(It&2)||e!==Lt)&&(e===Lt&&(!(It&2)&&(js|=n),Jt===4&&ki(e,vt,xn,!1)),vr(e))}function v1(e,t,n){if(It&6)throw Error(B(327));var r=!n&&(t&124)===0&&(t&e.expiredLanes)===0||Iu(e,t),i=r?y2(e,t):am(e,t,!0),s=r;do{if(i===0){Lo&&!r&&ki(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!p2(n)){i=am(e,t,!1),s=!1;continue}if(i===2){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;t:{var o=e;i=Bl;var u=o.current.memoizedState.isDehydrated;if(u&&(Eo(o,a).flags|=256),a=am(o,a,!1),a!==2){if(Jg&&!u){o.errorRecoveryDisabledLanes|=s,js|=s,i=4;break t}s=Qe,Qe=i,s!==null&&(Qe===null?Qe=s:Qe.push.apply(Qe,s))}i=a}if(s=!1,i!==2)continue}}if(i===1){Eo(e,0),ki(e,t,0,!0);break}t:{switch(r=e,s=i,s){case 0:case 1:throw Error(B(345));case 4:if((t&4194048)!==t)break;case 6:ki(r,t,xn,!Vi);break t;case 2:Qe=null;break;case 3:case 5:break;default:throw Error(B(329))}if((t&62914560)===t&&(i=ey+300-sr(),10<i)){if(ki(r,t,xn,!Vi),xf(r,0,!0)!==0)break t;r.timeoutHandle=L1(o0.bind(null,r,n,Qe,jh,hp,t,xn,js,_o,Vi,s,2,-0,0),i);break t}o0(r,n,Qe,jh,hp,t,xn,js,_o,Vi,s,0,-0,0)}}break}while(!0);vr(e)}function o0(e,t,n,r,i,s,a,o,u,c,h,m,p,d){if(e.timeoutHandle=-1,m=t.subtreeFlags,(m&8192||(m&16785408)===16785408)&&(su={stylesheets:null,count:0,unsuspend:X2},f1(t),m=Z2(),m!==null)){e.cancelPendingCommit=m(u0.bind(null,e,t,s,n,r,i,a,o,u,h,1,p,d)),ki(e,s,a,!c);return}u0(e,t,s,n,r,i,a,o,u)}function p2(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!dn(s(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ki(e,t,n,r){t&=~ty,t&=~js,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var s=31-un(i),a=1<<s;r[s]=-1,i&=~a}n!==0&&Sw(e,n,t)}function Lf(){return It&6?!0:(ju(0),!1)}function ny(){if(ft!==null){if(Ct===0)var e=ft.return;else e=ft,Vr=ra=null,qg(e),Qa=null,nu=0,e=ft;for(;e!==null;)JT(e.alternate,e),e=e.return;ft=null}}function Eo(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,M2(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),ny(),Lt=e,ft=n=zr(e.current,null),vt=t,Ct=0,sn=null,Vi=!1,Lo=Iu(e,t),Jg=!1,_o=xn=ty=js=ts=Jt=0,Qe=Bl=null,hp=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var i=31-un(r),s=1<<i;t|=e[i],r&=~s}return Gr=t,Of(),n}function _1(e,t){ct=null,tt.H=Mh,t===ku||t===Mf?(t=z_(),Ct=3):t===rT?(t=z_(),Ct=4):Ct=t===$T?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,sn=t,ft===null&&(Jt=1,kh(e,Tn(t,e.current)))}function b1(){var e=tt.H;return tt.H=Mh,e===null?Mh:e}function E1(){var e=tt.A;return tt.A=d2,e}function pp(){Jt=4,Vi||(vt&4194048)!==vt&&Cn.current!==null||(Lo=!0),!(ts&134217727)&&!(js&134217727)||Lt===null||ki(Lt,vt,xn,!1)}function am(e,t,n){var r=It;It|=2;var i=b1(),s=E1();(Lt!==e||vt!==t)&&(jh=null,Eo(e,t)),t=!1;var a=Jt;t:do try{if(Ct!==0&&ft!==null){var o=ft,u=sn;switch(Ct){case 8:ny(),a=6;break t;case 3:case 2:case 9:case 6:Cn.current===null&&(t=!0);var c=Ct;if(Ct=0,sn=null,Ua(e,o,u,c),n&&Lo){a=0;break t}break;default:c=Ct,Ct=0,sn=null,Ua(e,o,u,c)}}g2(),a=Jt;break}catch(h){_1(e,h)}while(!0);return t&&e.shellSuspendCounter++,Vr=ra=null,It=r,tt.H=i,tt.A=s,ft===null&&(Lt=null,vt=0,Of()),a}function g2(){for(;ft!==null;)w1(ft)}function y2(e,t){var n=It;It|=2;var r=b1(),i=E1();Lt!==e||vt!==t?(jh=null,zh=sr()+500,Eo(e,t)):Lo=Iu(e,t);t:do try{if(Ct!==0&&ft!==null){t=ft;var s=sn;e:switch(Ct){case 1:Ct=0,sn=null,Ua(e,t,s,1);break;case 2:case 9:if(U_(s)){Ct=0,sn=null,l0(t);break}t=function(){Ct!==2&&Ct!==9||Lt!==e||(Ct=7),vr(e)},s.then(t,t);break t;case 3:Ct=7;break t;case 4:Ct=5;break t;case 7:U_(s)?(Ct=0,sn=null,l0(t)):(Ct=0,sn=null,Ua(e,t,s,7));break;case 5:var a=null;switch(ft.tag){case 26:a=ft.memoizedState;case 5:case 27:var o=ft;if(!a||B1(a)){Ct=0,sn=null;var u=o.sibling;if(u!==null)ft=u;else{var c=o.return;c!==null?(ft=c,Uf(c)):ft=null}break e}}Ct=0,sn=null,Ua(e,t,s,5);break;case 6:Ct=0,sn=null,Ua(e,t,s,6);break;case 8:ny(),Jt=6;break t;default:throw Error(B(462))}}v2();break}catch(h){_1(e,h)}while(!0);return Vr=ra=null,tt.H=r,tt.A=i,It=n,ft!==null?0:(Lt=null,vt=0,Of(),Jt)}function v2(){for(;ft!==null&&!jC();)w1(ft)}function w1(e){var t=ZT(e.alternate,e,Gr);e.memoizedProps=e.pendingProps,t===null?Uf(e):ft=t}function l0(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=e0(n,t,t.pendingProps,t.type,void 0,vt);break;case 11:t=e0(n,t,t.pendingProps,t.type.render,t.ref,vt);break;case 5:qg(t);default:JT(n,t),t=ft=Jw(t,Gr),t=ZT(n,t,Gr)}e.memoizedProps=e.pendingProps,t===null?Uf(e):ft=t}function Ua(e,t,n,r){Vr=ra=null,qg(t),Qa=null,nu=0;var i=t.return;try{if(o2(e,i,t,n,vt)){Jt=1,kh(e,Tn(n,e.current)),ft=null;return}}catch(s){if(i!==null)throw ft=i,s;Jt=1,kh(e,Tn(n,e.current)),ft=null;return}t.flags&32768?(Tt||r===1?e=!0:Lo||vt&536870912?e=!1:(Vi=e=!0,(r===2||r===9||r===3||r===6)&&(r=Cn.current,r!==null&&r.tag===13&&(r.flags|=16384))),T1(t,e)):Uf(t)}function Uf(e){var t=e;do{if(t.flags&32768){T1(t,Vi);return}e=t.return;var n=u2(t.alternate,t,Gr);if(n!==null){ft=n;return}if(t=t.sibling,t!==null){ft=t;return}ft=t=e}while(t!==null);Jt===0&&(Jt=5)}function T1(e,t){do{var n=c2(e.alternate,e);if(n!==null){n.flags&=32767,ft=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ft=e;return}ft=e=n}while(e!==null);Jt=6,ft=null}function u0(e,t,n,r,i,s,a,o,u){e.cancelPendingCommit=null;do zf();while(Te!==0);if(It&6)throw Error(B(327));if(t!==null){if(t===e.current)throw Error(B(177));if(s=t.lanes|t.childLanes,s|=Ig,XC(e,n,s,a,o,u),e===Lt&&(ft=Lt=null,vt=0),bo=t,Hi=e,$a=n,fp=s,dp=i,g1=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,w2(Th,function(){return C1(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,t.subtreeFlags&13878||r){r=tt.T,tt.T=null,i=At.p,At.p=2,a=It,It|=4;try{h2(e,t,n)}finally{It=a,At.p=i,tt.T=r}}Te=1,A1(),S1(),R1()}}function A1(){if(Te===1){Te=0;var e=Hi,t=bo,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=tt.T,tt.T=null;var r=At.p;At.p=2;var i=It;It|=4;try{u1(t,e);var s=_p,a=Gw(e.containerInfo),o=s.focusedElem,u=s.selectionRange;if(a!==o&&o&&o.ownerDocument&&Fw(o.ownerDocument.documentElement,o)){if(u!==null&&Cg(o)){var c=u.start,h=u.end;if(h===void 0&&(h=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(h,o.value.length);else{var m=o.ownerDocument||document,p=m&&m.defaultView||window;if(p.getSelection){var d=p.getSelection(),S=o.textContent.length,E=Math.min(u.start,S),A=u.end===void 0?E:Math.min(u.end,S);!d.extend&&E>A&&(a=A,A=E,E=a);var y=N_(o,E),v=N_(o,A);if(y&&v&&(d.rangeCount!==1||d.anchorNode!==y.node||d.anchorOffset!==y.offset||d.focusNode!==v.node||d.focusOffset!==v.offset)){var w=m.createRange();w.setStart(y.node,y.offset),d.removeAllRanges(),E>A?(d.addRange(w),d.extend(v.node,v.offset)):(w.setEnd(v.node,v.offset),d.addRange(w))}}}}for(m=[],d=o;d=d.parentNode;)d.nodeType===1&&m.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<m.length;o++){var I=m[o];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}Yh=!!vp,_p=vp=null}finally{It=i,At.p=r,tt.T=n}}e.current=t,Te=2}}function S1(){if(Te===2){Te=0;var e=Hi,t=bo,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=tt.T,tt.T=null;var r=At.p;At.p=2;var i=It;It|=4;try{s1(e,t.alternate,t)}finally{It=i,At.p=r,tt.T=n}}Te=3}}function R1(){if(Te===4||Te===3){Te=0,BC();var e=Hi,t=bo,n=$a,r=g1;t.subtreeFlags&10256||t.flags&10256?Te=5:(Te=0,bo=Hi=null,x1(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(qi=null),Eg(n),t=t.stateNode,ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Cu,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=tt.T,i=At.p,At.p=2,tt.T=null;try{for(var s=e.onRecoverableError,a=0;a<r.length;a++){var o=r[a];s(o.value,{componentStack:o.stack})}}finally{tt.T=t,At.p=i}}$a&3&&zf(),vr(e),i=e.pendingLanes,n&4194090&&i&42?e===mp?ql++:(ql=0,mp=e):ql=0,ju(0)}}function x1(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Vu(t)))}function zf(e){return A1(),S1(),R1(),C1()}function C1(){if(Te!==5)return!1;var e=Hi,t=fp;fp=0;var n=Eg($a),r=tt.T,i=At.p;try{At.p=32>n?32:n,tt.T=null,n=dp,dp=null;var s=Hi,a=$a;if(Te=0,bo=Hi=null,$a=0,It&6)throw Error(B(331));var o=It;if(It|=4,m1(s.current),h1(s,s.current,a,n),It=o,ju(0,!1),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Cu,s)}catch{}return!0}finally{At.p=i,tt.T=r,x1(e,t)}}function c0(e,t,n){t=Tn(n,t),t=op(e.stateNode,t,2),e=Bi(e,t,2),e!==null&&(Nu(e,2),vr(e))}function Vt(e,t,n){if(e.tag===3)c0(e,e,n);else for(;t!==null;){if(t.tag===3){c0(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qi===null||!qi.has(r))){e=Tn(n,e),n=GT(2),r=Bi(t,n,2),r!==null&&(QT(n,r,t,e),Nu(r,2),vr(r));break}}t=t.return}}function om(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new m2;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(Jg=!0,i.add(n),e=_2.bind(null,e,t,n),t.then(e,e))}function _2(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Lt===e&&(vt&n)===n&&(Jt===4||Jt===3&&(vt&62914560)===vt&&300>sr()-ey?!(It&2)&&Eo(e,0):ty|=n,_o===vt&&(_o=0)),vr(e)}function I1(e,t){t===0&&(t=Aw()),e=ko(e,t),e!==null&&(Nu(e,t),vr(e))}function b2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),I1(e,n)}function E2(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(B(314))}r!==null&&r.delete(t),I1(e,n)}function w2(e,t){return _g(e,t)}var Bh=null,wa=null,gp=!1,qh=!1,lm=!1,Bs=0;function vr(e){e!==wa&&e.next===null&&(wa===null?Bh=wa=e:wa=wa.next=e),qh=!0,gp||(gp=!0,A2())}function ju(e,t){if(!lm&&qh){lm=!0;do for(var n=!1,r=Bh;r!==null;){if(e!==0){var i=r.pendingLanes;if(i===0)var s=0;else{var a=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-un(42|e)+1)-1,s&=i&~(a&~o),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,h0(r,s))}else s=vt,s=xf(r,r===Lt?s:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(s&3)||Iu(r,s)||(n=!0,h0(r,s));r=r.next}while(n);lm=!1}}function T2(){N1()}function N1(){qh=gp=!1;var e=0;Bs!==0&&(D2()&&(e=Bs),Bs=0);for(var t=sr(),n=null,r=Bh;r!==null;){var i=r.next,s=O1(r,t);s===0?(r.next=null,n===null?Bh=i:n.next=i,i===null&&(wa=n)):(n=r,(e!==0||s&3)&&(qh=!0)),r=i}ju(e)}function O1(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var a=31-un(s),o=1<<a,u=i[a];u===-1?(!(o&n)||o&r)&&(i[a]=KC(o,t)):u<=t&&(e.expiredLanes|=o),s&=~o}if(t=Lt,n=vt,n=xf(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(Ct===2||Ct===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Pd(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Iu(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&Pd(r),Eg(n)){case 2:case 8:n=Ew;break;case 32:n=Th;break;case 268435456:n=ww;break;default:n=Th}return r=D1.bind(null,e),n=_g(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&Pd(r),e.callbackPriority=2,e.callbackNode=null,2}function D1(e,t){if(Te!==0&&Te!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(zf()&&e.callbackNode!==n)return null;var r=vt;return r=xf(e,e===Lt?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(v1(e,r,t),O1(e,sr()),e.callbackNode!=null&&e.callbackNode===n?D1.bind(null,e):null)}function h0(e,t){if(zf())return null;v1(e,t,!0)}function A2(){P2(function(){It&6?_g(bw,T2):N1()})}function ry(){return Bs===0&&(Bs=Tw()),Bs}function f0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Xc(""+e)}function d0(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function S2(e,t,n,r,i){if(t==="submit"&&n&&n.stateNode===i){var s=f0((i[Ke]||null).action),a=r.submitter;a&&(t=(t=a[Ke]||null)?f0(t.formAction):a.getAttribute("formAction"),t!==null&&(s=t,a=null));var o=new Cf("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Bs!==0){var u=a?d0(i,a):new FormData(i);sp(n,{pending:!0,data:u,method:i.method,action:s},null,u)}}else typeof s=="function"&&(o.preventDefault(),u=a?d0(i,a):new FormData(i),sp(n,{pending:!0,data:u,method:i.method,action:s},s,u))},currentTarget:i}]})}}for(var um=0;um<$m.length;um++){var cm=$m[um],R2=cm.toLowerCase(),x2=cm[0].toUpperCase()+cm.slice(1);Hn(R2,"on"+x2)}Hn($w,"onAnimationEnd");Hn(Yw,"onAnimationIteration");Hn(Kw,"onAnimationStart");Hn("dblclick","onDoubleClick");Hn("focusin","onFocus");Hn("focusout","onBlur");Hn(FI,"onTransitionRun");Hn(GI,"onTransitionStart");Hn(QI,"onTransitionCancel");Hn(Xw,"onTransitionEnd");fo("onMouseEnter",["mouseout","mouseover"]);fo("onMouseLeave",["mouseout","mouseover"]);fo("onPointerEnter",["pointerout","pointerover"]);fo("onPointerLeave",["pointerout","pointerover"]);ta("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ta("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ta("onBeforeInput",["compositionend","keypress","textInput","paste"]);ta("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ta("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ta("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ru));function M1(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;t:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==s&&i.isPropagationStopped())break t;s=o,i.currentTarget=c;try{s(i)}catch(h){Vh(h)}i.currentTarget=null,s=u}else for(a=0;a<r.length;a++){if(o=r[a],u=o.instance,c=o.currentTarget,o=o.listener,u!==s&&i.isPropagationStopped())break t;s=o,i.currentTarget=c;try{s(i)}catch(h){Vh(h)}i.currentTarget=null,s=u}}}}function ht(e,t){var n=t[jm];n===void 0&&(n=t[jm]=new Set);var r=e+"__bubble";n.has(r)||(P1(t,e,2,!1),n.add(r))}function hm(e,t,n){var r=0;t&&(r|=4),P1(n,e,r,t)}var Vc="_reactListening"+Math.random().toString(36).slice(2);function iy(e){if(!e[Vc]){e[Vc]=!0,Cw.forEach(function(n){n!=="selectionchange"&&(C2.has(n)||hm(n,!1,e),hm(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Vc]||(t[Vc]=!0,hm("selectionchange",!1,t))}}function P1(e,t,n,r){switch(Q1(t)){case 2:var i=eN;break;case 8:i=nN;break;default:i=ly}n=i.bind(null,t,n,e),i=void 0,!Fm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function fm(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)t:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===i)return;a=a.return}for(;o!==null;){if(a=Ia(o),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){r=s=a;continue t}o=o.parentNode}}r=r.return}kw(function(){var c=s,h=Ag(n),m=[];t:{var p=Ww.get(e);if(p!==void 0){var d=Cf,S=e;switch(e){case"keypress":if(Zc(n)===0)break t;case"keydown":case"keyup":d=wI;break;case"focusin":S="focus",d=qd;break;case"focusout":S="blur",d=qd;break;case"beforeblur":case"afterblur":d=qd;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=b_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=cI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=SI;break;case $w:case Yw:case Kw:d=dI;break;case Xw:d=xI;break;case"scroll":case"scrollend":d=lI;break;case"wheel":d=II;break;case"copy":case"cut":case"paste":d=pI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=w_;break;case"toggle":case"beforetoggle":d=OI}var E=(t&4)!==0,A=!E&&(e==="scroll"||e==="scrollend"),y=E?p!==null?p+"Capture":null:p;E=[];for(var v=c,w;v!==null;){var I=v;if(w=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||w===null||y===null||(I=Wl(v,y),I!=null&&E.push(iu(v,I,w))),A)break;v=v.return}0<E.length&&(p=new d(p,S,null,n,h),m.push({event:p,listeners:E}))}}if(!(t&7)){t:{if(p=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",p&&n!==Hm&&(S=n.relatedTarget||n.fromElement)&&(Ia(S)||S[Po]))break t;if((d||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,d?(S=n.relatedTarget||n.toElement,d=c,S=S?Ia(S):null,S!==null&&(A=xu(S),E=S.tag,S!==A||E!==5&&E!==27&&E!==6)&&(S=null)):(d=null,S=c),d!==S)){if(E=b_,I="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(E=w_,I="onPointerLeave",y="onPointerEnter",v="pointer"),A=d==null?p:wl(d),w=S==null?p:wl(S),p=new E(I,v+"leave",d,n,h),p.target=A,p.relatedTarget=w,I=null,Ia(h)===c&&(E=new E(y,v+"enter",S,n,h),E.target=w,E.relatedTarget=A,I=E),A=I,d&&S)e:{for(E=d,y=S,v=0,w=E;w;w=va(w))v++;for(w=0,I=y;I;I=va(I))w++;for(;0<v-w;)E=va(E),v--;for(;0<w-v;)y=va(y),w--;for(;v--;){if(E===y||y!==null&&E===y.alternate)break e;E=va(E),y=va(y)}E=null}else E=null;d!==null&&m0(m,p,d,E,!1),S!==null&&A!==null&&m0(m,A,S,E,!0)}}t:{if(p=c?wl(c):window,d=p.nodeName&&p.nodeName.toLowerCase(),d==="select"||d==="input"&&p.type==="file")var V=R_;else if(S_(p))if(qw)V=BI;else{V=zI;var L=UI}else d=p.nodeName,!d||d.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?c&&Tg(c.elementType)&&(V=R_):V=jI;if(V&&(V=V(e,c))){Bw(m,V,n,h);break t}L&&L(e,p,c),e==="focusout"&&c&&p.type==="number"&&c.memoizedProps.value!=null&&qm(p,"number",p.value)}switch(L=c?wl(c):window,e){case"focusin":(S_(L)||L.contentEditable==="true")&&(Da=L,Gm=c,Dl=null);break;case"focusout":Dl=Gm=Da=null;break;case"mousedown":Qm=!0;break;case"contextmenu":case"mouseup":case"dragend":Qm=!1,O_(m,n,h);break;case"selectionchange":if(HI)break;case"keydown":case"keyup":O_(m,n,h)}var T;if(xg)t:{switch(e){case"compositionstart":var _="onCompositionStart";break t;case"compositionend":_="onCompositionEnd";break t;case"compositionupdate":_="onCompositionUpdate";break t}_=void 0}else Oa?zw(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(Uw&&n.locale!=="ko"&&(Oa||_!=="onCompositionStart"?_==="onCompositionEnd"&&Oa&&(T=Lw()):(Pi=h,Sg="value"in Pi?Pi.value:Pi.textContent,Oa=!0)),L=Hh(c,_),0<L.length&&(_=new E_(_,e,null,n,h),m.push({event:_,listeners:L}),T?_.data=T:(T=jw(n),T!==null&&(_.data=T)))),(T=MI?PI(e,n):VI(e,n))&&(_=Hh(c,"onBeforeInput"),0<_.length&&(L=new E_("onBeforeInput","beforeinput",null,n,h),m.push({event:L,listeners:_}),L.data=T)),S2(m,e,c,n,h)}M1(m,t)})}function iu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hh(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||s===null||(i=Wl(e,n),i!=null&&r.unshift(iu(e,i,s)),i=Wl(e,t),i!=null&&r.push(iu(e,i,s))),e.tag===3)return r;e=e.return}return[]}function va(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function m0(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var o=n,u=o.alternate,c=o.stateNode;if(o=o.tag,u!==null&&u===r)break;o!==5&&o!==26&&o!==27||c===null||(u=c,i?(c=Wl(n,s),c!=null&&a.unshift(iu(n,c,u))):i||(c=Wl(n,s),c!=null&&a.push(iu(n,c,u)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var I2=/\r\n?/g,N2=/\u0000|\uFFFD/g;function p0(e){return(typeof e=="string"?e:""+e).replace(I2,`
`).replace(N2,"")}function V1(e,t){return t=p0(t),p0(e)===t}function jf(){}function Nt(e,t,n,r,i,s){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||mo(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&mo(e,""+r);break;case"className":Cc(e,"class",r);break;case"tabIndex":Cc(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Cc(e,n,r);break;case"style":Vw(e,r,s);break;case"data":if(t!=="object"){Cc(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Xc(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&Nt(e,t,"name",i.name,i,null),Nt(e,t,"formEncType",i.formEncType,i,null),Nt(e,t,"formMethod",i.formMethod,i,null),Nt(e,t,"formTarget",i.formTarget,i,null)):(Nt(e,t,"encType",i.encType,i,null),Nt(e,t,"method",i.method,i,null),Nt(e,t,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Xc(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=jf);break;case"onScroll":r!=null&&ht("scroll",e);break;case"onScrollEnd":r!=null&&ht("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(B(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(B(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=Xc(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":ht("beforetoggle",e),ht("toggle",e),Kc(e,"popover",r);break;case"xlinkActuate":Sr(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Sr(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Sr(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Sr(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Sr(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Sr(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Sr(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Sr(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Sr(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Kc(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=aI.get(n)||n,Kc(e,n,r))}}function yp(e,t,n,r,i,s){switch(n){case"style":Vw(e,r,s);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(B(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(B(60));e.innerHTML=n}}break;case"children":typeof r=="string"?mo(e,r):(typeof r=="number"||typeof r=="bigint")&&mo(e,""+r);break;case"onScroll":r!=null&&ht("scroll",e);break;case"onScrollEnd":r!=null&&ht("scrollend",e);break;case"onClick":r!=null&&(e.onclick=jf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Iw.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),s=e[Ke]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,i),typeof r=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i);break t}n in e?e[n]=r:r===!0?e.setAttribute(n,""):Kc(e,n,r)}}}function Se(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ht("error",e),ht("load",e);var r=!1,i=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(B(137,t));default:Nt(e,t,s,a,n,null)}}i&&Nt(e,t,"srcSet",n.srcSet,n,null),r&&Nt(e,t,"src",n.src,n,null);return;case"input":ht("invalid",e);var o=s=a=i=null,u=null,c=null;for(r in n)if(n.hasOwnProperty(r)){var h=n[r];if(h!=null)switch(r){case"name":i=h;break;case"type":a=h;break;case"checked":u=h;break;case"defaultChecked":c=h;break;case"value":s=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(B(137,t));break;default:Nt(e,t,r,h,n,null)}}Dw(e,s,o,u,c,a,i,!1),Ah(e);return;case"select":ht("invalid",e),r=a=s=null;for(i in n)if(n.hasOwnProperty(i)&&(o=n[i],o!=null))switch(i){case"value":s=o;break;case"defaultValue":a=o;break;case"multiple":r=o;default:Nt(e,t,i,o,n,null)}t=s,n=a,e.multiple=!!r,t!=null?Ba(e,!!r,t,!1):n!=null&&Ba(e,!!r,n,!0);return;case"textarea":ht("invalid",e),s=i=r=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":r=o;break;case"defaultValue":i=o;break;case"children":s=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(B(91));break;default:Nt(e,t,a,o,n,null)}Pw(e,r,i,s),Ah(e);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Nt(e,t,u,r,n,null)}return;case"dialog":ht("beforetoggle",e),ht("toggle",e),ht("cancel",e),ht("close",e);break;case"iframe":case"object":ht("load",e);break;case"video":case"audio":for(r=0;r<ru.length;r++)ht(ru[r],e);break;case"image":ht("error",e),ht("load",e);break;case"details":ht("toggle",e);break;case"embed":case"source":case"link":ht("error",e),ht("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(r=n[c],r!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(B(137,t));default:Nt(e,t,c,r,n,null)}return;default:if(Tg(t)){for(h in n)n.hasOwnProperty(h)&&(r=n[h],r!==void 0&&yp(e,t,h,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(r=n[o],r!=null&&Nt(e,t,o,r,n,null))}function O2(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,a=null,o=null,u=null,c=null,h=null;for(d in n){var m=n[d];if(n.hasOwnProperty(d)&&m!=null)switch(d){case"checked":break;case"value":break;case"defaultValue":u=m;default:r.hasOwnProperty(d)||Nt(e,t,d,null,r,m)}}for(var p in r){var d=r[p];if(m=n[p],r.hasOwnProperty(p)&&(d!=null||m!=null))switch(p){case"type":s=d;break;case"name":i=d;break;case"checked":c=d;break;case"defaultChecked":h=d;break;case"value":a=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(B(137,t));break;default:d!==m&&Nt(e,t,p,d,r,m)}}Bm(e,a,o,u,c,h,s,i);return;case"select":d=a=o=p=null;for(s in n)if(u=n[s],n.hasOwnProperty(s)&&u!=null)switch(s){case"value":break;case"multiple":d=u;default:r.hasOwnProperty(s)||Nt(e,t,s,null,r,u)}for(i in r)if(s=r[i],u=n[i],r.hasOwnProperty(i)&&(s!=null||u!=null))switch(i){case"value":p=s;break;case"defaultValue":o=s;break;case"multiple":a=s;default:s!==u&&Nt(e,t,i,s,r,u)}t=o,n=a,r=d,p!=null?Ba(e,!!n,p,!1):!!r!=!!n&&(t!=null?Ba(e,!!n,t,!0):Ba(e,!!n,n?[]:"",!1));return;case"textarea":d=p=null;for(o in n)if(i=n[o],n.hasOwnProperty(o)&&i!=null&&!r.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Nt(e,t,o,null,r,i)}for(a in r)if(i=r[a],s=n[a],r.hasOwnProperty(a)&&(i!=null||s!=null))switch(a){case"value":p=i;break;case"defaultValue":d=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(B(91));break;default:i!==s&&Nt(e,t,a,i,r,s)}Mw(e,p,d);return;case"option":for(var S in n)if(p=n[S],n.hasOwnProperty(S)&&p!=null&&!r.hasOwnProperty(S))switch(S){case"selected":e.selected=!1;break;default:Nt(e,t,S,null,r,p)}for(u in r)if(p=r[u],d=n[u],r.hasOwnProperty(u)&&p!==d&&(p!=null||d!=null))switch(u){case"selected":e.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Nt(e,t,u,p,r,d)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var E in n)p=n[E],n.hasOwnProperty(E)&&p!=null&&!r.hasOwnProperty(E)&&Nt(e,t,E,null,r,p);for(c in r)if(p=r[c],d=n[c],r.hasOwnProperty(c)&&p!==d&&(p!=null||d!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(B(137,t));break;default:Nt(e,t,c,p,r,d)}return;default:if(Tg(t)){for(var A in n)p=n[A],n.hasOwnProperty(A)&&p!==void 0&&!r.hasOwnProperty(A)&&yp(e,t,A,void 0,r,p);for(h in r)p=r[h],d=n[h],!r.hasOwnProperty(h)||p===d||p===void 0&&d===void 0||yp(e,t,h,p,r,d);return}}for(var y in n)p=n[y],n.hasOwnProperty(y)&&p!=null&&!r.hasOwnProperty(y)&&Nt(e,t,y,null,r,p);for(m in r)p=r[m],d=n[m],!r.hasOwnProperty(m)||p===d||p==null&&d==null||Nt(e,t,m,p,r,d)}var vp=null,_p=null;function Fh(e){return e.nodeType===9?e:e.ownerDocument}function g0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function k1(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function bp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var dm=null;function D2(){var e=window.event;return e&&e.type==="popstate"?e===dm?!1:(dm=e,!0):(dm=null,!1)}var L1=typeof setTimeout=="function"?setTimeout:void 0,M2=typeof clearTimeout=="function"?clearTimeout:void 0,y0=typeof Promise=="function"?Promise:void 0,P2=typeof queueMicrotask=="function"?queueMicrotask:typeof y0<"u"?function(e){return y0.resolve(null).then(e).catch(V2)}:L1;function V2(e){setTimeout(function(){throw e})}function hs(e){return e==="head"}function v0(e,t){var n=t,r=0,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(0<r&&8>r){n=r;var a=e.ownerDocument;if(n&1&&Hl(a.documentElement),n&2&&Hl(a.body),n&4)for(n=a.head,Hl(n),a=n.firstChild;a;){var o=a.nextSibling,u=a.nodeName;a[Ou]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=o}}if(i===0){e.removeChild(s),uu(t);return}i--}else n==="$"||n==="$?"||n==="$!"?i++:r=n.charCodeAt(0)-48;else r=0;n=s}while(n);uu(t)}function Ep(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ep(n),wg(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function k2(e,t,n,r){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Ou])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=zn(e.nextSibling),e===null)break}return null}function L2(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=zn(e.nextSibling),e===null))return null;return e}function wp(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function U2(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function zn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Tp=null;function _0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function U1(e,t,n){switch(t=Fh(n),e){case"html":if(e=t.documentElement,!e)throw Error(B(452));return e;case"head":if(e=t.head,!e)throw Error(B(453));return e;case"body":if(e=t.body,!e)throw Error(B(454));return e;default:throw Error(B(451))}}function Hl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);wg(e)}var In=new Map,b0=new Set;function Gh(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ti=At.d;At.d={f:z2,r:j2,D:B2,C:q2,L:H2,m:F2,X:Q2,S:G2,M:$2};function z2(){var e=ti.f(),t=Lf();return e||t}function j2(e){var t=Vo(e);t!==null&&t.tag===5&&t.type==="form"?OT(t):ti.r(e)}var Uo=typeof document>"u"?null:document;function z1(e,t,n){var r=Uo;if(r&&typeof t=="string"&&t){var i=wn(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),b0.has(i)||(b0.add(i),e={rel:e,crossOrigin:n,href:t},r.querySelector(i)===null&&(t=r.createElement("link"),Se(t,"link",e),pe(t),r.head.appendChild(t)))}}function B2(e){ti.D(e),z1("dns-prefetch",e,null)}function q2(e,t){ti.C(e,t),z1("preconnect",e,t)}function H2(e,t,n){ti.L(e,t,n);var r=Uo;if(r&&e&&t){var i='link[rel="preload"][as="'+wn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+wn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+wn(n.imageSizes)+'"]')):i+='[href="'+wn(e)+'"]';var s=i;switch(t){case"style":s=wo(e);break;case"script":s=zo(e)}In.has(s)||(e=qt({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),In.set(s,e),r.querySelector(i)!==null||t==="style"&&r.querySelector(Bu(s))||t==="script"&&r.querySelector(qu(s))||(t=r.createElement("link"),Se(t,"link",e),pe(t),r.head.appendChild(t)))}}function F2(e,t){ti.m(e,t);var n=Uo;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+wn(r)+'"][href="'+wn(e)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=zo(e)}if(!In.has(s)&&(e=qt({rel:"modulepreload",href:e},t),In.set(s,e),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(qu(s)))return}r=n.createElement("link"),Se(r,"link",e),pe(r),n.head.appendChild(r)}}}function G2(e,t,n){ti.S(e,t,n);var r=Uo;if(r&&e){var i=ja(r).hoistableStyles,s=wo(e);t=t||"default";var a=i.get(s);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(Bu(s)))o.loading=5;else{e=qt({rel:"stylesheet",href:e,"data-precedence":t},n),(n=In.get(s))&&sy(e,n);var u=a=r.createElement("link");pe(u),Se(u,"link",e),u._p=new Promise(function(c,h){u.onload=c,u.onerror=h}),u.addEventListener("load",function(){o.loading|=1}),u.addEventListener("error",function(){o.loading|=2}),o.loading|=4,sh(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:o},i.set(s,a)}}}function Q2(e,t){ti.X(e,t);var n=Uo;if(n&&e){var r=ja(n).hoistableScripts,i=zo(e),s=r.get(i);s||(s=n.querySelector(qu(i)),s||(e=qt({src:e,async:!0},t),(t=In.get(i))&&ay(e,t),s=n.createElement("script"),pe(s),Se(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}function $2(e,t){ti.M(e,t);var n=Uo;if(n&&e){var r=ja(n).hoistableScripts,i=zo(e),s=r.get(i);s||(s=n.querySelector(qu(i)),s||(e=qt({src:e,async:!0,type:"module"},t),(t=In.get(i))&&ay(e,t),s=n.createElement("script"),pe(s),Se(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}function E0(e,t,n,r){var i=(i=zi.current)?Gh(i):null;if(!i)throw Error(B(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=wo(n.href),n=ja(i).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=wo(n.href);var s=ja(i).hoistableStyles,a=s.get(e);if(a||(i=i.ownerDocument||i,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,a),(s=i.querySelector(Bu(e)))&&!s._p&&(a.instance=s,a.state.loading=5),In.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},In.set(e,n),s||Y2(i,e,n,a.state))),t&&r===null)throw Error(B(528,""));return a}if(t&&r!==null)throw Error(B(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=zo(n),n=ja(i).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(B(444,e))}}function wo(e){return'href="'+wn(e)+'"'}function Bu(e){return'link[rel="stylesheet"]['+e+"]"}function j1(e){return qt({},e,{"data-precedence":e.precedence,precedence:null})}function Y2(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),Se(t,"link",n),pe(t),e.head.appendChild(t))}function zo(e){return'[src="'+wn(e)+'"]'}function qu(e){return"script[async]"+e}function w0(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+wn(n.href)+'"]');if(r)return t.instance=r,pe(r),r;var i=qt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),pe(r),Se(r,"style",i),sh(r,n.precedence,e),t.instance=r;case"stylesheet":i=wo(n.href);var s=e.querySelector(Bu(i));if(s)return t.state.loading|=4,t.instance=s,pe(s),s;r=j1(n),(i=In.get(i))&&sy(r,i),s=(e.ownerDocument||e).createElement("link"),pe(s);var a=s;return a._p=new Promise(function(o,u){a.onload=o,a.onerror=u}),Se(s,"link",r),t.state.loading|=4,sh(s,n.precedence,e),t.instance=s;case"script":return s=zo(n.src),(i=e.querySelector(qu(s)))?(t.instance=i,pe(i),i):(r=n,(i=In.get(s))&&(r=qt({},n),ay(r,i)),e=e.ownerDocument||e,i=e.createElement("script"),pe(i),Se(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(B(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,sh(r,n.precedence,e));return t.instance}function sh(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===t)s=o;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function sy(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ay(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ah=null;function T0(e,t,n){if(ah===null){var r=new Map,i=ah=new Map;i.set(n,r)}else i=ah,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[Ou]||s[Pe]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(t)||"";a=e+a;var o=r.get(a);o?o.push(s):r.set(a,[s])}}return r}function A0(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function K2(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function B1(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var su=null;function X2(){}function W2(e,t,n){if(su===null)throw Error(B(475));var r=su;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var i=wo(n.href),s=e.querySelector(Bu(i));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(r.count++,r=Qh.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=s,pe(s);return}s=e.ownerDocument||e,n=j1(n),(i=In.get(i))&&sy(n,i),s=s.createElement("link"),pe(s);var a=s;a._p=new Promise(function(o,u){a.onload=o,a.onerror=u}),Se(s,"link",n),t.instance=s}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(r.count++,t=Qh.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}function Z2(){if(su===null)throw Error(B(475));var e=su;return e.stylesheets&&e.count===0&&Ap(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Ap(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Qh(){if(this.count--,this.count===0){if(this.stylesheets)Ap(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var $h=null;function Ap(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,$h=new Map,t.forEach(J2,e),$h=null,Qh.call(e))}function J2(e,t){if(!(t.state.loading&4)){var n=$h.get(e);if(n)var r=n.get(null);else{n=new Map,$h.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var a=i[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}i=t.instance,a=i.getAttribute("data-precedence"),s=n.get(a)||r,s===r&&n.set(null,i),n.set(a,i),this.count++,r=Qh.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var au={$$typeof:Dr,Provider:null,Consumer:null,_currentValue:Vs,_currentValue2:Vs,_threadCount:0};function tN(e,t,n,r,i,s,a,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Vd(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vd(0),this.hiddenUpdates=Vd(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function q1(e,t,n,r,i,s,a,o,u,c,h,m){return e=new tN(e,t,n,a,o,u,c,m),t=1,s===!0&&(t|=24),s=on(3,null,null,t),e.current=s,s.stateNode=e,t=Pg(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},kg(s),e}function H1(e){return e?(e=Va,e):Va}function F1(e,t,n,r,i,s){i=H1(i),r.context===null?r.context=i:r.pendingContext=i,r=ji(t),r.payload={element:n},s=s===void 0?null:s,s!==null&&(r.callback=s),n=Bi(e,r,t),n!==null&&(hn(n,e,t),Vl(n,e,t))}function S0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function oy(e,t){S0(e,t),(e=e.alternate)&&S0(e,t)}function G1(e){if(e.tag===13){var t=ko(e,67108864);t!==null&&hn(t,e,67108864),oy(e,67108864)}}var Yh=!0;function eN(e,t,n,r){var i=tt.T;tt.T=null;var s=At.p;try{At.p=2,ly(e,t,n,r)}finally{At.p=s,tt.T=i}}function nN(e,t,n,r){var i=tt.T;tt.T=null;var s=At.p;try{At.p=8,ly(e,t,n,r)}finally{At.p=s,tt.T=i}}function ly(e,t,n,r){if(Yh){var i=Sp(r);if(i===null)fm(e,t,r,Kh,n),R0(e,r);else if(iN(i,e,t,n,r))r.stopPropagation();else if(R0(e,r),t&4&&-1<rN.indexOf(e)){for(;i!==null;){var s=Vo(i);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=Ts(s.pendingLanes);if(a!==0){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var u=1<<31-un(a);o.entanglements[1]|=u,a&=~u}vr(s),!(It&6)&&(zh=sr()+500,ju(0))}}break;case 13:o=ko(s,2),o!==null&&hn(o,s,2),Lf(),oy(s,2)}if(s=Sp(r),s===null&&fm(e,t,r,Kh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else fm(e,t,r,null,n)}}function Sp(e){return e=Ag(e),uy(e)}var Kh=null;function uy(e){if(Kh=null,e=Ia(e),e!==null){var t=xu(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=gw(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Kh=e,null}function Q1(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qC()){case bw:return 2;case Ew:return 8;case Th:case HC:return 32;case ww:return 268435456;default:return 32}default:return 32}}var Rp=!1,Fi=null,Gi=null,Qi=null,ou=new Map,lu=new Map,Ti=[],rN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function R0(e,t){switch(e){case"focusin":case"focusout":Fi=null;break;case"dragenter":case"dragleave":Gi=null;break;case"mouseover":case"mouseout":Qi=null;break;case"pointerover":case"pointerout":ou.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lu.delete(t.pointerId)}}function yl(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Vo(t),t!==null&&G1(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function iN(e,t,n,r,i){switch(t){case"focusin":return Fi=yl(Fi,e,t,n,r,i),!0;case"dragenter":return Gi=yl(Gi,e,t,n,r,i),!0;case"mouseover":return Qi=yl(Qi,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return ou.set(s,yl(ou.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,lu.set(s,yl(lu.get(s)||null,e,t,n,r,i)),!0}return!1}function $1(e){var t=Ia(e.target);if(t!==null){var n=xu(t);if(n!==null){if(t=n.tag,t===13){if(t=gw(n),t!==null){e.blockedOn=t,WC(e.priority,function(){if(n.tag===13){var r=cn();r=bg(r);var i=ko(n,r);i!==null&&hn(i,n,r),oy(n,r)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function oh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Sp(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Hm=r,n.target.dispatchEvent(r),Hm=null}else return t=Vo(n),t!==null&&G1(t),e.blockedOn=n,!1;t.shift()}return!0}function x0(e,t,n){oh(e)&&n.delete(t)}function sN(){Rp=!1,Fi!==null&&oh(Fi)&&(Fi=null),Gi!==null&&oh(Gi)&&(Gi=null),Qi!==null&&oh(Qi)&&(Qi=null),ou.forEach(x0),lu.forEach(x0)}function kc(e,t){e.blockedOn===t&&(e.blockedOn=null,Rp||(Rp=!0,fe.unstable_scheduleCallback(fe.unstable_NormalPriority,sN)))}var Lc=null;function C0(e){Lc!==e&&(Lc=e,fe.unstable_scheduleCallback(fe.unstable_NormalPriority,function(){Lc===e&&(Lc=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if(typeof r!="function"){if(uy(r||n)===null)continue;break}var s=Vo(n);s!==null&&(e.splice(t,3),t-=3,sp(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function uu(e){function t(u){return kc(u,e)}Fi!==null&&kc(Fi,e),Gi!==null&&kc(Gi,e),Qi!==null&&kc(Qi,e),ou.forEach(t),lu.forEach(t);for(var n=0;n<Ti.length;n++){var r=Ti[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Ti.length&&(n=Ti[0],n.blockedOn===null);)$1(n),n.blockedOn===null&&Ti.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],a=i[Ke]||null;if(typeof s=="function")a||C0(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(i=s,a=s[Ke]||null)o=a.formAction;else if(uy(i)!==null)continue}else o=a.action;typeof o=="function"?n[r+1]=o:(n.splice(r,3),r-=3),C0(n)}}}function cy(e){this._internalRoot=e}Bf.prototype.render=cy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));var n=t.current,r=cn();F1(n,r,e,t,null,null)};Bf.prototype.unmount=cy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;F1(e.current,2,null,e,null,null),Lf(),t[Po]=null}};function Bf(e){this._internalRoot=e}Bf.prototype.unstable_scheduleHydration=function(e){if(e){var t=xw();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ti.length&&t!==0&&t<Ti[n].priority;n++);Ti.splice(n,0,e),n===0&&$1(e)}};var I0=mw.version;if(I0!=="19.1.1")throw Error(B(527,I0,"19.1.1"));At.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=VC(t),e=e!==null?yw(e):null,e=e===null?null:e.stateNode,e};var aN={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:tt,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uc.isDisabled&&Uc.supportsFiber)try{Cu=Uc.inject(aN),ln=Uc}catch{}}Af.createRoot=function(e,t){if(!pw(e))throw Error(B(299));var n=!1,r="",i=qT,s=HT,a=FT,o=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(o=t.unstable_transitionCallbacks)),t=q1(e,1,!1,null,null,n,r,i,s,a,o,null),e[Po]=t.current,iy(e),new cy(t)};Af.hydrateRoot=function(e,t,n){if(!pw(e))throw Error(B(299));var r=!1,i="",s=qT,a=HT,o=FT,u=null,c=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(u=n.unstable_transitionCallbacks),n.formState!==void 0&&(c=n.formState)),t=q1(e,1,!0,t,n??null,r,i,s,a,o,u,c),t.context=H1(null),n=t.current,r=cn(),r=bg(r),i=ji(r),i.callback=null,Bi(n,i,r),n=r,t.current.lanes=n,Nu(t,n),vr(t),e[Po]=t.current,iy(e),new Bf(t)};Af.version="19.1.1";function Y1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Y1)}catch(e){console.error(e)}}Y1(),tw.exports=Af;var oN=tw.exports,lN=(e,t,n,r,i,s,a,o)=>{let u=document.documentElement,c=["light","dark"];function h(d){(Array.isArray(e)?e:[e]).forEach(S=>{let E=S==="class",A=E&&s?i.map(y=>s[y]||y):i;E?(u.classList.remove(...A),u.classList.add(s&&s[d]?s[d]:d)):u.setAttribute(S,d)}),m(d)}function m(d){o&&c.includes(d)&&(u.style.colorScheme=d)}function p(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)h(r);else try{let d=localStorage.getItem(t)||n,S=a&&d==="system"?p():d;h(S)}catch{}},uN=D.createContext(void 0),cN={setTheme:e=>{},themes:[]},hN=()=>{var e;return(e=D.useContext(uN))!=null?e:cN};D.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:a,themes:o,nonce:u,scriptProps:c})=>{let h=JSON.stringify([n,t,s,e,o,a,r,i]).slice(1,-1);return D.createElement("script",{...c,suppressHydrationWarning:!0,nonce:typeof window>"u"?u:"",dangerouslySetInnerHTML:{__html:`(${lN.toString()})(${h})`}})});var fN=e=>{switch(e){case"success":return pN;case"info":return yN;case"warning":return gN;case"error":return vN;default:return null}},dN=Array(12).fill(0),mN=({visible:e,className:t})=>Q.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Q.createElement("div",{className:"sonner-spinner"},dN.map((n,r)=>Q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),pN=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),gN=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),yN=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),vN=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),_N=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),bN=()=>{let[e,t]=Q.useState(document.hidden);return Q.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},xp=1,EN=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;let{message:r,...i}=t,s=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:xp++,a=this.toasts.find(u=>u.id===s),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(u=>u.id===s?(this.publish({...u,...t,id:s,title:r}),{...u,...t,id:s,dismissible:o,title:r}):u):this.addToast({title:r,...i,dismissible:o,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:t,dismiss:!0})),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let i=t instanceof Promise?t:t(),s=r!==void 0,a,o=i.then(async c=>{if(a=["resolve",c],Q.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(TN(c)&&!c.ok){s=!1;let h=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,m=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description;this.create({id:r,type:"error",message:h,description:m})}else if(n.success!==void 0){s=!1;let h=typeof n.success=="function"?await n.success(c):n.success,m=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"success",message:h,description:m})}}).catch(async c=>{if(a=["reject",c],n.error!==void 0){s=!1;let h=typeof n.error=="function"?await n.error(c):n.error,m=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"error",message:h,description:m})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=n.finally)==null||c.call(n)}),u=()=>new Promise((c,h)=>o.then(()=>a[0]==="reject"?h(a[1]):c(a[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:u}:Object.assign(r,{unwrap:u})},this.custom=(t,n)=>{let r=(n==null?void 0:n.id)||xp++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},$e=new EN,wN=(e,t)=>{let n=(t==null?void 0:t.id)||xp++;return $e.addToast({title:e,...t,id:n}),n},TN=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",AN=wN,SN=()=>$e.toasts,RN=()=>$e.getActiveToasts(),xs=Object.assign(AN,{success:$e.success,info:$e.info,warning:$e.warning,error:$e.error,custom:$e.custom,message:$e.message,promise:$e.promise,dismiss:$e.dismiss,loading:$e.loading},{getHistory:SN,getToasts:RN});function xN(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}xN(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function zc(e){return e.label!==void 0}var CN=3,IN="32px",NN="16px",N0=4e3,ON=356,DN=14,MN=20,PN=200;function Dn(...e){return e.filter(Boolean).join(" ")}function VN(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var kN=e=>{var t,n,r,i,s,a,o,u,c,h,m;let{invert:p,toast:d,unstyled:S,interacting:E,setHeights:A,visibleToasts:y,heights:v,index:w,toasts:I,expanded:V,removeToast:L,defaultRichColors:T,closeButton:_,style:x,cancelButtonStyle:R,actionButtonStyle:N,className:O="",descriptionClassName:C="",duration:rt,position:wt,gap:q,loadingIcon:$,expandByDefault:H,classNames:F,icons:W,closeButtonAriaLabel:Ut="Close toast",pauseWhenPageIsHidden:at}=e,[J,gt]=Q.useState(null),[Dt,Gn]=Q.useState(null),[St,ri]=Q.useState(!1),[Qn,mn]=Q.useState(!1),[tn,$n]=Q.useState(!1),[pn,ii]=Q.useState(!1),[ds,ms]=Q.useState(!1),[Wo,ps]=Q.useState(0),[br,ua]=Q.useState(0),si=Q.useRef(d.duration||rt||N0),ac=Q.useRef(null),Nn=Q.useRef(null),Zo=w===0,oc=w+1<=y,xt=d.type,Kt=d.dismissible!==!1,ca=d.className||"",lc=d.descriptionClassName||"",gs=Q.useMemo(()=>v.findIndex(nt=>nt.toastId===d.id)||0,[v,d.id]),vd=Q.useMemo(()=>{var nt;return(nt=d.closeButton)!=null?nt:_},[d.closeButton,_]),ai=Q.useMemo(()=>d.duration||rt||N0,[d.duration,rt]),ha=Q.useRef(0),Er=Q.useRef(0),fa=Q.useRef(0),oi=Q.useRef(null),[_d,Jo]=wt.split("-"),tl=Q.useMemo(()=>v.reduce((nt,_t,Mt)=>Mt>=gs?nt:nt+_t.height,0),[v,gs]),el=bN(),ys=d.invert||p,vs=xt==="loading";Er.current=Q.useMemo(()=>gs*q+tl,[gs,tl]),Q.useEffect(()=>{si.current=ai},[ai]),Q.useEffect(()=>{ri(!0)},[]),Q.useEffect(()=>{let nt=Nn.current;if(nt){let _t=nt.getBoundingClientRect().height;return ua(_t),A(Mt=>[{toastId:d.id,height:_t,position:d.position},...Mt]),()=>A(Mt=>Mt.filter(ve=>ve.toastId!==d.id))}},[A,d.id]),Q.useLayoutEffect(()=>{if(!St)return;let nt=Nn.current,_t=nt.style.height;nt.style.height="auto";let Mt=nt.getBoundingClientRect().height;nt.style.height=_t,ua(Mt),A(ve=>ve.find(qe=>qe.toastId===d.id)?ve.map(qe=>qe.toastId===d.id?{...qe,height:Mt}:qe):[{toastId:d.id,height:Mt,position:d.position},...ve])},[St,d.title,d.description,A,d.id]);let gn=Q.useCallback(()=>{mn(!0),ps(Er.current),A(nt=>nt.filter(_t=>_t.toastId!==d.id)),setTimeout(()=>{L(d)},PN)},[d,L,A,Er]);Q.useEffect(()=>{if(d.promise&&xt==="loading"||d.duration===1/0||d.type==="loading")return;let nt;return V||E||at&&el?(()=>{if(fa.current<ha.current){let _t=new Date().getTime()-ha.current;si.current=si.current-_t}fa.current=new Date().getTime()})():si.current!==1/0&&(ha.current=new Date().getTime(),nt=setTimeout(()=>{var _t;(_t=d.onAutoClose)==null||_t.call(d,d),gn()},si.current)),()=>clearTimeout(nt)},[V,E,d,xt,at,el,gn]),Q.useEffect(()=>{d.delete&&gn()},[gn,d.delete]);function wr(){var nt,_t,Mt;return W!=null&&W.loading?Q.createElement("div",{className:Dn(F==null?void 0:F.loader,(nt=d==null?void 0:d.classNames)==null?void 0:nt.loader,"sonner-loader"),"data-visible":xt==="loading"},W.loading):$?Q.createElement("div",{className:Dn(F==null?void 0:F.loader,(_t=d==null?void 0:d.classNames)==null?void 0:_t.loader,"sonner-loader"),"data-visible":xt==="loading"},$):Q.createElement(mN,{className:Dn(F==null?void 0:F.loader,(Mt=d==null?void 0:d.classNames)==null?void 0:Mt.loader),visible:xt==="loading"})}return Q.createElement("li",{tabIndex:0,ref:Nn,className:Dn(O,ca,F==null?void 0:F.toast,(t=d==null?void 0:d.classNames)==null?void 0:t.toast,F==null?void 0:F.default,F==null?void 0:F[xt],(n=d==null?void 0:d.classNames)==null?void 0:n[xt]),"data-sonner-toast":"","data-rich-colors":(r=d.richColors)!=null?r:T,"data-styled":!(d.jsx||d.unstyled||S),"data-mounted":St,"data-promise":!!d.promise,"data-swiped":ds,"data-removed":Qn,"data-visible":oc,"data-y-position":_d,"data-x-position":Jo,"data-index":w,"data-front":Zo,"data-swiping":tn,"data-dismissible":Kt,"data-type":xt,"data-invert":ys,"data-swipe-out":pn,"data-swipe-direction":Dt,"data-expanded":!!(V||H&&St),style:{"--index":w,"--toasts-before":w,"--z-index":I.length-w,"--offset":`${Qn?Wo:Er.current}px`,"--initial-height":H?"auto":`${br}px`,...x,...d.style},onDragEnd:()=>{$n(!1),gt(null),oi.current=null},onPointerDown:nt=>{vs||!Kt||(ac.current=new Date,ps(Er.current),nt.target.setPointerCapture(nt.pointerId),nt.target.tagName!=="BUTTON"&&($n(!0),oi.current={x:nt.clientX,y:nt.clientY}))},onPointerUp:()=>{var nt,_t,Mt,ve;if(pn||!Kt)return;oi.current=null;let qe=Number(((nt=Nn.current)==null?void 0:nt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ht=Number(((_t=Nn.current)==null?void 0:_t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Yn=new Date().getTime()-((Mt=ac.current)==null?void 0:Mt.getTime()),_e=J==="x"?qe:Ht,He=Math.abs(_e)/Yn;if(Math.abs(_e)>=MN||He>.11){ps(Er.current),(ve=d.onDismiss)==null||ve.call(d,d),Gn(J==="x"?qe>0?"right":"left":Ht>0?"down":"up"),gn(),ii(!0),ms(!1);return}$n(!1),gt(null)},onPointerMove:nt=>{var _t,Mt,ve,qe;if(!oi.current||!Kt||((_t=window.getSelection())==null?void 0:_t.toString().length)>0)return;let Ht=nt.clientY-oi.current.y,Yn=nt.clientX-oi.current.x,_e=(Mt=e.swipeDirections)!=null?Mt:VN(wt);!J&&(Math.abs(Yn)>1||Math.abs(Ht)>1)&&gt(Math.abs(Yn)>Math.abs(Ht)?"x":"y");let He={x:0,y:0};J==="y"?(_e.includes("top")||_e.includes("bottom"))&&(_e.includes("top")&&Ht<0||_e.includes("bottom")&&Ht>0)&&(He.y=Ht):J==="x"&&(_e.includes("left")||_e.includes("right"))&&(_e.includes("left")&&Yn<0||_e.includes("right")&&Yn>0)&&(He.x=Yn),(Math.abs(He.x)>0||Math.abs(He.y)>0)&&ms(!0),(ve=Nn.current)==null||ve.style.setProperty("--swipe-amount-x",`${He.x}px`),(qe=Nn.current)==null||qe.style.setProperty("--swipe-amount-y",`${He.y}px`)}},vd&&!d.jsx?Q.createElement("button",{"aria-label":Ut,"data-disabled":vs,"data-close-button":!0,onClick:vs||!Kt?()=>{}:()=>{var nt;gn(),(nt=d.onDismiss)==null||nt.call(d,d)},className:Dn(F==null?void 0:F.closeButton,(i=d==null?void 0:d.classNames)==null?void 0:i.closeButton)},(s=W==null?void 0:W.close)!=null?s:_N):null,d.jsx||D.isValidElement(d.title)?d.jsx?d.jsx:typeof d.title=="function"?d.title():d.title:Q.createElement(Q.Fragment,null,xt||d.icon||d.promise?Q.createElement("div",{"data-icon":"",className:Dn(F==null?void 0:F.icon,(a=d==null?void 0:d.classNames)==null?void 0:a.icon)},d.promise||d.type==="loading"&&!d.icon?d.icon||wr():null,d.type!=="loading"?d.icon||(W==null?void 0:W[xt])||fN(xt):null):null,Q.createElement("div",{"data-content":"",className:Dn(F==null?void 0:F.content,(o=d==null?void 0:d.classNames)==null?void 0:o.content)},Q.createElement("div",{"data-title":"",className:Dn(F==null?void 0:F.title,(u=d==null?void 0:d.classNames)==null?void 0:u.title)},typeof d.title=="function"?d.title():d.title),d.description?Q.createElement("div",{"data-description":"",className:Dn(C,lc,F==null?void 0:F.description,(c=d==null?void 0:d.classNames)==null?void 0:c.description)},typeof d.description=="function"?d.description():d.description):null),D.isValidElement(d.cancel)?d.cancel:d.cancel&&zc(d.cancel)?Q.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||R,onClick:nt=>{var _t,Mt;zc(d.cancel)&&Kt&&((Mt=(_t=d.cancel).onClick)==null||Mt.call(_t,nt),gn())},className:Dn(F==null?void 0:F.cancelButton,(h=d==null?void 0:d.classNames)==null?void 0:h.cancelButton)},d.cancel.label):null,D.isValidElement(d.action)?d.action:d.action&&zc(d.action)?Q.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||N,onClick:nt=>{var _t,Mt;zc(d.action)&&((Mt=(_t=d.action).onClick)==null||Mt.call(_t,nt),!nt.defaultPrevented&&gn())},className:Dn(F==null?void 0:F.actionButton,(m=d==null?void 0:d.classNames)==null?void 0:m.actionButton)},d.action.label):null))};function O0(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function LN(e,t){let n={};return[e,t].forEach((r,i)=>{let s=i===1,a=s?"--mobile-offset":"--offset",o=s?NN:IN;function u(c){["top","right","bottom","left"].forEach(h=>{n[`${a}-${h}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?u(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${a}-${c}`]=o:n[`${a}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):u(o)}),n}var UN=D.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:a,className:o,offset:u,mobileOffset:c,theme:h="light",richColors:m,duration:p,style:d,visibleToasts:S=CN,toastOptions:E,dir:A=O0(),gap:y=DN,loadingIcon:v,icons:w,containerAriaLabel:I="Notifications",pauseWhenPageIsHidden:V}=e,[L,T]=Q.useState([]),_=Q.useMemo(()=>Array.from(new Set([r].concat(L.filter(at=>at.position).map(at=>at.position)))),[L,r]),[x,R]=Q.useState([]),[N,O]=Q.useState(!1),[C,rt]=Q.useState(!1),[wt,q]=Q.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=Q.useRef(null),H=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=Q.useRef(null),W=Q.useRef(!1),Ut=Q.useCallback(at=>{T(J=>{var gt;return(gt=J.find(Dt=>Dt.id===at.id))!=null&&gt.delete||$e.dismiss(at.id),J.filter(({id:Dt})=>Dt!==at.id)})},[]);return Q.useEffect(()=>$e.subscribe(at=>{if(at.dismiss){T(J=>J.map(gt=>gt.id===at.id?{...gt,delete:!0}:gt));return}setTimeout(()=>{MC.flushSync(()=>{T(J=>{let gt=J.findIndex(Dt=>Dt.id===at.id);return gt!==-1?[...J.slice(0,gt),{...J[gt],...at},...J.slice(gt+1)]:[at,...J]})})})}),[]),Q.useEffect(()=>{if(h!=="system"){q(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window>"u")return;let at=window.matchMedia("(prefers-color-scheme: dark)");try{at.addEventListener("change",({matches:J})=>{q(J?"dark":"light")})}catch{at.addListener(({matches:gt})=>{try{q(gt?"dark":"light")}catch(Dt){console.error(Dt)}})}},[h]),Q.useEffect(()=>{L.length<=1&&O(!1)},[L]),Q.useEffect(()=>{let at=J=>{var gt,Dt;i.every(Gn=>J[Gn]||J.code===Gn)&&(O(!0),(gt=$.current)==null||gt.focus()),J.code==="Escape"&&(document.activeElement===$.current||(Dt=$.current)!=null&&Dt.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",at),()=>document.removeEventListener("keydown",at)},[i]),Q.useEffect(()=>{if($.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,W.current=!1)}},[$.current]),Q.createElement("section",{ref:t,"aria-label":`${I} ${H}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},_.map((at,J)=>{var gt;let[Dt,Gn]=at.split("-");return L.length?Q.createElement("ol",{key:at,dir:A==="auto"?O0():A,tabIndex:-1,ref:$,className:o,"data-sonner-toaster":!0,"data-theme":wt,"data-y-position":Dt,"data-lifted":N&&L.length>1&&!s,"data-x-position":Gn,style:{"--front-toast-height":`${((gt=x[0])==null?void 0:gt.height)||0}px`,"--width":`${ON}px`,"--gap":`${y}px`,...d,...LN(u,c)},onBlur:St=>{W.current&&!St.currentTarget.contains(St.relatedTarget)&&(W.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:St=>{St.target instanceof HTMLElement&&St.target.dataset.dismissible==="false"||W.current||(W.current=!0,F.current=St.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{C||O(!1)},onDragEnd:()=>O(!1),onPointerDown:St=>{St.target instanceof HTMLElement&&St.target.dataset.dismissible==="false"||rt(!0)},onPointerUp:()=>rt(!1)},L.filter(St=>!St.position&&J===0||St.position===at).map((St,ri)=>{var Qn,mn;return Q.createElement(kN,{key:St.id,icons:w,index:ri,toast:St,defaultRichColors:m,duration:(Qn=E==null?void 0:E.duration)!=null?Qn:p,className:E==null?void 0:E.className,descriptionClassName:E==null?void 0:E.descriptionClassName,invert:n,visibleToasts:S,closeButton:(mn=E==null?void 0:E.closeButton)!=null?mn:a,interacting:C,position:at,style:E==null?void 0:E.style,unstyled:E==null?void 0:E.unstyled,classNames:E==null?void 0:E.classNames,cancelButtonStyle:E==null?void 0:E.cancelButtonStyle,actionButtonStyle:E==null?void 0:E.actionButtonStyle,removeToast:Ut,toasts:L.filter(tn=>tn.position==St.position),heights:x.filter(tn=>tn.position==St.position),setHeights:R,expandByDefault:s,gap:y,loadingIcon:v,expanded:N,pauseWhenPageIsHidden:V,swipeDirections:e.swipeDirections})})):null}))});const zN=({...e})=>{const{theme:t="system"}=hN();return M.jsx(UN,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};function tr(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function D0(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function K1(...e){return t=>{let n=!1;const r=e.map(i=>{const s=D0(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():D0(e[i],null)}}}}function ei(...e){return D.useCallback(K1(...e),e)}function hy(e,t=[]){let n=[];function r(s,a){const o=D.createContext(a),u=n.length;n=[...n,a];const c=m=>{var y;const{scope:p,children:d,...S}=m,E=((y=p==null?void 0:p[e])==null?void 0:y[u])||o,A=D.useMemo(()=>S,Object.values(S));return M.jsx(E.Provider,{value:A,children:d})};c.displayName=s+"Provider";function h(m,p){var E;const d=((E=p==null?void 0:p[e])==null?void 0:E[u])||o,S=D.useContext(d);if(S)return S;if(a!==void 0)return a;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[c,h]}const i=()=>{const s=n.map(a=>D.createContext(a));return function(o){const u=(o==null?void 0:o[e])||s;return D.useMemo(()=>({[`__scope${e}`]:{...o,[e]:u}}),[o,u])}};return i.scopeName=e,[r,jN(i,...t)]}function jN(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:u,scopeName:c})=>{const m=u(s)[`__scope${c}`];return{...o,...m}},{});return D.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function X1(e){const t=qN(e),n=D.forwardRef((r,i)=>{const{children:s,...a}=r,o=D.Children.toArray(s),u=o.find(FN);if(u){const c=u.props.children,h=o.map(m=>m===u?D.Children.count(c)>1?D.Children.only(null):D.isValidElement(c)?c.props.children:null:m);return M.jsx(t,{...a,ref:i,children:D.isValidElement(c)?D.cloneElement(c,void 0,h):null})}return M.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}var BN=X1("Slot");function qN(e){const t=D.forwardRef((n,r)=>{const{children:i,...s}=n;if(D.isValidElement(i)){const a=QN(i),o=GN(s,i.props);return i.type!==D.Fragment&&(o.ref=r?K1(r,a):a),D.cloneElement(i,o)}return D.Children.count(i)>1?D.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var W1=Symbol("radix.slottable");function HN(e){const t=({children:n})=>M.jsx(M.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=W1,t}function FN(e){return D.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===W1}function GN(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{const u=s(...o);return i(...o),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function QN(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var $N=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Fn=$N.reduce((e,t)=>{const n=X1(`Primitive.${t}`),r=D.forwardRef((i,s)=>{const{asChild:a,...o}=i,u=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),M.jsx(u,{...o,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function YN(e,t){e&&Rf.flushSync(()=>e.dispatchEvent(t))}function qf(e){const t=D.useRef(e);return D.useEffect(()=>{t.current=e}),D.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function KN(e,t=globalThis==null?void 0:globalThis.document){const n=qf(e);D.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var XN="DismissableLayer",Cp="dismissableLayer.update",WN="dismissableLayer.pointerDownOutside",ZN="dismissableLayer.focusOutside",M0,Z1=D.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),J1=D.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...u}=e,c=D.useContext(Z1),[h,m]=D.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,d]=D.useState({}),S=ei(t,T=>m(T)),E=Array.from(c.layers),[A]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=E.indexOf(A),v=h?E.indexOf(h):-1,w=c.layersWithOutsidePointerEventsDisabled.size>0,I=v>=y,V=eO(T=>{const _=T.target,x=[...c.branches].some(R=>R.contains(_));!I||x||(i==null||i(T),a==null||a(T),T.defaultPrevented||o==null||o())},p),L=nO(T=>{const _=T.target;[...c.branches].some(R=>R.contains(_))||(s==null||s(T),a==null||a(T),T.defaultPrevented||o==null||o())},p);return KN(T=>{v===c.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&o&&(T.preventDefault(),o()))},p),D.useEffect(()=>{if(h)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(M0=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(h)),c.layers.add(h),P0(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=M0)}},[h,p,n,c]),D.useEffect(()=>()=>{h&&(c.layers.delete(h),c.layersWithOutsidePointerEventsDisabled.delete(h),P0())},[h,c]),D.useEffect(()=>{const T=()=>d({});return document.addEventListener(Cp,T),()=>document.removeEventListener(Cp,T)},[]),M.jsx(Fn.div,{...u,ref:S,style:{pointerEvents:w?I?"auto":"none":void 0,...e.style},onFocusCapture:tr(e.onFocusCapture,L.onFocusCapture),onBlurCapture:tr(e.onBlurCapture,L.onBlurCapture),onPointerDownCapture:tr(e.onPointerDownCapture,V.onPointerDownCapture)})});J1.displayName=XN;var JN="DismissableLayerBranch",tO=D.forwardRef((e,t)=>{const n=D.useContext(Z1),r=D.useRef(null),i=ei(t,r);return D.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),M.jsx(Fn.div,{...e,ref:i})});tO.displayName=JN;function eO(e,t=globalThis==null?void 0:globalThis.document){const n=qf(e),r=D.useRef(!1),i=D.useRef(()=>{});return D.useEffect(()=>{const s=o=>{if(o.target&&!r.current){let u=function(){tA(WN,n,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=u,t.addEventListener("click",i.current,{once:!0})):u()}else t.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function nO(e,t=globalThis==null?void 0:globalThis.document){const n=qf(e),r=D.useRef(!1);return D.useEffect(()=>{const i=s=>{s.target&&!r.current&&tA(ZN,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function P0(){const e=new CustomEvent(Cp);document.dispatchEvent(e)}function tA(e,t,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?YN(i,s):i.dispatchEvent(s)}var To=globalThis!=null&&globalThis.document?D.useLayoutEffect:()=>{};const rO=["top","right","bottom","left"],es=Math.min,an=Math.max,Xh=Math.round,jc=Math.floor,or=e=>({x:e,y:e}),iO={left:"right",right:"left",bottom:"top",top:"bottom"},sO={start:"end",end:"start"};function Ip(e,t,n){return an(e,es(t,n))}function Qr(e,t){return typeof e=="function"?e(t):e}function $r(e){return e.split("-")[0]}function jo(e){return e.split("-")[1]}function fy(e){return e==="x"?"y":"x"}function dy(e){return e==="y"?"height":"width"}const aO=new Set(["top","bottom"]);function rr(e){return aO.has($r(e))?"y":"x"}function my(e){return fy(rr(e))}function oO(e,t,n){n===void 0&&(n=!1);const r=jo(e),i=my(e),s=dy(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=Wh(a)),[a,Wh(a)]}function lO(e){const t=Wh(e);return[Np(e),t,Np(t)]}function Np(e){return e.replace(/start|end/g,t=>sO[t])}const V0=["left","right"],k0=["right","left"],uO=["top","bottom"],cO=["bottom","top"];function hO(e,t,n){switch(e){case"top":case"bottom":return n?t?k0:V0:t?V0:k0;case"left":case"right":return t?uO:cO;default:return[]}}function fO(e,t,n,r){const i=jo(e);let s=hO($r(e),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),t&&(s=s.concat(s.map(Np)))),s}function Wh(e){return e.replace(/left|right|bottom|top/g,t=>iO[t])}function dO(e){return{top:0,right:0,bottom:0,left:0,...e}}function eA(e){return typeof e!="number"?dO(e):{top:e,right:e,bottom:e,left:e}}function Zh(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function L0(e,t,n){let{reference:r,floating:i}=e;const s=rr(t),a=my(t),o=dy(a),u=$r(t),c=s==="y",h=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,p=r[o]/2-i[o]/2;let d;switch(u){case"top":d={x:h,y:r.y-i.height};break;case"bottom":d={x:h,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:m};break;case"left":d={x:r.x-i.width,y:m};break;default:d={x:r.x,y:r.y}}switch(jo(t)){case"start":d[a]-=p*(n&&c?-1:1);break;case"end":d[a]+=p*(n&&c?-1:1);break}return d}const mO=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,o=s.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:h,y:m}=L0(c,r,u),p=r,d={},S=0;for(let E=0;E<o.length;E++){const{name:A,fn:y}=o[E],{x:v,y:w,data:I,reset:V}=await y({x:h,y:m,initialPlacement:r,placement:p,strategy:i,middlewareData:d,rects:c,platform:a,elements:{reference:e,floating:t}});h=v??h,m=w??m,d={...d,[A]:{...d[A],...I}},V&&S<=50&&(S++,typeof V=="object"&&(V.placement&&(p=V.placement),V.rects&&(c=V.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):V.rects),{x:h,y:m}=L0(c,p,u)),E=-1)}return{x:h,y:m,placement:p,strategy:i,middlewareData:d}};async function cu(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:u}=e,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:p=!1,padding:d=0}=Qr(t,e),S=eA(d),A=o[p?m==="floating"?"reference":"floating":m],y=Zh(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(A)))==null||n?A:A.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:h,strategy:u})),v=m==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),I=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},V=Zh(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:v,offsetParent:w,strategy:u}):v);return{top:(y.top-V.top+S.top)/I.y,bottom:(V.bottom-y.bottom+S.bottom)/I.y,left:(y.left-V.left+S.left)/I.x,right:(V.right-y.right+S.right)/I.x}}const pO=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:a,elements:o,middlewareData:u}=t,{element:c,padding:h=0}=Qr(e,t)||{};if(c==null)return{};const m=eA(h),p={x:n,y:r},d=my(i),S=dy(d),E=await a.getDimensions(c),A=d==="y",y=A?"top":"left",v=A?"bottom":"right",w=A?"clientHeight":"clientWidth",I=s.reference[S]+s.reference[d]-p[d]-s.floating[S],V=p[d]-s.reference[d],L=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let T=L?L[w]:0;(!T||!await(a.isElement==null?void 0:a.isElement(L)))&&(T=o.floating[w]||s.floating[S]);const _=I/2-V/2,x=T/2-E[S]/2-1,R=es(m[y],x),N=es(m[v],x),O=R,C=T-E[S]-N,rt=T/2-E[S]/2+_,wt=Ip(O,rt,C),q=!u.arrow&&jo(i)!=null&&rt!==wt&&s.reference[S]/2-(rt<O?R:N)-E[S]/2<0,$=q?rt<O?rt-O:rt-C:0;return{[d]:p[d]+$,data:{[d]:wt,centerOffset:rt-wt-$,...q&&{alignmentOffset:$}},reset:q}}}),gO=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:u,elements:c}=t,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:p,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:E=!0,...A}=Qr(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=$r(i),v=rr(o),w=$r(o)===o,I=await(u.isRTL==null?void 0:u.isRTL(c.floating)),V=p||(w||!E?[Wh(o)]:lO(o)),L=S!=="none";!p&&L&&V.push(...fO(o,E,S,I));const T=[o,...V],_=await cu(t,A),x=[];let R=((r=s.flip)==null?void 0:r.overflows)||[];if(h&&x.push(_[y]),m){const rt=oO(i,a,I);x.push(_[rt[0]],_[rt[1]])}if(R=[...R,{placement:i,overflows:x}],!x.every(rt=>rt<=0)){var N,O;const rt=(((N=s.flip)==null?void 0:N.index)||0)+1,wt=T[rt];if(wt&&(!(m==="alignment"?v!==rr(wt):!1)||R.every(H=>H.overflows[0]>0&&rr(H.placement)===v)))return{data:{index:rt,overflows:R},reset:{placement:wt}};let q=(O=R.filter($=>$.overflows[0]<=0).sort(($,H)=>$.overflows[1]-H.overflows[1])[0])==null?void 0:O.placement;if(!q)switch(d){case"bestFit":{var C;const $=(C=R.filter(H=>{if(L){const F=rr(H.placement);return F===v||F==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(F=>F>0).reduce((F,W)=>F+W,0)]).sort((H,F)=>H[1]-F[1])[0])==null?void 0:C[0];$&&(q=$);break}case"initialPlacement":q=o;break}if(i!==q)return{reset:{placement:q}}}return{}}}};function U0(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function z0(e){return rO.some(t=>e[t]>=0)}const yO=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Qr(e,t);switch(r){case"referenceHidden":{const s=await cu(t,{...i,elementContext:"reference"}),a=U0(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:z0(a)}}}case"escaped":{const s=await cu(t,{...i,altBoundary:!0}),a=U0(s,n.floating);return{data:{escapedOffsets:a,escaped:z0(a)}}}default:return{}}}}},nA=new Set(["left","top"]);async function vO(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=$r(n),o=jo(n),u=rr(n)==="y",c=nA.has(a)?-1:1,h=s&&u?-1:1,m=Qr(t,e);let{mainAxis:p,crossAxis:d,alignmentAxis:S}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return o&&typeof S=="number"&&(d=o==="end"?S*-1:S),u?{x:d*h,y:p*c}:{x:p*c,y:d*h}}const _O=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:a,middlewareData:o}=t,u=await vO(t,e);return a===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:a}}}}},bO=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:A=>{let{x:y,y:v}=A;return{x:y,y:v}}},...u}=Qr(e,t),c={x:n,y:r},h=await cu(t,u),m=rr($r(i)),p=fy(m);let d=c[p],S=c[m];if(s){const A=p==="y"?"top":"left",y=p==="y"?"bottom":"right",v=d+h[A],w=d-h[y];d=Ip(v,d,w)}if(a){const A=m==="y"?"top":"left",y=m==="y"?"bottom":"right",v=S+h[A],w=S-h[y];S=Ip(v,S,w)}const E=o.fn({...t,[p]:d,[m]:S});return{...E,data:{x:E.x-n,y:E.y-r,enabled:{[p]:s,[m]:a}}}}}},EO=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=t,{offset:o=0,mainAxis:u=!0,crossAxis:c=!0}=Qr(e,t),h={x:n,y:r},m=rr(i),p=fy(m);let d=h[p],S=h[m];const E=Qr(o,t),A=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(u){const w=p==="y"?"height":"width",I=s.reference[p]-s.floating[w]+A.mainAxis,V=s.reference[p]+s.reference[w]-A.mainAxis;d<I?d=I:d>V&&(d=V)}if(c){var y,v;const w=p==="y"?"width":"height",I=nA.has($r(i)),V=s.reference[m]-s.floating[w]+(I&&((y=a.offset)==null?void 0:y[m])||0)+(I?0:A.crossAxis),L=s.reference[m]+s.reference[w]+(I?0:((v=a.offset)==null?void 0:v[m])||0)-(I?A.crossAxis:0);S<V?S=V:S>L&&(S=L)}return{[p]:d,[m]:S}}}},wO=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:s,platform:a,elements:o}=t,{apply:u=()=>{},...c}=Qr(e,t),h=await cu(t,c),m=$r(i),p=jo(i),d=rr(i)==="y",{width:S,height:E}=s.floating;let A,y;m==="top"||m==="bottom"?(A=m,y=p===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(y=m,A=p==="end"?"top":"bottom");const v=E-h.top-h.bottom,w=S-h.left-h.right,I=es(E-h[A],v),V=es(S-h[y],w),L=!t.middlewareData.shift;let T=I,_=V;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(_=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(T=v),L&&!p){const R=an(h.left,0),N=an(h.right,0),O=an(h.top,0),C=an(h.bottom,0);d?_=S-2*(R!==0||N!==0?R+N:an(h.left,h.right)):T=E-2*(O!==0||C!==0?O+C:an(h.top,h.bottom))}await u({...t,availableWidth:_,availableHeight:T});const x=await a.getDimensions(o.floating);return S!==x.width||E!==x.height?{reset:{rects:!0}}:{}}}};function Hf(){return typeof window<"u"}function Bo(e){return rA(e)?(e.nodeName||"").toLowerCase():"#document"}function fn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function _r(e){var t;return(t=(rA(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function rA(e){return Hf()?e instanceof Node||e instanceof fn(e).Node:!1}function jn(e){return Hf()?e instanceof Element||e instanceof fn(e).Element:!1}function pr(e){return Hf()?e instanceof HTMLElement||e instanceof fn(e).HTMLElement:!1}function j0(e){return!Hf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof fn(e).ShadowRoot}const TO=new Set(["inline","contents"]);function Hu(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Bn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!TO.has(i)}const AO=new Set(["table","td","th"]);function SO(e){return AO.has(Bo(e))}const RO=[":popover-open",":modal"];function Ff(e){return RO.some(t=>{try{return e.matches(t)}catch{return!1}})}const xO=["transform","translate","scale","rotate","perspective"],CO=["transform","translate","scale","rotate","perspective","filter"],IO=["paint","layout","strict","content"];function py(e){const t=gy(),n=jn(e)?Bn(e):e;return xO.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||CO.some(r=>(n.willChange||"").includes(r))||IO.some(r=>(n.contain||"").includes(r))}function NO(e){let t=ns(e);for(;pr(t)&&!Ao(t);){if(py(t))return t;if(Ff(t))return null;t=ns(t)}return null}function gy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const OO=new Set(["html","body","#document"]);function Ao(e){return OO.has(Bo(e))}function Bn(e){return fn(e).getComputedStyle(e)}function Gf(e){return jn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ns(e){if(Bo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||j0(e)&&e.host||_r(e);return j0(t)?t.host:t}function iA(e){const t=ns(e);return Ao(t)?e.ownerDocument?e.ownerDocument.body:e.body:pr(t)&&Hu(t)?t:iA(t)}function hu(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=iA(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),a=fn(i);if(s){const o=Op(a);return t.concat(a,a.visualViewport||[],Hu(i)?i:[],o&&n?hu(o):[])}return t.concat(i,hu(i,[],n))}function Op(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function sA(e){const t=Bn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=pr(e),s=i?e.offsetWidth:n,a=i?e.offsetHeight:r,o=Xh(n)!==s||Xh(r)!==a;return o&&(n=s,r=a),{width:n,height:r,$:o}}function yy(e){return jn(e)?e:e.contextElement}function Ya(e){const t=yy(e);if(!pr(t))return or(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=sA(t);let a=(s?Xh(n.width):n.width)/r,o=(s?Xh(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const DO=or(0);function aA(e){const t=fn(e);return!gy()||!t.visualViewport?DO:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function MO(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==fn(e)?!1:t}function Ys(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=yy(e);let a=or(1);t&&(r?jn(r)&&(a=Ya(r)):a=Ya(e));const o=MO(s,n,r)?aA(s):or(0);let u=(i.left+o.x)/a.x,c=(i.top+o.y)/a.y,h=i.width/a.x,m=i.height/a.y;if(s){const p=fn(s),d=r&&jn(r)?fn(r):r;let S=p,E=Op(S);for(;E&&r&&d!==S;){const A=Ya(E),y=E.getBoundingClientRect(),v=Bn(E),w=y.left+(E.clientLeft+parseFloat(v.paddingLeft))*A.x,I=y.top+(E.clientTop+parseFloat(v.paddingTop))*A.y;u*=A.x,c*=A.y,h*=A.x,m*=A.y,u+=w,c+=I,S=fn(E),E=Op(S)}}return Zh({width:h,height:m,x:u,y:c})}function vy(e,t){const n=Gf(e).scrollLeft;return t?t.left+n:Ys(_r(e)).left+n}function oA(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:vy(e,r)),s=r.top+t.scrollTop;return{x:i,y:s}}function PO(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",a=_r(r),o=t?Ff(t.floating):!1;if(r===a||o&&s)return n;let u={scrollLeft:0,scrollTop:0},c=or(1);const h=or(0),m=pr(r);if((m||!m&&!s)&&((Bo(r)!=="body"||Hu(a))&&(u=Gf(r)),pr(r))){const d=Ys(r);c=Ya(r),h.x=d.x+r.clientLeft,h.y=d.y+r.clientTop}const p=a&&!m&&!s?oA(a,u,!0):or(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-u.scrollLeft*c.x+h.x+p.x,y:n.y*c.y-u.scrollTop*c.y+h.y+p.y}}function VO(e){return Array.from(e.getClientRects())}function kO(e){const t=_r(e),n=Gf(e),r=e.ownerDocument.body,i=an(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=an(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+vy(e);const o=-n.scrollTop;return Bn(r).direction==="rtl"&&(a+=an(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}function LO(e,t){const n=fn(e),r=_r(e),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,u=0;if(i){s=i.width,a=i.height;const c=gy();(!c||c&&t==="fixed")&&(o=i.offsetLeft,u=i.offsetTop)}return{width:s,height:a,x:o,y:u}}const UO=new Set(["absolute","fixed"]);function zO(e,t){const n=Ys(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=pr(e)?Ya(e):or(1),a=e.clientWidth*s.x,o=e.clientHeight*s.y,u=i*s.x,c=r*s.y;return{width:a,height:o,x:u,y:c}}function B0(e,t,n){let r;if(t==="viewport")r=LO(e,n);else if(t==="document")r=kO(_r(e));else if(jn(t))r=zO(t,n);else{const i=aA(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Zh(r)}function lA(e,t){const n=ns(e);return n===t||!jn(n)||Ao(n)?!1:Bn(n).position==="fixed"||lA(n,t)}function jO(e,t){const n=t.get(e);if(n)return n;let r=hu(e,[],!1).filter(o=>jn(o)&&Bo(o)!=="body"),i=null;const s=Bn(e).position==="fixed";let a=s?ns(e):e;for(;jn(a)&&!Ao(a);){const o=Bn(a),u=py(a);!u&&o.position==="fixed"&&(i=null),(s?!u&&!i:!u&&o.position==="static"&&!!i&&UO.has(i.position)||Hu(a)&&!u&&lA(e,a))?r=r.filter(h=>h!==a):i=o,a=ns(a)}return t.set(e,r),r}function BO(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[...n==="clippingAncestors"?Ff(t)?[]:jO(t,this._c):[].concat(n),r],o=a[0],u=a.reduce((c,h)=>{const m=B0(t,h,i);return c.top=an(m.top,c.top),c.right=es(m.right,c.right),c.bottom=es(m.bottom,c.bottom),c.left=an(m.left,c.left),c},B0(t,o,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function qO(e){const{width:t,height:n}=sA(e);return{width:t,height:n}}function HO(e,t,n){const r=pr(t),i=_r(t),s=n==="fixed",a=Ys(e,!0,s,t);let o={scrollLeft:0,scrollTop:0};const u=or(0);function c(){u.x=vy(i)}if(r||!r&&!s)if((Bo(t)!=="body"||Hu(i))&&(o=Gf(t)),r){const d=Ys(t,!0,s,t);u.x=d.x+t.clientLeft,u.y=d.y+t.clientTop}else i&&c();s&&!r&&i&&c();const h=i&&!r&&!s?oA(i,o):or(0),m=a.left+o.scrollLeft-u.x-h.x,p=a.top+o.scrollTop-u.y-h.y;return{x:m,y:p,width:a.width,height:a.height}}function mm(e){return Bn(e).position==="static"}function q0(e,t){if(!pr(e)||Bn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return _r(e)===n&&(n=n.ownerDocument.body),n}function uA(e,t){const n=fn(e);if(Ff(e))return n;if(!pr(e)){let i=ns(e);for(;i&&!Ao(i);){if(jn(i)&&!mm(i))return i;i=ns(i)}return n}let r=q0(e,t);for(;r&&SO(r)&&mm(r);)r=q0(r,t);return r&&Ao(r)&&mm(r)&&!py(r)?n:r||NO(e)||n}const FO=async function(e){const t=this.getOffsetParent||uA,n=this.getDimensions,r=await n(e.floating);return{reference:HO(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function GO(e){return Bn(e).direction==="rtl"}const QO={convertOffsetParentRelativeRectToViewportRelativeRect:PO,getDocumentElement:_r,getClippingRect:BO,getOffsetParent:uA,getElementRects:FO,getClientRects:VO,getDimensions:qO,getScale:Ya,isElement:jn,isRTL:GO};function cA(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function $O(e,t){let n=null,r;const i=_r(e);function s(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function a(o,u){o===void 0&&(o=!1),u===void 0&&(u=1),s();const c=e.getBoundingClientRect(),{left:h,top:m,width:p,height:d}=c;if(o||t(),!p||!d)return;const S=jc(m),E=jc(i.clientWidth-(h+p)),A=jc(i.clientHeight-(m+d)),y=jc(h),w={rootMargin:-S+"px "+-E+"px "+-A+"px "+-y+"px",threshold:an(0,es(1,u))||1};let I=!0;function V(L){const T=L[0].intersectionRatio;if(T!==u){if(!I)return a();T?a(!1,T):r=setTimeout(()=>{a(!1,1e-7)},1e3)}T===1&&!cA(c,e.getBoundingClientRect())&&a(),I=!1}try{n=new IntersectionObserver(V,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(V,w)}n.observe(e)}return a(!0),s}function YO(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,c=yy(e),h=i||s?[...c?hu(c):[],...hu(t)]:[];h.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const m=c&&o?$O(c,n):null;let p=-1,d=null;a&&(d=new ResizeObserver(y=>{let[v]=y;v&&v.target===c&&d&&(d.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=d)==null||w.observe(t)})),n()}),c&&!u&&d.observe(c),d.observe(t));let S,E=u?Ys(e):null;u&&A();function A(){const y=Ys(e);E&&!cA(E,y)&&n(),E=y,S=requestAnimationFrame(A)}return n(),()=>{var y;h.forEach(v=>{i&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),m==null||m(),(y=d)==null||y.disconnect(),d=null,u&&cancelAnimationFrame(S)}}const KO=_O,XO=bO,WO=gO,ZO=wO,JO=yO,H0=pO,tD=EO,eD=(e,t,n)=>{const r=new Map,i={platform:QO,...n},s={...i.platform,_c:r};return mO(e,t,{...i,platform:s})};var nD=typeof document<"u",rD=function(){},lh=nD?D.useLayoutEffect:rD;function Jh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Jh(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!Jh(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function hA(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function F0(e,t){const n=hA(e);return Math.round(t*n)/n}function pm(e){const t=D.useRef(e);return lh(()=>{t.current=e}),t}function iD(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:u,open:c}=e,[h,m]=D.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,d]=D.useState(r);Jh(p,r)||d(r);const[S,E]=D.useState(null),[A,y]=D.useState(null),v=D.useCallback(H=>{H!==L.current&&(L.current=H,E(H))},[]),w=D.useCallback(H=>{H!==T.current&&(T.current=H,y(H))},[]),I=s||S,V=a||A,L=D.useRef(null),T=D.useRef(null),_=D.useRef(h),x=u!=null,R=pm(u),N=pm(i),O=pm(c),C=D.useCallback(()=>{if(!L.current||!T.current)return;const H={placement:t,strategy:n,middleware:p};N.current&&(H.platform=N.current),eD(L.current,T.current,H).then(F=>{const W={...F,isPositioned:O.current!==!1};rt.current&&!Jh(_.current,W)&&(_.current=W,Rf.flushSync(()=>{m(W)}))})},[p,t,n,N,O]);lh(()=>{c===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,m(H=>({...H,isPositioned:!1})))},[c]);const rt=D.useRef(!1);lh(()=>(rt.current=!0,()=>{rt.current=!1}),[]),lh(()=>{if(I&&(L.current=I),V&&(T.current=V),I&&V){if(R.current)return R.current(I,V,C);C()}},[I,V,C,R,x]);const wt=D.useMemo(()=>({reference:L,floating:T,setReference:v,setFloating:w}),[v,w]),q=D.useMemo(()=>({reference:I,floating:V}),[I,V]),$=D.useMemo(()=>{const H={position:n,left:0,top:0};if(!q.floating)return H;const F=F0(q.floating,h.x),W=F0(q.floating,h.y);return o?{...H,transform:"translate("+F+"px, "+W+"px)",...hA(q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:W}},[n,o,q.floating,h.x,h.y]);return D.useMemo(()=>({...h,update:C,refs:wt,elements:q,floatingStyles:$}),[h,C,wt,q,$])}const sD=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?H0({element:r.current,padding:i}).fn(n):{}:r?H0({element:r,padding:i}).fn(n):{}}}},aD=(e,t)=>({...KO(e),options:[e,t]}),oD=(e,t)=>({...XO(e),options:[e,t]}),lD=(e,t)=>({...tD(e),options:[e,t]}),uD=(e,t)=>({...WO(e),options:[e,t]}),cD=(e,t)=>({...ZO(e),options:[e,t]}),hD=(e,t)=>({...JO(e),options:[e,t]}),fD=(e,t)=>({...sD(e),options:[e,t]});var dD="Arrow",fA=D.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...s}=e;return M.jsx(Fn.svg,{...s,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:M.jsx("polygon",{points:"0,0 30,0 15,10"})})});fA.displayName=dD;var mD=fA;function dA(e){const[t,n]=D.useState(void 0);return To(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,o;if("borderBoxSize"in s){const u=s.borderBoxSize,c=Array.isArray(u)?u[0]:u;a=c.inlineSize,o=c.blockSize}else a=e.offsetWidth,o=e.offsetHeight;n({width:a,height:o})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var mA="Popper",[pA,gA]=hy(mA),[N9,yA]=pA(mA),vA="PopperAnchor",_A=D.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,s=yA(vA,n),a=D.useRef(null),o=ei(t,a);return D.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:M.jsx(Fn.div,{...i,ref:o})});_A.displayName=vA;var _y="PopperContent",[pD,gD]=pA(_y),bA=D.forwardRef((e,t)=>{var St,ri,Qn,mn,tn,$n;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:u=!0,collisionBoundary:c=[],collisionPadding:h=0,sticky:m="partial",hideWhenDetached:p=!1,updatePositionStrategy:d="optimized",onPlaced:S,...E}=e,A=yA(_y,n),[y,v]=D.useState(null),w=ei(t,pn=>v(pn)),[I,V]=D.useState(null),L=dA(I),T=(L==null?void 0:L.width)??0,_=(L==null?void 0:L.height)??0,x=r+(s!=="center"?"-"+s:""),R=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},N=Array.isArray(c)?c:[c],O=N.length>0,C={padding:R,boundary:N.filter(vD),altBoundary:O},{refs:rt,floatingStyles:wt,placement:q,isPositioned:$,middlewareData:H}=iD({strategy:"fixed",placement:x,whileElementsMounted:(...pn)=>YO(...pn,{animationFrame:d==="always"}),elements:{reference:A.anchor},middleware:[aD({mainAxis:i+_,alignmentAxis:a}),u&&oD({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?lD():void 0,...C}),u&&uD({...C}),cD({...C,apply:({elements:pn,rects:ii,availableWidth:ds,availableHeight:ms})=>{const{width:Wo,height:ps}=ii.reference,br=pn.floating.style;br.setProperty("--radix-popper-available-width",`${ds}px`),br.setProperty("--radix-popper-available-height",`${ms}px`),br.setProperty("--radix-popper-anchor-width",`${Wo}px`),br.setProperty("--radix-popper-anchor-height",`${ps}px`)}}),I&&fD({element:I,padding:o}),_D({arrowWidth:T,arrowHeight:_}),p&&hD({strategy:"referenceHidden",...C})]}),[F,W]=TA(q),Ut=qf(S);To(()=>{$&&(Ut==null||Ut())},[$,Ut]);const at=(St=H.arrow)==null?void 0:St.x,J=(ri=H.arrow)==null?void 0:ri.y,gt=((Qn=H.arrow)==null?void 0:Qn.centerOffset)!==0,[Dt,Gn]=D.useState();return To(()=>{y&&Gn(window.getComputedStyle(y).zIndex)},[y]),M.jsx("div",{ref:rt.setFloating,"data-radix-popper-content-wrapper":"",style:{...wt,transform:$?wt.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Dt,"--radix-popper-transform-origin":[(mn=H.transformOrigin)==null?void 0:mn.x,(tn=H.transformOrigin)==null?void 0:tn.y].join(" "),...(($n=H.hide)==null?void 0:$n.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:M.jsx(pD,{scope:n,placedSide:F,onArrowChange:V,arrowX:at,arrowY:J,shouldHideArrow:gt,children:M.jsx(Fn.div,{"data-side":F,"data-align":W,...E,ref:w,style:{...E.style,animation:$?void 0:"none"}})})})});bA.displayName=_y;var EA="PopperArrow",yD={top:"bottom",right:"left",bottom:"top",left:"right"},wA=D.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,s=gD(EA,r),a=yD[s.placedSide];return M.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:M.jsx(mD,{...i,ref:n,style:{...i.style,display:"block"}})})});wA.displayName=EA;function vD(e){return e!==null}var _D=e=>({name:"transformOrigin",options:e,fn(t){var A,y,v;const{placement:n,rects:r,middlewareData:i}=t,a=((A=i.arrow)==null?void 0:A.centerOffset)!==0,o=a?0:e.arrowWidth,u=a?0:e.arrowHeight,[c,h]=TA(n),m={start:"0%",center:"50%",end:"100%"}[h],p=(((y=i.arrow)==null?void 0:y.x)??0)+o/2,d=(((v=i.arrow)==null?void 0:v.y)??0)+u/2;let S="",E="";return c==="bottom"?(S=a?m:`${p}px`,E=`${-u}px`):c==="top"?(S=a?m:`${p}px`,E=`${r.floating.height+u}px`):c==="right"?(S=`${-u}px`,E=a?m:`${d}px`):c==="left"&&(S=`${r.floating.width+u}px`,E=a?m:`${d}px`),{data:{x:S,y:E}}}});function TA(e){const[t,n="center"]=e.split("-");return[t,n]}var bD=_A,ED=bA,wD=wA;function TD(e,t){return D.useReducer((n,r)=>t[n][r]??n,e)}var AA=e=>{const{present:t,children:n}=e,r=AD(t),i=typeof n=="function"?n({present:r.isPresent}):D.Children.only(n),s=ei(r.ref,SD(i));return typeof n=="function"||r.isPresent?D.cloneElement(i,{ref:s}):null};AA.displayName="Presence";function AD(e){const[t,n]=D.useState(),r=D.useRef(null),i=D.useRef(e),s=D.useRef("none"),a=e?"mounted":"unmounted",[o,u]=TD(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return D.useEffect(()=>{const c=Bc(r.current);s.current=o==="mounted"?c:"none"},[o]),To(()=>{const c=r.current,h=i.current;if(h!==e){const p=s.current,d=Bc(c);e?u("MOUNT"):d==="none"||(c==null?void 0:c.display)==="none"?u("UNMOUNT"):u(h&&p!==d?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,u]),To(()=>{if(t){let c;const h=t.ownerDocument.defaultView??window,m=d=>{const E=Bc(r.current).includes(d.animationName);if(d.target===t&&E&&(u("ANIMATION_END"),!i.current)){const A=t.style.animationFillMode;t.style.animationFillMode="forwards",c=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=A)})}},p=d=>{d.target===t&&(s.current=Bc(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{h.clearTimeout(c),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:D.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Bc(e){return(e==null?void 0:e.animationName)||"none"}function SD(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var RD=cw[" useInsertionEffect ".trim().toString()]||To;function xD({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,s,a]=CD({defaultProp:t,onChange:n}),o=e!==void 0,u=o?e:i;{const h=D.useRef(e!==void 0);D.useEffect(()=>{const m=h.current;m!==o&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=o},[o,r])}const c=D.useCallback(h=>{var m;if(o){const p=ID(h)?h(e):h;p!==e&&((m=a.current)==null||m.call(a,p))}else s(h)},[o,e,s,a]);return[u,c]}function CD({defaultProp:e,onChange:t}){const[n,r]=D.useState(e),i=D.useRef(n),s=D.useRef(t);return RD(()=>{s.current=t},[t]),D.useEffect(()=>{var a;i.current!==n&&((a=s.current)==null||a.call(s,n),i.current=n)},[n,i]),[n,r,s]}function ID(e){return typeof e=="function"}var ND=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),OD="VisuallyHidden",SA=D.forwardRef((e,t)=>M.jsx(Fn.span,{...e,ref:t,style:{...ND,...e.style}}));SA.displayName=OD;var DD=SA,[Qf,O9]=hy("Tooltip",[gA]),by=gA(),RA="TooltipProvider",MD=700,G0="tooltip.open",[PD,xA]=Qf(RA),CA=e=>{const{__scopeTooltip:t,delayDuration:n=MD,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=e,a=D.useRef(!0),o=D.useRef(!1),u=D.useRef(0);return D.useEffect(()=>{const c=u.current;return()=>window.clearTimeout(c)},[]),M.jsx(PD,{scope:t,isOpenDelayedRef:a,delayDuration:n,onOpen:D.useCallback(()=>{window.clearTimeout(u.current),a.current=!1},[]),onClose:D.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:o,onPointerInTransitChange:D.useCallback(c=>{o.current=c},[]),disableHoverableContent:i,children:s})};CA.displayName=RA;var IA="Tooltip",[D9,$f]=Qf(IA),Dp="TooltipTrigger",VD=D.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=$f(Dp,n),s=xA(Dp,n),a=by(n),o=D.useRef(null),u=ei(t,o,i.onTriggerChange),c=D.useRef(!1),h=D.useRef(!1),m=D.useCallback(()=>c.current=!1,[]);return D.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),M.jsx(bD,{asChild:!0,...a,children:M.jsx(Fn.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:u,onPointerMove:tr(e.onPointerMove,p=>{p.pointerType!=="touch"&&!h.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:tr(e.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:tr(e.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:tr(e.onFocus,()=>{c.current||i.onOpen()}),onBlur:tr(e.onBlur,i.onClose),onClick:tr(e.onClick,i.onClose)})})});VD.displayName=Dp;var kD="TooltipPortal",[M9,LD]=Qf(kD,{forceMount:void 0}),So="TooltipContent",NA=D.forwardRef((e,t)=>{const n=LD(So,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=e,a=$f(So,e.__scopeTooltip);return M.jsx(AA,{present:r||a.open,children:a.disableHoverableContent?M.jsx(OA,{side:i,...s,ref:t}):M.jsx(UD,{side:i,...s,ref:t})})}),UD=D.forwardRef((e,t)=>{const n=$f(So,e.__scopeTooltip),r=xA(So,e.__scopeTooltip),i=D.useRef(null),s=ei(t,i),[a,o]=D.useState(null),{trigger:u,onClose:c}=n,h=i.current,{onPointerInTransitChange:m}=r,p=D.useCallback(()=>{o(null),m(!1)},[m]),d=D.useCallback((S,E)=>{const A=S.currentTarget,y={x:S.clientX,y:S.clientY},v=HD(y,A.getBoundingClientRect()),w=FD(y,v),I=GD(E.getBoundingClientRect()),V=$D([...w,...I]);o(V),m(!0)},[m]);return D.useEffect(()=>()=>p(),[p]),D.useEffect(()=>{if(u&&h){const S=A=>d(A,h),E=A=>d(A,u);return u.addEventListener("pointerleave",S),h.addEventListener("pointerleave",E),()=>{u.removeEventListener("pointerleave",S),h.removeEventListener("pointerleave",E)}}},[u,h,d,p]),D.useEffect(()=>{if(a){const S=E=>{const A=E.target,y={x:E.clientX,y:E.clientY},v=(u==null?void 0:u.contains(A))||(h==null?void 0:h.contains(A)),w=!QD(y,a);v?p():w&&(p(),c())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[u,h,a,c,p]),M.jsx(OA,{...e,ref:s})}),[zD,jD]=Qf(IA,{isInside:!1}),BD=HN("TooltipContent"),OA=D.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...o}=e,u=$f(So,n),c=by(n),{onClose:h}=u;return D.useEffect(()=>(document.addEventListener(G0,h),()=>document.removeEventListener(G0,h)),[h]),D.useEffect(()=>{if(u.trigger){const m=p=>{const d=p.target;d!=null&&d.contains(u.trigger)&&h()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[u.trigger,h]),M.jsx(J1,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:m=>m.preventDefault(),onDismiss:h,children:M.jsxs(ED,{"data-state":u.stateAttribute,...c,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[M.jsx(BD,{children:r}),M.jsx(zD,{scope:n,isInside:!0,children:M.jsx(DD,{id:u.contentId,role:"tooltip",children:i||r})})]})})});NA.displayName=So;var DA="TooltipArrow",qD=D.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=by(n);return jD(DA,n).isInside?null:M.jsx(wD,{...i,...r,ref:t})});qD.displayName=DA;function HD(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function FD(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function GD(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function QD(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,a=t.length-1;s<t.length;a=s++){const o=t[s],u=t[a],c=o.x,h=o.y,m=u.x,p=u.y;h>r!=p>r&&n<(m-c)*(r-h)/(p-h)+c&&(i=!i)}return i}function $D(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),YD(t)}function YD(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const s=t[t.length-1],a=t[t.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const s=n[n.length-1],a=n[n.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var KD=CA,MA=NA;function PA(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=PA(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function VA(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=PA(e))&&(r&&(r+=" "),r+=t);return r}const Ey="-",XD=e=>{const t=ZD(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const o=a.split(Ey);return o[0]===""&&o.length!==1&&o.shift(),kA(o,t)||WD(a)},getConflictingClassGroupIds:(a,o)=>{const u=n[a]||[];return o&&r[a]?[...u,...r[a]]:u}}},kA=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?kA(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(Ey);return(a=t.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},Q0=/^\[(.+)\]$/,WD=e=>{if(Q0.test(e)){const t=Q0.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},ZD=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return tM(Object.entries(e.classGroups),n).forEach(([s,a])=>{Mp(a,r,s,t)}),r},Mp=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:$0(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(JD(i)){Mp(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{Mp(a,$0(t,s),n,r)})})},$0=(e,t)=>{let n=e;return t.split(Ey).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},JD=e=>e.isThemeGetter,tM=(e,t)=>t?e.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[t+a,o])):s);return[n,i]}):e,eM=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(s,a)=>{n.set(s,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},LA="!",nM=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],s=t.length,a=o=>{const u=[];let c=0,h=0,m;for(let A=0;A<o.length;A++){let y=o[A];if(c===0){if(y===i&&(r||o.slice(A,A+s)===t)){u.push(o.slice(h,A)),h=A+s;continue}if(y==="/"){m=A;continue}}y==="["?c++:y==="]"&&c--}const p=u.length===0?o:o.substring(h),d=p.startsWith(LA),S=d?p.substring(1):p,E=m&&m>h?m-h:void 0;return{modifiers:u,hasImportantModifier:d,baseClassName:S,maybePostfixModifierPosition:E}};return n?o=>n({className:o,parseClassName:a}):a},rM=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},iM=e=>({cache:eM(e.cacheSize),parseClassName:nM(e),...XD(e)}),sM=/\s+/,aM=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,s=[],a=e.trim().split(sM);let o="";for(let u=a.length-1;u>=0;u-=1){const c=a[u],{modifiers:h,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:d}=n(c);let S=!!d,E=r(S?p.substring(0,d):p);if(!E){if(!S){o=c+(o.length>0?" "+o:o);continue}if(E=r(p),!E){o=c+(o.length>0?" "+o:o);continue}S=!1}const A=rM(h).join(":"),y=m?A+LA:A,v=y+E;if(s.includes(v))continue;s.push(v);const w=i(E,S);for(let I=0;I<w.length;++I){const V=w[I];s.push(y+V)}o=c+(o.length>0?" "+o:o)}return o};function oM(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=UA(t))&&(r&&(r+=" "),r+=n);return r}const UA=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=UA(e[r]))&&(n&&(n+=" "),n+=t);return n};function lM(e,...t){let n,r,i,s=a;function a(u){const c=t.reduce((h,m)=>m(h),e());return n=iM(c),r=n.cache.get,i=n.cache.set,s=o,o(u)}function o(u){const c=r(u);if(c)return c;const h=aM(u,n);return i(u,h),h}return function(){return s(oM.apply(null,arguments))}}const jt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},zA=/^\[(?:([a-z-]+):)?(.+)\]$/i,uM=/^\d+\/\d+$/,cM=new Set(["px","full","screen"]),hM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,fM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,dM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,mM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Cr=e=>Ka(e)||cM.has(e)||uM.test(e),di=e=>qo(e,"length",TM),Ka=e=>!!e&&!Number.isNaN(Number(e)),gm=e=>qo(e,"number",Ka),vl=e=>!!e&&Number.isInteger(Number(e)),gM=e=>e.endsWith("%")&&Ka(e.slice(0,-1)),lt=e=>zA.test(e),mi=e=>hM.test(e),yM=new Set(["length","size","percentage"]),vM=e=>qo(e,yM,jA),_M=e=>qo(e,"position",jA),bM=new Set(["image","url"]),EM=e=>qo(e,bM,SM),wM=e=>qo(e,"",AM),_l=()=>!0,qo=(e,t,n)=>{const r=zA.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},TM=e=>fM.test(e)&&!dM.test(e),jA=()=>!1,AM=e=>mM.test(e),SM=e=>pM.test(e),RM=()=>{const e=jt("colors"),t=jt("spacing"),n=jt("blur"),r=jt("brightness"),i=jt("borderColor"),s=jt("borderRadius"),a=jt("borderSpacing"),o=jt("borderWidth"),u=jt("contrast"),c=jt("grayscale"),h=jt("hueRotate"),m=jt("invert"),p=jt("gap"),d=jt("gradientColorStops"),S=jt("gradientColorStopPositions"),E=jt("inset"),A=jt("margin"),y=jt("opacity"),v=jt("padding"),w=jt("saturate"),I=jt("scale"),V=jt("sepia"),L=jt("skew"),T=jt("space"),_=jt("translate"),x=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",lt,t],O=()=>[lt,t],C=()=>["",Cr,di],rt=()=>["auto",Ka,lt],wt=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],H=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",lt],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Ut=()=>[Ka,lt];return{cacheSize:500,separator:":",theme:{colors:[_l],spacing:[Cr,di],blur:["none","",mi,lt],brightness:Ut(),borderColor:[e],borderRadius:["none","","full",mi,lt],borderSpacing:O(),borderWidth:C(),contrast:Ut(),grayscale:F(),hueRotate:Ut(),invert:F(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[gM,di],inset:N(),margin:N(),opacity:Ut(),padding:O(),saturate:Ut(),scale:Ut(),sepia:F(),skew:Ut(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",lt]}],container:["container"],columns:[{columns:[mi]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...wt(),lt]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:x()}],"overscroll-x":[{"overscroll-x":x()}],"overscroll-y":[{"overscroll-y":x()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[E]}],"inset-x":[{"inset-x":[E]}],"inset-y":[{"inset-y":[E]}],start:[{start:[E]}],end:[{end:[E]}],top:[{top:[E]}],right:[{right:[E]}],bottom:[{bottom:[E]}],left:[{left:[E]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",vl,lt]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",lt]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",vl,lt]}],"grid-cols":[{"grid-cols":[_l]}],"col-start-end":[{col:["auto",{span:["full",vl,lt]},lt]}],"col-start":[{"col-start":rt()}],"col-end":[{"col-end":rt()}],"grid-rows":[{"grid-rows":[_l]}],"row-start-end":[{row:["auto",{span:[vl,lt]},lt]}],"row-start":[{"row-start":rt()}],"row-end":[{"row-end":rt()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",lt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",lt]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...H()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...H(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...H(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[A]}],mx:[{mx:[A]}],my:[{my:[A]}],ms:[{ms:[A]}],me:[{me:[A]}],mt:[{mt:[A]}],mr:[{mr:[A]}],mb:[{mb:[A]}],ml:[{ml:[A]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",lt,t]}],"min-w":[{"min-w":[lt,t,"min","max","fit"]}],"max-w":[{"max-w":[lt,t,"none","full","min","max","fit","prose",{screen:[mi]},mi]}],h:[{h:[lt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[lt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[lt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[lt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",mi,di]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",gm]}],"font-family":[{font:[_l]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",lt]}],"line-clamp":[{"line-clamp":["none",Ka,gm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Cr,lt]}],"list-image":[{"list-image":["none",lt]}],"list-style-type":[{list:["none","disc","decimal",lt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Cr,di]}],"underline-offset":[{"underline-offset":["auto",Cr,lt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",lt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",lt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...wt(),_M]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",vM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},EM]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[d]}],"gradient-via":[{via:[d]}],"gradient-to":[{to:[d]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:q()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[Cr,lt]}],"outline-w":[{outline:[Cr,di]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:C()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Cr,di]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",mi,wM]}],"shadow-color":[{shadow:[_l]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...$(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",mi,lt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[m]}],saturate:[{saturate:[w]}],sepia:[{sepia:[V]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[V]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",lt]}],duration:[{duration:Ut()}],ease:[{ease:["linear","in","out","in-out",lt]}],delay:[{delay:Ut()}],animate:[{animate:["none","spin","ping","pulse","bounce",lt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[vl,lt]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",lt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",lt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",lt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Cr,di,gm]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},xM=lM(RM);function Xe(...e){return xM(VA(e))}const CM=KD,IM=D.forwardRef(({className:e,sideOffset:t=4,...n},r)=>M.jsx(MA,{ref:r,sideOffset:t,className:Xe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));IM.displayName=MA.displayName;var Yf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Kf=typeof window>"u"||"Deno"in globalThis;function Mn(){}function NM(e,t){return typeof e=="function"?e(t):e}function OM(e){return typeof e=="number"&&e>=0&&e!==1/0}function DM(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Pp(e,t){return typeof e=="function"?e(t):e}function MM(e,t){return typeof e=="function"?e(t):e}function Y0(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:o}=e;if(a){if(r){if(t.queryHash!==wy(a,t.options))return!1}else if(!du(t.queryKey,a))return!1}if(n!=="all"){const u=t.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||i&&i!==t.state.fetchStatus||s&&!s(t))}function K0(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(fu(t.options.mutationKey)!==fu(s))return!1}else if(!du(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function wy(e,t){return((t==null?void 0:t.queryKeyHashFn)||fu)(e)}function fu(e){return JSON.stringify(e,(t,n)=>Vp(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function du(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>du(e[n],t[n])):!1}function BA(e,t){if(e===t)return e;const n=X0(e)&&X0(t);if(n||Vp(e)&&Vp(t)){const r=n?e:Object.keys(e),i=r.length,s=n?t:Object.keys(t),a=s.length,o=n?[]:{},u=new Set(r);let c=0;for(let h=0;h<a;h++){const m=n?h:s[h];(!n&&u.has(m)||n)&&e[m]===void 0&&t[m]===void 0?(o[m]=void 0,c++):(o[m]=BA(e[m],t[m]),o[m]===e[m]&&e[m]!==void 0&&c++)}return i===a&&c===i?e:o}return t}function X0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Vp(e){if(!W0(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!W0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function W0(e){return Object.prototype.toString.call(e)==="[object Object]"}function PM(e){return new Promise(t=>{setTimeout(t,e)})}function VM(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?BA(e,t):t}function kM(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function LM(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Ty=Symbol();function qA(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Ty?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Is,Ci,ro,HE,UM=(HE=class extends Yf{constructor(){super();Et(this,Is);Et(this,Ci);Et(this,ro);ot(this,ro,t=>{if(!Kf&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,Ci)||this.setEventListener(U(this,ro))}onUnsubscribe(){var t;this.hasListeners()||((t=U(this,Ci))==null||t.call(this),ot(this,Ci,void 0))}setEventListener(t){var n;ot(this,ro,t),(n=U(this,Ci))==null||n.call(this),ot(this,Ci,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){U(this,Is)!==t&&(ot(this,Is,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof U(this,Is)=="boolean"?U(this,Is):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Is=new WeakMap,Ci=new WeakMap,ro=new WeakMap,HE),HA=new UM,io,Ii,so,FE,zM=(FE=class extends Yf{constructor(){super();Et(this,io,!0);Et(this,Ii);Et(this,so);ot(this,so,t=>{if(!Kf&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){U(this,Ii)||this.setEventListener(U(this,so))}onUnsubscribe(){var t;this.hasListeners()||((t=U(this,Ii))==null||t.call(this),ot(this,Ii,void 0))}setEventListener(t){var n;ot(this,so,t),(n=U(this,Ii))==null||n.call(this),ot(this,Ii,t(this.setOnline.bind(this)))}setOnline(t){U(this,io)!==t&&(ot(this,io,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return U(this,io)}},io=new WeakMap,Ii=new WeakMap,so=new WeakMap,FE),tf=new zM;function jM(){let e,t;const n=new Promise((i,s)=>{e=i,t=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function BM(e){return Math.min(1e3*2**e,3e4)}function FA(e){return(e??"online")==="online"?tf.isOnline():!0}var GA=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function ym(e){return e instanceof GA}function QA(e){let t=!1,n=0,r=!1,i;const s=jM(),a=E=>{var A;r||(p(new GA(E)),(A=e.abort)==null||A.call(e))},o=()=>{t=!0},u=()=>{t=!1},c=()=>HA.isFocused()&&(e.networkMode==="always"||tf.isOnline())&&e.canRun(),h=()=>FA(e.networkMode)&&e.canRun(),m=E=>{var A;r||(r=!0,(A=e.onSuccess)==null||A.call(e,E),i==null||i(),s.resolve(E))},p=E=>{var A;r||(r=!0,(A=e.onError)==null||A.call(e,E),i==null||i(),s.reject(E))},d=()=>new Promise(E=>{var A;i=y=>{(r||c())&&E(y)},(A=e.onPause)==null||A.call(e)}).then(()=>{var E;i=void 0,r||(E=e.onContinue)==null||E.call(e)}),S=()=>{if(r)return;let E;const A=n===0?e.initialPromise:void 0;try{E=A??e.fn()}catch(y){E=Promise.reject(y)}Promise.resolve(E).then(m).catch(y=>{var L;if(r)return;const v=e.retry??(Kf?0:3),w=e.retryDelay??BM,I=typeof w=="function"?w(n,y):w,V=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,y);if(t||!V){p(y);return}n++,(L=e.onFail)==null||L.call(e,n,y),PM(I).then(()=>c()?void 0:d()).then(()=>{t?p(y):S()})})};return{promise:s,cancel:a,continue:()=>(i==null||i(),s),cancelRetry:o,continueRetry:u,canStart:h,start:()=>(h()?S():d().then(S),s)}}var qM=e=>setTimeout(e,0);function HM(){let e=[],t=0,n=o=>{o()},r=o=>{o()},i=qM;const s=o=>{t?e.push(o):i(()=>{n(o)})},a=()=>{const o=e;e=[],o.length&&i(()=>{r(()=>{o.forEach(u=>{n(u)})})})};return{batch:o=>{let u;t++;try{u=o()}finally{t--,t||a()}return u},batchCalls:o=>(...u)=>{s(()=>{o(...u)})},schedule:s,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{i=o}}}var Ue=HM(),Ns,GE,$A=(GE=class{constructor(){Et(this,Ns)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),OM(this.gcTime)&&ot(this,Ns,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Kf?1/0:5*60*1e3))}clearGcTimeout(){U(this,Ns)&&(clearTimeout(U(this,Ns)),ot(this,Ns,void 0))}},Ns=new WeakMap,GE),ao,Os,yn,Ds,Oe,Su,Ms,Pn,Ir,QE,FM=(QE=class extends $A{constructor(n){super();Et(this,Pn);Et(this,ao);Et(this,Os);Et(this,yn);Et(this,Ds);Et(this,Oe);Et(this,Su);Et(this,Ms);ot(this,Ms,!1),ot(this,Su,n.defaultOptions),this.setOptions(n.options),this.observers=[],ot(this,Ds,n.client),ot(this,yn,U(this,Ds).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ot(this,ao,QM(this.options)),this.state=n.state??U(this,ao),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=U(this,Oe))==null?void 0:n.promise}setOptions(n){this.options={...U(this,Su),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,yn).remove(this)}setData(n,r){const i=VM(this.state.data,n,this.options);return Ie(this,Pn,Ir).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){Ie(this,Pn,Ir).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=U(this,Oe))==null?void 0:i.promise;return(s=U(this,Oe))==null||s.cancel(n),r?r.then(Mn).catch(Mn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,ao))}isActive(){return this.observers.some(n=>MM(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ty||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Pp(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!DM(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,Oe))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,Oe))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),U(this,yn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(U(this,Oe)&&(U(this,Ms)?U(this,Oe).cancel({revert:!0}):U(this,Oe).cancelRetry()),this.scheduleGc()),U(this,yn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ie(this,Pn,Ir).call(this,{type:"invalidate"})}fetch(n,r){var h,m,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,Oe))return U(this,Oe).continueRetry(),U(this,Oe).promise}if(n&&this.setOptions(n),!this.options.queryFn){const d=this.observers.find(S=>S.options.queryFn);d&&this.setOptions(d.options)}const i=new AbortController,s=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(ot(this,Ms,!0),i.signal)})},a=()=>{const d=qA(this.options,r),E=(()=>{const A={client:U(this,Ds),queryKey:this.queryKey,meta:this.meta};return s(A),A})();return ot(this,Ms,!1),this.options.persister?this.options.persister(d,E,this):d(E)},u=(()=>{const d={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:U(this,Ds),state:this.state,fetchFn:a};return s(d),d})();(h=this.options.behavior)==null||h.onFetch(u,this),ot(this,Os,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=u.fetchOptions)==null?void 0:m.meta))&&Ie(this,Pn,Ir).call(this,{type:"fetch",meta:(p=u.fetchOptions)==null?void 0:p.meta});const c=d=>{var S,E,A,y;ym(d)&&d.silent||Ie(this,Pn,Ir).call(this,{type:"error",error:d}),ym(d)||((E=(S=U(this,yn).config).onError)==null||E.call(S,d,this),(y=(A=U(this,yn).config).onSettled)==null||y.call(A,this.state.data,d,this)),this.scheduleGc()};return ot(this,Oe,QA({initialPromise:r==null?void 0:r.initialPromise,fn:u.fetchFn,abort:i.abort.bind(i),onSuccess:d=>{var S,E,A,y;if(d===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(v){c(v);return}(E=(S=U(this,yn).config).onSuccess)==null||E.call(S,d,this),(y=(A=U(this,yn).config).onSettled)==null||y.call(A,d,this.state.error,this),this.scheduleGc()},onError:c,onFail:(d,S)=>{Ie(this,Pn,Ir).call(this,{type:"failed",failureCount:d,error:S})},onPause:()=>{Ie(this,Pn,Ir).call(this,{type:"pause"})},onContinue:()=>{Ie(this,Pn,Ir).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),U(this,Oe).start()}},ao=new WeakMap,Os=new WeakMap,yn=new WeakMap,Ds=new WeakMap,Oe=new WeakMap,Su=new WeakMap,Ms=new WeakMap,Pn=new WeakSet,Ir=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...GM(i.data,this.options),fetchMeta:n.meta??null};case"success":return ot(this,Os,void 0),{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return ym(s)&&s.revert&&U(this,Os)?{...U(this,Os),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),Ue.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),U(this,yn).notify({query:this,type:"updated",action:n})})},QE);function GM(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:FA(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function QM(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Wn,$E,$M=($E=class extends Yf{constructor(t={}){super();Et(this,Wn);this.config=t,ot(this,Wn,new Map)}build(t,n,r){const i=n.queryKey,s=n.queryHash??wy(i,n);let a=this.get(s);return a||(a=new FM({client:t,queryKey:i,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(a)),a}add(t){U(this,Wn).has(t.queryHash)||(U(this,Wn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=U(this,Wn).get(t.queryHash);n&&(t.destroy(),n===t&&U(this,Wn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ue.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return U(this,Wn).get(t)}getAll(){return[...U(this,Wn).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Y0(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Y0(t,r)):n}notify(t){Ue.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Ue.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ue.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Wn=new WeakMap,$E),Zn,Le,Ps,Jn,yi,YE,YM=(YE=class extends $A{constructor(n){super();Et(this,Jn);Et(this,Zn);Et(this,Le);Et(this,Ps);this.mutationId=n.mutationId,ot(this,Le,n.mutationCache),ot(this,Zn,[]),this.state=n.state||KM(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){U(this,Zn).includes(n)||(U(this,Zn).push(n),this.clearGcTimeout(),U(this,Le).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ot(this,Zn,U(this,Zn).filter(r=>r!==n)),this.scheduleGc(),U(this,Le).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){U(this,Zn).length||(this.state.status==="pending"?this.scheduleGc():U(this,Le).remove(this))}continue(){var n;return((n=U(this,Ps))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var a,o,u,c,h,m,p,d,S,E,A,y,v,w,I,V,L,T,_,x;const r=()=>{Ie(this,Jn,yi).call(this,{type:"continue"})};ot(this,Ps,QA({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(R,N)=>{Ie(this,Jn,yi).call(this,{type:"failed",failureCount:R,error:N})},onPause:()=>{Ie(this,Jn,yi).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Le).canRun(this)}));const i=this.state.status==="pending",s=!U(this,Ps).canStart();try{if(i)r();else{Ie(this,Jn,yi).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(a=U(this,Le).config).onMutate)==null?void 0:o.call(a,n,this));const N=await((c=(u=this.options).onMutate)==null?void 0:c.call(u,n));N!==this.state.context&&Ie(this,Jn,yi).call(this,{type:"pending",context:N,variables:n,isPaused:s})}const R=await U(this,Ps).start();return await((m=(h=U(this,Le).config).onSuccess)==null?void 0:m.call(h,R,n,this.state.context,this)),await((d=(p=this.options).onSuccess)==null?void 0:d.call(p,R,n,this.state.context)),await((E=(S=U(this,Le).config).onSettled)==null?void 0:E.call(S,R,null,this.state.variables,this.state.context,this)),await((y=(A=this.options).onSettled)==null?void 0:y.call(A,R,null,n,this.state.context)),Ie(this,Jn,yi).call(this,{type:"success",data:R}),R}catch(R){try{throw await((w=(v=U(this,Le).config).onError)==null?void 0:w.call(v,R,n,this.state.context,this)),await((V=(I=this.options).onError)==null?void 0:V.call(I,R,n,this.state.context)),await((T=(L=U(this,Le).config).onSettled)==null?void 0:T.call(L,void 0,R,this.state.variables,this.state.context,this)),await((x=(_=this.options).onSettled)==null?void 0:x.call(_,void 0,R,n,this.state.context)),R}finally{Ie(this,Jn,yi).call(this,{type:"error",error:R})}}finally{U(this,Le).runNext(this)}}},Zn=new WeakMap,Le=new WeakMap,Ps=new WeakMap,Jn=new WeakSet,yi=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ue.batch(()=>{U(this,Zn).forEach(i=>{i.onMutationUpdate(n)}),U(this,Le).notify({mutation:this,type:"updated",action:n})})},YE);function KM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Nr,Vn,Ru,KE,XM=(KE=class extends Yf{constructor(t={}){super();Et(this,Nr);Et(this,Vn);Et(this,Ru);this.config=t,ot(this,Nr,new Set),ot(this,Vn,new Map),ot(this,Ru,0)}build(t,n,r){const i=new YM({mutationCache:this,mutationId:++Tc(this,Ru)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){U(this,Nr).add(t);const n=qc(t);if(typeof n=="string"){const r=U(this,Vn).get(n);r?r.push(t):U(this,Vn).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(U(this,Nr).delete(t)){const n=qc(t);if(typeof n=="string"){const r=U(this,Vn).get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&U(this,Vn).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=qc(t);if(typeof n=="string"){const r=U(this,Vn).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const n=qc(t);if(typeof n=="string"){const i=(r=U(this,Vn).get(n))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ue.batch(()=>{U(this,Nr).forEach(t=>{this.notify({type:"removed",mutation:t})}),U(this,Nr).clear(),U(this,Vn).clear()})}getAll(){return Array.from(U(this,Nr))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>K0(n,r))}findAll(t={}){return this.getAll().filter(n=>K0(t,n))}notify(t){Ue.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Ue.batch(()=>Promise.all(t.map(n=>n.continue().catch(Mn))))}},Nr=new WeakMap,Vn=new WeakMap,Ru=new WeakMap,KE);function qc(e){var t;return(t=e.options.scope)==null?void 0:t.id}function Z0(e){return{onFetch:(t,n)=>{var h,m,p,d,S;const r=t.options,i=(p=(m=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:m.fetchMore)==null?void 0:p.direction,s=((d=t.state.data)==null?void 0:d.pages)||[],a=((S=t.state.data)==null?void 0:S.pageParams)||[];let o={pages:[],pageParams:[]},u=0;const c=async()=>{let E=!1;const A=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?E=!0:t.signal.addEventListener("abort",()=>{E=!0}),t.signal)})},y=qA(t.options,t.fetchOptions),v=async(w,I,V)=>{if(E)return Promise.reject();if(I==null&&w.pages.length)return Promise.resolve(w);const T=(()=>{const N={client:t.client,queryKey:t.queryKey,pageParam:I,direction:V?"backward":"forward",meta:t.options.meta};return A(N),N})(),_=await y(T),{maxPages:x}=t.options,R=V?LM:kM;return{pages:R(w.pages,_,x),pageParams:R(w.pageParams,I,x)}};if(i&&s.length){const w=i==="backward",I=w?WM:J0,V={pages:s,pageParams:a},L=I(r,V);o=await v(V,L,w)}else{const w=e??s.length;do{const I=u===0?a[0]??r.initialPageParam:J0(r,o);if(u>0&&I==null)break;o=await v(o,I),u++}while(u<w)}return o};t.options.persister?t.fetchFn=()=>{var E,A;return(A=(E=t.options).persister)==null?void 0:A.call(E,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function J0(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function WM(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Wt,Ni,Oi,oo,lo,Di,uo,co,XE,ZM=(XE=class{constructor(e={}){Et(this,Wt);Et(this,Ni);Et(this,Oi);Et(this,oo);Et(this,lo);Et(this,Di);Et(this,uo);Et(this,co);ot(this,Wt,e.queryCache||new $M),ot(this,Ni,e.mutationCache||new XM),ot(this,Oi,e.defaultOptions||{}),ot(this,oo,new Map),ot(this,lo,new Map),ot(this,Di,0)}mount(){Tc(this,Di)._++,U(this,Di)===1&&(ot(this,uo,HA.subscribe(async e=>{e&&(await this.resumePausedMutations(),U(this,Wt).onFocus())})),ot(this,co,tf.subscribe(async e=>{e&&(await this.resumePausedMutations(),U(this,Wt).onOnline())})))}unmount(){var e,t;Tc(this,Di)._--,U(this,Di)===0&&((e=U(this,uo))==null||e.call(this),ot(this,uo,void 0),(t=U(this,co))==null||t.call(this),ot(this,co,void 0))}isFetching(e){return U(this,Wt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return U(this,Ni).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=U(this,Wt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=U(this,Wt).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Pp(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return U(this,Wt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=U(this,Wt).get(r.queryHash),s=i==null?void 0:i.state.data,a=NM(t,s);if(a!==void 0)return U(this,Wt).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return Ue.batch(()=>U(this,Wt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=U(this,Wt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=U(this,Wt);Ue.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=U(this,Wt);return Ue.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Ue.batch(()=>U(this,Wt).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Mn).catch(Mn)}invalidateQueries(e,t={}){return Ue.batch(()=>(U(this,Wt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Ue.batch(()=>U(this,Wt).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Mn)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Mn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=U(this,Wt).build(this,t);return n.isStaleByTime(Pp(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Mn).catch(Mn)}fetchInfiniteQuery(e){return e.behavior=Z0(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Mn).catch(Mn)}ensureInfiniteQueryData(e){return e.behavior=Z0(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return tf.isOnline()?U(this,Ni).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,Wt)}getMutationCache(){return U(this,Ni)}getDefaultOptions(){return U(this,Oi)}setDefaultOptions(e){ot(this,Oi,e)}setQueryDefaults(e,t){U(this,oo).set(fu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...U(this,oo).values()],n={};return t.forEach(r=>{du(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){U(this,lo).set(fu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...U(this,lo).values()],n={};return t.forEach(r=>{du(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...U(this,Oi).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=wy(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Ty&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...U(this,Oi).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){U(this,Wt).clear(),U(this,Ni).clear()}},Wt=new WeakMap,Ni=new WeakMap,Oi=new WeakMap,oo=new WeakMap,lo=new WeakMap,Di=new WeakMap,uo=new WeakMap,co=new WeakMap,XE),JM=D.createContext(void 0),tP=({client:e,children:t})=>(D.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),M.jsx(JM.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ef(){return ef=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ef.apply(this,arguments)}var Li;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Li||(Li={}));const tb="popstate";function eP(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:a,hash:o}=r.location;return kp("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:KA(i)}return rP(t,n,null,e)}function We(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function YA(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function nP(){return Math.random().toString(36).substr(2,8)}function eb(e,t){return{usr:e.state,key:e.key,idx:t}}function kp(e,t,n,r){return n===void 0&&(n=null),ef({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Xf(t):t,{state:n,key:t&&t.key||r||nP()})}function KA(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Xf(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function rP(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=Li.Pop,u=null,c=h();c==null&&(c=0,a.replaceState(ef({},a.state,{idx:c}),""));function h(){return(a.state||{idx:null}).idx}function m(){o=Li.Pop;let A=h(),y=A==null?null:A-c;c=A,u&&u({action:o,location:E.location,delta:y})}function p(A,y){o=Li.Push;let v=kp(E.location,A,y);c=h()+1;let w=eb(v,c),I=E.createHref(v);try{a.pushState(w,"",I)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;i.location.assign(I)}s&&u&&u({action:o,location:E.location,delta:1})}function d(A,y){o=Li.Replace;let v=kp(E.location,A,y);c=h();let w=eb(v,c),I=E.createHref(v);a.replaceState(w,"",I),s&&u&&u({action:o,location:E.location,delta:0})}function S(A){let y=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof A=="string"?A:KA(A);return v=v.replace(/ $/,"%20"),We(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let E={get action(){return o},get location(){return e(i,a)},listen(A){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(tb,m),u=A,()=>{i.removeEventListener(tb,m),u=null}},createHref(A){return t(i,A)},createURL:S,encodeLocation(A){let y=S(A);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:d,go(A){return a.go(A)}};return E}var nb;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(nb||(nb={}));function iP(e,t,n){return n===void 0&&(n="/"),sP(e,t,n)}function sP(e,t,n,r){let i=typeof t=="string"?Xf(t):t,s=ZA(i.pathname||"/",n);if(s==null)return null;let a=XA(e);aP(a);let o=null;for(let u=0;o==null&&u<a.length;++u){let c=vP(s);o=pP(a[u],c)}return o}function XA(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let u={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(We(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Xa([r,u.relativePath]),h=n.concat(u);s.children&&s.children.length>0&&(We(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),XA(s.children,t,h,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:dP(c,s.index),routesMeta:h})};return e.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let u of WA(s.path))i(s,a,u)}),t}function WA(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=WA(r.join("/")),o=[];return o.push(...a.map(u=>u===""?s:[s,u].join("/"))),i&&o.push(...a),o.map(u=>e.startsWith("/")&&u===""?"/":u)}function aP(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:mP(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const oP=/^:[\w-]+$/,lP=3,uP=2,cP=1,hP=10,fP=-2,rb=e=>e==="*";function dP(e,t){let n=e.split("/"),r=n.length;return n.some(rb)&&(r+=fP),t&&(r+=uP),n.filter(i=>!rb(i)).reduce((i,s)=>i+(oP.test(s)?lP:s===""?cP:hP),r)}function mP(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function pP(e,t,n){let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let u=r[o],c=o===r.length-1,h=s==="/"?t:t.slice(s.length)||"/",m=gP({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},h),p=u.route;if(!m)return null;Object.assign(i,m.params),a.push({params:i,pathname:Xa([s,m.pathname]),pathnameBase:_P(Xa([s,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(s=Xa([s,m.pathnameBase]))}return a}function gP(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=yP(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,h,m)=>{let{paramName:p,isOptional:d}=h;if(p==="*"){let E=o[m]||"";a=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const S=o[m];return d&&!S?c[p]=void 0:c[p]=(S||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:e}}function yP(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),YA(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,u)=>(r.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function vP(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return YA(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ZA(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const Xa=e=>e.join("/").replace(/\/\/+/g,"/"),_P=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/");function bP(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const JA=["post","put","patch","delete"];new Set(JA);const EP=["get",...JA];new Set(EP);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nf(){return nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nf.apply(this,arguments)}const wP=D.createContext(null),TP=D.createContext(null),tS=D.createContext(null),Wf=D.createContext(null),Zf=D.createContext({outlet:null,matches:[],isDataRoute:!1}),eS=D.createContext(null);function Ay(){return D.useContext(Wf)!=null}function AP(){return Ay()||We(!1),D.useContext(Wf).location}function SP(e,t){return RP(e,t)}function RP(e,t,n,r){Ay()||We(!1);let{navigator:i}=D.useContext(tS),{matches:s}=D.useContext(Zf),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let c=AP(),h;if(t){var m;let A=typeof t=="string"?Xf(t):t;u==="/"||(m=A.pathname)!=null&&m.startsWith(u)||We(!1),h=A}else h=c;let p=h.pathname||"/",d=p;if(u!=="/"){let A=u.replace(/^\//,"").split("/");d="/"+p.replace(/^\//,"").split("/").slice(A.length).join("/")}let S=iP(e,{pathname:d}),E=OP(S&&S.map(A=>Object.assign({},A,{params:Object.assign({},o,A.params),pathname:Xa([u,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?u:Xa([u,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),s,n,r);return t&&E?D.createElement(Wf.Provider,{value:{location:nf({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Li.Pop}},E):E}function xP(){let e=VP(),t=bP(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},t),n?D.createElement("pre",{style:i},n):null,null)}const CP=D.createElement(xP,null);class IP extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?D.createElement(Zf.Provider,{value:this.props.routeContext},D.createElement(eS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function NP(e){let{routeContext:t,match:n,children:r}=e,i=D.useContext(wP);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),D.createElement(Zf.Provider,{value:t},r)}function OP(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=(i=n)==null?void 0:i.errors;if(o!=null){let h=a.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);h>=0||We(!1),a=a.slice(0,Math.min(a.length,h+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<a.length;h++){let m=a[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=h),m.route.id){let{loaderData:p,errors:d}=n,S=m.route.loader&&p[m.route.id]===void 0&&(!d||d[m.route.id]===void 0);if(m.route.lazy||S){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((h,m,p)=>{let d,S=!1,E=null,A=null;n&&(d=o&&m.route.id?o[m.route.id]:void 0,E=m.route.errorElement||CP,u&&(c<0&&p===0?(kP("route-fallback"),S=!0,A=null):c===p&&(S=!0,A=m.route.hydrateFallbackElement||null)));let y=t.concat(a.slice(0,p+1)),v=()=>{let w;return d?w=E:S?w=A:m.route.Component?w=D.createElement(m.route.Component,null):m.route.element?w=m.route.element:w=h,D.createElement(NP,{match:m,routeContext:{outlet:h,matches:y,isDataRoute:n!=null},children:w})};return n&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?D.createElement(IP,{location:n.location,revalidation:n.revalidation,component:E,error:d,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var nS=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(nS||{});function DP(e){let t=D.useContext(TP);return t||We(!1),t}function MP(e){let t=D.useContext(Zf);return t||We(!1),t}function PP(e){let t=MP(),n=t.matches[t.matches.length-1];return n.route.id||We(!1),n.route.id}function VP(){var e;let t=D.useContext(eS),n=DP(nS.UseRouteError),r=PP();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}const ib={};function kP(e,t,n){ib[e]||(ib[e]=!0)}function LP(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Lp(e){We(!1)}function UP(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Li.Pop,navigator:s,static:a=!1,future:o}=e;Ay()&&We(!1);let u=t.replace(/^\/*/,"/"),c=D.useMemo(()=>({basename:u,navigator:s,static:a,future:nf({v7_relativeSplatPath:!1},o)}),[u,o,s,a]);typeof r=="string"&&(r=Xf(r));let{pathname:h="/",search:m="",hash:p="",state:d=null,key:S="default"}=r,E=D.useMemo(()=>{let A=ZA(h,u);return A==null?null:{location:{pathname:A,search:m,hash:p,state:d,key:S},navigationType:i}},[u,h,m,p,d,S,i]);return E==null?null:D.createElement(tS.Provider,{value:c},D.createElement(Wf.Provider,{children:n,value:E}))}function zP(e){let{children:t,location:n}=e;return SP(Up(t),n)}new Promise(()=>{});function Up(e,t){t===void 0&&(t=[]);let n=[];return D.Children.forEach(e,(r,i)=>{if(!D.isValidElement(r))return;let s=[...t,i];if(r.type===D.Fragment){n.push.apply(n,Up(r.props.children,s));return}r.type!==Lp&&We(!1),!r.props.index||!r.props.children||We(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Up(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const jP="6";try{window.__reactRouterVersion=jP}catch{}const BP="startTransition",sb=cw[BP];function qP(e){let{basename:t,children:n,future:r,window:i}=e,s=D.useRef();s.current==null&&(s.current=eP({window:i,v5Compat:!0}));let a=s.current,[o,u]=D.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},h=D.useCallback(m=>{c&&sb?sb(()=>u(m)):u(m)},[u,c]);return D.useLayoutEffect(()=>a.listen(h),[a,h]),D.useEffect(()=>LP(r),[r]),D.createElement(UP,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}var ab;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ab||(ab={}));var ob;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ob||(ob={}));const HP=()=>{};var lb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},FP=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],a=e[n++],o=e[n++],u=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return t.join("")},iS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],a=i+1<e.length,o=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,h=s>>2,m=(s&3)<<4|o>>4;let p=(o&15)<<2|c>>6,d=c&63;u||(d=64,a||(p=64)),r.push(n[h],n[m],n[p],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(rS(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):FP(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const c=i<e.length?n[e.charAt(i)]:64;++i;const m=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||o==null||c==null||m==null)throw new GP;const p=s<<2|o>>4;if(r.push(p),c!==64){const d=o<<4&240|c>>2;if(r.push(d),m!==64){const S=c<<6&192|m;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class GP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QP=function(e){const t=rS(e);return iS.encodeByteArray(t,!0)},rf=function(e){return QP(e).replace(/\./g,"")},sS=function(e){try{return iS.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP=()=>$P().__FIREBASE_DEFAULTS__,KP=()=>{if(typeof process>"u"||typeof lb>"u")return;const e=lb.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},XP=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&sS(e[1]);return t&&JSON.parse(t)},Jf=()=>{try{return HP()||YP()||KP()||XP()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},aS=e=>{var t,n;return(n=(t=Jf())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},WP=e=>{const t=aS(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},oS=()=>{var e;return(e=Jf())==null?void 0:e.config},lS=e=>{var t;return(t=Jf())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function uS(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...e};return[rf(JSON.stringify(n)),rf(JSON.stringify(a)),""].join(".")}const Fl={};function t4(){const e={prod:[],emulator:[]};for(const t of Object.keys(Fl))Fl[t]?e.emulator.push(t):e.prod.push(t);return e}function e4(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let ub=!1;function cS(e,t){if(typeof window>"u"||typeof document>"u"||!Ho(window.location.host)||Fl[e]===t||Fl[e]||ub)return;Fl[e]=t;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",s=t4().prod.length>0;function a(){const p=document.getElementById(r);p&&p.remove()}function o(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function u(p,d){p.setAttribute("width","24"),p.setAttribute("id",d),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{ub=!0,a()},p}function h(p,d){p.setAttribute("id",d),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function m(){const p=e4(r),d=n("text"),S=document.getElementById(d)||document.createElement("span"),E=n("learnmore"),A=document.getElementById(E)||document.createElement("a"),y=n("preprendIcon"),v=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const w=p.element;o(w),h(A,E);const I=c();u(v,y),w.append(v,S,A,I),document.body.appendChild(w)}s?(S.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",d)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function n4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ke())}function r4(){var t;const e=(t=Jf())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function i4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function s4(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function a4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function o4(){const e=ke();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function l4(){return!r4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function u4(){try{return typeof indexedDB=="object"}catch{return!1}}function c4(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)==null?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4="FirebaseError";class ni extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=h4,Object.setPrototypeOf(this,ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fu.prototype.create)}}class Fu{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],a=s?f4(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new ni(i,o,r)}}function f4(e,t){return e.replace(d4,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const d4=/\{\$([^}]+)}/g;function m4(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ks(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],a=t[i];if(cb(s)&&cb(a)){if(!Ks(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function cb(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function p4(e,t){const n=new g4(e,t);return n.subscribe.bind(n)}class g4{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");y4(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=vm),i.error===void 0&&(i.error=vm),i.complete===void 0&&(i.complete=vm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function y4(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function vm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(e){return e&&e._delegate?e._delegate:e}class Xs{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v4{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new ZP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(b4(t))try{this.getOrInitializeService({instanceIdentifier:Rs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Rs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Rs){return this.instances.has(t)}getOptions(t=Rs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(t),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&t(s,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:_4(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Rs){return this.component?this.component.multipleInstances?t:Rs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _4(e){return e===Rs?void 0:e}function b4(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new v4(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(dt||(dt={}));const w4={debug:dt.DEBUG,verbose:dt.VERBOSE,info:dt.INFO,warn:dt.WARN,error:dt.ERROR,silent:dt.SILENT},T4=dt.INFO,A4={[dt.DEBUG]:"log",[dt.VERBOSE]:"log",[dt.INFO]:"info",[dt.WARN]:"warn",[dt.ERROR]:"error"},S4=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=A4[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Sy{constructor(t){this.name=t,this._logLevel=T4,this._logHandler=S4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?w4[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,dt.DEBUG,...t),this._logHandler(this,dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,dt.VERBOSE,...t),this._logHandler(this,dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,dt.INFO,...t),this._logHandler(this,dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,dt.WARN,...t),this._logHandler(this,dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,dt.ERROR,...t),this._logHandler(this,dt.ERROR,...t)}}const R4=(e,t)=>t.some(n=>e instanceof n);let hb,fb;function x4(){return hb||(hb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function C4(){return fb||(fb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hS=new WeakMap,zp=new WeakMap,fS=new WeakMap,_m=new WeakMap,Ry=new WeakMap;function I4(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",a)},s=()=>{n($i(e.result)),i()},a=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&hS.set(n,e)}).catch(()=>{}),Ry.set(t,e),t}function N4(e){if(zp.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",a),e.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",a),e.addEventListener("abort",a)});zp.set(e,t)}let jp={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return zp.get(e);if(t==="objectStoreNames")return e.objectStoreNames||fS.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $i(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function O4(e){jp=e(jp)}function D4(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(bm(this),t,...n);return fS.set(r,t.sort?t.sort():[t]),$i(r)}:C4().includes(e)?function(...t){return e.apply(bm(this),t),$i(hS.get(this))}:function(...t){return $i(e.apply(bm(this),t))}}function M4(e){return typeof e=="function"?D4(e):(e instanceof IDBTransaction&&N4(e),R4(e,x4())?new Proxy(e,jp):e)}function $i(e){if(e instanceof IDBRequest)return I4(e);if(_m.has(e))return _m.get(e);const t=M4(e);return t!==e&&(_m.set(e,t),Ry.set(t,e)),t}const bm=e=>Ry.get(e);function P4(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(e,t),o=$i(a);return r&&a.addEventListener("upgradeneeded",u=>{r($i(a.result),u.oldVersion,u.newVersion,$i(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),o.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const V4=["get","getKey","getAll","getAllKeys","count"],k4=["put","add","delete","clear"],Em=new Map;function db(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Em.get(t))return Em.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=k4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||V4.includes(n)))return;const s=async function(a,...o){const u=this.transaction(a,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&u.done]))[0]};return Em.set(t,s),s}O4(e=>({...e,get:(t,n,r)=>db(t,n)||e.get(t,n,r),has:(t,n)=>!!db(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(U4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function U4(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Bp="@firebase/app",mb="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr=new Sy("@firebase/app"),z4="@firebase/app-compat",j4="@firebase/analytics-compat",B4="@firebase/analytics",q4="@firebase/app-check-compat",H4="@firebase/app-check",F4="@firebase/auth",G4="@firebase/auth-compat",Q4="@firebase/database",$4="@firebase/data-connect",Y4="@firebase/database-compat",K4="@firebase/functions",X4="@firebase/functions-compat",W4="@firebase/installations",Z4="@firebase/installations-compat",J4="@firebase/messaging",tV="@firebase/messaging-compat",eV="@firebase/performance",nV="@firebase/performance-compat",rV="@firebase/remote-config",iV="@firebase/remote-config-compat",sV="@firebase/storage",aV="@firebase/storage-compat",oV="@firebase/firestore",lV="@firebase/ai",uV="@firebase/firestore-compat",cV="firebase",hV="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="[DEFAULT]",fV={[Bp]:"fire-core",[z4]:"fire-core-compat",[B4]:"fire-analytics",[j4]:"fire-analytics-compat",[H4]:"fire-app-check",[q4]:"fire-app-check-compat",[F4]:"fire-auth",[G4]:"fire-auth-compat",[Q4]:"fire-rtdb",[$4]:"fire-data-connect",[Y4]:"fire-rtdb-compat",[K4]:"fire-fn",[X4]:"fire-fn-compat",[W4]:"fire-iid",[Z4]:"fire-iid-compat",[J4]:"fire-fcm",[tV]:"fire-fcm-compat",[eV]:"fire-perf",[nV]:"fire-perf-compat",[rV]:"fire-rc",[iV]:"fire-rc-compat",[sV]:"fire-gcs",[aV]:"fire-gcs-compat",[oV]:"fire-fst",[uV]:"fire-fst-compat",[lV]:"fire-vertex","fire-js":"fire-js",[cV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sf=new Map,dV=new Map,Hp=new Map;function pb(e,t){try{e.container.addComponent(t)}catch(n){Yr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ro(e){const t=e.name;if(Hp.has(t))return Yr.debug(`There were multiple attempts to register component ${t}.`),!1;Hp.set(t,e);for(const n of sf.values())pb(n,e);for(const n of dV.values())pb(n,e);return!0}function xy(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function An(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yi=new Fu("app","Firebase",mV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Yi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fo=hV;function Cy(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r={name:qp,automaticDataCollectionEnabled:!0,...t},i=r.name;if(typeof i!="string"||!i)throw Yi.create("bad-app-name",{appName:String(i)});if(n||(n=oS()),!n)throw Yi.create("no-options");const s=sf.get(i);if(s){if(Ks(n,s.options)&&Ks(r,s.config))return s;throw Yi.create("duplicate-app",{appName:i})}const a=new E4(i);for(const u of Hp.values())a.addComponent(u);const o=new pV(n,r,a);return sf.set(i,o),o}function dS(e=qp){const t=sf.get(e);if(!t&&e===qp&&oS())return Cy();if(!t)throw Yi.create("no-app",{appName:e});return t}function Ki(e,t,n){let r=fV[e]??e;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const a=[`Unable to register library "${r}" with version "${t}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Yr.warn(a.join(" "));return}Ro(new Xs(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV="firebase-heartbeat-database",yV=1,mu="firebase-heartbeat-store";let wm=null;function mS(){return wm||(wm=P4(gV,yV,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(mu)}catch(n){console.warn(n)}}}}).catch(e=>{throw Yi.create("idb-open",{originalErrorMessage:e.message})})),wm}async function vV(e){try{const n=(await mS()).transaction(mu),r=await n.objectStore(mu).get(pS(e));return await n.done,r}catch(t){if(t instanceof ni)Yr.warn(t.message);else{const n=Yi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Yr.warn(n.message)}}}async function gb(e,t){try{const r=(await mS()).transaction(mu,"readwrite");await r.objectStore(mu).put(t,pS(e)),await r.done}catch(n){if(n instanceof ni)Yr.warn(n.message);else{const r=Yi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Yr.warn(r.message)}}}function pS(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V=1024,bV=30;class EV{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new TV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=yb();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>bV){const a=AV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Yr.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=yb(),{heartbeatsToSend:r,unsentEntries:i}=wV(this._heartbeatsCache.heartbeats),s=rf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Yr.warn(n),""}}}function yb(){return new Date().toISOString().substring(0,10)}function wV(e,t=_V){const n=[];let r=e.slice();for(const i of e){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),vb(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),vb(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class TV{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return u4()?c4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await vV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return gb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return gb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function vb(e){return rf(JSON.stringify({version:2,heartbeats:e})).length}function AV(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SV(e){Ro(new Xs("platform-logger",t=>new L4(t),"PRIVATE")),Ro(new Xs("heartbeat",t=>new EV(t),"PRIVATE")),Ki(Bp,mb,e),Ki(Bp,mb,"esm2020"),Ki("fire-js","")}SV("");var RV="firebase",xV="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ki(RV,xV,"app");function gS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CV=gS,yS=new Fu("auth","Firebase",gS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af=new Sy("@firebase/auth");function IV(e,...t){af.logLevel<=dt.WARN&&af.warn(`Auth (${Fo}): ${e}`,...t)}function uh(e,...t){af.logLevel<=dt.ERROR&&af.error(`Auth (${Fo}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(e,...t){throw Iy(e,...t)}function lr(e,...t){return Iy(e,...t)}function vS(e,t,n){const r={...CV(),[t]:n};return new Fu("auth","Firebase",r).create(t,{appName:e.name})}function Br(e){return vS(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Iy(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return yS.create(e,...t)}function et(e,t,...n){if(!e)throw Iy(t,...n)}function Lr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw uh(t),new Error(t)}function Xr(e,t){e||Lr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function NV(){return _b()==="http:"||_b()==="https:"}function _b(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NV()||s4()||"connection"in navigator)?navigator.onLine:!0}function DV(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(t,n){this.shortDelay=t,this.longDelay=n,Xr(n>t,"Short delay should be less than long delay!"),this.isMobile=n4()||a4()}get(){return OV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(e,t){Xr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],VV=new Qu(3e4,6e4);function $u(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Go(e,t,n,r,i={}){return bS(e,i,async()=>{let s={},a={};r&&(t==="GET"?a=r:s={body:JSON.stringify(r)});const o=Gu({key:e.config.apiKey,...a}).slice(1),u=await e._getAdditionalHeaders();u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode);const c={method:t,headers:u,...s};return i4()||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&Ho(e.emulatorConfig.host)&&(c.credentials="include"),_S.fetch()(await ES(e,e.config.apiHost,n,o),c)})}async function bS(e,t,n){e._canInitEmulator=!1;const r={...MV,...t};try{const i=new kV(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Hc(e,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[u,c]=o.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hc(e,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Hc(e,"email-already-in-use",a);if(u==="USER_DISABLED")throw Hc(e,"user-disabled",a);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw vS(e,h,c);Kr(e,h)}}catch(i){if(i instanceof ni)throw i;Kr(e,"network-request-failed",{message:String(i)})}}async function Oy(e,t,n,r,i={}){const s=await Go(e,t,n,r,i);return"mfaPendingCredential"in s&&Kr(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function ES(e,t,n,r){const i=`${t}${n}?${r}`,s=e,a=s.config.emulator?Ny(e.config,i):`${e.config.apiScheme}://${i}`;return PV.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}class kV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(lr(this.auth,"network-request-failed")),VV.get())})}}function Hc(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=lr(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LV(e,t){return Go(e,"POST","/v1/accounts:delete",t)}async function of(e,t){return Go(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function UV(e,t=!1){const n=Ze(e),r=await n.getIdToken(t),i=Dy(r);et(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Gl(Tm(i.auth_time)),issuedAtTime:Gl(Tm(i.iat)),expirationTime:Gl(Tm(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Tm(e){return Number(e)*1e3}function Dy(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return uh("JWT malformed, contained fewer than 3 sections"),null;try{const i=sS(n);return i?JSON.parse(i):(uh("Failed to decode base64 JWT payload"),null)}catch(i){return uh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function bb(e){const t=Dy(e);return et(t,"internal-error"),et(typeof t.exp<"u","internal-error"),et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pu(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof ni&&zV(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function zV({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gl(this.lastLoginAt),this.creationTime=Gl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lf(e){var m;const t=e.auth,n=await e.getIdToken(),r=await pu(e,of(t,{idToken:n}));et(r==null?void 0:r.users.length,t,"internal-error");const i=r.users[0];e._notifyReloadListener(i);const s=(m=i.providerUserInfo)!=null&&m.length?wS(i.providerUserInfo):[],a=qV(e.providerData,s),o=e.isAnonymous,u=!(e.email&&i.passwordHash)&&!(a!=null&&a.length),c=o?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Gp(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(e,h)}async function BV(e){const t=Ze(e);await lf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function qV(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function wS(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HV(e,t){const n=await bS(e,{},async()=>{const r=Gu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,a=await ES(e,i,"/v1/token",`key=${s}`),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:o,body:r};return e.emulatorConfig&&Ho(e.emulatorConfig.host)&&(u.credentials="include"),_S.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function FV(e,t){return Go(e,"POST","/v2/accounts:revokeToken",$u(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){et(t.idToken,"internal-error"),et(typeof t.idToken<"u","internal-error"),et(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):bb(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){et(t.length!==0,"internal-error");const n=bb(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await HV(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new Wa;return r&&(et(typeof r=="string","internal-error",{appName:t}),a.refreshToken=r),i&&(et(typeof i=="string","internal-error",{appName:t}),a.accessToken=i),s&&(et(typeof s=="number","internal-error",{appName:t}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Wa,this.toJSON())}_performRefresh(){return Lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(e,t){et(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Ln{constructor({uid:t,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new jV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Gp(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const n=await pu(this,this.stsTokenManager.getToken(this.auth,t));return et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return UV(this,t)}reload(){return BV(this)}_assign(t){this!==t&&(et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Ln({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await lf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(An(this.auth.app))return Promise.reject(Br(this.auth));const t=await this.getIdToken();return await pu(this,LV(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,o=n.tenantId??void 0,u=n._redirectEventId??void 0,c=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:m,emailVerified:p,isAnonymous:d,providerData:S,stsTokenManager:E}=n;et(m&&E,t,"internal-error");const A=Wa.fromJSON(this.name,E);et(typeof m=="string",t,"internal-error"),pi(r,t.name),pi(i,t.name),et(typeof p=="boolean",t,"internal-error"),et(typeof d=="boolean",t,"internal-error"),pi(s,t.name),pi(a,t.name),pi(o,t.name),pi(u,t.name),pi(c,t.name),pi(h,t.name);const y=new Ln({uid:m,auth:t,email:i,emailVerified:p,displayName:r,isAnonymous:d,photoURL:a,phoneNumber:s,tenantId:o,stsTokenManager:A,createdAt:c,lastLoginAt:h});return S&&Array.isArray(S)&&(y.providerData=S.map(v=>({...v}))),u&&(y._redirectEventId=u),y}static async _fromIdTokenResponse(t,n,r=!1){const i=new Wa;i.updateFromServerResponse(n);const s=new Ln({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await lf(s),s}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];et(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?wS(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new Wa;o.updateFromIdToken(r);const u=new Ln({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Gp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=new Map;function Ur(e){Xr(e instanceof Function,"Expected a class definition");let t=Eb.get(e);return t?(Xr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Eb.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}TS.type="NONE";const wb=TS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(e,t,n){return`firebase:${e}:${t}:${n}`}class Za{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ch(this.userKey,i.apiKey,s),this.fullPersistenceKey=ch("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await of(this.auth,{idToken:t}).catch(()=>{});return n?Ln._fromGetAccountInfoResponse(this.auth,n,t):null}return Ln._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Za(Ur(wb),t,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Ur(wb);const a=ch(r,t.config.apiKey,t.name);let o=null;for(const c of n)try{const h=await c._get(a);if(h){let m;if(typeof h=="string"){const p=await of(t,{idToken:h}).catch(()=>{});if(!p)break;m=await Ln._fromGetAccountInfoResponse(t,p,h)}else m=Ln._fromJSON(t,h);c!==s&&(o=m),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Za(s,t,r):(s=u[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new Za(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(xS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(AS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(IS(t))return"Blackberry";if(NS(t))return"Webos";if(SS(t))return"Safari";if((t.includes("chrome/")||RS(t))&&!t.includes("edge/"))return"Chrome";if(CS(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function AS(e=ke()){return/firefox\//i.test(e)}function SS(e=ke()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function RS(e=ke()){return/crios\//i.test(e)}function xS(e=ke()){return/iemobile/i.test(e)}function CS(e=ke()){return/android/i.test(e)}function IS(e=ke()){return/blackberry/i.test(e)}function NS(e=ke()){return/webos/i.test(e)}function My(e=ke()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function GV(e=ke()){var t;return My(e)&&!!((t=window.navigator)!=null&&t.standalone)}function QV(){return o4()&&document.documentMode===10}function OS(e=ke()){return My(e)||CS(e)||NS(e)||IS(e)||/windows phone/i.test(e)||xS(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(e,t=[]){let n;switch(e){case"Browser":n=Tb(ke());break;case"Worker":n=`${Tb(ke())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((a,o)=>{try{const u=t(s);a(u)}catch(u){o(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YV(e,t={}){return Go(e,"GET","/v2/passwordPolicy",$u(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV=6;class XV{constructor(t){var r;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??KV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=t.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ab(this),this.idTokenSubscription=new Ab(this),this.beforeStateQueue=new $V(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ur(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Za.create(this,t),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await of(this,{idToken:t}),r=await Ln._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var s;if(An(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,o=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(t);(!a||a===o)&&(u!=null&&u.user)&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await lf(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=DV()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(An(this.app))return Promise.reject(Br(this));const n=t?Ze(t):null;return n&&et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return An(this.app)?Promise.reject(Br(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return An(this.app)?Promise.reject(Br(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ur(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await YV(this),n=new XV(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Fu("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await FV(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Ur(t)||this._popupRedirectResolver;et(n,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[Ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(et(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,r,i);return()=>{a=!0,u()}}else{const u=t.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=DS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var n;if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&IV(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Yu(e){return Ze(e)}class Ab{constructor(t){this.auth=t,this.observer=null,this.addObserver=p4(n=>this.observer=n)}get next(){return et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Py={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZV(e){Py=e}function JV(e){return Py.loadJS(e)}function tk(){return Py.gapiScript}function ek(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(e,t){const n=xy(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ks(s,t??{}))return i;Kr(i,"already-initialized")}return n.initialize({options:t})}function rk(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ur);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function ik(e,t,n){const r=Yu(e);et(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!1,s=MS(t),{host:a,port:o}=sk(t),u=o===null?"":`:${o}`,c={url:`${s}//${a}${u}/`},h=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){et(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),et(Ks(c,r.config.emulator)&&Ks(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Ho(a)?(uS(`${s}//${a}${u}`),cS("Auth",!0)):ak()}function MS(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function sk(e){const t=MS(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Sb(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:Sb(a)}}}function Sb(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function ak(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Lr("not implemented")}_getIdTokenResponse(t){return Lr("not implemented")}_linkToIdToken(t,n){return Lr("not implemented")}_getReauthenticationResolver(t){return Lr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ja(e,t){return Oy(e,"POST","/v1/accounts:signInWithIdp",$u(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok="http://localhost";class Ws extends PS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ws(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Kr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const a=new Ws(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return Ja(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Ja(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Ja(t,n)}buildRequest(){const t={requestUri:ok,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Gu(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku extends VS{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends Ku{constructor(){super("facebook.com")}static credential(t){return Ws._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ai.credentialFromTaggedObject(t)}static credentialFromError(t){return Ai.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ai.credential(t.oauthAccessToken)}catch{return null}}}Ai.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ai.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends Ku{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ws._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Si.credentialFromTaggedObject(t)}static credentialFromError(t){return Si.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Si.credential(n,r)}catch{return null}}}Si.GOOGLE_SIGN_IN_METHOD="google.com";Si.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends Ku{constructor(){super("github.com")}static credential(t){return Ws._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ri.credentialFromTaggedObject(t)}static credentialFromError(t){return Ri.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ri.credential(t.oauthAccessToken)}catch{return null}}}Ri.GITHUB_SIGN_IN_METHOD="github.com";Ri.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends Ku{constructor(){super("twitter.com")}static credential(t,n){return Ws._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return xi.credentialFromTaggedObject(t)}static credentialFromError(t){return xi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return xi.credential(n,r)}catch{return null}}}xi.TWITTER_SIGN_IN_METHOD="twitter.com";xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lk(e,t){return Oy(e,"POST","/v1/accounts:signUp",$u(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await Ln._fromIdTokenResponse(t,r,i),a=Rb(r);return new Wr({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=Rb(r);return new Wr({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function Rb(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uk(e){var i;if(An(e.app))return Promise.reject(Br(e));const t=Yu(e);if(await t._initializationPromise,(i=t.currentUser)!=null&&i.isAnonymous)return new Wr({user:t.currentUser,providerId:null,operationType:"signIn"});const n=await lk(t,{returnSecureToken:!0}),r=await Wr._fromIdTokenResponse(t,"signIn",n,!0);return await t._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf extends ni{constructor(t,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,uf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new uf(t,n,r,i)}}function kS(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?uf._fromErrorAndOperation(e,s,t,r):s})}async function ck(e,t,n=!1){const r=await pu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Wr._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hk(e,t,n=!1){const{auth:r}=e;if(An(r.app))return Promise.reject(Br(r));const i="reauthenticate";try{const s=await pu(e,kS(r,i,t,e),n);et(s.idToken,r,"internal-error");const a=Dy(s.idToken);et(a,r,"internal-error");const{sub:o}=a;return et(e.uid===o,r,"user-mismatch"),Wr._forOperation(e,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Kr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fk(e,t,n=!1){if(An(e.app))return Promise.reject(Br(e));const r="signIn",i=await kS(e,r,t),s=await Wr._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dk(e,t){return Oy(e,"POST","/v1/accounts:signInWithCustomToken",$u(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mk(e,t){if(An(e.app))return Promise.reject(Br(e));const n=Yu(e),r=await dk(n,{token:t,returnSecureToken:!0}),i=await Wr._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}function pk(e,t,n,r){return Ze(e).onIdTokenChanged(t,n,r)}function gk(e,t,n){return Ze(e).beforeAuthStateChanged(t,n)}function yk(e,t,n,r){return Ze(e).onAuthStateChanged(t,n,r)}const cf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(cf,"1"),this.storage.removeItem(cf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vk=1e3,_k=10;class US extends LS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=OS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,o,u)=>{this.notifyListeners(a,u)});return}const r=t.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);QV()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,_k):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},vk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}US.type="LOCAL";const bk=US;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS extends LS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}zS.type="SESSION";const jS=zS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new td(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async c=>c(n.origin,s)),u=await Ek(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}td.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,u)=>{const c=Vy("",20);i.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(m){const p=m;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(p.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(){return window}function Tk(e){ur().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(){return typeof ur().WorkerGlobalScope<"u"&&typeof ur().importScripts=="function"}async function Ak(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Sk(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function Rk(){return BS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS="firebaseLocalStorageDb",xk=1,hf="firebaseLocalStorage",HS="fbase_key";class Xu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ed(e,t){return e.transaction([hf],t?"readwrite":"readonly").objectStore(hf)}function Ck(){const e=indexedDB.deleteDatabase(qS);return new Xu(e).toPromise()}function Qp(){const e=indexedDB.open(qS,xk);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(hf,{keyPath:HS})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(hf)?t(r):(r.close(),await Ck(),t(await Qp()))})})}async function xb(e,t,n){const r=ed(e,!0).put({[HS]:t,value:n});return new Xu(r).toPromise()}async function Ik(e,t){const n=ed(e,!1).get(t),r=await new Xu(n).toPromise();return r===void 0?null:r.value}function Cb(e,t){const n=ed(e,!0).delete(t);return new Xu(n).toPromise()}const Nk=800,Ok=3;class FS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qp(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>Ok)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return BS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=td._getInstance(Rk()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Ak(),!this.activeServiceWorker)return;this.sender=new wk(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(r=t[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Sk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Qp();return await xb(t,cf,"1"),await Cb(t,cf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>xb(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>Ik(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Cb(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=ed(i,!1).getAll();return new Xu(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Nk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}FS.type="LOCAL";const Dk=FS;new Qu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(e,t){return t?Ur(t):(et(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky extends PS{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ja(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Ja(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Ja(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function Pk(e){return fk(e.auth,new ky(e),e.bypassAuthState)}function Vk(e){const{auth:t,user:n}=e;return et(n,t,"internal-error"),hk(n,new ky(e),e.bypassAuthState)}async function kk(e){const{auth:t,user:n}=e;return et(n,t,"internal-error"),ck(n,new ky(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=t;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(u))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Pk;case"linkViaPopup":case"linkViaRedirect":return kk;case"reauthViaPopup":case"reauthViaRedirect":return Vk;default:Kr(this.auth,"internal-error")}}resolve(t){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk=new Qu(2e3,1e4);class za extends GS{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,za.currentPopupAction&&za.currentPopupAction.cancel(),za.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return et(t,this.auth,"internal-error"),t}async onExecution(){Xr(this.filter.length===1,"Popup operations only handle one event");const t=Vy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,za.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Lk.get())};t()}}za.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk="pendingRedirect",hh=new Map;class zk extends GS{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=hh.get(this.auth._key());if(!t){try{const r=await jk(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}hh.set(this.auth._key(),t)}return this.bypassAuthState||hh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jk(e,t){const n=Hk(t),r=qk(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Bk(e,t){hh.set(e._key(),t)}function qk(e){return Ur(e._redirectPersistence)}function Hk(e){return ch(Uk,e.config.apiKey,e.name)}async function Fk(e,t,n=!1){if(An(e.app))return Promise.reject(Br(e));const r=Yu(e),i=Mk(r,t),a=await new zk(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk=10*60*1e3;class Qk{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!$k(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!QS(t)){const i=((r=t.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(lr(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Gk&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ib(t))}saveEventToCache(t){this.cachedEventUids.add(Ib(t)),this.lastProcessedEventTime=Date.now()}}function Ib(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function QS({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function $k(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QS(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yk(e,t={}){return Go(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xk=/^https?/;async function Wk(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Yk(e);for(const n of t)try{if(Zk(n))return}catch{}Kr(e,"unauthorized-domain")}function Zk(e){const t=Fp(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!Xk.test(n))return!1;if(Kk.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk=new Qu(3e4,6e4);function Nb(){const e=ur().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function t6(e){return new Promise((t,n)=>{var i,s,a;function r(){Nb(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Nb(),n(lr(e,"network-request-failed"))},timeout:Jk.get()})}if((s=(i=ur().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)t(gapi.iframes.getContext());else if((a=ur().gapi)!=null&&a.load)r();else{const o=ek("iframefcb");return ur()[o]=()=>{gapi.load?r():n(lr(e,"network-request-failed"))},JV(`${tk()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw fh=null,t})}let fh=null;function e6(e){return fh=fh||t6(e),fh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6=new Qu(5e3,15e3),r6="__/auth/iframe",i6="emulator/auth/iframe",s6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},a6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function o6(e){const t=e.config;et(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Ny(t,i6):`https://${e.config.authDomain}/${r6}`,r={apiKey:t.apiKey,appName:e.name,v:Fo},i=a6.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Gu(r).slice(1)}`}async function l6(e){const t=await e6(e),n=ur().gapi;return et(n,e,"internal-error"),t.open({where:document.body,url:o6(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:s6,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=lr(e,"network-request-failed"),o=ur().setTimeout(()=>{s(a)},n6.get());function u(){ur().clearTimeout(o),i(r)}r.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},c6=500,h6=600,f6="_blank",d6="http://localhost";class Ob{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function m6(e,t,n,r=c6,i=h6){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const u={...u6,width:r.toString(),height:i.toString(),top:s,left:a},c=ke().toLowerCase();n&&(o=RS(c)?f6:n),AS(c)&&(t=t||d6,u.scrollbars="yes");const h=Object.entries(u).reduce((p,[d,S])=>`${p}${d}=${S},`,"");if(GV(c)&&o!=="_self")return p6(t||"",o),new Ob(null);const m=window.open(t||"",o,h);et(m,e,"popup-blocked");try{m.focus()}catch{}return new Ob(m)}function p6(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6="__/auth/handler",y6="emulator/auth/handler",v6=encodeURIComponent("fac");async function Db(e,t,n,r,i,s){et(e.config.authDomain,e,"auth-domain-config-required"),et(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Fo,eventId:i};if(t instanceof VS){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",m4(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[h,m]of Object.entries({}))a[h]=m}if(t instanceof Ku){const h=t.getScopes().filter(m=>m!=="");h.length>0&&(a.scopes=h.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const h of Object.keys(o))o[h]===void 0&&delete o[h];const u=await e._getAppCheckToken(),c=u?`#${v6}=${encodeURIComponent(u)}`:"";return`${_6(e)}?${Gu(o).slice(1)}${c}`}function _6({config:e}){return e.emulator?Ny(e,y6):`https://${e.authDomain}/${g6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="webStorageSupport";class b6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jS,this._completeRedirectFn=Fk,this._overrideRedirectResult=Bk}async _openPopup(t,n,r,i){var a;Xr((a=this.eventManagers[t._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await Db(t,n,r,Fp(),i);return m6(t,s,Vy())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await Db(t,n,r,Fp(),i);return Tk(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Xr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await l6(t),r=new Qk(t);return n.register("authEvent",i=>(et(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Am,{type:Am},i=>{var a;const s=(a=i==null?void 0:i[0])==null?void 0:a[Am];s!==void 0&&n(!!s),Kr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Wk(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return OS()||SS()||My()}}const E6=b6;var Mb="@firebase/auth",Pb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T6(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function A6(e){Ro(new Xs("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;et(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:a,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DS(e)},c=new WV(r,i,s,u);return rk(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Ro(new Xs("auth-internal",t=>{const n=Yu(t.getProvider("auth").getImmediate());return(r=>new w6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ki(Mb,Pb,T6(e)),Ki(Mb,Pb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6=5*60,R6=lS("authIdTokenMaxAge")||S6;let Vb=null;const x6=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>R6)return;const i=n==null?void 0:n.token;Vb!==i&&(Vb=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function C6(e=dS()){const t=xy(e,"auth");if(t.isInitialized())return t.getImmediate();const n=nk(e,{popupRedirectResolver:E6,persistence:[Dk,bk,jS]}),r=lS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=x6(s.toString());gk(n,a,()=>a(n.currentUser)),pk(n,o=>a(o))}}const i=aS("auth");return i&&ik(n,`http://${i}`),n}function I6(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}ZV({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=lr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",I6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});A6("Browser");const N6=Cy(window.__firebase_config),Sm=C6(N6),O6=()=>{const[e,t]=D.useState(null),[n,r]=D.useState(!0),[i,s]=D.useState(null);return D.useEffect(()=>{const a=yk(Sm,u=>{t(u),r(!1)});return(async()=>{try{window.__initial_auth_token?await mk(Sm,window.__initial_auth_token):await uk(Sm)}catch(u){console.error("Authentication error:",u),s("Failed to authenticate"),r(!1)}})(),()=>a()},[]),{user:e,loading:n,error:i}};var kb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xi,$S;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(T,_){function x(){}x.prototype=_.prototype,T.D=_.prototype,T.prototype=new x,T.prototype.constructor=T,T.C=function(R,N,O){for(var C=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)C[rt-2]=arguments[rt];return _.prototype[N].apply(R,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,_,x){x||(x=0);var R=Array(16);if(typeof _=="string")for(var N=0;16>N;++N)R[N]=_.charCodeAt(x++)|_.charCodeAt(x++)<<8|_.charCodeAt(x++)<<16|_.charCodeAt(x++)<<24;else for(N=0;16>N;++N)R[N]=_[x++]|_[x++]<<8|_[x++]<<16|_[x++]<<24;_=T.g[0],x=T.g[1],N=T.g[2];var O=T.g[3],C=_+(O^x&(N^O))+R[0]+3614090360&4294967295;_=x+(C<<7&4294967295|C>>>25),C=O+(N^_&(x^N))+R[1]+3905402710&4294967295,O=_+(C<<12&4294967295|C>>>20),C=N+(x^O&(_^x))+R[2]+606105819&4294967295,N=O+(C<<17&4294967295|C>>>15),C=x+(_^N&(O^_))+R[3]+3250441966&4294967295,x=N+(C<<22&4294967295|C>>>10),C=_+(O^x&(N^O))+R[4]+4118548399&4294967295,_=x+(C<<7&4294967295|C>>>25),C=O+(N^_&(x^N))+R[5]+1200080426&4294967295,O=_+(C<<12&4294967295|C>>>20),C=N+(x^O&(_^x))+R[6]+2821735955&4294967295,N=O+(C<<17&4294967295|C>>>15),C=x+(_^N&(O^_))+R[7]+4249261313&4294967295,x=N+(C<<22&4294967295|C>>>10),C=_+(O^x&(N^O))+R[8]+1770035416&4294967295,_=x+(C<<7&4294967295|C>>>25),C=O+(N^_&(x^N))+R[9]+2336552879&4294967295,O=_+(C<<12&4294967295|C>>>20),C=N+(x^O&(_^x))+R[10]+4294925233&4294967295,N=O+(C<<17&4294967295|C>>>15),C=x+(_^N&(O^_))+R[11]+2304563134&4294967295,x=N+(C<<22&4294967295|C>>>10),C=_+(O^x&(N^O))+R[12]+1804603682&4294967295,_=x+(C<<7&4294967295|C>>>25),C=O+(N^_&(x^N))+R[13]+4254626195&4294967295,O=_+(C<<12&4294967295|C>>>20),C=N+(x^O&(_^x))+R[14]+2792965006&4294967295,N=O+(C<<17&4294967295|C>>>15),C=x+(_^N&(O^_))+R[15]+1236535329&4294967295,x=N+(C<<22&4294967295|C>>>10),C=_+(N^O&(x^N))+R[1]+4129170786&4294967295,_=x+(C<<5&4294967295|C>>>27),C=O+(x^N&(_^x))+R[6]+3225465664&4294967295,O=_+(C<<9&4294967295|C>>>23),C=N+(_^x&(O^_))+R[11]+643717713&4294967295,N=O+(C<<14&4294967295|C>>>18),C=x+(O^_&(N^O))+R[0]+3921069994&4294967295,x=N+(C<<20&4294967295|C>>>12),C=_+(N^O&(x^N))+R[5]+3593408605&4294967295,_=x+(C<<5&4294967295|C>>>27),C=O+(x^N&(_^x))+R[10]+38016083&4294967295,O=_+(C<<9&4294967295|C>>>23),C=N+(_^x&(O^_))+R[15]+3634488961&4294967295,N=O+(C<<14&4294967295|C>>>18),C=x+(O^_&(N^O))+R[4]+3889429448&4294967295,x=N+(C<<20&4294967295|C>>>12),C=_+(N^O&(x^N))+R[9]+568446438&4294967295,_=x+(C<<5&4294967295|C>>>27),C=O+(x^N&(_^x))+R[14]+3275163606&4294967295,O=_+(C<<9&4294967295|C>>>23),C=N+(_^x&(O^_))+R[3]+4107603335&4294967295,N=O+(C<<14&4294967295|C>>>18),C=x+(O^_&(N^O))+R[8]+1163531501&4294967295,x=N+(C<<20&4294967295|C>>>12),C=_+(N^O&(x^N))+R[13]+2850285829&4294967295,_=x+(C<<5&4294967295|C>>>27),C=O+(x^N&(_^x))+R[2]+4243563512&4294967295,O=_+(C<<9&4294967295|C>>>23),C=N+(_^x&(O^_))+R[7]+1735328473&4294967295,N=O+(C<<14&4294967295|C>>>18),C=x+(O^_&(N^O))+R[12]+2368359562&4294967295,x=N+(C<<20&4294967295|C>>>12),C=_+(x^N^O)+R[5]+4294588738&4294967295,_=x+(C<<4&4294967295|C>>>28),C=O+(_^x^N)+R[8]+2272392833&4294967295,O=_+(C<<11&4294967295|C>>>21),C=N+(O^_^x)+R[11]+1839030562&4294967295,N=O+(C<<16&4294967295|C>>>16),C=x+(N^O^_)+R[14]+4259657740&4294967295,x=N+(C<<23&4294967295|C>>>9),C=_+(x^N^O)+R[1]+2763975236&4294967295,_=x+(C<<4&4294967295|C>>>28),C=O+(_^x^N)+R[4]+1272893353&4294967295,O=_+(C<<11&4294967295|C>>>21),C=N+(O^_^x)+R[7]+4139469664&4294967295,N=O+(C<<16&4294967295|C>>>16),C=x+(N^O^_)+R[10]+3200236656&4294967295,x=N+(C<<23&4294967295|C>>>9),C=_+(x^N^O)+R[13]+681279174&4294967295,_=x+(C<<4&4294967295|C>>>28),C=O+(_^x^N)+R[0]+3936430074&4294967295,O=_+(C<<11&4294967295|C>>>21),C=N+(O^_^x)+R[3]+3572445317&4294967295,N=O+(C<<16&4294967295|C>>>16),C=x+(N^O^_)+R[6]+76029189&4294967295,x=N+(C<<23&4294967295|C>>>9),C=_+(x^N^O)+R[9]+3654602809&4294967295,_=x+(C<<4&4294967295|C>>>28),C=O+(_^x^N)+R[12]+3873151461&4294967295,O=_+(C<<11&4294967295|C>>>21),C=N+(O^_^x)+R[15]+530742520&4294967295,N=O+(C<<16&4294967295|C>>>16),C=x+(N^O^_)+R[2]+3299628645&4294967295,x=N+(C<<23&4294967295|C>>>9),C=_+(N^(x|~O))+R[0]+4096336452&4294967295,_=x+(C<<6&4294967295|C>>>26),C=O+(x^(_|~N))+R[7]+1126891415&4294967295,O=_+(C<<10&4294967295|C>>>22),C=N+(_^(O|~x))+R[14]+2878612391&4294967295,N=O+(C<<15&4294967295|C>>>17),C=x+(O^(N|~_))+R[5]+4237533241&4294967295,x=N+(C<<21&4294967295|C>>>11),C=_+(N^(x|~O))+R[12]+1700485571&4294967295,_=x+(C<<6&4294967295|C>>>26),C=O+(x^(_|~N))+R[3]+2399980690&4294967295,O=_+(C<<10&4294967295|C>>>22),C=N+(_^(O|~x))+R[10]+4293915773&4294967295,N=O+(C<<15&4294967295|C>>>17),C=x+(O^(N|~_))+R[1]+2240044497&4294967295,x=N+(C<<21&4294967295|C>>>11),C=_+(N^(x|~O))+R[8]+1873313359&4294967295,_=x+(C<<6&4294967295|C>>>26),C=O+(x^(_|~N))+R[15]+4264355552&4294967295,O=_+(C<<10&4294967295|C>>>22),C=N+(_^(O|~x))+R[6]+2734768916&4294967295,N=O+(C<<15&4294967295|C>>>17),C=x+(O^(N|~_))+R[13]+1309151649&4294967295,x=N+(C<<21&4294967295|C>>>11),C=_+(N^(x|~O))+R[4]+4149444226&4294967295,_=x+(C<<6&4294967295|C>>>26),C=O+(x^(_|~N))+R[11]+3174756917&4294967295,O=_+(C<<10&4294967295|C>>>22),C=N+(_^(O|~x))+R[2]+718787259&4294967295,N=O+(C<<15&4294967295|C>>>17),C=x+(O^(N|~_))+R[9]+3951481745&4294967295,T.g[0]=T.g[0]+_&4294967295,T.g[1]=T.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,T.g[2]=T.g[2]+N&4294967295,T.g[3]=T.g[3]+O&4294967295}r.prototype.u=function(T,_){_===void 0&&(_=T.length);for(var x=_-this.blockSize,R=this.B,N=this.h,O=0;O<_;){if(N==0)for(;O<=x;)i(this,T,O),O+=this.blockSize;if(typeof T=="string"){for(;O<_;)if(R[N++]=T.charCodeAt(O++),N==this.blockSize){i(this,R),N=0;break}}else for(;O<_;)if(R[N++]=T[O++],N==this.blockSize){i(this,R),N=0;break}}this.h=N,this.o+=_},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var _=1;_<T.length-8;++_)T[_]=0;var x=8*this.o;for(_=T.length-8;_<T.length;++_)T[_]=x&255,x/=256;for(this.u(T),T=Array(16),_=x=0;4>_;++_)for(var R=0;32>R;R+=8)T[x++]=this.g[_]>>>R&255;return T};function s(T,_){var x=o;return Object.prototype.hasOwnProperty.call(x,T)?x[T]:x[T]=_(T)}function a(T,_){this.h=_;for(var x=[],R=!0,N=T.length-1;0<=N;N--){var O=T[N]|0;R&&O==_||(x[N]=O,R=!1)}this.g=x}var o={};function u(T){return-128<=T&&128>T?s(T,function(_){return new a([_|0],0>_?-1:0)}):new a([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return m;if(0>T)return A(c(-T));for(var _=[],x=1,R=0;T>=x;R++)_[R]=T/x|0,x*=4294967296;return new a(_,0)}function h(T,_){if(T.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(T.charAt(0)=="-")return A(h(T.substring(1),_));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=c(Math.pow(_,8)),R=m,N=0;N<T.length;N+=8){var O=Math.min(8,T.length-N),C=parseInt(T.substring(N,N+O),_);8>O?(O=c(Math.pow(_,O)),R=R.j(O).add(c(C))):(R=R.j(x),R=R.add(c(C)))}return R}var m=u(0),p=u(1),d=u(16777216);e=a.prototype,e.m=function(){if(E(this))return-A(this).m();for(var T=0,_=1,x=0;x<this.g.length;x++){var R=this.i(x);T+=(0<=R?R:4294967296+R)*_,_*=4294967296}return T},e.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(S(this))return"0";if(E(this))return"-"+A(this).toString(T);for(var _=c(Math.pow(T,6)),x=this,R="";;){var N=I(x,_).g;x=y(x,N.j(_));var O=((0<x.g.length?x.g[0]:x.h)>>>0).toString(T);if(x=N,S(x))return O+R;for(;6>O.length;)O="0"+O;R=O+R}},e.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function S(T){if(T.h!=0)return!1;for(var _=0;_<T.g.length;_++)if(T.g[_]!=0)return!1;return!0}function E(T){return T.h==-1}e.l=function(T){return T=y(this,T),E(T)?-1:S(T)?0:1};function A(T){for(var _=T.g.length,x=[],R=0;R<_;R++)x[R]=~T.g[R];return new a(x,~T.h).add(p)}e.abs=function(){return E(this)?A(this):this},e.add=function(T){for(var _=Math.max(this.g.length,T.g.length),x=[],R=0,N=0;N<=_;N++){var O=R+(this.i(N)&65535)+(T.i(N)&65535),C=(O>>>16)+(this.i(N)>>>16)+(T.i(N)>>>16);R=C>>>16,O&=65535,C&=65535,x[N]=C<<16|O}return new a(x,x[x.length-1]&-2147483648?-1:0)};function y(T,_){return T.add(A(_))}e.j=function(T){if(S(this)||S(T))return m;if(E(this))return E(T)?A(this).j(A(T)):A(A(this).j(T));if(E(T))return A(this.j(A(T)));if(0>this.l(d)&&0>T.l(d))return c(this.m()*T.m());for(var _=this.g.length+T.g.length,x=[],R=0;R<2*_;R++)x[R]=0;for(R=0;R<this.g.length;R++)for(var N=0;N<T.g.length;N++){var O=this.i(R)>>>16,C=this.i(R)&65535,rt=T.i(N)>>>16,wt=T.i(N)&65535;x[2*R+2*N]+=C*wt,v(x,2*R+2*N),x[2*R+2*N+1]+=O*wt,v(x,2*R+2*N+1),x[2*R+2*N+1]+=C*rt,v(x,2*R+2*N+1),x[2*R+2*N+2]+=O*rt,v(x,2*R+2*N+2)}for(R=0;R<_;R++)x[R]=x[2*R+1]<<16|x[2*R];for(R=_;R<2*_;R++)x[R]=0;return new a(x,0)};function v(T,_){for(;(T[_]&65535)!=T[_];)T[_+1]+=T[_]>>>16,T[_]&=65535,_++}function w(T,_){this.g=T,this.h=_}function I(T,_){if(S(_))throw Error("division by zero");if(S(T))return new w(m,m);if(E(T))return _=I(A(T),_),new w(A(_.g),A(_.h));if(E(_))return _=I(T,A(_)),new w(A(_.g),_.h);if(30<T.g.length){if(E(T)||E(_))throw Error("slowDivide_ only works with positive integers.");for(var x=p,R=_;0>=R.l(T);)x=V(x),R=V(R);var N=L(x,1),O=L(R,1);for(R=L(R,2),x=L(x,2);!S(R);){var C=O.add(R);0>=C.l(T)&&(N=N.add(x),O=C),R=L(R,1),x=L(x,1)}return _=y(T,N.j(_)),new w(N,_)}for(N=m;0<=T.l(_);){for(x=Math.max(1,Math.floor(T.m()/_.m())),R=Math.ceil(Math.log(x)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),O=c(x),C=O.j(_);E(C)||0<C.l(T);)x-=R,O=c(x),C=O.j(_);S(O)&&(O=p),N=N.add(O),T=y(T,C)}return new w(N,T)}e.A=function(T){return I(this,T).h},e.and=function(T){for(var _=Math.max(this.g.length,T.g.length),x=[],R=0;R<_;R++)x[R]=this.i(R)&T.i(R);return new a(x,this.h&T.h)},e.or=function(T){for(var _=Math.max(this.g.length,T.g.length),x=[],R=0;R<_;R++)x[R]=this.i(R)|T.i(R);return new a(x,this.h|T.h)},e.xor=function(T){for(var _=Math.max(this.g.length,T.g.length),x=[],R=0;R<_;R++)x[R]=this.i(R)^T.i(R);return new a(x,this.h^T.h)};function V(T){for(var _=T.g.length+1,x=[],R=0;R<_;R++)x[R]=T.i(R)<<1|T.i(R-1)>>>31;return new a(x,T.h)}function L(T,_){var x=_>>5;_%=32;for(var R=T.g.length-x,N=[],O=0;O<R;O++)N[O]=0<_?T.i(O+x)>>>_|T.i(O+x+1)<<32-_:T.i(O+x);return new a(N,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,$S=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=h,Xi=a}).apply(typeof kb<"u"?kb:typeof self<"u"?self:typeof window<"u"?window:{});var Fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var YS,Al,KS,dh,$p,XS,WS,ZS;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,g){return l==Array.prototype||l==Object.prototype||(l[f]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fc=="object"&&Fc];for(var f=0;f<l.length;++f){var g=l[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(l,f){if(f)t:{var g=r;l=l.split(".");for(var b=0;b<l.length-1;b++){var P=l[b];if(!(P in g))break t;g=g[P]}l=l[l.length-1],b=g[l],f=f(b),f!=b&&f!=null&&t(g,l,{configurable:!0,writable:!0,value:f})}}function s(l,f){l instanceof String&&(l+="");var g=0,b=!1,P={next:function(){if(!b&&g<l.length){var k=g++;return{value:f(k,l[k]),done:!1}}return b=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}i("Array.prototype.values",function(l){return l||function(){return s(this,function(f,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function u(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function c(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function h(l,f,g){return l.call.apply(l.bind,arguments)}function m(l,f,g){if(!l)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,b),l.apply(f,P)}}return function(){return l.apply(f,arguments)}}function p(l,f,g){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:m,p.apply(null,arguments)}function d(l,f){var g=Array.prototype.slice.call(arguments,1);return function(){var b=g.slice();return b.push.apply(b,arguments),l.apply(this,b)}}function S(l,f){function g(){}g.prototype=f.prototype,l.aa=f.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(b,P,k){for(var G=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)G[Pt-2]=arguments[Pt];return f.prototype[P].apply(b,G)}}function E(l){const f=l.length;if(0<f){const g=Array(f);for(let b=0;b<f;b++)g[b]=l[b];return g}return[]}function A(l,f){for(let g=1;g<arguments.length;g++){const b=arguments[g];if(u(b)){const P=l.length||0,k=b.length||0;l.length=P+k;for(let G=0;G<k;G++)l[P+G]=b[G]}else l.push(b)}}class y{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function v(l){return/^[\s\xa0]*$/.test(l)}function w(){var l=o.navigator;return l&&(l=l.userAgent)?l:""}function I(l){return I[" "](l),l}I[" "]=function(){};var V=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function L(l,f,g){for(const b in l)f.call(g,l[b],b,l)}function T(l,f){for(const g in l)f.call(void 0,l[g],g,l)}function _(l){const f={};for(const g in l)f[g]=l[g];return f}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(l,f){let g,b;for(let P=1;P<arguments.length;P++){b=arguments[P];for(g in b)l[g]=b[g];for(let k=0;k<x.length;k++)g=x[k],Object.prototype.hasOwnProperty.call(b,g)&&(l[g]=b[g])}}function N(l){var f=1;l=l.split(":");const g=[];for(;0<f&&l.length;)g.push(l.shift()),f--;return l.length&&g.push(l.join(":")),g}function O(l){o.setTimeout(()=>{throw l},0)}function C(){var l=F;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class rt{constructor(){this.h=this.g=null}add(f,g){const b=wt.get();b.set(f,g),this.h?this.h.next=b:this.g=b,this.h=b}}var wt=new y(()=>new q,l=>l.reset());class q{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let $,H=!1,F=new rt,W=()=>{const l=o.Promise.resolve(void 0);$=()=>{l.then(Ut)}};var Ut=()=>{for(var l;l=C();){try{l.h.call(l.g)}catch(g){O(g)}var f=wt;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}H=!1};function at(){this.s=this.s,this.C=this.C}at.prototype.s=!1,at.prototype.ma=function(){this.s||(this.s=!0,this.N())},at.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var gt=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};o.addEventListener("test",g,f),o.removeEventListener("test",g,f)}catch{}return l}();function Dt(l,f){if(J.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,b=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(V){t:{try{I(f.nodeName);var P=!0;break t}catch{}P=!1}P||(f=null)}}else g=="mouseover"?f=l.fromElement:g=="mouseout"&&(f=l.toElement);this.relatedTarget=f,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Gn[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Dt.aa.h.call(this)}}S(Dt,J);var Gn={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var St="closure_listenable_"+(1e6*Math.random()|0),ri=0;function Qn(l,f,g,b,P){this.listener=l,this.proxy=null,this.src=f,this.type=g,this.capture=!!b,this.ha=P,this.key=++ri,this.da=this.fa=!1}function mn(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function tn(l){this.src=l,this.g={},this.h=0}tn.prototype.add=function(l,f,g,b,P){var k=l.toString();l=this.g[k],l||(l=this.g[k]=[],this.h++);var G=pn(l,f,b,P);return-1<G?(f=l[G],g||(f.fa=!1)):(f=new Qn(f,this.src,k,!!b,P),f.fa=g,l.push(f)),f};function $n(l,f){var g=f.type;if(g in l.g){var b=l.g[g],P=Array.prototype.indexOf.call(b,f,void 0),k;(k=0<=P)&&Array.prototype.splice.call(b,P,1),k&&(mn(f),l.g[g].length==0&&(delete l.g[g],l.h--))}}function pn(l,f,g,b){for(var P=0;P<l.length;++P){var k=l[P];if(!k.da&&k.listener==f&&k.capture==!!g&&k.ha==b)return P}return-1}var ii="closure_lm_"+(1e6*Math.random()|0),ds={};function ms(l,f,g,b,P){if(Array.isArray(f)){for(var k=0;k<f.length;k++)ms(l,f[k],g,b,P);return null}return g=oc(g),l&&l[St]?l.K(f,g,c(b)?!!b.capture:!1,P):Wo(l,f,g,!1,b,P)}function Wo(l,f,g,b,P,k){if(!f)throw Error("Invalid event type");var G=c(P)?!!P.capture:!!P,Pt=Nn(l);if(Pt||(l[ii]=Pt=new tn(l)),g=Pt.add(f,g,b,G,k),g.proxy)return g;if(b=ps(),g.proxy=b,b.src=l,b.listener=g,l.addEventListener)gt||(P=G),P===void 0&&(P=!1),l.addEventListener(f.toString(),b,P);else if(l.attachEvent)l.attachEvent(si(f.toString()),b);else if(l.addListener&&l.removeListener)l.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return g}function ps(){function l(g){return f.call(l.src,l.listener,g)}const f=ac;return l}function br(l,f,g,b,P){if(Array.isArray(f))for(var k=0;k<f.length;k++)br(l,f[k],g,b,P);else b=c(b)?!!b.capture:!!b,g=oc(g),l&&l[St]?(l=l.i,f=String(f).toString(),f in l.g&&(k=l.g[f],g=pn(k,g,b,P),-1<g&&(mn(k[g]),Array.prototype.splice.call(k,g,1),k.length==0&&(delete l.g[f],l.h--)))):l&&(l=Nn(l))&&(f=l.g[f.toString()],l=-1,f&&(l=pn(f,g,b,P)),(g=-1<l?f[l]:null)&&ua(g))}function ua(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[St])$n(f.i,l);else{var g=l.type,b=l.proxy;f.removeEventListener?f.removeEventListener(g,b,l.capture):f.detachEvent?f.detachEvent(si(g),b):f.addListener&&f.removeListener&&f.removeListener(b),(g=Nn(f))?($n(g,l),g.h==0&&(g.src=null,f[ii]=null)):mn(l)}}}function si(l){return l in ds?ds[l]:ds[l]="on"+l}function ac(l,f){if(l.da)l=!0;else{f=new Dt(f,this);var g=l.listener,b=l.ha||l.src;l.fa&&ua(l),l=g.call(b,f)}return l}function Nn(l){return l=l[ii],l instanceof tn?l:null}var Zo="__closure_events_fn_"+(1e9*Math.random()>>>0);function oc(l){return typeof l=="function"?l:(l[Zo]||(l[Zo]=function(f){return l.handleEvent(f)}),l[Zo])}function xt(){at.call(this),this.i=new tn(this),this.M=this,this.F=null}S(xt,at),xt.prototype[St]=!0,xt.prototype.removeEventListener=function(l,f,g,b){br(this,l,f,g,b)};function Kt(l,f){var g,b=l.F;if(b)for(g=[];b;b=b.F)g.push(b);if(l=l.M,b=f.type||f,typeof f=="string")f=new J(f,l);else if(f instanceof J)f.target=f.target||l;else{var P=f;f=new J(b,l),R(f,P)}if(P=!0,g)for(var k=g.length-1;0<=k;k--){var G=f.g=g[k];P=ca(G,b,!0,f)&&P}if(G=f.g=l,P=ca(G,b,!0,f)&&P,P=ca(G,b,!1,f)&&P,g)for(k=0;k<g.length;k++)G=f.g=g[k],P=ca(G,b,!1,f)&&P}xt.prototype.N=function(){if(xt.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var g=l.g[f],b=0;b<g.length;b++)mn(g[b]);delete l.g[f],l.h--}}this.F=null},xt.prototype.K=function(l,f,g,b){return this.i.add(String(l),f,!1,g,b)},xt.prototype.L=function(l,f,g,b){return this.i.add(String(l),f,!0,g,b)};function ca(l,f,g,b){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var P=!0,k=0;k<f.length;++k){var G=f[k];if(G&&!G.da&&G.capture==g){var Pt=G.listener,be=G.ha||G.src;G.fa&&$n(l.i,G),P=Pt.call(be,b)!==!1&&P}}return P&&!b.defaultPrevented}function lc(l,f,g){if(typeof l=="function")g&&(l=p(l,g));else if(l&&typeof l.handleEvent=="function")l=p(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:o.setTimeout(l,f||0)}function gs(l){l.g=lc(()=>{l.g=null,l.i&&(l.i=!1,gs(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class vd extends at{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:gs(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ai(l){at.call(this),this.h=l,this.g={}}S(ai,at);var ha=[];function Er(l){L(l.g,function(f,g){this.g.hasOwnProperty(g)&&ua(f)},l),l.g={}}ai.prototype.N=function(){ai.aa.N.call(this),Er(this)},ai.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fa=o.JSON.stringify,oi=o.JSON.parse,_d=class{stringify(l){return o.JSON.stringify(l,void 0)}parse(l){return o.JSON.parse(l,void 0)}};function Jo(){}Jo.prototype.h=null;function tl(l){return l.h||(l.h=l.i())}function el(){}var ys={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vs(){J.call(this,"d")}S(vs,J);function gn(){J.call(this,"c")}S(gn,J);var wr={},nt=null;function _t(){return nt=nt||new xt}wr.La="serverreachability";function Mt(l){J.call(this,wr.La,l)}S(Mt,J);function ve(l){const f=_t();Kt(f,new Mt(f))}wr.STAT_EVENT="statevent";function qe(l,f){J.call(this,wr.STAT_EVENT,l),this.stat=f}S(qe,J);function Ht(l){const f=_t();Kt(f,new qe(f,l))}wr.Ma="timingevent";function Yn(l,f){J.call(this,wr.Ma,l),this.size=f}S(Yn,J);function _e(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){l()},f)}function He(){this.g=!0}He.prototype.xa=function(){this.g=!1};function qx(l,f,g,b,P,k){l.info(function(){if(l.g)if(k)for(var G="",Pt=k.split("&"),be=0;be<Pt.length;be++){var bt=Pt[be].split("=");if(1<bt.length){var xe=bt[0];bt=bt[1];var Ce=xe.split("_");G=2<=Ce.length&&Ce[1]=="type"?G+(xe+"="+bt+"&"):G+(xe+"=redacted&")}}else G=null;else G=k;return"XMLHTTP REQ ("+b+") [attempt "+P+"]: "+f+`
`+g+`
`+G})}function Hx(l,f,g,b,P,k,G){l.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+P+"]: "+f+`
`+g+`
`+k+" "+G})}function da(l,f,g,b){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+Gx(l,g)+(b?" "+b:"")})}function Fx(l,f){l.info(function(){return"TIMEOUT: "+f})}He.prototype.info=function(){};function Gx(l,f){if(!l.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var b=g[l];if(!(2>b.length)){var P=b[1];if(Array.isArray(P)&&!(1>P.length)){var k=P[0];if(k!="noop"&&k!="stop"&&k!="close")for(var G=1;G<P.length;G++)P[G]=""}}}}return fa(g)}catch{return f}}var uc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_v={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},bd;function cc(){}S(cc,Jo),cc.prototype.g=function(){return new XMLHttpRequest},cc.prototype.i=function(){return{}},bd=new cc;function li(l,f,g,b){this.j=l,this.i=f,this.l=g,this.R=b||1,this.U=new ai(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bv}function bv(){this.i=null,this.g="",this.h=!1}var Ev={},Ed={};function wd(l,f,g){l.L=1,l.v=mc(Tr(f)),l.m=g,l.P=!0,wv(l,null)}function wv(l,f){l.F=Date.now(),hc(l),l.A=Tr(l.v);var g=l.A,b=l.R;Array.isArray(b)||(b=[String(b)]),kv(g.i,"t",b),l.C=0,g=l.j.J,l.h=new bv,l.g=t_(l.j,g?f:null,!l.m),0<l.O&&(l.M=new vd(p(l.Y,l,l.g),l.O)),f=l.U,g=l.g,b=l.ca;var P="readystatechange";Array.isArray(P)||(P&&(ha[0]=P.toString()),P=ha);for(var k=0;k<P.length;k++){var G=ms(g,P[k],b||f.handleEvent,!1,f.h||f);if(!G)break;f.g[G.key]=G}f=l.H?_(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),ve(),qx(l.i,l.u,l.A,l.l,l.R,l.m)}li.prototype.ca=function(l){l=l.target;const f=this.M;f&&Ar(l)==3?f.j():this.Y(l)},li.prototype.Y=function(l){try{if(l==this.g)t:{const Ce=Ar(this.g);var f=this.g.Ba();const ga=this.g.Z();if(!(3>Ce)&&(Ce!=3||this.g&&(this.h.h||this.g.oa()||Hv(this.g)))){this.J||Ce!=4||f==7||(f==8||0>=ga?ve(3):ve(2)),Td(this);var g=this.g.Z();this.X=g;e:if(Tv(this)){var b=Hv(this.g);l="";var P=b.length,k=Ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_s(this),nl(this);var G="";break e}this.h.i=new o.TextDecoder}for(f=0;f<P;f++)this.h.h=!0,l+=this.h.i.decode(b[f],{stream:!(k&&f==P-1)});b.length=0,this.h.g+=l,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=g==200,Hx(this.i,this.u,this.A,this.l,this.R,Ce,g),this.o){if(this.T&&!this.K){e:{if(this.g){var Pt,be=this.g;if((Pt=be.g?be.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Pt)){var bt=Pt;break e}}bt=null}if(g=bt)da(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ad(this,g);else{this.o=!1,this.s=3,Ht(12),_s(this),nl(this);break t}}if(this.P){g=!0;let On;for(;!this.J&&this.C<G.length;)if(On=Qx(this,G),On==Ed){Ce==4&&(this.s=4,Ht(14),g=!1),da(this.i,this.l,null,"[Incomplete Response]");break}else if(On==Ev){this.s=4,Ht(15),da(this.i,this.l,G,"[Invalid Chunk]"),g=!1;break}else da(this.i,this.l,On,null),Ad(this,On);if(Tv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||G.length!=0||this.h.h||(this.s=1,Ht(16),g=!1),this.o=this.o&&g,!g)da(this.i,this.l,G,"[Invalid Chunked Response]"),_s(this),nl(this);else if(0<G.length&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.ba&&!xe.M&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),Nd(xe),xe.M=!0,Ht(11))}}else da(this.i,this.l,G,null),Ad(this,G);Ce==4&&_s(this),this.o&&!this.J&&(Ce==4?Xv(this.j,this):(this.o=!1,hc(this)))}else uC(this.g),g==400&&0<G.indexOf("Unknown SID")?(this.s=3,Ht(12)):(this.s=0,Ht(13)),_s(this),nl(this)}}}catch{}finally{}};function Tv(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Qx(l,f){var g=l.C,b=f.indexOf(`
`,g);return b==-1?Ed:(g=Number(f.substring(g,b)),isNaN(g)?Ev:(b+=1,b+g>f.length?Ed:(f=f.slice(b,b+g),l.C=b+g,f)))}li.prototype.cancel=function(){this.J=!0,_s(this)};function hc(l){l.S=Date.now()+l.I,Av(l,l.I)}function Av(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=_e(p(l.ba,l),f)}function Td(l){l.B&&(o.clearTimeout(l.B),l.B=null)}li.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Fx(this.i,this.A),this.L!=2&&(ve(),Ht(17)),_s(this),this.s=2,nl(this)):Av(this,this.S-l)};function nl(l){l.j.G==0||l.J||Xv(l.j,l)}function _s(l){Td(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,Er(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function Ad(l,f){try{var g=l.j;if(g.G!=0&&(g.g==l||Sd(g.h,l))){if(!l.K&&Sd(g.h,l)&&g.G==3){try{var b=g.Da.g.parse(f)}catch{b=null}if(Array.isArray(b)&&b.length==3){var P=b;if(P[0]==0){t:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)bc(g),vc(g);else break t;Id(g),Ht(18)}}else g.za=P[1],0<g.za-g.T&&37500>P[2]&&g.F&&g.v==0&&!g.C&&(g.C=_e(p(g.Za,g),6e3));if(1>=xv(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Es(g,11)}else if((l.K||g.g==l)&&bc(g),!v(f))for(P=g.Da.g.parse(f),f=0;f<P.length;f++){let bt=P[f];if(g.T=bt[0],bt=bt[1],g.G==2)if(bt[0]=="c"){g.K=bt[1],g.ia=bt[2];const xe=bt[3];xe!=null&&(g.la=xe,g.j.info("VER="+g.la));const Ce=bt[4];Ce!=null&&(g.Aa=Ce,g.j.info("SVER="+g.Aa));const ga=bt[5];ga!=null&&typeof ga=="number"&&0<ga&&(b=1.5*ga,g.L=b,g.j.info("backChannelRequestTimeoutMs_="+b)),b=g;const On=l.g;if(On){const wc=On.g?On.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wc){var k=b.h;k.g||wc.indexOf("spdy")==-1&&wc.indexOf("quic")==-1&&wc.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(Rd(k,k.h),k.h=null))}if(b.D){const Od=On.g?On.g.getResponseHeader("X-HTTP-Session-Id"):null;Od&&(b.ya=Od,zt(b.I,b.D,Od))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),b=g;var G=l;if(b.qa=Jv(b,b.J?b.ia:null,b.W),G.K){Cv(b.h,G);var Pt=G,be=b.L;be&&(Pt.I=be),Pt.B&&(Td(Pt),hc(Pt)),b.g=G}else Yv(b);0<g.i.length&&_c(g)}else bt[0]!="stop"&&bt[0]!="close"||Es(g,7);else g.G==3&&(bt[0]=="stop"||bt[0]=="close"?bt[0]=="stop"?Es(g,7):Cd(g):bt[0]!="noop"&&g.l&&g.l.ta(bt),g.v=0)}}ve(4)}catch{}}var $x=class{constructor(l,f){this.g=l,this.map=f}};function Sv(l){this.l=l||10,o.PerformanceNavigationTiming?(l=o.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Rv(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function xv(l){return l.h?1:l.g?l.g.size:0}function Sd(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function Rd(l,f){l.g?l.g.add(f):l.h=f}function Cv(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}Sv.prototype.cancel=function(){if(this.i=Iv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Iv(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const g of l.g.values())f=f.concat(g.D);return f}return E(l.i)}function Yx(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var f=[],g=l.length,b=0;b<g;b++)f.push(l[b]);return f}f=[],g=0;for(b in l)f[g++]=l[b];return f}function Kx(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var f=[];l=l.length;for(var g=0;g<l;g++)f.push(g);return f}f=[],g=0;for(const b in l)f[g++]=b;return f}}}function Nv(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var g=Kx(l),b=Yx(l),P=b.length,k=0;k<P;k++)f.call(void 0,b[k],g&&g[k],l)}var Ov=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xx(l,f){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var b=l[g].indexOf("="),P=null;if(0<=b){var k=l[g].substring(0,b);P=l[g].substring(b+1)}else k=l[g];f(k,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function bs(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof bs){this.h=l.h,fc(this,l.j),this.o=l.o,this.g=l.g,dc(this,l.s),this.l=l.l;var f=l.i,g=new sl;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),Dv(this,g),this.m=l.m}else l&&(f=String(l).match(Ov))?(this.h=!1,fc(this,f[1]||"",!0),this.o=rl(f[2]||""),this.g=rl(f[3]||"",!0),dc(this,f[4]),this.l=rl(f[5]||"",!0),Dv(this,f[6]||"",!0),this.m=rl(f[7]||"")):(this.h=!1,this.i=new sl(null,this.h))}bs.prototype.toString=function(){var l=[],f=this.j;f&&l.push(il(f,Mv,!0),":");var g=this.g;return(g||f=="file")&&(l.push("//"),(f=this.o)&&l.push(il(f,Mv,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(il(g,g.charAt(0)=="/"?Jx:Zx,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",il(g,eC)),l.join("")};function Tr(l){return new bs(l)}function fc(l,f,g){l.j=g?rl(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function dc(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function Dv(l,f,g){f instanceof sl?(l.i=f,nC(l.i,l.h)):(g||(f=il(f,tC)),l.i=new sl(f,l.h))}function zt(l,f,g){l.i.set(f,g)}function mc(l){return zt(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function rl(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function il(l,f,g){return typeof l=="string"?(l=encodeURI(l).replace(f,Wx),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Wx(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Mv=/[#\/\?@]/g,Zx=/[#\?:]/g,Jx=/[#\?]/g,tC=/[#\?@]/g,eC=/#/g;function sl(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function ui(l){l.g||(l.g=new Map,l.h=0,l.i&&Xx(l.i,function(f,g){l.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}e=sl.prototype,e.add=function(l,f){ui(this),this.i=null,l=ma(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(f),this.h+=1,this};function Pv(l,f){ui(l),f=ma(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function Vv(l,f){return ui(l),f=ma(l,f),l.g.has(f)}e.forEach=function(l,f){ui(this),this.g.forEach(function(g,b){g.forEach(function(P){l.call(f,P,b,this)},this)},this)},e.na=function(){ui(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let b=0;b<f.length;b++){const P=l[b];for(let k=0;k<P.length;k++)g.push(f[b])}return g},e.V=function(l){ui(this);let f=[];if(typeof l=="string")Vv(this,l)&&(f=f.concat(this.g.get(ma(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)f=f.concat(l[g])}return f},e.set=function(l,f){return ui(this),this.i=null,l=ma(this,l),Vv(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},e.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function kv(l,f,g){Pv(l,f),0<g.length&&(l.i=null,l.g.set(ma(l,f),E(g)),l.h+=g.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var b=f[g];const k=encodeURIComponent(String(b)),G=this.V(b);for(b=0;b<G.length;b++){var P=k;G[b]!==""&&(P+="="+encodeURIComponent(String(G[b]))),l.push(P)}}return this.i=l.join("&")};function ma(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function nC(l,f){f&&!l.j&&(ui(l),l.i=null,l.g.forEach(function(g,b){var P=b.toLowerCase();b!=P&&(Pv(this,b),kv(this,P,g))},l)),l.j=f}function rC(l,f){const g=new He;if(o.Image){const b=new Image;b.onload=d(ci,g,"TestLoadImage: loaded",!0,f,b),b.onerror=d(ci,g,"TestLoadImage: error",!1,f,b),b.onabort=d(ci,g,"TestLoadImage: abort",!1,f,b),b.ontimeout=d(ci,g,"TestLoadImage: timeout",!1,f,b),o.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=l}else f(!1)}function iC(l,f){const g=new He,b=new AbortController,P=setTimeout(()=>{b.abort(),ci(g,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:b.signal}).then(k=>{clearTimeout(P),k.ok?ci(g,"TestPingServer: ok",!0,f):ci(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(P),ci(g,"TestPingServer: error",!1,f)})}function ci(l,f,g,b,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),b(g)}catch{}}function sC(){this.g=new _d}function aC(l,f,g){const b=g||"";try{Nv(l,function(P,k){let G=P;c(P)&&(G=fa(P)),f.push(b+k+"="+encodeURIComponent(G))})}catch(P){throw f.push(b+"type="+encodeURIComponent("_badmap")),P}}function pc(l){this.l=l.Ub||null,this.j=l.eb||!1}S(pc,Jo),pc.prototype.g=function(){return new gc(this.l,this.j)},pc.prototype.i=function(l){return function(){return l}}({});function gc(l,f){xt.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(gc,xt),e=gc.prototype,e.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,ol(this)},e.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||o).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,al(this)),this.readyState=0},e.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,ol(this)),this.g&&(this.readyState=3,ol(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Lv(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Lv(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}e.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?al(this):ol(this),this.readyState==3&&Lv(this)}},e.Ra=function(l){this.g&&(this.response=this.responseText=l,al(this))},e.Qa=function(l){this.g&&(this.response=l,al(this))},e.ga=function(){this.g&&al(this)};function al(l){l.readyState=4,l.l=null,l.j=null,l.v=null,ol(l)}e.setRequestHeader=function(l,f){this.u.append(l,f)},e.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=f.next();return l.join(`\r
`)};function ol(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(gc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Uv(l){let f="";return L(l,function(g,b){f+=b,f+=":",f+=g,f+=`\r
`}),f}function xd(l,f,g){t:{for(b in g){var b=!1;break t}b=!0}b||(g=Uv(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):zt(l,f,g))}function Xt(l){xt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Xt,xt);var oC=/^https?$/i,lC=["POST","PUT"];e=Xt.prototype,e.Ha=function(l){this.J=l},e.ea=function(l,f,g,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():bd.g(),this.v=this.o?tl(this.o):tl(bd),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(k){zv(this,k);return}if(l=g||"",g=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var P in b)g.set(P,b[P]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const k of b.keys())g.set(k,b.get(k));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(g.keys()).find(k=>k.toLowerCase()=="content-type"),P=o.FormData&&l instanceof o.FormData,!(0<=Array.prototype.indexOf.call(lC,f,void 0))||b||P||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,G]of g)this.g.setRequestHeader(k,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qv(this),this.u=!0,this.g.send(l),this.u=!1}catch(k){zv(this,k)}};function zv(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,jv(l),yc(l)}function jv(l){l.A||(l.A=!0,Kt(l,"complete"),Kt(l,"error"))}e.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Kt(this,"complete"),Kt(this,"abort"),yc(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yc(this,!0)),Xt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Bv(this):this.bb())},e.bb=function(){Bv(this)};function Bv(l){if(l.h&&typeof a<"u"&&(!l.v[1]||Ar(l)!=4||l.Z()!=2)){if(l.u&&Ar(l)==4)lc(l.Ea,0,l);else if(Kt(l,"readystatechange"),Ar(l)==4){l.h=!1;try{const G=l.Z();t:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break t;default:f=!1}var g;if(!(g=f)){var b;if(b=G===0){var P=String(l.D).match(Ov)[1]||null;!P&&o.self&&o.self.location&&(P=o.self.location.protocol.slice(0,-1)),b=!oC.test(P?P.toLowerCase():"")}g=b}if(g)Kt(l,"complete"),Kt(l,"success");else{l.m=6;try{var k=2<Ar(l)?l.g.statusText:""}catch{k=""}l.l=k+" ["+l.Z()+"]",jv(l)}}finally{yc(l)}}}}function yc(l,f){if(l.g){qv(l);const g=l.g,b=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||Kt(l,"ready");try{g.onreadystatechange=b}catch{}}}function qv(l){l.I&&(o.clearTimeout(l.I),l.I=null)}e.isActive=function(){return!!this.g};function Ar(l){return l.g?l.g.readyState:0}e.Z=function(){try{return 2<Ar(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),oi(f)}};function Hv(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function uC(l){const f={};l=(l.g&&2<=Ar(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<l.length;b++){if(v(l[b]))continue;var g=N(l[b]);const P=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const k=f[P]||[];f[P]=k,k.push(g)}T(f,function(b){return b.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ll(l,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||f}function Fv(l){this.Aa=0,this.i=[],this.j=new He,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ll("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ll("baseRetryDelayMs",5e3,l),this.cb=ll("retryDelaySeedMs",1e4,l),this.Wa=ll("forwardChannelMaxRetries",2,l),this.wa=ll("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Sv(l&&l.concurrentRequestLimit),this.Da=new sC,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Fv.prototype,e.la=8,e.G=1,e.connect=function(l,f,g,b){Ht(0),this.W=l,this.H=f||{},g&&b!==void 0&&(this.H.OSID=g,this.H.OAID=b),this.F=this.X,this.I=Jv(this,null,this.W),_c(this)};function Cd(l){if(Gv(l),l.G==3){var f=l.U++,g=Tr(l.I);if(zt(g,"SID",l.K),zt(g,"RID",f),zt(g,"TYPE","terminate"),ul(l,g),f=new li(l,l.j,f),f.L=2,f.v=mc(Tr(g)),g=!1,o.navigator&&o.navigator.sendBeacon)try{g=o.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&o.Image&&(new Image().src=f.v,g=!0),g||(f.g=t_(f.j,null),f.g.ea(f.v)),f.F=Date.now(),hc(f)}Zv(l)}function vc(l){l.g&&(Nd(l),l.g.cancel(),l.g=null)}function Gv(l){vc(l),l.u&&(o.clearTimeout(l.u),l.u=null),bc(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&o.clearTimeout(l.s),l.s=null)}function _c(l){if(!Rv(l.h)&&!l.s){l.s=!0;var f=l.Ga;$||W(),H||($(),H=!0),F.add(f,l),l.B=0}}function cC(l,f){return xv(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=_e(p(l.Ga,l,f),Wv(l,l.B)),l.B++,!0)}e.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const P=new li(this,this.j,l);let k=this.o;if(this.S&&(k?(k=_(k),R(k,this.S)):k=this.S),this.m!==null||this.O||(P.H=k,k=null),this.P)t:{for(var f=0,g=0;g<this.i.length;g++){e:{var b=this.i[g];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(f+=b,4096<f){f=g;break t}if(f===4096||g===this.i.length-1){f=g+1;break t}}f=1e3}else f=1e3;f=$v(this,P,f),g=Tr(this.I),zt(g,"RID",l),zt(g,"CVER",22),this.D&&zt(g,"X-HTTP-Session-Id",this.D),ul(this,g),k&&(this.O?f="headers="+encodeURIComponent(String(Uv(k)))+"&"+f:this.m&&xd(g,this.m,k)),Rd(this.h,P),this.Ua&&zt(g,"TYPE","init"),this.P?(zt(g,"$req",f),zt(g,"SID","null"),P.T=!0,wd(P,g,null)):wd(P,g,f),this.G=2}}else this.G==3&&(l?Qv(this,l):this.i.length==0||Rv(this.h)||Qv(this))};function Qv(l,f){var g;f?g=f.l:g=l.U++;const b=Tr(l.I);zt(b,"SID",l.K),zt(b,"RID",g),zt(b,"AID",l.T),ul(l,b),l.m&&l.o&&xd(b,l.m,l.o),g=new li(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),f&&(l.i=f.D.concat(l.i)),f=$v(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Rd(l.h,g),wd(g,b,f)}function ul(l,f){l.H&&L(l.H,function(g,b){zt(f,b,g)}),l.l&&Nv({},function(g,b){zt(f,b,g)})}function $v(l,f,g){g=Math.min(l.i.length,g);var b=l.l?p(l.l.Na,l.l,l):null;t:{var P=l.i;let k=-1;for(;;){const G=["count="+g];k==-1?0<g?(k=P[0].g,G.push("ofs="+k)):k=0:G.push("ofs="+k);let Pt=!0;for(let be=0;be<g;be++){let bt=P[be].g;const xe=P[be].map;if(bt-=k,0>bt)k=Math.max(0,P[be].g-100),Pt=!1;else try{aC(xe,G,"req"+bt+"_")}catch{b&&b(xe)}}if(Pt){b=G.join("&");break t}}}return l=l.i.splice(0,g),f.D=l,b}function Yv(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;$||W(),H||($(),H=!0),F.add(f,l),l.v=0}}function Id(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=_e(p(l.Fa,l),Wv(l,l.v)),l.v++,!0)}e.Fa=function(){if(this.u=null,Kv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=_e(p(this.ab,this),l)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ht(10),vc(this),Kv(this))};function Nd(l){l.A!=null&&(o.clearTimeout(l.A),l.A=null)}function Kv(l){l.g=new li(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=Tr(l.qa);zt(f,"RID","rpc"),zt(f,"SID",l.K),zt(f,"AID",l.T),zt(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&zt(f,"TO",l.ja),zt(f,"TYPE","xmlhttp"),ul(l,f),l.m&&l.o&&xd(f,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=mc(Tr(f)),g.m=null,g.P=!0,wv(g,l)}e.Za=function(){this.C!=null&&(this.C=null,vc(this),Id(this),Ht(19))};function bc(l){l.C!=null&&(o.clearTimeout(l.C),l.C=null)}function Xv(l,f){var g=null;if(l.g==f){bc(l),Nd(l),l.g=null;var b=2}else if(Sd(l.h,f))g=f.D,Cv(l.h,f),b=1;else return;if(l.G!=0){if(f.o)if(b==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var P=l.B;b=_t(),Kt(b,new Yn(b,g)),_c(l)}else Yv(l);else if(P=f.s,P==3||P==0&&0<f.X||!(b==1&&cC(l,f)||b==2&&Id(l)))switch(g&&0<g.length&&(f=l.h,f.i=f.i.concat(g)),P){case 1:Es(l,5);break;case 4:Es(l,10);break;case 3:Es(l,6);break;default:Es(l,2)}}}function Wv(l,f){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*f}function Es(l,f){if(l.j.info("Error code "+f),f==2){var g=p(l.fb,l),b=l.Xa;const P=!b;b=new bs(b||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||fc(b,"https"),mc(b),P?rC(b.toString(),g):iC(b.toString(),g)}else Ht(2);l.G=0,l.l&&l.l.sa(f),Zv(l),Gv(l)}e.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function Zv(l){if(l.G=0,l.ka=[],l.l){const f=Iv(l.h);(f.length!=0||l.i.length!=0)&&(A(l.ka,f),A(l.ka,l.i),l.h.i.length=0,E(l.i),l.i.length=0),l.l.ra()}}function Jv(l,f,g){var b=g instanceof bs?Tr(g):new bs(g);if(b.g!="")f&&(b.g=f+"."+b.g),dc(b,b.s);else{var P=o.location;b=P.protocol,f=f?f+"."+P.hostname:P.hostname,P=+P.port;var k=new bs(null);b&&fc(k,b),f&&(k.g=f),P&&dc(k,P),g&&(k.l=g),b=k}return g=l.D,f=l.ya,g&&f&&zt(b,g,f),zt(b,"VER",l.la),ul(l,b),b}function t_(l,f,g){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new Xt(new pc({eb:g})):new Xt(l.pa),f.Ha(l.J),f}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function e_(){}e=e_.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Ec(){}Ec.prototype.g=function(l,f){return new en(l,f)};function en(l,f){xt.call(this),this.g=new Fv(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!v(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!v(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new pa(this)}S(en,xt),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Cd(this.g)},en.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=fa(l),l=g);f.i.push(new $x(f.Ya++,l)),f.G==3&&_c(f)},en.prototype.N=function(){this.g.l=null,delete this.j,Cd(this.g),delete this.g,en.aa.N.call(this)};function n_(l){vs.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){t:{for(const g in f){l=g;break t}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}S(n_,vs);function r_(){gn.call(this),this.status=1}S(r_,gn);function pa(l){this.g=l}S(pa,e_),pa.prototype.ua=function(){Kt(this.g,"a")},pa.prototype.ta=function(l){Kt(this.g,new n_(l))},pa.prototype.sa=function(l){Kt(this.g,new r_)},pa.prototype.ra=function(){Kt(this.g,"b")},Ec.prototype.createWebChannel=Ec.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,ZS=function(){return new Ec},WS=function(){return _t()},XS=wr,$p={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},uc.NO_ERROR=0,uc.TIMEOUT=8,uc.HTTP_ERROR=6,dh=uc,_v.COMPLETE="complete",KS=_v,el.EventType=ys,ys.OPEN="a",ys.CLOSE="b",ys.ERROR="c",ys.MESSAGE="d",xt.prototype.listen=xt.prototype.K,Al=el,Xt.prototype.listenOnce=Xt.prototype.L,Xt.prototype.getLastError=Xt.prototype.Ka,Xt.prototype.getLastErrorCode=Xt.prototype.Ba,Xt.prototype.getStatus=Xt.prototype.Z,Xt.prototype.getResponseJson=Xt.prototype.Oa,Xt.prototype.getResponseText=Xt.prototype.oa,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Ha,YS=Xt}).apply(typeof Fc<"u"?Fc:typeof self<"u"?self:typeof window<"u"?window:{});const Lb="@firebase/firestore",Ub="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let De=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};De.UNAUTHENTICATED=new De(null),De.GOOGLE_CREDENTIALS=new De("google-credentials-uid"),De.FIRST_PARTY=new De("first-party-uid"),De.MOCK_USER=new De("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qo="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=new Sy("@firebase/firestore");function Ta(){return Zs.logLevel}function K(e,...t){if(Zs.logLevel<=dt.DEBUG){const n=t.map(Ly);Zs.debug(`Firestore (${Qo}): ${e}`,...n)}}function Zr(e,...t){if(Zs.logLevel<=dt.ERROR){const n=t.map(Ly);Zs.error(`Firestore (${Qo}): ${e}`,...n)}}function xo(e,...t){if(Zs.logLevel<=dt.WARN){const n=t.map(Ly);Zs.warn(`Firestore (${Qo}): ${e}`,...n)}}function Ly(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,JS(e,r,n)}function JS(e,t,n){let r=`FIRESTORE (${Qo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Zr(r),new Error(r)}function Rt(e,t,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,e||JS(t,i,r)}function st(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends ni{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class D6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(De.UNAUTHENTICATED))}shutdown(){}}class M6{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class P6{constructor(t){this.t=t,this.currentUser=De.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Rt(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new qs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new qs,t.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},o=u=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>o(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?o(u):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new qs)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Rt(typeof r.accessToken=="string",31837,{l:r}),new tR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Rt(t===null||typeof t=="string",2055,{h:t}),new De(t)}}class V6{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=De.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class k6{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new V6(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(De.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zb{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class L6{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,An(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Rt(this.o===void 0,3512);const r=s=>{s.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,K("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new zb(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Rt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new zb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U6(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=U6(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%62))}return r}}function mt(e,t){return e<t?-1:e>t?1:0}function Yp(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const i=e.charAt(r),s=t.charAt(r);if(i!==s)return Rm(i)===Rm(s)?mt(i,s):Rm(i)?1:-1}return mt(e.length,t.length)}const z6=55296,j6=57343;function Rm(e){const t=e.charCodeAt(0);return t>=z6&&t<=j6}function Co(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="__name__";class Xn{constructor(t,n,r){n===void 0?n=0:n>t.length&&Z(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&Z(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Xn.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Xn?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=Xn.compareSegments(t.get(i),n.get(i));if(s!==0)return s}return mt(t.length,n.length)}static compareSegments(t,n){const r=Xn.isNumericId(t),i=Xn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Xn.extractNumericId(t).compare(Xn.extractNumericId(n)):Yp(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Xi.fromString(t.substring(4,t.length-2))}}class kt extends Xn{construct(t,n,r){return new kt(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new Y(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new kt(n)}static emptyPath(){return new kt([])}}const B6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ae extends Xn{construct(t,n,r){return new Ae(t,n,r)}static isValidIdentifier(t){return B6.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ae.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jb}static keyField(){return new Ae([jb])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Y(z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<t.length;){const o=t[i];if(o==="\\"){if(i+1===t.length)throw new Y(z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Y(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new Y(z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ae(n)}static emptyPath(){return new Ae([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(t){this.path=t}static fromPath(t){return new X(kt.fromString(t))}static fromName(t){return new X(kt.fromString(t).popFirst(5))}static empty(){return new X(kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&kt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return kt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new X(new kt(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(e,t,n){if(!n)throw new Y(z.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function q6(e,t,n,r){if(t===!0&&r===!0)throw new Y(z.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Bb(e){if(!X.isDocumentKey(e))throw new Y(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function qb(e){if(X.isDocumentKey(e))throw new Y(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function nR(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function nd(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Z(12329,{type:typeof e})}function to(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Y(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nd(e);throw new Y(z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(e,t){const n={typeString:e};return t&&(n.value=t),n}function Wu(e,t){if(!nR(e))throw new Y(z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,s="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const a=e[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Y(z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb=-62135596800,Fb=1e6;class Bt{static now(){return Bt.fromMillis(Date.now())}static fromDate(t){return Bt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*Fb);return new Bt(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Y(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Hb)throw new Y(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Y(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Fb}_compareTo(t){return this.seconds===t.seconds?mt(this.nanoseconds,t.nanoseconds):mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Wu(t,Bt._jsonSchema))return new Bt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Hb;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Bt._jsonSchemaVersion="firestore/timestamp/1.0",Bt._jsonSchema={type:ae("string",Bt._jsonSchemaVersion),seconds:ae("number"),nanoseconds:ae("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{static fromTimestamp(t){return new it(t)}static min(){return new it(new Bt(0,0))}static max(){return new it(new Bt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu=-1;function H6(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=it.fromTimestamp(r===1e9?new Bt(n+1,0):new Bt(n,r));return new rs(i,X.empty(),t)}function F6(e){return new rs(e.readTime,e.key,gu)}class rs{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new rs(it.min(),X.empty(),gu)}static max(){return new rs(it.max(),X.empty(),gu)}}function G6(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=X.comparator(e.documentKey,t.documentKey),n!==0?n:mt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(e){if(e.code!==z.FAILED_PRECONDITION||e.message!==Q6)throw e;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Z(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new j((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):j.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):j.reject(n)}static resolve(t){return new j((n,r)=>{n(t)})}static reject(t){return new j((n,r)=>{r(t)})}static waitFor(t){return new j((n,r)=>{let i=0,s=0,a=!1;t.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&n()},u=>r(u))}),a=!0,s===i&&n()})}static or(t){let n=j.resolve(!1);for(const r of t)n=n.next(i=>i?j.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new j((r,i)=>{const s=t.length,a=new Array(s);let o=0;for(let u=0;u<s;u++){const c=u;n(t[c]).next(h=>{a[c]=h,++o,o===s&&r(a)},h=>i(h))}})}static doWhile(t,n){return new j((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function Y6(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yo(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}rd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy=-1;function id(e){return e==null}function ff(e){return e===0&&1/e==-1/0}function K6(e){return typeof e=="number"&&Number.isInteger(e)&&!ff(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR="";function X6(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Gb(t)),t=W6(e.get(n),t);return Gb(t)}function W6(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const s=e.charAt(i);switch(s){case"\0":n+="";break;case rR:n+="";break;default:n+=s}}return n}function Gb(e){return e+rR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ia(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function iR(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(t,n){this.comparator=t,this.root=n||we.EMPTY}insert(t,n){return new Yt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,we.BLACK,null,null))}remove(t){return new Yt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,we.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Gc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Gc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Gc(this.root,t,this.comparator,!0)}}class Gc{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class we{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??we.RED,this.left=i??we.EMPTY,this.right=s??we.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new we(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return we.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return we.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,we.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,we.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Z(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Z(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Z(27949);return t+(this.isRed()?0:1)}}we.EMPTY=null,we.RED=!0,we.BLACK=!1;we.EMPTY=new class{constructor(){this.size=0}get key(){throw Z(57766)}get value(){throw Z(16141)}get color(){throw Z(16727)}get left(){throw Z(29726)}get right(){throw Z(36894)}copy(t,n,r,i,s){return this}insert(t,n,r){return new we(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(t){this.comparator=t,this.data=new Yt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new $b(this.data.getIterator())}getIteratorFrom(t){return new $b(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof he)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new he(this.comparator);return n.data=t,n}}class $b{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(t){this.fields=t,t.sort(Ae.comparator)}static empty(){return new Un([])}unionWith(t){let n=new he(Ae.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new Un(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Co(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new sR("Invalid base64 string: "+s):s}}(t);return new Re(n)}static fromUint8Array(t){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(t);return new Re(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Re.EMPTY_BYTE_STRING=new Re("");const Z6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function is(e){if(Rt(!!e,39018),typeof e=="string"){let t=0;const n=Z6.exec(e);if(Rt(!!n,46558,{timestamp:e}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ne(e.seconds),nanos:ne(e.nanos)}}function ne(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function ss(e){return typeof e=="string"?Re.fromBase64String(e):Re.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR="server_timestamp",oR="__type__",lR="__previous_value__",uR="__local_write_time__";function jy(e){var n,r;return((r=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[oR])==null?void 0:r.stringValue)===aR}function sd(e){const t=e.mapValue.fields[lR];return jy(t)?sd(t):t}function yu(e){const t=is(e.mapValue.fields[uR].timestampValue);return new Bt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(t,n,r,i,s,a,o,u,c,h){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=h}}const df="(default)";class vu{constructor(t,n){this.projectId=t,this.database=n||df}static empty(){return new vu("","")}get isDefaultDatabase(){return this.database===df}isEqual(t){return t instanceof vu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR="__type__",t3="__max__",Qc={mapValue:{}},hR="__vector__",mf="value";function as(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?jy(e)?4:n3(e)?9007199254740991:e3(e)?10:11:Z(28295,{value:e})}function gr(e,t){if(e===t)return!0;const n=as(e);if(n!==as(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return yu(e).isEqual(yu(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=is(i.timestampValue),o=is(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return ss(i.bytesValue).isEqual(ss(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return ne(i.geoPointValue.latitude)===ne(s.geoPointValue.latitude)&&ne(i.geoPointValue.longitude)===ne(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ne(i.integerValue)===ne(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=ne(i.doubleValue),o=ne(s.doubleValue);return a===o?ff(a)===ff(o):isNaN(a)&&isNaN(o)}return!1}(e,t);case 9:return Co(e.arrayValue.values||[],t.arrayValue.values||[],gr);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(Qb(a)!==Qb(o))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(o[u]===void 0||!gr(a[u],o[u])))return!1;return!0}(e,t);default:return Z(52216,{left:e})}}function _u(e,t){return(e.values||[]).find(n=>gr(n,t))!==void 0}function Io(e,t){if(e===t)return 0;const n=as(e),r=as(t);if(n!==r)return mt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return mt(e.booleanValue,t.booleanValue);case 2:return function(s,a){const o=ne(s.integerValue||s.doubleValue),u=ne(a.integerValue||a.doubleValue);return o<u?-1:o>u?1:o===u?0:isNaN(o)?isNaN(u)?0:-1:1}(e,t);case 3:return Yb(e.timestampValue,t.timestampValue);case 4:return Yb(yu(e),yu(t));case 5:return Yp(e.stringValue,t.stringValue);case 6:return function(s,a){const o=ss(s),u=ss(a);return o.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(s,a){const o=s.split("/"),u=a.split("/");for(let c=0;c<o.length&&c<u.length;c++){const h=mt(o[c],u[c]);if(h!==0)return h}return mt(o.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,a){const o=mt(ne(s.latitude),ne(a.latitude));return o!==0?o:mt(ne(s.longitude),ne(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Kb(e.arrayValue,t.arrayValue);case 10:return function(s,a){var p,d,S,E;const o=s.fields||{},u=a.fields||{},c=(p=o[mf])==null?void 0:p.arrayValue,h=(d=u[mf])==null?void 0:d.arrayValue,m=mt(((S=c==null?void 0:c.values)==null?void 0:S.length)||0,((E=h==null?void 0:h.values)==null?void 0:E.length)||0);return m!==0?m:Kb(c,h)}(e.mapValue,t.mapValue);case 11:return function(s,a){if(s===Qc.mapValue&&a===Qc.mapValue)return 0;if(s===Qc.mapValue)return 1;if(a===Qc.mapValue)return-1;const o=s.fields||{},u=Object.keys(o),c=a.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let m=0;m<u.length&&m<h.length;++m){const p=Yp(u[m],h[m]);if(p!==0)return p;const d=Io(o[u[m]],c[h[m]]);if(d!==0)return d}return mt(u.length,h.length)}(e.mapValue,t.mapValue);default:throw Z(23264,{he:n})}}function Yb(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return mt(e,t);const n=is(e),r=is(t),i=mt(n.seconds,r.seconds);return i!==0?i:mt(n.nanos,r.nanos)}function Kb(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Io(n[i],r[i]);if(s)return s}return mt(n.length,r.length)}function No(e){return Kp(e)}function Kp(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=is(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return ss(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return X.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Kp(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${Kp(n.fields[a])}`;return i+"}"}(e.mapValue):Z(61005,{value:e})}function mh(e){switch(as(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=sd(e);return t?16+mh(t):16;case 5:return 2*e.stringValue.length;case 6:return ss(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+mh(s),0)}(e.arrayValue);case 10:case 11:return function(r){let i=0;return ia(r.fields,(s,a)=>{i+=s.length+mh(a)}),i}(e.mapValue);default:throw Z(13486,{value:e})}}function Xb(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Xp(e){return!!e&&"integerValue"in e}function By(e){return!!e&&"arrayValue"in e}function Wb(e){return!!e&&"nullValue"in e}function Zb(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ph(e){return!!e&&"mapValue"in e}function e3(e){var n,r;return((r=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[cR])==null?void 0:r.stringValue)===hR}function Ql(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return ia(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Ql(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Ql(e.arrayValue.values[n]);return t}return{...e}}function n3(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===t3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(t){this.value=t}static empty(){return new Sn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!ph(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ql(n)}setAll(t){let n=Ae.emptyPath(),r={},i=[];t.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=o.popLast()}a?r[o.lastSegment()]=Ql(a):i.push(o.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());ph(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return gr(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];ph(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){ia(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new Sn(Ql(this.value))}}function fR(e){const t=[];return ia(e.fields,(n,r)=>{const i=new Ae([n]);if(ph(r)){const s=fR(r.mapValue).fields;if(s.length===0)t.push(i);else for(const a of s)t.push(i.child(a))}else t.push(i)}),new Un(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(t,n,r,i,s,a,o){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(t){return new Me(t,0,it.min(),it.min(),it.min(),Sn.empty(),0)}static newFoundDocument(t,n,r,i){return new Me(t,1,n,it.min(),r,i,0)}static newNoDocument(t,n){return new Me(t,2,n,it.min(),it.min(),Sn.empty(),0)}static newUnknownDocument(t,n){return new Me(t,3,n,it.min(),it.min(),Sn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(it.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Sn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=it.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Me&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Me(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(t,n){this.position=t,this.inclusive=n}}function Jb(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(s.field.isKeyField()?r=X.comparator(X.fromName(a.referenceValue),n.key):r=Io(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function tE(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!gr(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(t,n="asc"){this.field=t,this.dir=n}}function r3(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{}class se extends dR{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new s3(t,n,r):n==="array-contains"?new l3(t,r):n==="in"?new u3(t,r):n==="not-in"?new c3(t,r):n==="array-contains-any"?new h3(t,r):new se(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new a3(t,r):new o3(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Io(n,this.value)):n!==null&&as(this.value)===as(n)&&this.matchesComparison(Io(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Z(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qn extends dR{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new qn(t,n)}matches(t){return mR(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function mR(e){return e.op==="and"}function pR(e){return i3(e)&&mR(e)}function i3(e){for(const t of e.filters)if(t instanceof qn)return!1;return!0}function Wp(e){if(e instanceof se)return e.field.canonicalString()+e.op.toString()+No(e.value);if(pR(e))return e.filters.map(t=>Wp(t)).join(",");{const t=e.filters.map(n=>Wp(n)).join(",");return`${e.op}(${t})`}}function gR(e,t){return e instanceof se?function(r,i){return i instanceof se&&r.op===i.op&&r.field.isEqual(i.field)&&gr(r.value,i.value)}(e,t):e instanceof qn?function(r,i){return i instanceof qn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,o)=>s&&gR(a,i.filters[o]),!0):!1}(e,t):void Z(19439)}function yR(e){return e instanceof se?function(n){return`${n.field.canonicalString()} ${n.op} ${No(n.value)}`}(e):e instanceof qn?function(n){return n.op.toString()+" {"+n.getFilters().map(yR).join(" ,")+"}"}(e):"Filter"}class s3 extends se{constructor(t,n,r){super(t,n,r),this.key=X.fromName(r.referenceValue)}matches(t){const n=X.comparator(t.key,this.key);return this.matchesComparison(n)}}class a3 extends se{constructor(t,n){super(t,"in",n),this.keys=vR("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class o3 extends se{constructor(t,n){super(t,"not-in",n),this.keys=vR("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function vR(e,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map(r=>X.fromName(r.referenceValue))}class l3 extends se{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return By(n)&&_u(n.arrayValue,this.value)}}class u3 extends se{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&_u(this.value.arrayValue,n)}}class c3 extends se{constructor(t,n){super(t,"not-in",n)}matches(t){if(_u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!_u(this.value.arrayValue,n)}}class h3 extends se{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!By(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>_u(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(t,n=null,r=[],i=[],s=null,a=null,o=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.Te=null}}function eE(e,t=null,n=[],r=[],i=null,s=null,a=null){return new f3(e,t,n,r,i,s,a)}function qy(e){const t=st(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>Wp(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),id(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>No(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>No(r)).join(",")),t.Te=n}return t.Te}function Hy(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!r3(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!gR(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!tE(e.startAt,t.startAt)&&tE(e.endAt,t.endAt)}function Zp(e){return X.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(t,n=null,r=[],i=[],s=null,a="F",o=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function d3(e,t,n,r,i,s,a,o){return new Ko(e,t,n,r,i,s,a,o)}function Fy(e){return new Ko(e)}function nE(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function _R(e){return e.collectionGroup!==null}function $l(e){const t=st(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const s of t.explicitOrderBy)t.Ie.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new he(Ae.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.Ie.push(new bu(s,r))}),n.has(Ae.keyField().canonicalString())||t.Ie.push(new bu(Ae.keyField(),r))}return t.Ie}function cr(e){const t=st(e);return t.Ee||(t.Ee=m3(t,$l(e))),t.Ee}function m3(e,t){if(e.limitType==="F")return eE(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new bu(i.field,s)});const n=e.endAt?new pf(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new pf(e.startAt.position,e.startAt.inclusive):null;return eE(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Jp(e,t){const n=e.filters.concat([t]);return new Ko(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function tg(e,t,n){return new Ko(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ad(e,t){return Hy(cr(e),cr(t))&&e.limitType===t.limitType}function bR(e){return`${qy(cr(e))}|lt:${e.limitType}`}function Aa(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>yR(i)).join(", ")}]`),id(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>No(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>No(i)).join(",")),`Target(${r})`}(cr(e))}; limitType=${e.limitType})`}function od(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):X.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of $l(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(a,o,u){const c=Jb(a,o,u);return a.inclusive?c<=0:c<0}(r.startAt,$l(r),i)||r.endAt&&!function(a,o,u){const c=Jb(a,o,u);return a.inclusive?c>=0:c>0}(r.endAt,$l(r),i))}(e,t)}function p3(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ER(e){return(t,n)=>{let r=!1;for(const i of $l(e)){const s=g3(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function g3(e,t,n){const r=e.field.isKeyField()?X.comparator(t.key,n.key):function(s,a,o){const u=a.data.field(s),c=o.data.field(s);return u!==null&&c!==null?Io(u,c):Z(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Z(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){ia(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return iR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3=new Yt(X.comparator);function Jr(){return y3}const wR=new Yt(X.comparator);function Sl(...e){let t=wR;for(const n of e)t=t.insert(n.key,n);return t}function TR(e){let t=wR;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Cs(){return Yl()}function AR(){return Yl()}function Yl(){return new sa(e=>e.toString(),(e,t)=>e.isEqual(t))}const v3=new Yt(X.comparator),_3=new he(X.comparator);function pt(...e){let t=_3;for(const n of e)t=t.add(n);return t}const b3=new he(mt);function E3(){return b3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gy(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ff(t)?"-0":t}}function SR(e){return{integerValue:""+e}}function w3(e,t){return K6(t)?SR(t):Gy(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(){this._=void 0}}function T3(e,t,n){return e instanceof Eu?function(i,s){const a={fields:{[oR]:{stringValue:aR},[uR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&jy(s)&&(s=sd(s)),s&&(a.fields[lR]=s),{mapValue:a}}(n,t):e instanceof wu?xR(e,t):e instanceof Tu?CR(e,t):function(i,s){const a=RR(i,s),o=rE(a)+rE(i.Ae);return Xp(a)&&Xp(i.Ae)?SR(o):Gy(i.serializer,o)}(e,t)}function A3(e,t,n){return e instanceof wu?xR(e,t):e instanceof Tu?CR(e,t):n}function RR(e,t){return e instanceof gf?function(r){return Xp(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class Eu extends ld{}class wu extends ld{constructor(t){super(),this.elements=t}}function xR(e,t){const n=IR(t);for(const r of e.elements)n.some(i=>gr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Tu extends ld{constructor(t){super(),this.elements=t}}function CR(e,t){let n=IR(t);for(const r of e.elements)n=n.filter(i=>!gr(i,r));return{arrayValue:{values:n}}}class gf extends ld{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function rE(e){return ne(e.integerValue||e.doubleValue)}function IR(e){return By(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(t,n){this.field=t,this.transform=n}}function R3(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof wu&&i instanceof wu||r instanceof Tu&&i instanceof Tu?Co(r.elements,i.elements,gr):r instanceof gf&&i instanceof gf?gr(r.Ae,i.Ae):r instanceof Eu&&i instanceof Eu}(e.transform,t.transform)}class x3{constructor(t,n){this.version=t,this.transformResults=n}}class hr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new hr}static exists(t){return new hr(void 0,t)}static updateTime(t){return new hr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function gh(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class ud{}function NR(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Qy(e.key,hr.none()):new Zu(e.key,e.data,hr.none());{const n=e.data,r=Sn.empty();let i=new he(Ae.comparator);for(let s of t.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new aa(e.key,r,new Un(i.toArray()),hr.none())}}function C3(e,t,n){e instanceof Zu?function(i,s,a){const o=i.value.clone(),u=sE(i.fieldTransforms,s,a.transformResults);o.setAll(u),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(e,t,n):e instanceof aa?function(i,s,a){if(!gh(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=sE(i.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(OR(i)),u.setAll(o),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(e,t,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function Kl(e,t,n,r){return e instanceof Zu?function(s,a,o,u){if(!gh(s.precondition,a))return o;const c=s.value.clone(),h=aE(s.fieldTransforms,u,a);return c.setAll(h),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(e,t,n,r):e instanceof aa?function(s,a,o,u){if(!gh(s.precondition,a))return o;const c=aE(s.fieldTransforms,u,a),h=a.data;return h.setAll(OR(s)),h.setAll(c),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(e,t,n,r):function(s,a,o){return gh(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(e,t,n)}function I3(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=RR(r.transform,i||null);s!=null&&(n===null&&(n=Sn.empty()),n.set(r.field,s))}return n||null}function iE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Co(r,i,(s,a)=>R3(s,a))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Zu extends ud{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class aa extends ud{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function OR(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function sE(e,t,n){const r=new Map;Rt(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,A3(a,o,n[i]))}return r}function aE(e,t,n){const r=new Map;for(const i of e){const s=i.transform,a=n.data.field(i.field);r.set(i.field,T3(s,a,t))}return r}class Qy extends ud{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class N3 extends ud{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O3{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&C3(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Kl(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Kl(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=AR();return this.mutations.forEach(i=>{const s=t.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=n.has(i.key)?null:o;const u=NR(a,o);u!==null&&r.set(i.key,u),a.isValidDocument()||a.convertToNoDocument(it.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),pt())}isEqual(t){return this.batchId===t.batchId&&Co(this.mutations,t.mutations,(n,r)=>iE(n,r))&&Co(this.baseMutations,t.baseMutations,(n,r)=>iE(n,r))}}class $y{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){Rt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let i=function(){return v3}();const s=t.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new $y(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D3{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var re,yt;function P3(e){switch(e){case z.OK:return Z(64938);case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return Z(15467,{code:e})}}function DR(e){if(e===void 0)return Zr("GRPC error has no .code"),z.UNKNOWN;switch(e){case re.OK:return z.OK;case re.CANCELLED:return z.CANCELLED;case re.UNKNOWN:return z.UNKNOWN;case re.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case re.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case re.INTERNAL:return z.INTERNAL;case re.UNAVAILABLE:return z.UNAVAILABLE;case re.UNAUTHENTICATED:return z.UNAUTHENTICATED;case re.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case re.NOT_FOUND:return z.NOT_FOUND;case re.ALREADY_EXISTS:return z.ALREADY_EXISTS;case re.PERMISSION_DENIED:return z.PERMISSION_DENIED;case re.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case re.ABORTED:return z.ABORTED;case re.OUT_OF_RANGE:return z.OUT_OF_RANGE;case re.UNIMPLEMENTED:return z.UNIMPLEMENTED;case re.DATA_LOSS:return z.DATA_LOSS;default:return Z(39323,{code:e})}}(yt=re||(re={}))[yt.OK=0]="OK",yt[yt.CANCELLED=1]="CANCELLED",yt[yt.UNKNOWN=2]="UNKNOWN",yt[yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yt[yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yt[yt.NOT_FOUND=5]="NOT_FOUND",yt[yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",yt[yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",yt[yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",yt[yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yt[yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yt[yt.ABORTED=10]="ABORTED",yt[yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",yt[yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",yt[yt.INTERNAL=13]="INTERNAL",yt[yt.UNAVAILABLE=14]="UNAVAILABLE",yt[yt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3=new Xi([4294967295,4294967295],0);function oE(e){const t=V3().encode(e),n=new $S;return n.update(t),new Uint8Array(n.digest())}function lE(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Xi([n,r],0),new Xi([i,s],0)]}class Yy{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Rl(`Invalid padding: ${n}`);if(r<0)throw new Rl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Rl(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Rl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Xi.fromNumber(this.ge)}ye(t,n,r){let i=t.add(n.multiply(Xi.fromNumber(r)));return i.compare(k3)===1&&(i=new Xi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=oE(t),[r,i]=lE(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);if(!this.we(a))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),a=new Yy(s,i,n);return r.forEach(o=>a.insert(o)),a}insert(t){if(this.ge===0)return;const n=oE(t),[r,i]=lE(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);this.Se(a)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,Ju.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new cd(it.min(),i,new Yt(mt),Jr(),pt())}}class Ju{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Ju(r,n,pt(),pt(),pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(t,n,r,i){this.be=t,this.removedTargetIds=n,this.key=r,this.De=i}}class MR{constructor(t,n){this.targetId=t,this.Ce=n}}class PR{constructor(t,n,r=Re.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class uE{constructor(){this.ve=0,this.Fe=cE(),this.Me=Re.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=pt(),n=pt(),r=pt();return this.Fe.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Z(38017,{changeType:s})}}),new Ju(this.Me,this.xe,t,n,r)}qe(){this.Oe=!1,this.Fe=cE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Rt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class L3{constructor(t){this.Ge=t,this.ze=new Map,this.je=Jr(),this.Je=$c(),this.He=$c(),this.Ye=new Yt(mt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:Z(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(t){const n=t.targetId,r=t.Ce.count,i=this.ot(n);if(i){const s=i.target;if(Zp(s))if(r===0){const a=new X(s.path);this.et(n,a,Me.newNoDocument(a,it.min()))}else Rt(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const o=this.ut(t),u=o?this.ct(o,t,a):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,o;try{a=ss(r).toUint8Array()}catch(u){if(u instanceof sR)return xo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{o=new Yy(a,i,s)}catch(u){return xo(u instanceof Rl?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return o.ge===0?null:o}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Ge.ht(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;t.mightContain(o)||(this.et(n,s,null),i++)}),i}Tt(t){const n=new Map;this.ze.forEach((s,a)=>{const o=this.ot(a);if(o){if(s.current&&Zp(o.target)){const u=new X(o.target.path);this.It(u).has(a)||this.Et(a,u)||this.et(a,u,Me.newNoDocument(u,t))}s.Be&&(n.set(a,s.ke()),s.qe())}});let r=pt();this.He.forEach((s,a)=>{let o=!0;a.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(s))}),this.je.forEach((s,a)=>a.setReadTime(t));const i=new cd(t,n,this.Ye,this.je,r);return this.je=Jr(),this.Je=$c(),this.He=$c(),this.Ye=new Yt(mt),i}Xe(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const i=this.nt(t);this.Et(t,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new uE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new he(mt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new he(mt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||K("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new uE),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function $c(){return new Yt(X.comparator)}function cE(){return new Yt(X.comparator)}const U3={asc:"ASCENDING",desc:"DESCENDING"},z3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},j3={and:"AND",or:"OR"};class B3{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function eg(e,t){return e.useProto3Json||id(t)?t:{value:t}}function yf(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function VR(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function q3(e,t){return yf(e,t.toTimestamp())}function fr(e){return Rt(!!e,49232),it.fromTimestamp(function(n){const r=is(n);return new Bt(r.seconds,r.nanos)}(e))}function Ky(e,t){return ng(e,t).canonicalString()}function ng(e,t){const n=function(i){return new kt(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function kR(e){const t=kt.fromString(e);return Rt(BR(t),10190,{key:t.toString()}),t}function rg(e,t){return Ky(e.databaseId,t.path)}function xm(e,t){const n=kR(t);if(n.get(1)!==e.databaseId.projectId)throw new Y(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Y(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new X(UR(n))}function LR(e,t){return Ky(e.databaseId,t)}function H3(e){const t=kR(e);return t.length===4?kt.emptyPath():UR(t)}function ig(e){return new kt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function UR(e){return Rt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function hE(e,t,n){return{name:rg(e,t),fields:n.value.mapValue.fields}}function F3(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Z(39313,{state:c})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(Rt(h===void 0||typeof h=="string",58123),Re.fromBase64String(h||"")):(Rt(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Re.fromUint8Array(h||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(c){const h=c.code===void 0?z.UNKNOWN:DR(c.code);return new Y(h,c.message||"")}(a);n=new PR(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=xm(e,r.document.name),s=fr(r.document.updateTime),a=r.document.createTime?fr(r.document.createTime):it.min(),o=new Sn({mapValue:{fields:r.document.fields}}),u=Me.newFoundDocument(i,s,a,o),c=r.targetIds||[],h=r.removedTargetIds||[];n=new yh(c,h,u.key,u)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=xm(e,r.document),s=r.readTime?fr(r.readTime):it.min(),a=Me.newNoDocument(i,s),o=r.removedTargetIds||[];n=new yh([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=xm(e,r.document),s=r.removedTargetIds||[];n=new yh([],s,i,null)}else{if(!("filter"in t))return Z(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new M3(i,s),o=r.targetId;n=new MR(o,a)}}return n}function G3(e,t){let n;if(t instanceof Zu)n={update:hE(e,t.key,t.value)};else if(t instanceof Qy)n={delete:rg(e,t.key)};else if(t instanceof aa)n={update:hE(e,t.key,t.data),updateMask:tL(t.fieldMask)};else{if(!(t instanceof N3))return Z(16599,{Vt:t.type});n={verify:rg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,a){const o=a.transform;if(o instanceof Eu)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof wu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Tu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof gf)return{fieldPath:a.field.canonicalString(),increment:o.Ae};throw Z(20930,{transform:a.transform})}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:q3(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Z(27497)}(e,t.precondition)),n}function Q3(e,t){return e&&e.length>0?(Rt(t!==void 0,14353),e.map(n=>function(i,s){let a=i.updateTime?fr(i.updateTime):fr(s);return a.isEqual(it.min())&&(a=fr(s)),new x3(a,i.transformResults||[])}(n,t))):[]}function $3(e,t){return{documents:[LR(e,t.path)]}}function Y3(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=LR(e,i);const s=function(c){if(c.length!==0)return jR(qn.create(c,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(c){if(c.length!==0)return c.map(h=>function(p){return{field:Sa(p.field),direction:W3(p.dir)}}(h))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=eg(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{ft:n,parent:i}}function K3(e){let t=H3(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Rt(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:t=t.child(h.collectionId)}let s=[];n.where&&(s=function(m){const p=zR(m);return p instanceof qn&&pR(p)?p.getFilters():[p]}(n.where));let a=[];n.orderBy&&(a=function(m){return m.map(p=>function(S){return new bu(Ra(S.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(p))}(n.orderBy));let o=null;n.limit&&(o=function(m){let p;return p=typeof m=="object"?m.value:m,id(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(m){const p=!!m.before,d=m.values||[];return new pf(d,p)}(n.startAt));let c=null;return n.endAt&&(c=function(m){const p=!m.before,d=m.values||[];return new pf(d,p)}(n.endAt)),d3(t,i,a,s,o,"F",u,c)}function X3(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z(28987,{purpose:i})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function zR(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ra(n.unaryFilter.field);return se.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ra(n.unaryFilter.field);return se.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ra(n.unaryFilter.field);return se.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Ra(n.unaryFilter.field);return se.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Z(61313);default:return Z(60726)}}(e):e.fieldFilter!==void 0?function(n){return se.create(Ra(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Z(58110);default:return Z(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return qn.create(n.compositeFilter.filters.map(r=>zR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Z(1026)}}(n.compositeFilter.op))}(e):Z(30097,{filter:e})}function W3(e){return U3[e]}function Z3(e){return z3[e]}function J3(e){return j3[e]}function Sa(e){return{fieldPath:e.canonicalString()}}function Ra(e){return Ae.fromServerFormat(e.fieldPath)}function jR(e){return e instanceof se?function(n){if(n.op==="=="){if(Zb(n.value))return{unaryFilter:{field:Sa(n.field),op:"IS_NAN"}};if(Wb(n.value))return{unaryFilter:{field:Sa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Zb(n.value))return{unaryFilter:{field:Sa(n.field),op:"IS_NOT_NAN"}};if(Wb(n.value))return{unaryFilter:{field:Sa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sa(n.field),op:Z3(n.op),value:n.value}}}(e):e instanceof qn?function(n){const r=n.getFilters().map(i=>jR(i));return r.length===1?r[0]:{compositeFilter:{op:J3(n.op),filters:r}}}(e):Z(54877,{filter:e})}function tL(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function BR(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(t,n,r,i,s=it.min(),a=it.min(),o=Re.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=u}withSequenceNumber(t){return new Ui(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(t){this.yt=t}}function nL(e){const t=K3({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?tg(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(){this.Cn=new iL}addToCollectionParentIndex(t,n){return this.Cn.add(n),j.resolve()}getCollectionParents(t,n){return j.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return j.resolve()}deleteFieldIndex(t,n){return j.resolve()}deleteAllFieldIndexes(t){return j.resolve()}createTargetIndexes(t,n){return j.resolve()}getDocumentsMatchingTarget(t,n){return j.resolve(null)}getIndexType(t,n){return j.resolve(0)}getFieldIndexes(t,n){return j.resolve([])}getNextCollectionGroupToUpdate(t){return j.resolve(null)}getMinOffset(t,n){return j.resolve(rs.min())}getMinOffsetFromCollectionGroup(t,n){return j.resolve(rs.min())}updateCollectionGroup(t,n,r){return j.resolve()}updateIndexEntries(t,n){return j.resolve()}}class iL{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new he(kt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new he(kt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qR=41943040;class Ye{static withCacheSize(t){return new Ye(t,Ye.DEFAULT_COLLECTION_PERCENTILE,Ye.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ye.DEFAULT_COLLECTION_PERCENTILE=10,Ye.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ye.DEFAULT=new Ye(qR,Ye.DEFAULT_COLLECTION_PERCENTILE,Ye.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ye.DISABLED=new Ye(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Oo(0)}static cr(){return new Oo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="LruGarbageCollector",sL=1048576;function mE([e,t],[n,r]){const i=mt(e,n);return i===0?mt(t,r):i}class aL{constructor(t){this.Ir=t,this.buffer=new he(mE),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();mE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class oL{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){K(dE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Yo(n)?K(dE,"Ignoring IndexedDB error during garbage collection: ",n):await $o(n)}await this.Vr(3e5)})}}class lL{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return j.resolve(rd.ce);const r=new aL(n);return this.mr.forEachTarget(t,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(t,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.mr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(K("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(fE)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(K("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),fE):this.yr(t,n))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let r,i,s,a,o,u,c;const h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(K("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,a=Date.now(),this.nthSequenceNumber(t,i))).next(m=>(r=m,o=Date.now(),this.removeTargets(t,r,n))).next(m=>(s=m,u=Date.now(),this.removeOrphanedDocuments(t,r))).next(m=>(c=Date.now(),Ta()<=dt.DEBUG&&K("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(u-o)+`ms
	Removed ${m} documents in `+(c-u)+`ms
Total Duration: ${c-h}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})))}}function uL(e,t){return new lL(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(){this.changes=new sa(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Me.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?j.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&Kl(r.mutation,i,Un.empty(),Bt.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,pt()).next(()=>r))}getLocalViewOfDocuments(t,n,r=pt()){const i=Cs();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let a=Sl();return s.forEach((o,u)=>{a=a.insert(o,u.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const r=Cs();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,pt()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((a,o)=>{n.set(a,o)})})}computeViews(t,n,r,i){let s=Jr();const a=Yl(),o=function(){return Yl()}();return n.forEach((u,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof aa)?s=s.insert(c.key,c):h!==void 0?(a.set(c.key,h.mutation.getFieldMask()),Kl(h.mutation,c,h.mutation.getFieldMask(),Bt.now())):a.set(c.key,Un.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((c,h)=>a.set(c,h)),n.forEach((c,h)=>o.set(c,new hL(h,a.get(c)??null))),o))}recalculateAndSaveOverlays(t,n){const r=Yl();let i=new Yt((a,o)=>a-o),s=pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const o of a)o.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||Un.empty();h=o.applyToLocalView(c,h),r.set(u,h);const m=(i.get(o.batchId)||pt()).add(u);i=i.insert(o.batchId,m)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const u=o.getNext(),c=u.key,h=u.value,m=AR();h.forEach(p=>{if(!s.has(p)){const d=NR(n.get(p),r.get(p));d!==null&&m.set(p,d),s=s.add(p)}}),a.push(this.documentOverlayCache.saveOverlays(t,c,m))}return j.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(a){return X.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):_R(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):j.resolve(Cs());let o=gu,u=s;return a.next(c=>j.forEach(c,(h,m)=>(o<m.largestBatchId&&(o=m.largestBatchId),s.get(h)?j.resolve():this.remoteDocumentCache.getEntry(t,h).next(p=>{u=u.insert(h,p)}))).next(()=>this.populateOverlays(t,c,s)).next(()=>this.computeViews(t,u,c,pt())).next(h=>({batchId:o,changes:TR(h)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new X(n)).next(r=>{let i=Sl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let a=Sl();return this.indexManager.getCollectionParents(t,s).next(o=>j.forEach(o,u=>{const c=function(m,p){return new Ko(p,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,c,r,i).next(h=>{h.forEach((m,p)=>{a=a.insert(m,p)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(a=>{s.forEach((u,c)=>{const h=c.getKey();a.get(h)===null&&(a=a.insert(h,Me.newInvalidDocument(h)))});let o=Sl();return a.forEach((u,c)=>{const h=s.get(u);h!==void 0&&Kl(h.mutation,c,Un.empty(),Bt.now()),od(n,c)&&(o=o.insert(u,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return j.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:fr(i.createTime)}}(n)),j.resolve()}getNamedQuery(t,n){return j.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,function(i){return{name:i.name,query:nL(i.bundledQuery),readTime:fr(i.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(){this.overlays=new Yt(X.comparator),this.qr=new Map}getOverlay(t,n){return j.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Cs();return j.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.St(t,n,s)}),j.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),j.resolve()}getOverlaysForCollection(t,n,r){const i=Cs(),s=n.length+1,a=new X(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const u=o.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return j.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new Yt((c,h)=>c-h);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=Cs(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const o=Cs(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>o.set(c,h)),!(o.size()>=i)););return j.resolve(o)}St(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new D3(n,r));let s=this.qr.get(n);s===void 0&&(s=pt(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(){this.sessionToken=Re.EMPTY_BYTE_STRING}getSessionToken(t){return j.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(){this.Qr=new he(de.$r),this.Ur=new he(de.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const r=new de(t,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Gr(new de(t,n))}zr(t,n){t.forEach(r=>this.removeReference(r,n))}jr(t){const n=new X(new kt([])),r=new de(n,t),i=new de(n,t+1),s=[];return this.Ur.forEachInRange([r,i],a=>{this.Gr(a),s.push(a.key)}),s}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new X(new kt([])),r=new de(n,t),i=new de(n,t+1);let s=pt();return this.Ur.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(t){const n=new de(t,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class de{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return X.comparator(t.key,n.key)||mt(t.Yr,n.Yr)}static Kr(t,n){return mt(t.Yr,n.Yr)||X.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new he(de.$r)}checkEmpty(t){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new O3(s,n,r,i);this.mutationQueue.push(a);for(const o of i)this.Zr=this.Zr.add(new de(o.key,s)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return j.resolve(a)}lookupMutationBatch(t,n){return j.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return j.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?zy:this.tr-1)}getAllMutationBatches(t){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new de(n,0),i=new de(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],a=>{const o=this.Xr(a.Yr);s.push(o)}),j.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new he(mt);return n.forEach(i=>{const s=new de(i,0),a=new de(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],o=>{r=r.add(o.Yr)})}),j.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;X.isDocumentKey(s)||(s=s.child(""));const a=new de(new X(s),0);let o=new he(mt);return this.Zr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(o=o.add(u.Yr)),!0)},a),j.resolve(this.ti(o))}ti(t){const n=[];return t.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){Rt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return j.forEach(n.mutations,i=>{const s=new de(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Zr=r})}ir(t){}containsKey(t,n){const r=new de(n,0),i=this.Zr.firstAfterOrEqual(r);return j.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,j.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(t){this.ri=t,this.docs=function(){return new Yt(X.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():Me.newInvalidDocument(n))}getEntries(t,n){let r=Jr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Me.newInvalidDocument(i))}),j.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=Jr();const a=n.path,o=new X(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||G6(F6(h),r)<=0||(i.has(h.key)||od(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return j.resolve(s)}getAllFromCollectionGroup(t,n,r,i){Z(9500)}ii(t,n){return j.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new vL(this)}getSize(t){return j.resolve(this.size)}}class vL extends cL{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(t,i)):this.Nr.removeEntry(r)}),j.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(t){this.persistence=t,this.si=new sa(n=>qy(n),Hy),this.lastRemoteSnapshotVersion=it.min(),this.highestTargetId=0,this.oi=0,this._i=new Xy,this.targetCount=0,this.ai=Oo.ur()}forEachTarget(t,n){return this.si.forEach((r,i)=>n(i)),j.resolve()}getLastRemoteSnapshotVersion(t){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return j.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),j.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Oo(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,j.resolve()}updateTargetData(t,n){return this.Pr(n),j.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.si.forEach((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(t,o.targetId)),i++)}),j.waitFor(s).next(()=>i)}getTargetCount(t){return j.resolve(this.targetCount)}getTargetData(t,n){const r=this.si.get(n)||null;return j.resolve(r)}addMatchingKeys(t,n,r){return this._i.Wr(n,r),j.resolve()}removeMatchingKeys(t,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(t,a))}),j.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),j.resolve()}getMatchingKeysForTargetId(t,n){const r=this._i.Hr(n);return j.resolve(r)}containsKey(t,n){return j.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(t,n){this.ui={},this.overlays={},this.ci=new rd(0),this.li=!1,this.li=!0,this.hi=new pL,this.referenceDelegate=t(this),this.Pi=new _L(this),this.indexManager=new rL,this.remoteDocumentCache=function(i){return new yL(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new eL(n),this.Ii=new dL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new mL,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ui[t.toKey()];return r||(r=new gL(n,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,r){K("MemoryPersistence","Starting transaction:",t);const i=new bL(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(t,n){return j.or(Object.values(this.ui).map(r=>()=>r.containsKey(t,n)))}}class bL extends $6{constructor(t){super(),this.currentSequenceNumber=t}}class Wy{constructor(t){this.persistence=t,this.Ri=new Xy,this.Vi=null}static mi(t){return new Wy(t)}get fi(){if(this.Vi)return this.Vi;throw Z(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),j.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),j.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),j.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.fi,r=>{const i=X.fromPath(r);return this.gi(t,i).next(s=>{s||n.removeEntry(i,it.min())})}).next(()=>(this.Vi=null,n.apply(t)))}updateLimboDocument(t,n){return this.gi(t,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(t){return 0}gi(t,n){return j.or([()=>j.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class vf{constructor(t,n){this.persistence=t,this.pi=new sa(r=>X6(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=uL(this,n)}static mi(t,n){return new vf(t,n)}Ei(){}di(t){return j.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(i=>r+i))}wr(t){let n=0;return this.pr(t,r=>{n++}).next(()=>n)}pr(t,n){return j.forEach(this.pi,(r,i)=>this.br(t,r,i).next(s=>s?j.resolve():n(i)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(t,a=>this.br(t,a,n).next(o=>{o||(r++,s.removeEntry(a,it.min()))})).next(()=>s.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),j.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),j.resolve()}removeReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),j.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),j.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=mh(t.data.value)),n}br(t,n,r){return j.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const i=this.pi.get(n);return j.resolve(i!==void 0&&i>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Es=r,this.ds=i}static As(t,n){let r=pt(),i=pt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Zy(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return l4()?8:Y6(ke())>0?6:4}()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.ys(t,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ws(t,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new EL;return this.Ss(t,n,a).next(o=>{if(s.result=o,this.Vs)return this.bs(t,n,a,o.size)})}).next(()=>s.result)}bs(t,n,r,i){return r.documentReadCount<this.fs?(Ta()<=dt.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",Aa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),j.resolve()):(Ta()<=dt.DEBUG&&K("QueryEngine","Query:",Aa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Ta()<=dt.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",Aa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,cr(n))):j.resolve())}ys(t,n){if(nE(n))return j.resolve(null);let r=cr(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=tg(n,null,"F"),r=cr(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const a=pt(...s);return this.ps.getDocuments(t,a).next(o=>this.indexManager.getMinOffset(t,r).next(u=>{const c=this.Ds(n,o);return this.Cs(n,c,a,u.readTime)?this.ys(t,tg(n,null,"F")):this.vs(t,c,n,u)}))})))}ws(t,n,r,i){return nE(n)||i.isEqual(it.min())?j.resolve(null):this.ps.getDocuments(t,r).next(s=>{const a=this.Ds(n,s);return this.Cs(n,a,r,i)?j.resolve(null):(Ta()<=dt.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Aa(n)),this.vs(t,a,n,H6(i,gu)).next(o=>o))})}Ds(t,n){let r=new he(ER(t));return n.forEach((i,s)=>{od(t,s)&&(r=r.add(s))}),r}Cs(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(t,n,r){return Ta()<=dt.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",Aa(n)),this.ps.getDocumentsMatchingQuery(t,n,rs.min(),r)}vs(t,n,r,i){return this.ps.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="LocalStore",TL=3e8;class AL{constructor(t,n,r,i){this.persistence=t,this.Fs=n,this.serializer=i,this.Ms=new Yt(mt),this.xs=new sa(s=>qy(s),Hy),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new fL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function SL(e,t,n,r){return new AL(e,t,n,r)}async function FR(e,t){const n=st(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],o=[];let u=pt();for(const c of i){a.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of s){o.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ls:c,removedBatchIds:a,addedBatchIds:o}))})})}function RL(e,t){const n=st(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(o,u,c,h){const m=c.batch,p=m.keys();let d=j.resolve();return p.forEach(S=>{d=d.next(()=>h.getEntry(u,S)).next(E=>{const A=c.docVersions.get(S);Rt(A!==null,48541),E.version.compareTo(A)<0&&(m.applyToRemoteDocument(E,c),E.isValidDocument()&&(E.setReadTime(c.commitVersion),h.addEntry(E)))})}),d.next(()=>o.mutationQueue.removeMutationBatch(u,m))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let u=pt();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(u=u.add(o.batch.mutations[c].key));return u}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function GR(e){const t=st(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Pi.getLastRemoteSnapshotVersion(n))}function xL(e,t){const n=st(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const o=[];t.targetChanges.forEach((h,m)=>{const p=i.get(m);if(!p)return;o.push(n.Pi.removeMatchingKeys(s,h.removedDocuments,m).next(()=>n.Pi.addMatchingKeys(s,h.addedDocuments,m)));let d=p.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(m)!==null?d=d.withResumeToken(Re.EMPTY_BYTE_STRING,it.min()).withLastLimboFreeSnapshotVersion(it.min()):h.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(h.resumeToken,r)),i=i.insert(m,d),function(E,A,y){return E.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=TL?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(p,d,h)&&o.push(n.Pi.updateTargetData(s,d))});let u=Jr(),c=pt();if(t.documentUpdates.forEach(h=>{t.resolvedLimboDocuments.has(h)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),o.push(CL(s,a,t.documentUpdates).next(h=>{u=h.ks,c=h.qs})),!r.isEqual(it.min())){const h=n.Pi.getLastRemoteSnapshotVersion(s).next(m=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));o.push(h)}return j.waitFor(o).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ms=i,s))}function CL(e,t,n){let r=pt(),i=pt();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let a=Jr();return n.forEach((o,u)=>{const c=s.get(o);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),u.isNoDocument()&&u.version.isEqual(it.min())?(t.removeEntry(o,u.readTime),a=a.insert(o,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(u),a=a.insert(o,u)):K(Jy,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",u.version)}),{ks:a,qs:i}})}function IL(e,t){const n=st(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=zy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function NL(e,t){const n=st(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,t).next(s=>s?(i=s,j.resolve(i)):n.Pi.allocateTargetId(r).next(a=>(i=new Ui(t,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(t,r.targetId)),r})}async function sg(e,t,n){const r=st(e),i=r.Ms.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Yo(a))throw a;K(Jy,`Failed to update sequence numbers for target ${t}: ${a}`)}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function pE(e,t,n){const r=st(e);let i=it.min(),s=pt();return r.persistence.runTransaction("Execute query","readwrite",a=>function(u,c,h){const m=st(u),p=m.xs.get(h);return p!==void 0?j.resolve(m.Ms.get(p)):m.Pi.getTargetData(c,h)}(r,a,cr(t)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,o.targetId).next(u=>{s=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(a,t,n?i:it.min(),n?s:pt())).next(o=>(OL(r,p3(t),o),{documents:o,Qs:s})))}function OL(e,t,n){let r=e.Os.get(t)||it.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.Os.set(t,r)}class gE{constructor(){this.activeTargetIds=E3()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class DL{constructor(){this.Mo=new gE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,r){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new gE,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="ConnectivityMonitor";class vE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){K(yE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){K(yE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yc=null;function ag(){return Yc===null?Yc=function(){return 268435456+Math.round(2147483648*Math.random())}():Yc++,"0x"+Yc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="RestConnection",PL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VL{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===df?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(t,n,r,i,s){const a=ag(),o=this.zo(t,n.toUriEncodedString());K(Cm,`Sending RPC '${t}' ${a}:`,o,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,s);const{host:c}=new URL(o),h=Ho(c);return this.Jo(t,o,u,r,h).then(m=>(K(Cm,`Received RPC '${t}' ${a}: `,m),m),m=>{throw xo(Cm,`RPC '${t}' ${a} failed with error: `,m,"url: ",o,"request:",r),m})}Ho(t,n,r,i,s,a){return this.Go(t,n,r,i,s)}jo(t,n,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>t[s]=i),r&&r.headers.forEach((i,s)=>t[s]=i)}zo(t,n){const r=PL[t];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ne="WebChannelConnection";class LL extends VL{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,i,s){const a=ag();return new Promise((o,u)=>{const c=new YS;c.setWithCredentials(!0),c.listenOnce(KS.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case dh.NO_ERROR:const m=c.getResponseJson();K(Ne,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(m)),o(m);break;case dh.TIMEOUT:K(Ne,`RPC '${t}' ${a} timed out`),u(new Y(z.DEADLINE_EXCEEDED,"Request time out"));break;case dh.HTTP_ERROR:const p=c.getStatus();if(K(Ne,`RPC '${t}' ${a} failed with status:`,p,"response text:",c.getResponseText()),p>0){let d=c.getResponseJson();Array.isArray(d)&&(d=d[0]);const S=d==null?void 0:d.error;if(S&&S.status&&S.message){const E=function(y){const v=y.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(v)>=0?v:z.UNKNOWN}(S.status);u(new Y(E,S.message))}else u(new Y(z.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new Y(z.UNAVAILABLE,"Connection failed."));break;default:Z(9055,{l_:t,streamId:a,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{K(Ne,`RPC '${t}' ${a} completed.`)}});const h=JSON.stringify(i);K(Ne,`RPC '${t}' ${a} sending request:`,i),c.send(n,"POST",h,r,15)})}T_(t,n,r){const i=ag(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=ZS(),o=WS(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=s.join("");K(Ne,`Creating RPC '${t}' stream ${i}: ${h}`,u);const m=a.createWebChannel(h,u);this.I_(m);let p=!1,d=!1;const S=new kL({Yo:A=>{d?K(Ne,`Not sending because RPC '${t}' stream ${i} is closed:`,A):(p||(K(Ne,`Opening RPC '${t}' stream ${i} transport.`),m.open(),p=!0),K(Ne,`RPC '${t}' stream ${i} sending:`,A),m.send(A))},Zo:()=>m.close()}),E=(A,y,v)=>{A.listen(y,w=>{try{v(w)}catch(I){setTimeout(()=>{throw I},0)}})};return E(m,Al.EventType.OPEN,()=>{d||(K(Ne,`RPC '${t}' stream ${i} transport opened.`),S.o_())}),E(m,Al.EventType.CLOSE,()=>{d||(d=!0,K(Ne,`RPC '${t}' stream ${i} transport closed`),S.a_(),this.E_(m))}),E(m,Al.EventType.ERROR,A=>{d||(d=!0,xo(Ne,`RPC '${t}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),S.a_(new Y(z.UNAVAILABLE,"The operation could not be completed")))}),E(m,Al.EventType.MESSAGE,A=>{var y;if(!d){const v=A.data[0];Rt(!!v,16349);const w=v,I=(w==null?void 0:w.error)||((y=w[0])==null?void 0:y.error);if(I){K(Ne,`RPC '${t}' stream ${i} received error:`,I);const V=I.status;let L=function(x){const R=re[x];if(R!==void 0)return DR(R)}(V),T=I.message;L===void 0&&(L=z.INTERNAL,T="Unknown error status: "+V+" with message "+I.message),d=!0,S.a_(new Y(L,T)),m.close()}else K(Ne,`RPC '${t}' stream ${i} received:`,v),S.u_(v)}}),E(o,XS.STAT_EVENT,A=>{A.stat===$p.PROXY?K(Ne,`RPC '${t}' stream ${i} detected buffering proxy`):A.stat===$p.NOPROXY&&K(Ne,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(n=>n===t)}}function Im(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(e){return new B3(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(t,n,r=1e3,i=1.5,s=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="PersistentStream";class $R{constructor(t,n,r,i,s,a,o,u){this.Mi=t,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new QR(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(Zr(n.toString()),Zr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{t(()=>{const i=new Y(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(t,n){const r=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return K(_E,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget(()=>this.D_===t?n():(K(_E,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class UL extends $R{constructor(t,n,r,i,s,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=F3(this.serializer,t),r=function(s){if(!("targetChange"in s))return it.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?it.min():a.readTime?fr(a.readTime):it.min()}(t);return this.listener.H_(n,r)}Y_(t){const n={};n.database=ig(this.serializer),n.addTarget=function(s,a){let o;const u=a.target;if(o=Zp(u)?{documents:$3(s,u)}:{query:Y3(s,u).ft},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=VR(s,a.resumeToken);const c=eg(s,a.expectedCount);c!==null&&(o.expectedCount=c)}else if(a.snapshotVersion.compareTo(it.min())>0){o.readTime=yf(s,a.snapshotVersion.toTimestamp());const c=eg(s,a.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,t);const r=X3(this.serializer,t);r&&(n.labels=r),this.q_(n)}Z_(t){const n={};n.database=ig(this.serializer),n.removeTarget=t,this.q_(n)}}class zL extends $R{constructor(t,n,r,i,s,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Rt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Rt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Rt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=Q3(t.writeResults,t.commitTime),r=fr(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=ig(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>G3(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{}class BL extends jL{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Y(z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Go(t,ng(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y(z.UNKNOWN,s.toString())})}Ho(t,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Ho(t,ng(n,r),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Y(z.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class qL{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zr(n),this.aa=!1):K("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="RemoteStore";class HL{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(a=>{r.enqueueAndForget(async()=>{oa(this)&&(K(Js,"Restarting streams for network reachability change."),await async function(u){const c=st(u);c.Ea.add(4),await tc(c),c.Ra.set("Unknown"),c.Ea.delete(4),await fd(c)}(this))})}),this.Ra=new qL(r,i)}}async function fd(e){if(oa(e))for(const t of e.da)await t(!0)}async function tc(e){for(const t of e.da)await t(!1)}function YR(e,t){const n=st(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),rv(n)?nv(n):Xo(n).O_()&&ev(n,t))}function tv(e,t){const n=st(e),r=Xo(n);n.Ia.delete(t),r.O_()&&KR(n,t),n.Ia.size===0&&(r.O_()?r.L_():oa(n)&&n.Ra.set("Unknown"))}function ev(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(it.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Xo(e).Y_(t)}function KR(e,t){e.Va.Ue(t),Xo(e).Z_(t)}function nv(e){e.Va=new L3({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Xo(e).start(),e.Ra.ua()}function rv(e){return oa(e)&&!Xo(e).x_()&&e.Ia.size>0}function oa(e){return st(e).Ea.size===0}function XR(e){e.Va=void 0}async function FL(e){e.Ra.set("Online")}async function GL(e){e.Ia.forEach((t,n)=>{ev(e,t)})}async function QL(e,t){XR(e),rv(e)?(e.Ra.ha(t),nv(e)):e.Ra.set("Unknown")}async function $L(e,t,n){if(e.Ra.set("Online"),t instanceof PR&&t.state===2&&t.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.Ia.delete(o),i.Va.removeTarget(o))}(e,t)}catch(r){K(Js,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await _f(e,r)}else if(t instanceof yh?e.Va.Ze(t):t instanceof MR?e.Va.st(t):e.Va.tt(t),!n.isEqual(it.min()))try{const r=await GR(e.localStore);n.compareTo(r)>=0&&await function(s,a){const o=s.Va.Tt(a);return o.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=s.Ia.get(c);h&&s.Ia.set(c,h.withResumeToken(u.resumeToken,a))}}),o.targetMismatches.forEach((u,c)=>{const h=s.Ia.get(u);if(!h)return;s.Ia.set(u,h.withResumeToken(Re.EMPTY_BYTE_STRING,h.snapshotVersion)),KR(s,u);const m=new Ui(h.target,u,c,h.sequenceNumber);ev(s,m)}),s.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(r){K(Js,"Failed to raise snapshot:",r),await _f(e,r)}}async function _f(e,t,n){if(!Yo(t))throw t;e.Ea.add(1),await tc(e),e.Ra.set("Offline"),n||(n=()=>GR(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{K(Js,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await fd(e)})}function WR(e,t){return t().catch(n=>_f(e,n,t))}async function dd(e){const t=st(e),n=os(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:zy;for(;YL(t);)try{const i=await IL(t.localStore,r);if(i===null){t.Ta.length===0&&n.L_();break}r=i.batchId,KL(t,i)}catch(i){await _f(t,i)}ZR(t)&&JR(t)}function YL(e){return oa(e)&&e.Ta.length<10}function KL(e,t){e.Ta.push(t);const n=os(e);n.O_()&&n.X_&&n.ea(t.mutations)}function ZR(e){return oa(e)&&!os(e).x_()&&e.Ta.length>0}function JR(e){os(e).start()}async function XL(e){os(e).ra()}async function WL(e){const t=os(e);for(const n of e.Ta)t.ea(n.mutations)}async function ZL(e,t,n){const r=e.Ta.shift(),i=$y.from(r,t,n);await WR(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await dd(e)}async function JL(e,t){t&&os(e).X_&&await async function(r,i){if(function(a){return P3(a)&&a!==z.ABORTED}(i.code)){const s=r.Ta.shift();os(r).B_(),await WR(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await dd(r)}}(e,t),ZR(e)&&JR(e)}async function bE(e,t){const n=st(e);n.asyncQueue.verifyOperationInProgress(),K(Js,"RemoteStore received new credentials");const r=oa(n);n.Ea.add(3),await tc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await fd(n)}async function tU(e,t){const n=st(e);t?(n.Ea.delete(2),await fd(n)):t||(n.Ea.add(2),await tc(n),n.Ra.set("Unknown"))}function Xo(e){return e.ma||(e.ma=function(n,r,i){const s=st(n);return s.sa(),new UL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Xo:FL.bind(null,e),t_:GL.bind(null,e),r_:QL.bind(null,e),H_:$L.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),rv(e)?nv(e):e.Ra.set("Unknown")):(await e.ma.stop(),XR(e))})),e.ma}function os(e){return e.fa||(e.fa=function(n,r,i){const s=st(n);return s.sa(),new zL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:XL.bind(null,e),r_:JL.bind(null,e),ta:WL.bind(null,e),na:ZL.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await dd(e)):(await e.fa.stop(),e.Ta.length>0&&(K(Js,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const a=Date.now()+r,o=new iv(t,n,a,i,s);return o.start(r),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sv(e,t){if(Zr("AsyncQueue",`${t}: ${e}`),Yo(e))return new Y(z.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{static emptySet(t){return new eo(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||X.comparator(n.key,r.key):(n,r)=>X.comparator(n.key,r.key),this.keyedMap=Sl(),this.sortedSet=new Yt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof eo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new eo;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(){this.ga=new Yt(X.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Z(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,r)=>{t.push(r)}),t}}class Do{constructor(t,n,r,i,s,a,o,u,c){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(t,n,r,i,s){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new Do(t,n,eo.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ad(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class nU{constructor(){this.queries=wE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=st(n),s=i.queries;i.queries=wE(),s.forEach((a,o)=>{for(const u of o.Sa)u.onError(r)})})(this,new Y(z.ABORTED,"Firestore shutting down"))}}function wE(){return new sa(e=>bR(e),ad)}async function rU(e,t){const n=st(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.ba()&&t.Da()&&(r=2):(s=new eU,r=t.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const o=sv(a,`Initialization of query '${Aa(t.query)}' failed`);return void t.onError(o)}n.queries.set(i,s),s.Sa.push(t),t.va(n.onlineState),s.wa&&t.Fa(s.wa)&&av(n)}async function iU(e,t){const n=st(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const a=s.Sa.indexOf(t);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?i=t.Da()?0:1:!s.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function sU(e,t){const n=st(e);let r=!1;for(const i of t){const s=i.query,a=n.queries.get(s);if(a){for(const o of a.Sa)o.Fa(i)&&(r=!0);a.wa=i}}r&&av(n)}function aU(e,t,n){const r=st(e),i=r.queries.get(t);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(t)}function av(e){e.Ca.forEach(t=>{t.next()})}var og,TE;(TE=og||(og={})).Ma="default",TE.Cache="cache";class oU{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Do(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Do.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==og.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(t){this.key=t}}class ex{constructor(t){this.key=t}}class lU{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=pt(),this.mutatedKeys=pt(),this.eu=ER(t),this.tu=new eo(this.eu)}get nu(){return this.Ya}ru(t,n){const r=n?n.iu:new EE,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,o=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((h,m)=>{const p=i.get(h),d=od(this.query,m)?m:null,S=!!p&&this.mutatedKeys.has(p.key),E=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let A=!1;p&&d?p.data.isEqual(d.data)?S!==E&&(r.track({type:3,doc:d}),A=!0):this.su(p,d)||(r.track({type:2,doc:d}),A=!0,(u&&this.eu(d,u)>0||c&&this.eu(d,c)<0)&&(o=!0)):!p&&d?(r.track({type:0,doc:d}),A=!0):p&&!d&&(r.track({type:1,doc:p}),A=!0,(u||c)&&(o=!0)),A&&(d?(a=a.add(d),s=E?s.add(h):s.delete(h)):(a=a.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{tu:a,iu:r,Cs:o,mutatedKeys:s}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const s=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const a=t.iu.ya();a.sort((h,m)=>function(d,S){const E=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z(20277,{Rt:A})}};return E(d)-E(S)}(h.type,m.type)||this.eu(h.doc,m.doc)),this.ou(r),i=i??!1;const o=n&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,c=u!==this.Za;return this.Za=u,a.length!==0||c?{snapshot:new Do(this.query,t.tu,s,a,t.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new EE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=pt(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return t.forEach(r=>{this.Xa.has(r)||n.push(new ex(r))}),this.Xa.forEach(r=>{t.has(r)||n.push(new tx(r))}),n}cu(t){this.Ya=t.Qs,this.Xa=pt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Do.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ov="SyncEngine";class uU{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class cU{constructor(t){this.key=t,this.hu=!1}}class hU{constructor(t,n,r,i,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new sa(o=>bR(o),ad),this.Iu=new Map,this.Eu=new Set,this.du=new Yt(X.comparator),this.Au=new Map,this.Ru=new Xy,this.Vu={},this.mu=new Map,this.fu=Oo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function fU(e,t,n=!0){const r=ox(e);let i;const s=r.Tu.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await nx(r,t,n,!0),i}async function dU(e,t){const n=ox(e);await nx(n,t,!0,!1)}async function nx(e,t,n,r){const i=await NL(e.localStore,cr(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await mU(e,t,s,a==="current",i.resumeToken)),e.isPrimaryClient&&n&&YR(e.remoteStore,i),o}async function mU(e,t,n,r,i){e.pu=(m,p,d)=>async function(E,A,y,v){let w=A.view.ru(y);w.Cs&&(w=await pE(E.localStore,A.query,!1).then(({documents:T})=>A.view.ru(T,w)));const I=v&&v.targetChanges.get(A.targetId),V=v&&v.targetMismatches.get(A.targetId)!=null,L=A.view.applyChanges(w,E.isPrimaryClient,I,V);return SE(E,A.targetId,L.au),L.snapshot}(e,m,p,d);const s=await pE(e.localStore,t,!0),a=new lU(t,s.Qs),o=a.ru(s.documents),u=Ju.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),c=a.applyChanges(o,e.isPrimaryClient,u);SE(e,n,c.au);const h=new uU(t,n,a);return e.Tu.set(t,h),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function pU(e,t,n){const r=st(e),i=r.Tu.get(t),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(a=>!ad(a,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await sg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&tv(r.remoteStore,i.targetId),lg(r,i.targetId)}).catch($o)):(lg(r,i.targetId),await sg(r.localStore,i.targetId,!0))}async function gU(e,t){const n=st(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),tv(n.remoteStore,r.targetId))}async function yU(e,t,n){const r=AU(e);try{const i=await function(a,o){const u=st(a),c=Bt.now(),h=o.reduce((d,S)=>d.add(S.key),pt());let m,p;return u.persistence.runTransaction("Locally write mutations","readwrite",d=>{let S=Jr(),E=pt();return u.Ns.getEntries(d,h).next(A=>{S=A,S.forEach((y,v)=>{v.isValidDocument()||(E=E.add(y))})}).next(()=>u.localDocuments.getOverlayedDocuments(d,S)).next(A=>{m=A;const y=[];for(const v of o){const w=I3(v,m.get(v.key).overlayedDocument);w!=null&&y.push(new aa(v.key,w,fR(w.value.mapValue),hr.exists(!0)))}return u.mutationQueue.addMutationBatch(d,c,y,o)}).next(A=>{p=A;const y=A.applyToLocalDocumentSet(m,E);return u.documentOverlayCache.saveOverlays(d,A.batchId,y)})}).then(()=>({batchId:p.batchId,changes:TR(m)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(a,o,u){let c=a.Vu[a.currentUser.toKey()];c||(c=new Yt(mt)),c=c.insert(o,u),a.Vu[a.currentUser.toKey()]=c}(r,i.batchId,n),await ec(r,i.changes),await dd(r.remoteStore)}catch(i){const s=sv(i,"Failed to persist write");n.reject(s)}}async function rx(e,t){const n=st(e);try{const r=await xL(n.localStore,t);t.targetChanges.forEach((i,s)=>{const a=n.Au.get(s);a&&(Rt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?Rt(a.hu,14607):i.removedDocuments.size>0&&(Rt(a.hu,42227),a.hu=!1))}),await ec(n,r,t)}catch(r){await $o(r)}}function AE(e,t,n){const r=st(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,a)=>{const o=a.view.va(t);o.snapshot&&i.push(o.snapshot)}),function(a,o){const u=st(a);u.onlineState=o;let c=!1;u.queries.forEach((h,m)=>{for(const p of m.Sa)p.va(o)&&(c=!0)}),c&&av(u)}(r.eventManager,t),i.length&&r.Pu.H_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function vU(e,t,n){const r=st(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),s=i&&i.key;if(s){let a=new Yt(X.comparator);a=a.insert(s,Me.newNoDocument(s,it.min()));const o=pt().add(s),u=new cd(it.min(),new Map,new Yt(mt),a,o);await rx(r,u),r.du=r.du.remove(s),r.Au.delete(t),lv(r)}else await sg(r.localStore,t,!1).then(()=>lg(r,t,n)).catch($o)}async function _U(e,t){const n=st(e),r=t.batch.batchId;try{const i=await RL(n.localStore,t);sx(n,r,null),ix(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ec(n,i)}catch(i){await $o(i)}}async function bU(e,t,n){const r=st(e);try{const i=await function(a,o){const u=st(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return u.mutationQueue.lookupMutationBatch(c,o).next(m=>(Rt(m!==null,37113),h=m.keys(),u.mutationQueue.removeMutationBatch(c,m))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,o)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>u.localDocuments.getDocuments(c,h))})}(r.localStore,t);sx(r,t,n),ix(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await ec(r,i)}catch(i){await $o(i)}}function ix(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function sx(e,t,n){const r=st(e);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function lg(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(r=>{e.Ru.containsKey(r)||ax(e,r)})}function ax(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(tv(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),lv(e))}function SE(e,t,n){for(const r of n)r instanceof tx?(e.Ru.addReference(r.key,t),EU(e,r)):r instanceof ex?(K(ov,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||ax(e,r.key)):Z(19791,{wu:r})}function EU(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(K(ov,"New document in limbo: "+n),e.Eu.add(r),lv(e))}function lv(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new X(kt.fromString(t)),r=e.fu.next();e.Au.set(r,new cU(n)),e.du=e.du.insert(n,r),YR(e.remoteStore,new Ui(cr(Fy(n.path)),r,"TargetPurposeLimboResolution",rd.ce))}}async function ec(e,t,n){const r=st(e),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((o,u)=>{a.push(r.pu(u,t,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const m=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(c){i.push(c);const m=Zy.As(u.targetId,c);s.push(m)}}))}),await Promise.all(a),r.Pu.H_(i),await async function(u,c){const h=st(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>j.forEach(c,p=>j.forEach(p.Es,d=>h.persistence.referenceDelegate.addReference(m,p.targetId,d)).next(()=>j.forEach(p.ds,d=>h.persistence.referenceDelegate.removeReference(m,p.targetId,d)))))}catch(m){if(!Yo(m))throw m;K(Jy,"Failed to update sequence numbers: "+m)}for(const m of c){const p=m.targetId;if(!m.fromCache){const d=h.Ms.get(p),S=d.snapshotVersion,E=d.withLastLimboFreeSnapshotVersion(S);h.Ms=h.Ms.insert(p,E)}}}(r.localStore,s))}async function wU(e,t){const n=st(e);if(!n.currentUser.isEqual(t)){K(ov,"User change. New user:",t.toKey());const r=await FR(n.localStore,t);n.currentUser=t,function(s,a){s.mu.forEach(o=>{o.forEach(u=>{u.reject(new Y(z.CANCELLED,a))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await ec(n,r.Ls)}}function TU(e,t){const n=st(e),r=n.Au.get(t);if(r&&r.hu)return pt().add(r.key);{let i=pt();const s=n.Iu.get(t);if(!s)return i;for(const a of s){const o=n.Tu.get(a);i=i.unionWith(o.view.nu)}return i}}function ox(e){const t=st(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=rx.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=TU.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=vU.bind(null,t),t.Pu.H_=sU.bind(null,t.eventManager),t.Pu.yu=aU.bind(null,t.eventManager),t}function AU(e){const t=st(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_U.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=bU.bind(null,t),t}class bf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=hd(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return SL(this.persistence,new wL,t.initialUser,this.serializer)}Cu(t){return new HR(Wy.mi,this.serializer)}Du(t){return new DL}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bf.provider={build:()=>new bf};class SU extends bf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Rt(this.persistence.referenceDelegate instanceof vf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new oL(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Ye.withCacheSize(this.cacheSizeBytes):Ye.DEFAULT;return new HR(r=>vf.mi(r,n),this.serializer)}}class ug{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>AE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=wU.bind(null,this.syncEngine),await tU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new nU}()}createDatastore(t){const n=hd(t.databaseInfo.databaseId),r=function(s){return new LL(s)}(t.databaseInfo);return function(s,a,o,u){return new BL(s,a,o,u)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,a,o){return new HL(r,i,s,a,o)}(this.localStore,this.datastore,t.asyncQueue,n=>AE(this.syncEngine,n,0),function(){return vE.v()?new vE:new ML}())}createSyncEngine(t,n){return function(i,s,a,o,u,c,h){const m=new hU(i,s,a,o,u,c);return h&&(m.gu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(i){const s=st(i);K(Js,"RemoteStore shutting down."),s.Ea.add(5),await tc(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}ug.provider={build:()=>new ug};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Zr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls="FirestoreClient";class xU{constructor(t,n,r,i,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=De.UNAUTHENTICATED,this.clientId=Uy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{K(ls,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(K(ls,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=sv(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Nm(e,t){e.asyncQueue.verifyOperationInProgress(),K(ls,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await FR(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function RE(e,t){e.asyncQueue.verifyOperationInProgress();const n=await CU(e);K(ls,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>bE(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>bE(t.remoteStore,i)),e._onlineComponents=t}async function CU(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){K(ls,"Using user provided OfflineComponentProvider");try{await Nm(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(i){return i.name==="FirebaseError"?i.code===z.FAILED_PRECONDITION||i.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;xo("Error using user provided cache. Falling back to memory cache: "+n),await Nm(e,new bf)}}else K(ls,"Using default OfflineComponentProvider"),await Nm(e,new SU(void 0));return e._offlineComponents}async function lx(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(K(ls,"Using user provided OnlineComponentProvider"),await RE(e,e._uninitializedComponentsProvider._online)):(K(ls,"Using default OnlineComponentProvider"),await RE(e,new ug))),e._onlineComponents}function IU(e){return lx(e).then(t=>t.syncEngine)}async function xE(e){const t=await lx(e),n=t.eventManager;return n.onListen=fU.bind(null,t.syncEngine),n.onUnlisten=pU.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=dU.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=gU.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx="firestore.googleapis.com",IE=!0;class NE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Y(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=cx,this.ssl=IE}else this.host=t.host,this.ssl=t.ssl??IE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=qR;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<sL)throw new Y(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}q6("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ux(t.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Y(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Y(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Y(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class md{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Y(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new D6;switch(r.type){case"firstParty":return new k6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=CE.get(n);r&&(K("ComponentProvider","Removing Datastore"),CE.delete(n),r.terminate())}(this),Promise.resolve()}}function NU(e,t,n,r={}){var c;e=to(e,md);const i=Ho(t),s=e._getSettings(),a={...s,emulatorOptions:e._getEmulatorOptions()},o=`${t}:${n}`;i&&(uS(`https://${o}`),cS("Firestore",!0)),s.host!==cx&&s.host!==o&&xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...s,host:o,ssl:i,emulatorOptions:r};if(!Ks(u,a)&&(e._setSettings(u),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=De.MOCK_USER;else{h=JP(r.mockUserToken,(c=e._app)==null?void 0:c.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Y(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new De(p)}e._authCredentials=new M6(new tR(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new la(this.firestore,t,this._query)}}class ce{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wi(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ce(this.firestore,t,this._key)}toJSON(){return{type:ce._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(Wu(n,ce._jsonSchema))return new ce(t,r||null,new X(kt.fromString(n.referencePath)))}}ce._jsonSchemaVersion="firestore/documentReference/1.0",ce._jsonSchema={type:ae("string",ce._jsonSchemaVersion),referencePath:ae("string")};class Wi extends la{constructor(t,n,r){super(t,n,Fy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ce(this.firestore,null,new X(t))}withConverter(t){return new Wi(this.firestore,t,this._path)}}function vh(e,t,...n){if(e=Ze(e),eR("collection","path",t),e instanceof md){const r=kt.fromString(t,...n);return qb(r),new Wi(e,null,r)}{if(!(e instanceof ce||e instanceof Wi))throw new Y(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(kt.fromString(t,...n));return qb(r),new Wi(e.firestore,null,r)}}function hx(e,t,...n){if(e=Ze(e),arguments.length===1&&(t=Uy.newId()),eR("doc","path",t),e instanceof md){const r=kt.fromString(t,...n);return Bb(r),new ce(e,null,new X(r))}{if(!(e instanceof ce||e instanceof Wi))throw new Y(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(kt.fromString(t,...n));return Bb(r),new ce(e.firestore,e instanceof Wi?e.converter:null,new X(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="AsyncQueue";class DE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new QR(this,"async_queue_retry"),this._c=()=>{const r=Im();r&&K(OE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=Im();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Im();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new qs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Yo(t))throw t;K(OE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(r=>{throw this.nc=r,this.rc=!1,Zr("INTERNAL UNHANDLED ERROR: ",ME(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const i=iv.createAndSchedule(this,t,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&Z(47125,{Pc:ME(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function ME(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(e,["next","error","complete"])}class Au extends md{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new DE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new DE(t),this._firestoreClient=void 0,await t}}}function OU(e,t){const n=typeof e=="object"?e:dS(),r=typeof e=="string"?e:df,i=xy(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=WP("firestore");s&&NU(i,...s)}return i}function fx(e){if(e._terminated)throw new Y(z.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||DU(e),e._firestoreClient}function DU(e){var r,i,s;const t=e._freezeSettings(),n=function(o,u,c,h){return new J6(o,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,ux(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(e._databaseId,((r=e._app)==null?void 0:r.options.appId)||"",e._persistenceKey,t);e._componentsProvider||(i=t.localCache)!=null&&i._offlineComponentProvider&&((s=t.localCache)!=null&&s._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new xU(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(o){const u=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(u),_online:u}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Rn(Re.fromBase64String(t))}catch(n){throw new Y(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Rn(Re.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Rn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Wu(t,Rn._jsonSchema))return Rn.fromBase64String(t.bytes)}}Rn._jsonSchemaVersion="firestore/bytes/1.0",Rn._jsonSchema={type:ae("string",Rn._jsonSchemaVersion),bytes:ae("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Y(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ae(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Y(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Y(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return mt(this._lat,t._lat)||mt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:dr._jsonSchemaVersion}}static fromJSON(t){if(Wu(t,dr._jsonSchema))return new dr(t.latitude,t.longitude)}}dr._jsonSchemaVersion="firestore/geoPoint/1.0",dr._jsonSchema={type:ae("string",dr._jsonSchemaVersion),latitude:ae("number"),longitude:ae("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,t._values)}toJSON(){return{type:mr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Wu(t,mr._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new mr(t.vectorValues);throw new Y(z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}mr._jsonSchemaVersion="firestore/vectorValue/1.0",mr._jsonSchema={type:ae("string",mr._jsonSchemaVersion),vectorValues:ae("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MU=/^__.*__$/;class PU{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new aa(t,this.data,this.fieldMask,n,this.fieldTransforms):new Zu(t,this.data,n,this.fieldTransforms)}}function dx(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z(40011,{Ac:e})}}class hv{constructor(t,n,r,i,s,a){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new hv({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var i;const n=(i=this.path)==null?void 0:i.child(t),r=this.Vc({path:n,fc:!1});return r.gc(t),r}yc(t){var i;const n=(i=this.path)==null?void 0:i.child(t),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Ef(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(dx(this.Ac)&&MU.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class VU{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||hd(t)}Cc(t,n,r,i=!1){return new hv({Ac:t,methodName:n,Dc:r,path:Ae.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mx(e){const t=e._freezeSettings(),n=hd(e._databaseId);return new VU(e._databaseId,!!t.ignoreUndefinedProperties,n)}function kU(e,t,n,r,i,s={}){const a=e.Cc(s.merge||s.mergeFields?2:0,t,n,i);yx("Data must be an object, but it was:",a,r);const o=px(r,a);let u,c;if(s.merge)u=new Un(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const h=[];for(const m of s.mergeFields){const p=UU(t,m,n);if(!a.contains(p))throw new Y(z.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);jU(h,p)||h.push(p)}u=new Un(h),c=a.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,c=a.fieldTransforms;return new PU(new Sn(o),u,c)}class fv extends cv{_toFieldTransform(t){return new S3(t.path,new Eu)}isEqual(t){return t instanceof fv}}function LU(e,t,n,r=!1){return dv(n,e.Cc(r?4:3,t))}function dv(e,t){if(gx(e=Ze(e)))return yx("Unsupported field value:",t,e),px(e,t);if(e instanceof cv)return function(r,i){if(!dx(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const o of r){let u=dv(o,i.wc(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=Ze(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return w3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Bt.fromDate(r);return{timestampValue:yf(i.serializer,s)}}if(r instanceof Bt){const s=new Bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yf(i.serializer,s)}}if(r instanceof dr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Rn)return{bytesValue:VR(i.serializer,r._byteString)};if(r instanceof ce){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ky(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof mr)return function(a,o){return{mapValue:{fields:{[cR]:{stringValue:hR},[mf]:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw o.Sc("VectorValues must only contain numeric values.");return Gy(o.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${nd(r)}`)}(e,t)}function px(e,t){const n={};return iR(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ia(e,(r,i)=>{const s=dv(i,t.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function gx(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Bt||e instanceof dr||e instanceof Rn||e instanceof ce||e instanceof cv||e instanceof mr)}function yx(e,t,n){if(!gx(n)||!nR(n)){const r=nd(n);throw r==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function UU(e,t,n){if((t=Ze(t))instanceof uv)return t._internalPath;if(typeof t=="string")return vx(e,t);throw Ef("Field path arguments must be of type string or ",e,!1,void 0,n)}const zU=new RegExp("[~\\*/\\[\\]]");function vx(e,t,n){if(t.search(zU)>=0)throw Ef(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new uv(...t.split("."))._internalPath}catch{throw Ef(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Ef(e,t,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${r}`),a&&(u+=` in document ${i}`),u+=")"),new Y(z.INVALID_ARGUMENT,o+e+u)}function jU(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ce(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new BU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(pd("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class BU extends _x{data(){return super.data()}}function pd(e,t){return typeof t=="string"?vx(e,t):t instanceof uv?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qU(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Y(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mv{}class bx extends mv{}function Ex(e,t,...n){let r=[];t instanceof mv&&r.push(t),r=r.concat(n),function(s){const a=s.filter(u=>u instanceof pv).length,o=s.filter(u=>u instanceof gd).length;if(a>1||a>0&&o>0)throw new Y(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class gd extends bx{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new gd(t,n,r)}_apply(t){const n=this._parse(t);return Tx(t._query,n),new la(t.firestore,t.converter,Jp(t._query,n))}_parse(t){const n=mx(t.firestore);return function(s,a,o,u,c,h,m){let p;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Y(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){kE(m,h);const S=[];for(const E of m)S.push(VE(u,s,E));p={arrayValue:{values:S}}}else p=VE(u,s,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||kE(m,h),p=LU(o,a,m,h==="in"||h==="not-in");return se.create(c,h,p)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function HU(e,t,n){const r=t,i=pd("where",e);return gd._create(i,r,n)}class pv extends mv{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new pv(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:qn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,s){let a=i;const o=s.getFlattenedFilters();for(const u of o)Tx(a,u),a=Jp(a,u)}(t._query,n),new la(t.firestore,t.converter,Jp(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class gv extends bx{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new gv(t,n)}_apply(t){const n=function(i,s,a){if(i.startAt!==null)throw new Y(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Y(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new bu(s,a)}(t._query,this._field,this._direction);return new la(t.firestore,t.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new Ko(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,n))}}function wx(e,t="asc"){const n=t,r=pd("orderBy",e);return gv._create(r,n)}function VE(e,t,n){if(typeof(n=Ze(n))=="string"){if(n==="")throw new Y(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_R(t)&&n.indexOf("/")!==-1)throw new Y(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(kt.fromString(n));if(!X.isDocumentKey(r))throw new Y(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Xb(e,new X(r))}if(n instanceof ce)return Xb(e,n._key);throw new Y(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nd(n)}.`)}function kE(e,t){if(!Array.isArray(e)||e.length===0)throw new Y(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Tx(e,t){const n=function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new Y(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Y(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class FU{convertValue(t,n="none"){switch(as(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ne(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ss(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Z(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return ia(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(t){var r,i,s;const n=(s=(i=(r=t.fields)==null?void 0:r[mf].arrayValue)==null?void 0:i.values)==null?void 0:s.map(a=>ne(a.doubleValue));return new mr(n)}convertGeoPoint(t){return new dr(ne(t.latitude),ne(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=sd(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(yu(t));default:return null}}convertTimestamp(t){const n=is(t);return new Bt(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=kt.fromString(t);Rt(BR(r),9688,{name:t});const i=new vu(r.get(1),r.get(3)),s=new X(r.popFirst(5));return i.isEqual(n)||Zr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GU(e,t,n){let r;return r=e?e.toFirestore(t):t,r}class xl{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Hs extends _x{constructor(t,n,r,i,s,a){super(t,n,r,i,a),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new _h(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(pd("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Hs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Hs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hs._jsonSchema={type:ae("string",Hs._jsonSchemaVersion),bundleSource:ae("string","DocumentSnapshot"),bundleName:ae("string"),bundle:ae("string")};class _h extends Hs{data(t={}){return super.data(t)}}class no{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new xl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new _h(this._firestore,this._userDataWriter,r.key,r,new xl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const u=new _h(i._firestore,i._userDataWriter,o.doc.key,o.doc,new xl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const u=new _h(i._firestore,i._userDataWriter,o.doc.key,o.doc,new xl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),h=a.indexOf(o.doc.key)),{type:QU(o.type),doc:u,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=no._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Uy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function QU(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z(61501,{type:e})}}no._jsonSchemaVersion="firestore/querySnapshot/1.0",no._jsonSchema={type:ae("string",no._jsonSchemaVersion),bundleSource:ae("string","QuerySnapshot"),bundleName:ae("string"),bundle:ae("string")};class Ax extends FU{constructor(t){super(),this.firestore=t}convertBytes(t){return new Rn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ce(this.firestore,null,n)}}function $U(e){return Rx(to(e.firestore,Au),[new Qy(e._key,hr.none())])}function LE(e,t){const n=to(e.firestore,Au),r=hx(e),i=GU(e.converter,t);return Rx(n,[kU(mx(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,hr.exists(!1))]).then(()=>r)}function Sx(e,...t){var u,c,h;e=Ze(e);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||PE(t[r])||(n=t[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(PE(t[r])){const m=t[r];t[r]=(u=m.next)==null?void 0:u.bind(m),t[r+1]=(c=m.error)==null?void 0:c.bind(m),t[r+2]=(h=m.complete)==null?void 0:h.bind(m)}let s,a,o;if(e instanceof ce)a=to(e.firestore,Au),o=Fy(e._key.path),s={next:m=>{t[r]&&t[r](YU(a,e,m))},error:t[r+1],complete:t[r+2]};else{const m=to(e,la);a=to(m.firestore,Au),o=m._query;const p=new Ax(a);s={next:d=>{t[r]&&t[r](new no(a,p,m,d))},error:t[r+1],complete:t[r+2]},qU(e._query)}return function(p,d,S,E){const A=new RU(E),y=new oU(d,A,S);return p.asyncQueue.enqueueAndForget(async()=>rU(await xE(p),y)),()=>{A.Nu(),p.asyncQueue.enqueueAndForget(async()=>iU(await xE(p),y))}}(fx(a),o,i,s)}function Rx(e,t){return function(r,i){const s=new qs;return r.asyncQueue.enqueueAndForget(async()=>yU(await IU(r),i,s)),s.promise}(fx(e),t)}function YU(e,t,n){const r=n.docs.get(t._key),i=new Ax(e);return new Hs(e,i,t._key,r,new xl(n.hasPendingWrites,n.fromCache),t.converter)}function UE(){return new fv("serverTimestamp")}(function(t,n=!0){(function(i){Qo=i})(Fo),Ro(new Xs("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),o=new Au(new P6(r.getProvider("auth-internal")),new L6(a,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Y(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vu(c.options.projectId,h)}(a,i),a);return s={useFetchStreams:n,...s},o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),Ki(Lb,Ub,t),Ki(Lb,Ub,"esm2020")})();const KU=Cy(window.__firebase_config),Cl=OU(KU),xx=e=>{const[t,n]=D.useState([]),[r,i]=D.useState(!0),[s,a]=D.useState(null);return D.useEffect(()=>{if(!e)return;const c=`artifacts/${window.__app_id}/users/${e}/wishlist`,h=Ex(vh(Cl,c),wx("timestamp","desc")),m=Sx(h,p=>{const d=[];p.forEach(S=>{d.push({id:S.id,...S.data()})}),n(d),i(!1)},p=>{console.error("Firestore error:",p),a("Failed to load wishlist"),i(!1)});return()=>m()},[e]),{products:t,loading:r,error:s,addProduct:async c=>{if(!e)throw new Error("User not authenticated");try{const h=`artifacts/${window.__app_id}/users/${e}/wishlist`;if(await LE(vh(Cl,h),{...c,timestamp:UE()}),c.isPublic){const m=`artifacts/${window.__app_id}/public/data/wishlists`;await LE(vh(Cl,m),{...c,userId:e,timestamp:UE()})}}catch(h){throw console.error("Error adding product:",h),new Error("Failed to add product")}},deleteProduct:async c=>{if(!e)throw new Error("User not authenticated");try{const h=`artifacts/${window.__app_id}/users/${e}/wishlist`;await $U(hx(Cl,h,c))}catch(h){throw console.error("Error deleting product:",h),new Error("Failed to delete product")}}}},XU=e=>{const[t,n]=D.useState([]),[r,i]=D.useState(!1),[s,a]=D.useState(null);return D.useEffect(()=>{if(!e){n([]);return}i(!0);const o=`artifacts/${window.__app_id}/public/data/wishlists`,u=Ex(vh(Cl,o),HU("userId","==",e),wx("timestamp","desc")),c=Sx(u,h=>{const m=[];h.forEach(p=>{m.push({id:p.id,...p.data()})}),n(m),i(!1)},h=>{console.error("Public wishlist error:",h),a("Failed to load public wishlist"),i(!1)});return()=>c()},[e]),{publicProducts:t,loading:r,error:s}},zE=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,jE=VA,yv=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return jE(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=t,a=Object.keys(i).map(c=>{const h=n==null?void 0:n[c],m=s==null?void 0:s[c];if(h===null)return null;const p=zE(h)||zE(m);return i[c][p]}),o=n&&Object.entries(n).reduce((c,h)=>{let[m,p]=h;return p===void 0||(c[m]=p),c},{}),u=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,h)=>{let{class:m,className:p,...d}=h;return Object.entries(d).every(S=>{let[E,A]=S;return Array.isArray(A)?A.includes({...s,...o}[E]):{...s,...o}[E]===A})?[...c,m,p]:c},[]);return jE(e,a,u,n==null?void 0:n.class,n==null?void 0:n.className)},WU=yv("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),us=D.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},s)=>{const a=r?BN:"button";return M.jsx(a,{className:Xe(WU({variant:t,size:n,className:e})),ref:s,...i})});us.displayName="Button";const vv=D.forwardRef(({className:e,type:t,...n},r)=>M.jsx("input",{type:t,className:Xe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));vv.displayName="Input";var ZU="Label",Cx=D.forwardRef((e,t)=>M.jsx(Fn.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Cx.displayName=ZU;var Ix=Cx;const JU=yv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),wf=D.forwardRef(({className:e,...t},n)=>M.jsx(Ix,{ref:n,className:Xe(JU(),e),...t}));wf.displayName=Ix.displayName;function t9(e){const t=D.useRef({value:e,previous:e});return D.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var yd="Switch",[e9,U9]=hy(yd),[n9,r9]=e9(yd),Nx=D.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:a,disabled:o,value:u="on",onCheckedChange:c,form:h,...m}=e,[p,d]=D.useState(null),S=ei(t,w=>d(w)),E=D.useRef(!1),A=p?h||!!p.closest("form"):!0,[y,v]=xD({prop:i,defaultProp:s??!1,onChange:c,caller:yd});return M.jsxs(n9,{scope:n,checked:y,disabled:o,children:[M.jsx(Fn.button,{type:"button",role:"switch","aria-checked":y,"aria-required":a,"data-state":Px(y),"data-disabled":o?"":void 0,disabled:o,value:u,...m,ref:S,onClick:tr(e.onClick,w=>{v(I=>!I),A&&(E.current=w.isPropagationStopped(),E.current||w.stopPropagation())})}),A&&M.jsx(Mx,{control:p,bubbles:!E.current,name:r,value:u,checked:y,required:a,disabled:o,form:h,style:{transform:"translateX(-100%)"}})]})});Nx.displayName=yd;var Ox="SwitchThumb",Dx=D.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=r9(Ox,n);return M.jsx(Fn.span,{"data-state":Px(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});Dx.displayName=Ox;var i9="SwitchBubbleInput",Mx=D.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...i},s)=>{const a=D.useRef(null),o=ei(a,s),u=t9(n),c=dA(t);return D.useEffect(()=>{const h=a.current;if(!h)return;const m=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(m,"checked").set;if(u!==n&&d){const S=new Event("click",{bubbles:r});d.call(h,n),h.dispatchEvent(S)}},[u,n,r]),M.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:o,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Mx.displayName=i9;function Px(e){return e?"checked":"unchecked"}var Vx=Nx,s9=Dx;const kx=D.forwardRef(({className:e,...t},n)=>M.jsx(Vx,{className:Xe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:M.jsx(s9,{className:Xe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));kx.displayName=Vx.displayName;const nc=D.forwardRef(({className:e,...t},n)=>M.jsx("div",{ref:n,className:Xe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));nc.displayName="Card";const rc=D.forwardRef(({className:e,...t},n)=>M.jsx("div",{ref:n,className:Xe("flex flex-col space-y-1.5 p-6",e),...t}));rc.displayName="CardHeader";const ic=D.forwardRef(({className:e,...t},n)=>M.jsx("h3",{ref:n,className:Xe("text-2xl font-semibold leading-none tracking-tight",e),...t}));ic.displayName="CardTitle";const a9=D.forwardRef(({className:e,...t},n)=>M.jsx("p",{ref:n,className:Xe("text-sm text-muted-foreground",e),...t}));a9.displayName="CardDescription";const sc=D.forwardRef(({className:e,...t},n)=>M.jsx("div",{ref:n,className:Xe("p-6 pt-0",e),...t}));sc.displayName="CardContent";const o9=D.forwardRef(({className:e,...t},n)=>M.jsx("div",{ref:n,className:Xe("flex items-center p-6 pt-0",e),...t}));o9.displayName="CardFooter";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Lx=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var u9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=D.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},u)=>D.createElement("svg",{ref:u,...u9,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Lx("lucide",i),...o},[...a.map(([c,h])=>D.createElement(c,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=(e,t)=>{const n=D.forwardRef(({className:r,...i},s)=>D.createElement(c9,{ref:s,iconNode:t,className:Lx(`lucide-${l9(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=fs("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=fs("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=fs("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=fs("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=fs("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=fs("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=fs("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=fs("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);var g9={};const y9=async e=>{var t,n,r,i,s;try{const a=`https://api.allorigins.win/get?url=${encodeURIComponent(e)}`,o=await fetch(a);if(!o.ok)throw new Error("Failed to fetch URL content");const m={contents:[{parts:[{text:`System: Act as a helpful product expert. When given a URL, extract the product name, a concise summary of the product's features and description (less than 100 words), and a URL for the main product image. Respond with a valid JSON object only.

User: Extract product information from this HTML content:

${(await o.json()).contents}`}]}]},p=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${g9.GEMINI_API_KEY||"demo-key"}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});if(!p.ok)throw new Error("Gemini API request failed");const S=(s=(i=(r=(n=(t=(await p.json()).candidates)==null?void 0:t[0])==null?void 0:n.content)==null?void 0:r.parts)==null?void 0:i[0])==null?void 0:s.text;if(!S)throw new Error("No response from AI");const E=S.replace(/```json\n?|\n?```/g,"").trim(),A=JSON.parse(E);if(!A.productName||!A.description||!A.imageUrl)throw new Error("Invalid AI response format");return A}catch(a){console.error("Error extracting product data:",a);const u=new URL(e).hostname.replace("www.","");return{productName:`Product from ${u}`,description:`Product found at ${u}. Please check the original URL for full details.`,imageUrl:"/placeholder-product.jpg"}}},v9=({userId:e})=>{const[t,n]=D.useState(""),[r,i]=D.useState(!1),[s,a]=D.useState(!1),{addProduct:o}=xx(e),u=h=>{try{return new URL(h),!0}catch{return!1}},c=async h=>{if(h.preventDefault(),!t.trim()){xs.error("Please enter a product URL");return}if(!u(t)){xs.error("Please enter a valid URL");return}a(!0);try{xs.info("Extracting product information...");const m=await y9(t);await o({productName:m.productName,description:m.description,imageUrl:m.imageUrl,originalUrl:t,isPublic:r}),xs.success("Product added to your wishlist!"),n(""),i(!1)}catch(m){console.error("Error adding product:",m),xs.error("Failed to add product. Please try again.")}finally{a(!1)}};return M.jsxs(nc,{className:"w-full max-w-2xl mx-auto",children:[M.jsx(rc,{children:M.jsxs(ic,{className:"flex items-center gap-2",children:[M.jsx(BE,{className:"h-5 w-5"}),"Add Product to Wishlist"]})}),M.jsx(sc,{children:M.jsxs("form",{onSubmit:c,className:"space-y-4",children:[M.jsxs("div",{className:"space-y-2",children:[M.jsx(wf,{htmlFor:"url",children:"Product URL"}),M.jsx(vv,{id:"url",type:"url",placeholder:"https://example.com/product",value:t,onChange:h=>n(h.target.value),disabled:s})]}),M.jsxs("div",{className:"flex items-center space-x-2",children:[M.jsx(kx,{id:"public",checked:r,onCheckedChange:i,disabled:s}),M.jsx(wf,{htmlFor:"public",children:"Make this item public"})]}),M.jsx(us,{type:"submit",disabled:s||!t.trim(),className:"w-full",children:s?M.jsxs(M.Fragment,{children:[M.jsx(cg,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):M.jsxs(M.Fragment,{children:[M.jsx(BE,{className:"h-4 w-4 mr-2"}),"Add to Wishlist"]})})]})})]})},_9=yv("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ux({className:e,variant:t,...n}){return M.jsx("div",{className:Xe(_9({variant:t}),e),...n})}const zx=({product:e,onDelete:t,showDeleteButton:n=!0})=>{const r=()=>{t&&t(e.id)},i=()=>{window.open(e.originalUrl,"_blank","noopener,noreferrer")};return M.jsxs(nc,{className:"w-full max-w-sm mx-auto hover:shadow-lg transition-shadow duration-200",children:[M.jsx(rc,{className:"pb-3",children:M.jsxs("div",{className:"flex justify-between items-start gap-2",children:[M.jsx(ic,{className:"text-lg font-semibold line-clamp-2",children:e.productName}),e.isPublic&&M.jsx(Ux,{variant:"secondary",className:"shrink-0",children:"Public"})]})}),M.jsxs(sc,{className:"space-y-4",children:[e.imageUrl&&e.imageUrl!=="/placeholder-product.jpg"&&M.jsx("div",{className:"aspect-square w-full overflow-hidden rounded-md bg-gray-100",children:M.jsx("img",{src:e.imageUrl,alt:e.productName,className:"h-full w-full object-cover transition-transform hover:scale-105",onError:s=>{const a=s.target;a.src="/placeholder-product.jpg"}})}),M.jsx("p",{className:"text-sm text-gray-600 line-clamp-3",children:e.description}),M.jsxs("div",{className:"flex gap-2 pt-2",children:[M.jsxs(us,{variant:"outline",size:"sm",onClick:i,className:"flex-1",children:[M.jsx(h9,{className:"h-4 w-4 mr-1"}),"Visit"]}),n&&t&&M.jsx(us,{variant:"destructive",size:"sm",onClick:r,className:"px-3",children:M.jsx(d9,{className:"h-4 w-4"})})]})]})]})},b9=()=>{const[e,t]=D.useState(""),[n,r]=D.useState(null),{publicProducts:i,loading:s,error:a}=XU(n),o=c=>{c.preventDefault(),e.trim()&&r(e.trim())},u=()=>{t(""),r(null)};return M.jsxs(nc,{className:"w-full max-w-2xl mx-auto",children:[M.jsx(rc,{children:M.jsxs(ic,{className:"flex items-center gap-2",children:[M.jsx(p9,{className:"h-5 w-5"}),"View Public Wishlist"]})}),M.jsxs(sc,{className:"space-y-4",children:[M.jsxs("form",{onSubmit:o,className:"flex gap-2",children:[M.jsxs("div",{className:"flex-1",children:[M.jsx(wf,{htmlFor:"userId",className:"sr-only",children:"User ID"}),M.jsx(vv,{id:"userId",placeholder:"Enter user ID to view their public wishlist",value:e,onChange:c=>t(c.target.value)})]}),M.jsxs(us,{type:"submit",disabled:!e.trim(),children:[M.jsx(f9,{className:"h-4 w-4 mr-1"}),"Search"]}),n&&M.jsx(us,{type:"button",variant:"outline",onClick:u,children:"Clear"})]}),n&&M.jsxs("div",{className:"space-y-4",children:[M.jsxs("div",{className:"text-sm text-gray-600",children:["Showing public wishlist for: ",M.jsx("span",{className:"font-mono font-medium",children:n})]}),s&&M.jsxs("div",{className:"text-center py-8",children:[M.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),M.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Loading wishlist..."})]}),a&&M.jsx("div",{className:"text-center py-8 text-red-600",children:M.jsx("p",{children:a})}),!s&&!a&&i.length===0&&M.jsx("div",{className:"text-center py-8 text-gray-500",children:M.jsx("p",{children:"No public items found for this user."})}),!s&&!a&&i.length>0&&M.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(c=>M.jsx(zx,{product:c,showDeleteButton:!1},c.id))})]})]})]})};var E9="Separator",qE="horizontal",w9=["horizontal","vertical"],jx=D.forwardRef((e,t)=>{const{decorative:n,orientation:r=qE,...i}=e,s=T9(r)?r:qE,o=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return M.jsx(Fn.div,{"data-orientation":s,...o,...i,ref:t})});jx.displayName=E9;function T9(e){return w9.includes(e)}var Bx=jx;const hg=D.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},i)=>M.jsx(Bx,{ref:i,decorative:n,orientation:t,className:Xe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));hg.displayName=Bx.displayName;function A9(){const{user:e,loading:t,error:n}=O6(),{products:r,loading:i,error:s,deleteProduct:a}=xx((e==null?void 0:e.uid)||null),o=async u=>{try{await a(u),xs.success("Product removed from wishlist")}catch(c){console.error("Error deleting product:",c),xs.error("Failed to remove product")}};return t?M.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-50",children:M.jsxs("div",{className:"text-center",children:[M.jsx(cg,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-600"}),M.jsx("p",{className:"text-gray-600",children:"Initializing your wishlist..."})]})}):n?M.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 to-pink-50",children:M.jsxs("div",{className:"text-center",children:[M.jsxs("p",{className:"text-red-600 mb-4",children:["Authentication Error: ",n]}),M.jsx("p",{className:"text-gray-600",children:"Please refresh the page to try again."})]})}):M.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50",children:M.jsxs("div",{className:"container mx-auto px-4 py-8 space-y-8",children:[M.jsxs("div",{className:"text-center space-y-4",children:[M.jsxs("div",{className:"flex items-center justify-center gap-3",children:[M.jsx(Om,{className:"h-8 w-8 text-red-500"}),M.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"AI-Powered Wishlist"})]}),M.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Simply paste a product URL and let AI extract all the important details for your wishlist"}),e&&M.jsxs("div",{className:"flex items-center justify-center gap-2",children:[M.jsx(m9,{className:"h-4 w-4 text-gray-500"}),M.jsx("span",{className:"text-sm text-gray-600",children:"Your ID:"}),M.jsx(Ux,{variant:"outline",className:"font-mono",children:e.uid})]})]}),e&&M.jsx(v9,{userId:e.uid}),M.jsx(hg,{}),e&&M.jsx("div",{className:"space-y-6",children:M.jsxs(nc,{children:[M.jsx(rc,{children:M.jsxs(ic,{className:"flex items-center gap-2",children:[M.jsx(Om,{className:"h-5 w-5 text-red-500"}),"My Wishlist (",r.length," items)"]})}),M.jsxs(sc,{children:[i&&M.jsxs("div",{className:"text-center py-8",children:[M.jsx(cg,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-600"}),M.jsx("p",{className:"text-gray-600",children:"Loading your wishlist..."})]}),s&&M.jsx("div",{className:"text-center py-8 text-red-600",children:M.jsxs("p",{children:["Error: ",s]})}),!i&&!s&&r.length===0&&M.jsxs("div",{className:"text-center py-12 text-gray-500",children:[M.jsx(Om,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),M.jsx("p",{className:"text-lg mb-2",children:"Your wishlist is empty"}),M.jsx("p",{className:"text-sm",children:"Add your first product by pasting a URL above!"})]}),!i&&!s&&r.length>0&&M.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:r.map(u=>M.jsx(zx,{product:u,onDelete:o,showDeleteButton:!0},u.id))})]})]})}),M.jsx(hg,{}),M.jsx(b9,{})]})})}function S9(){return M.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-gray-50 to-blue-50 p-6 text-center",children:M.jsxs("div",{className:"space-y-6 max-w-md",children:[M.jsxs("div",{className:"space-y-3",children:[M.jsx("h1",{className:"text-8xl font-bold text-blue-600",children:"404"}),M.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Page Not Found"}),M.jsx("p",{className:"text-muted-foreground",children:"The page you're looking for doesn't exist or may have been moved."})]}),M.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[M.jsx(us,{asChild:!0,children:M.jsx("a",{href:"/",children:"Return Home"})}),M.jsx(us,{variant:"outline",onClick:()=>window.history.back(),children:"Go Back"})]})]})})}const R9=new ZM,x9=()=>M.jsx(tP,{client:R9,children:M.jsxs(CM,{children:[M.jsx(zN,{}),M.jsx(qP,{children:M.jsxs(zP,{children:[M.jsx(Lp,{path:"/",element:M.jsx(A9,{})}),M.jsx(Lp,{path:"*",element:M.jsx(S9,{})})]})})]})});oN.createRoot(document.getElementById("root")).render(M.jsx(x9,{}));
