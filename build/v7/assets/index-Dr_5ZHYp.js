var a_=e=>{throw TypeError(e)};var Pd=(e,t,n)=>t.has(e)||a_("Cannot "+n);var U=(e,t,n)=>(Pd(e,t,"read from private field"),n?n.call(e):t.get(e)),Et=(e,t,n)=>t.has(e)?a_("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),ot=(e,t,n,r)=>(Pd(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Ie=(e,t,n)=>(Pd(e,t,"access private method"),n);var Tc=(e,t,n,r)=>({set _(i){ot(e,t,i,n)},get _(){return U(e,t,r)}});function pC(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function ew(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var nw={exports:{}},Sf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gC=Symbol.for("react.transitional.element"),yC=Symbol.for("react.fragment");function rw(e,t,n){var r=null;if(n!==void 0&&(r=""+n),t.key!==void 0&&(r=""+t.key),"key"in t){n={};for(var i in t)i!=="key"&&(n[i]=t[i])}else n=t;return t=n.ref,{$$typeof:gC,type:e,key:r,ref:t!==void 0?t:null,props:n}}Sf.Fragment=yC;Sf.jsx=rw;Sf.jsxs=rw;nw.exports=Sf;var M=nw.exports,iw={exports:{}},Rf={},sw={exports:{}},aw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,$){var H=q.length;q.push($);t:for(;0<H;){var F=H-1>>>1,W=q[F];if(0<i(W,$))q[F]=$,q[H]=W,H=F;else break t}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var $=q[0],H=q.pop();if(H!==$){q[0]=H;t:for(var F=0,W=q.length,Ut=W>>>1;F<Ut;){var at=2*(F+1)-1,J=q[at],gt=at+1,Dt=q[gt];if(0>i(J,H))gt<W&&0>i(Dt,J)?(q[F]=Dt,q[gt]=H,F=gt):(q[F]=J,q[at]=H,F=at);else if(gt<W&&0>i(Dt,H))q[F]=Dt,q[gt]=H,F=gt;else break t}}return $}function i(q,$){var H=q.sortIndex-$.sortIndex;return H!==0?H:q.id-$.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var u=[],c=[],h=1,m=null,p=3,d=!1,S=!1,E=!1,A=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function I(q){for(var $=n(c);$!==null;){if($.callback===null)r(c);else if($.startTime<=q)r(c),$.sortIndex=$.expirationTime,t(u,$);else break;$=n(c)}}function V(q){if(E=!1,I(q),!S)if(n(u)!==null)S=!0,L||(L=!0,O());else{var $=n(c);$!==null&&wt(V,$.startTime-q)}}var L=!1,T=-1,_=5,x=-1;function R(){return A?!0:!(e.unstable_now()-x<_)}function N(){if(A=!1,L){var q=e.unstable_now();x=q;var $=!0;try{t:{S=!1,E&&(E=!1,v(T),T=-1),d=!0;var H=p;try{e:{for(I(q),m=n(u);m!==null&&!(m.expirationTime>q&&R());){var F=m.callback;if(typeof F=="function"){m.callback=null,p=m.priorityLevel;var W=F(m.expirationTime<=q);if(q=e.unstable_now(),typeof W=="function"){m.callback=W,I(q),$=!0;break e}m===n(u)&&r(u),I(q)}else r(u);m=n(u)}if(m!==null)$=!0;else{var Ut=n(c);Ut!==null&&wt(V,Ut.startTime-q),$=!1}}break t}finally{m=null,p=H,d=!1}$=void 0}}finally{$?O():L=!1}}}var O;if(typeof w=="function")O=function(){w(N)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,rt=C.port2;C.port1.onmessage=N,O=function(){rt.postMessage(null)}}else O=function(){y(N,0)};function wt(q,$){T=y(function(){q(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_next=function(q){switch(p){case 1:case 2:case 3:var $=3;break;default:$=p}var H=p;p=$;try{return q()}finally{p=H}},e.unstable_requestPaint=function(){A=!0},e.unstable_runWithPriority=function(q,$){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var H=p;p=q;try{return $()}finally{p=H}},e.unstable_scheduleCallback=function(q,$,H){var F=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?F+H:F):H=F,q){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=H+W,q={id:h++,callback:$,priorityLevel:q,startTime:H,expirationTime:W,sortIndex:-1},H>F?(q.sortIndex=H,t(c,q),n(u)===null&&q===n(c)&&(E?(v(T),T=-1):E=!0,wt(V,H-F))):(q.sortIndex=W,t(u,q),S||d||(S=!0,L||(L=!0,O()))),q},e.unstable_shouldYield=R,e.unstable_wrapCallback=function(q){var $=p;return function(){var H=p;p=$;try{return q.apply(this,arguments)}finally{p=H}}}})(aw);sw.exports=aw;var vC=sw.exports,ow={exports:{}},ut={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mg=Symbol.for("react.transitional.element"),_C=Symbol.for("react.portal"),bC=Symbol.for("react.fragment"),EC=Symbol.for("react.strict_mode"),wC=Symbol.for("react.profiler"),TC=Symbol.for("react.consumer"),AC=Symbol.for("react.context"),SC=Symbol.for("react.forward_ref"),RC=Symbol.for("react.suspense"),xC=Symbol.for("react.memo"),lw=Symbol.for("react.lazy"),o_=Symbol.iterator;function CC(e){return e===null||typeof e!="object"?null:(e=o_&&e[o_]||e["@@iterator"],typeof e=="function"?e:null)}var uw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cw=Object.assign,hw={};function ko(e,t,n){this.props=e,this.context=t,this.refs=hw,this.updater=n||uw}ko.prototype.isReactComponent={};ko.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ko.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function fw(){}fw.prototype=ko.prototype;function pg(e,t,n){this.props=e,this.context=t,this.refs=hw,this.updater=n||uw}var gg=pg.prototype=new fw;gg.constructor=pg;cw(gg,ko.prototype);gg.isPureReactComponent=!0;var l_=Array.isArray,Gt={H:null,A:null,T:null,S:null,V:null},dw=Object.prototype.hasOwnProperty;function yg(e,t,n,r,i,s){return n=s.ref,{$$typeof:mg,type:e,key:t,ref:n!==void 0?n:null,props:s}}function IC(e,t){return yg(e.type,t,void 0,void 0,void 0,e.props)}function vg(e){return typeof e=="object"&&e!==null&&e.$$typeof===mg}function NC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var u_=/\/+/g;function Vd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?NC(""+e.key):t.toString(36)}function c_(){}function OC(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(c_,c_):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function wa(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case mg:case _C:a=!0;break;case lw:return a=e._init,wa(a(e._payload),t,n,r,i)}}if(a)return i=i(e),a=r===""?"."+Vd(e,0):r,l_(i)?(n="",a!=null&&(n=a.replace(u_,"$&/")+"/"),wa(i,t,n,"",function(c){return c})):i!=null&&(vg(i)&&(i=IC(i,n+(i.key==null||e&&e.key===i.key?"":(""+i.key).replace(u_,"$&/")+"/")+a)),t.push(i)),1;a=0;var o=r===""?".":r+":";if(l_(e))for(var u=0;u<e.length;u++)r=e[u],s=o+Vd(r,u),a+=wa(r,t,n,s,i);else if(u=CC(e),typeof u=="function")for(e=u.call(e),u=0;!(r=e.next()).done;)r=r.value,s=o+Vd(r,u++),a+=wa(r,t,n,s,i);else if(s==="object"){if(typeof e.then=="function")return wa(OC(e),t,n,r,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return a}function Ac(e,t,n){if(e==null)return e;var r=[],i=0;return wa(e,r,"","",function(s){return t.call(n,s,i++)}),r}function DC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var h_=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function MC(){}ut.Children={map:Ac,forEach:function(e,t,n){Ac(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ac(e,function(){t++}),t},toArray:function(e){return Ac(e,function(t){return t})||[]},only:function(e){if(!vg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ut.Component=ko;ut.Fragment=bC;ut.Profiler=wC;ut.PureComponent=pg;ut.StrictMode=EC;ut.Suspense=RC;ut.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Gt;ut.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Gt.H.useMemoCache(e)}};ut.cache=function(e){return function(){return e.apply(null,arguments)}};ut.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var r=cw({},e.props),i=e.key,s=void 0;if(t!=null)for(a in t.ref!==void 0&&(s=void 0),t.key!==void 0&&(i=""+t.key),t)!dw.call(t,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&t.ref===void 0||(r[a]=t[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),u=0;u<a;u++)o[u]=arguments[u+2];r.children=o}return yg(e.type,i,void 0,void 0,s,r)};ut.createContext=function(e){return e={$$typeof:AC,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:TC,_context:e},e};ut.createElement=function(e,t,n){var r,i={},s=null;if(t!=null)for(r in t.key!==void 0&&(s=""+t.key),t)dw.call(t,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var o=Array(a),u=0;u<a;u++)o[u]=arguments[u+2];i.children=o}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return yg(e,s,void 0,void 0,null,i)};ut.createRef=function(){return{current:null}};ut.forwardRef=function(e){return{$$typeof:SC,render:e}};ut.isValidElement=vg;ut.lazy=function(e){return{$$typeof:lw,_payload:{_status:-1,_result:e},_init:DC}};ut.memo=function(e,t){return{$$typeof:xC,type:e,compare:t===void 0?null:t}};ut.startTransition=function(e){var t=Gt.T,n={};Gt.T=n;try{var r=e(),i=Gt.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(MC,h_)}catch(s){h_(s)}finally{Gt.T=t}};ut.unstable_useCacheRefresh=function(){return Gt.H.useCacheRefresh()};ut.use=function(e){return Gt.H.use(e)};ut.useActionState=function(e,t,n){return Gt.H.useActionState(e,t,n)};ut.useCallback=function(e,t){return Gt.H.useCallback(e,t)};ut.useContext=function(e){return Gt.H.useContext(e)};ut.useDebugValue=function(){};ut.useDeferredValue=function(e,t){return Gt.H.useDeferredValue(e,t)};ut.useEffect=function(e,t,n){var r=Gt.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)};ut.useId=function(){return Gt.H.useId()};ut.useImperativeHandle=function(e,t,n){return Gt.H.useImperativeHandle(e,t,n)};ut.useInsertionEffect=function(e,t){return Gt.H.useInsertionEffect(e,t)};ut.useLayoutEffect=function(e,t){return Gt.H.useLayoutEffect(e,t)};ut.useMemo=function(e,t){return Gt.H.useMemo(e,t)};ut.useOptimistic=function(e,t){return Gt.H.useOptimistic(e,t)};ut.useReducer=function(e,t,n){return Gt.H.useReducer(e,t,n)};ut.useRef=function(e){return Gt.H.useRef(e)};ut.useState=function(e){return Gt.H.useState(e)};ut.useSyncExternalStore=function(e,t,n){return Gt.H.useSyncExternalStore(e,t,n)};ut.useTransition=function(){return Gt.H.useTransition()};ut.version="19.1.1";ow.exports=ut;var D=ow.exports;const Q=ew(D),mw=pC({__proto__:null,default:Q},[D]);var pw={exports:{}},qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PC=D;function gw(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function yi(){}var Be={d:{f:yi,r:function(){throw Error(gw(522))},D:yi,C:yi,L:yi,m:yi,X:yi,S:yi,M:yi},p:0,findDOMNode:null},VC=Symbol.for("react.portal");function kC(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:VC,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}var Ml=PC.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function xf(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Be;qe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(gw(299));return kC(e,t,null,n)};qe.flushSync=function(e){var t=Ml.T,n=Be.p;try{if(Ml.T=null,Be.p=2,e)return e()}finally{Ml.T=t,Be.p=n,Be.d.f()}};qe.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Be.d.C(e,t))};qe.prefetchDNS=function(e){typeof e=="string"&&Be.d.D(e)};qe.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,r=xf(n,t.crossOrigin),i=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?Be.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):n==="script"&&Be.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};qe.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=xf(t.as,t.crossOrigin);Be.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Be.d.M(e)};qe.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,r=xf(n,t.crossOrigin);Be.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};qe.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=xf(t.as,t.crossOrigin);Be.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Be.d.m(e)};qe.requestFormReset=function(e){Be.d.r(e)};qe.unstable_batchedUpdates=function(e,t){return e(t)};qe.useFormState=function(e,t,n){return Ml.H.useFormState(e,t,n)};qe.useFormStatus=function(){return Ml.H.useHostTransitionStatus()};qe.version="19.1.1";function yw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yw)}catch(e){console.error(e)}}yw(),pw.exports=qe;var Cf=pw.exports;const LC=ew(Cf);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fe=vC,vw=D,UC=Cf;function B(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function _w(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ou(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function bw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function f_(e){if(Ou(e)!==e)throw Error(B(188))}function jC(e){var t=e.alternate;if(!t){if(t=Ou(e),t===null)throw Error(B(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return f_(i),e;if(s===r)return f_(i),t;s=s.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?e:t}function Ew(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Ew(e),t!==null)return t;e=e.sibling}return null}var qt=Object.assign,zC=Symbol.for("react.element"),Sc=Symbol.for("react.transitional.element"),Al=Symbol.for("react.portal"),Na=Symbol.for("react.fragment"),ww=Symbol.for("react.strict_mode"),Mm=Symbol.for("react.profiler"),BC=Symbol.for("react.provider"),Tw=Symbol.for("react.consumer"),Ur=Symbol.for("react.context"),_g=Symbol.for("react.forward_ref"),Pm=Symbol.for("react.suspense"),Vm=Symbol.for("react.suspense_list"),bg=Symbol.for("react.memo"),Ai=Symbol.for("react.lazy"),km=Symbol.for("react.activity"),qC=Symbol.for("react.memo_cache_sentinel"),d_=Symbol.iterator;function dl(e){return e===null||typeof e!="object"?null:(e=d_&&e[d_]||e["@@iterator"],typeof e=="function"?e:null)}var HC=Symbol.for("react.client.reference");function Lm(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===HC?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Na:return"Fragment";case Mm:return"Profiler";case ww:return"StrictMode";case Pm:return"Suspense";case Vm:return"SuspenseList";case km:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Al:return"Portal";case Ur:return(e.displayName||"Context")+".Provider";case Tw:return(e._context.displayName||"Context")+".Consumer";case _g:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bg:return t=e.displayName||null,t!==null?t:Lm(e.type)||"Memo";case Ai:t=e._payload,e=e._init;try{return Lm(e(t))}catch{}}return null}var Sl=Array.isArray,tt=vw.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,At=UC.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Us={pending:!1,data:null,method:null,action:null},Um=[],Oa=-1;function wr(e){return{current:e}}function ye(e){0>Oa||(e.current=Um[Oa],Um[Oa]=null,Oa--)}function Qt(e,t){Oa++,Um[Oa]=e.current,e.current=t}var ur=wr(null),tu=wr(null),Gi=wr(null),wh=wr(null);function Th(e,t){switch(Qt(Gi,t),Qt(tu,e),Qt(ur,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?v0(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=v0(t),e=z1(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ye(ur),Qt(ur,e)}function po(){ye(ur),ye(tu),ye(Gi)}function jm(e){e.memoizedState!==null&&Qt(wh,e);var t=ur.current,n=z1(t,e.type);t!==n&&(Qt(tu,e),Qt(ur,n))}function Ah(e){tu.current===e&&(ye(ur),ye(tu)),wh.current===e&&(ye(wh),cu._currentValue=Us)}var zm=Object.prototype.hasOwnProperty,Eg=fe.unstable_scheduleCallback,kd=fe.unstable_cancelCallback,FC=fe.unstable_shouldYield,GC=fe.unstable_requestPaint,cr=fe.unstable_now,QC=fe.unstable_getCurrentPriorityLevel,Aw=fe.unstable_ImmediatePriority,Sw=fe.unstable_UserBlockingPriority,Sh=fe.unstable_NormalPriority,$C=fe.unstable_LowPriority,Rw=fe.unstable_IdlePriority,YC=fe.log,KC=fe.unstable_setDisableYieldValue,Du=null,un=null;function ji(e){if(typeof YC=="function"&&KC(e),un&&typeof un.setStrictMode=="function")try{un.setStrictMode(Du,e)}catch{}}var cn=Math.clz32?Math.clz32:ZC,XC=Math.log,WC=Math.LN2;function ZC(e){return e>>>=0,e===0?32:31-(XC(e)/WC|0)|0}var Rc=256,xc=4194304;function xs(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function If(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var i=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var o=r&134217727;return o!==0?(r=o&~s,r!==0?i=xs(r):(a&=o,a!==0?i=xs(a):n||(n=o&~e,n!==0&&(i=xs(n))))):(o=r&~s,o!==0?i=xs(o):a!==0?i=xs(a):n||(n=r&~e,n!==0&&(i=xs(n)))),i===0?0:t!==0&&t!==i&&!(t&s)&&(s=i&-i,n=t&-t,s>=n||s===32&&(n&4194048)!==0)?t:i}function Mu(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function JC(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xw(){var e=Rc;return Rc<<=1,!(Rc&4194048)&&(Rc=256),e}function Cw(){var e=xc;return xc<<=1,!(xc&62914560)&&(xc=4194304),e}function Ld(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pu(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function tI(e,t,n,r,i,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,u=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var h=31-cn(n),m=1<<h;o[h]=0,u[h]=-1;var p=c[h];if(p!==null)for(c[h]=null,h=0;h<p.length;h++){var d=p[h];d!==null&&(d.lane&=-536870913)}n&=~m}r!==0&&Iw(e,r,0),s!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=s&~(a&~t))}function Iw(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-cn(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&4194090}function Nw(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-cn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function wg(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Tg(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Ow(){var e=At.p;return e!==0?e:(e=window.event,e===void 0?32:X1(e.type))}function eI(e,t){var n=At.p;try{return At.p=e,t()}finally{At.p=n}}var ps=Math.random().toString(36).slice(2),Pe="__reactFiber$"+ps,Xe="__reactProps$"+ps,Lo="__reactContainer$"+ps,Bm="__reactEvents$"+ps,nI="__reactListeners$"+ps,rI="__reactHandles$"+ps,m_="__reactResources$"+ps,Vu="__reactMarker$"+ps;function Ag(e){delete e[Pe],delete e[Xe],delete e[Bm],delete e[nI],delete e[rI]}function Da(e){var t=e[Pe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Lo]||n[Pe]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=E0(e);e!==null;){if(n=e[Pe])return n;e=E0(e)}return t}e=n,n=e.parentNode}return null}function Uo(e){if(e=e[Pe]||e[Lo]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Rl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(B(33))}function Ha(e){var t=e[m_];return t||(t=e[m_]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function pe(e){e[Vu]=!0}var Dw=new Set,Mw={};function ra(e,t){go(e,t),go(e+"Capture",t)}function go(e,t){for(Mw[e]=t,e=0;e<t.length;e++)Dw.add(t[e])}var iI=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),p_={},g_={};function sI(e){return zm.call(g_,e)?!0:zm.call(p_,e)?!1:iI.test(e)?g_[e]=!0:(p_[e]=!0,!1)}function Xc(e,t,n){if(sI(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Cc(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Or(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}var Ud,y_;function Ta(e){if(Ud===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ud=t&&t[1]||"",y_=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ud+e+y_}var jd=!1;function zd(e,t){if(!e||jd)return"";jd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(d){var p=d}Reflect.construct(e,[],m)}else{try{m.call()}catch(d){p=d}e.call(m.prototype)}}else{try{throw Error()}catch(d){p=d}(m=e())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(d){if(d&&p&&typeof d.stack=="string")return[d.stack,p.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var u=a.split(`
`),c=o.split(`
`);for(i=r=0;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===u.length||i===c.length)for(r=u.length-1,i=c.length-1;1<=r&&0<=i&&u[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(u[r]!==c[i]){if(r!==1||i!==1)do if(r--,i--,0>i||u[r]!==c[i]){var h=`
`+u[r].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=r&&0<=i);break}}}finally{jd=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ta(n):""}function aI(e){switch(e.tag){case 26:case 27:case 5:return Ta(e.type);case 16:return Ta("Lazy");case 13:return Ta("Suspense");case 19:return Ta("SuspenseList");case 0:case 15:return zd(e.type,!1);case 11:return zd(e.type.render,!1);case 1:return zd(e.type,!0);case 31:return Ta("Activity");default:return""}}function v_(e){try{var t="";do t+=aI(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function bn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Pw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function oI(e){var t=Pw(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Rh(e){e._valueTracker||(e._valueTracker=oI(e))}function Vw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Pw(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function xh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var lI=/[\n"\\]/g;function Tn(e){return e.replace(lI,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function qm(e,t,n,r,i,s,a,o){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+bn(t)):e.value!==""+bn(t)&&(e.value=""+bn(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?Hm(e,a,bn(t)):n!=null?Hm(e,a,bn(n)):r!=null&&e.removeAttribute("value"),i==null&&s!=null&&(e.defaultChecked=!!s),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+bn(o):e.removeAttribute("name")}function kw(e,t,n,r,i,s,a,o){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||t!=null))return;n=n!=null?""+bn(n):"",t=t!=null?""+bn(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a)}function Hm(e,t,n){t==="number"&&xh(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Fa(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+bn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Lw(e,t,n){if(t!=null&&(t=""+bn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+bn(n):""}function Uw(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(B(92));if(Sl(r)){if(1<r.length)throw Error(B(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=bn(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r)}function yo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var uI=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function __(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||uI.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function jw(e,t,n){if(t!=null&&typeof t!="object")throw Error(B(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&__(e,i,r)}else for(var s in t)t.hasOwnProperty(s)&&__(e,s,t[s])}function Sg(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cI=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hI=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wc(e){return hI.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Fm=null;function Rg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ma=null,Ga=null;function b_(e){var t=Uo(e);if(t&&(e=t.stateNode)){var n=e[Xe]||null;t:switch(e=t.stateNode,t.type){case"input":if(qm(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Tn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Xe]||null;if(!i)throw Error(B(90));qm(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&Vw(r)}break t;case"textarea":Lw(e,n.value,n.defaultValue);break t;case"select":t=n.value,t!=null&&Fa(e,!!n.multiple,t,!1)}}}var Bd=!1;function zw(e,t,n){if(Bd)return e(t,n);Bd=!0;try{var r=e(t);return r}finally{if(Bd=!1,(Ma!==null||Ga!==null)&&(jf(),Ma&&(t=Ma,e=Ga,Ga=Ma=null,b_(t),e)))for(t=0;t<e.length;t++)b_(e[t])}}function eu(e,t){var n=e.stateNode;if(n===null)return null;var r=n[Xe]||null;if(r===null)return null;n=r[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break t;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(B(231,t,typeof n));return n}var Yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gm=!1;if(Yr)try{var ml={};Object.defineProperty(ml,"passive",{get:function(){Gm=!0}}),window.addEventListener("test",ml,ml),window.removeEventListener("test",ml,ml)}catch{Gm=!1}var zi=null,xg=null,Zc=null;function Bw(){if(Zc)return Zc;var e,t=xg,n=t.length,r,i="value"in zi?zi.value:zi.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return Zc=i.slice(e,1<r?1-r:void 0)}function Jc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ic(){return!0}function E_(){return!1}function tn(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ic:E_,this.isPropagationStopped=E_,this}return qt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ic)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ic)},persist:function(){},isPersistent:Ic}),t}var ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nf=tn(ia),ku=qt({},ia,{view:0,detail:0}),fI=tn(ku),qd,Hd,pl,Of=qt({},ku,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pl&&(pl&&e.type==="mousemove"?(qd=e.screenX-pl.screenX,Hd=e.screenY-pl.screenY):Hd=qd=0,pl=e),qd)},movementY:function(e){return"movementY"in e?e.movementY:Hd}}),w_=tn(Of),dI=qt({},Of,{dataTransfer:0}),mI=tn(dI),pI=qt({},ku,{relatedTarget:0}),Fd=tn(pI),gI=qt({},ia,{animationName:0,elapsedTime:0,pseudoElement:0}),yI=tn(gI),vI=qt({},ia,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_I=tn(vI),bI=qt({},ia,{data:0}),T_=tn(bI),EI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AI(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=TI[e])?!!t[e]:!1}function Cg(){return AI}var SI=qt({},ku,{key:function(e){if(e.key){var t=EI[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Jc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wI[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cg,charCode:function(e){return e.type==="keypress"?Jc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Jc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),RI=tn(SI),xI=qt({},Of,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A_=tn(xI),CI=qt({},ku,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cg}),II=tn(CI),NI=qt({},ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),OI=tn(NI),DI=qt({},Of,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),MI=tn(DI),PI=qt({},ia,{newState:0,oldState:0}),VI=tn(PI),kI=[9,13,27,32],Ig=Yr&&"CompositionEvent"in window,Pl=null;Yr&&"documentMode"in document&&(Pl=document.documentMode);var LI=Yr&&"TextEvent"in window&&!Pl,qw=Yr&&(!Ig||Pl&&8<Pl&&11>=Pl),S_=" ",R_=!1;function Hw(e,t){switch(e){case"keyup":return kI.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fw(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pa=!1;function UI(e,t){switch(e){case"compositionend":return Fw(t);case"keypress":return t.which!==32?null:(R_=!0,S_);case"textInput":return e=t.data,e===S_&&R_?null:e;default:return null}}function jI(e,t){if(Pa)return e==="compositionend"||!Ig&&Hw(e,t)?(e=Bw(),Zc=xg=zi=null,Pa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qw&&t.locale!=="ko"?null:t.data;default:return null}}var zI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function x_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zI[e.type]:t==="textarea"}function Gw(e,t,n,r){Ma?Ga?Ga.push(r):Ga=[r]:Ma=r,t=Gh(t,"onChange"),0<t.length&&(n=new Nf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vl=null,nu=null;function BI(e){L1(e,0)}function Df(e){var t=Rl(e);if(Vw(t))return e}function C_(e,t){if(e==="change")return t}var Qw=!1;if(Yr){var Gd;if(Yr){var Qd="oninput"in document;if(!Qd){var I_=document.createElement("div");I_.setAttribute("oninput","return;"),Qd=typeof I_.oninput=="function"}Gd=Qd}else Gd=!1;Qw=Gd&&(!document.documentMode||9<document.documentMode)}function N_(){Vl&&(Vl.detachEvent("onpropertychange",$w),nu=Vl=null)}function $w(e){if(e.propertyName==="value"&&Df(nu)){var t=[];Gw(t,nu,e,Rg(e)),zw(BI,t)}}function qI(e,t,n){e==="focusin"?(N_(),Vl=t,nu=n,Vl.attachEvent("onpropertychange",$w)):e==="focusout"&&N_()}function HI(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Df(nu)}function FI(e,t){if(e==="click")return Df(t)}function GI(e,t){if(e==="input"||e==="change")return Df(t)}function QI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mn=typeof Object.is=="function"?Object.is:QI;function ru(e,t){if(mn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!zm.call(t,i)||!mn(e[i],t[i]))return!1}return!0}function O_(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function D_(e,t){var n=O_(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=O_(n)}}function Yw(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Yw(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Kw(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=xh(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=xh(e.document)}return t}function Ng(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var $I=Yr&&"documentMode"in document&&11>=document.documentMode,Va=null,Qm=null,kl=null,$m=!1;function M_(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$m||Va==null||Va!==xh(r)||(r=Va,"selectionStart"in r&&Ng(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),kl&&ru(kl,r)||(kl=r,r=Gh(Qm,"onSelect"),0<r.length&&(t=new Nf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Va)))}function Rs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ka={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionrun:Rs("Transition","TransitionRun"),transitionstart:Rs("Transition","TransitionStart"),transitioncancel:Rs("Transition","TransitionCancel"),transitionend:Rs("Transition","TransitionEnd")},$d={},Xw={};Yr&&(Xw=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function sa(e){if($d[e])return $d[e];if(!ka[e])return e;var t=ka[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Xw)return $d[e]=t[n];return e}var Ww=sa("animationend"),Zw=sa("animationiteration"),Jw=sa("animationstart"),YI=sa("transitionrun"),KI=sa("transitionstart"),XI=sa("transitioncancel"),tT=sa("transitionend"),eT=new Map,Ym="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ym.push("scrollEnd");function Fn(e,t){eT.set(e,t),ra(t,[e])}var P_=new WeakMap;function An(e,t){if(typeof e=="object"&&e!==null){var n=P_.get(e);return n!==void 0?n:(t={value:e,source:t,stack:v_(t)},P_.set(e,t),t)}return{value:e,source:t,stack:v_(t)}}var _n=[],La=0,Og=0;function Mf(){for(var e=La,t=Og=La=0;t<e;){var n=_n[t];_n[t++]=null;var r=_n[t];_n[t++]=null;var i=_n[t];_n[t++]=null;var s=_n[t];if(_n[t++]=null,r!==null&&i!==null){var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}s!==0&&nT(n,i,s)}}function Pf(e,t,n,r){_n[La++]=e,_n[La++]=t,_n[La++]=n,_n[La++]=r,Og|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Dg(e,t,n,r){return Pf(e,t,n,r),Ch(e)}function jo(e,t){return Pf(e,null,null,t),Ch(e)}function nT(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var i=!1,s=e.return;s!==null;)s.childLanes|=n,r=s.alternate,r!==null&&(r.childLanes|=n),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(i=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,i&&t!==null&&(i=31-cn(n),e=s.hiddenUpdates,r=e[i],r===null?e[i]=[t]:r.push(t),t.lane=n|536870912),s):null}function Ch(e){if(50<Ql)throw Ql=0,pp=null,Error(B(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ua={};function WI(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(e,t,n,r){return new WI(e,t,n,r)}function Mg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Gr(e,t){var n=e.alternate;return n===null?(n=ln(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function rT(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function th(e,t,n,r,i,s){var a=0;if(r=e,typeof e=="function")Mg(e)&&(a=1);else if(typeof e=="string")a=J2(e,n,ur.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case km:return e=ln(31,n,t,i),e.elementType=km,e.lanes=s,e;case Na:return js(n.children,i,s,t);case ww:a=8,i|=24;break;case Mm:return e=ln(12,n,t,i|2),e.elementType=Mm,e.lanes=s,e;case Pm:return e=ln(13,n,t,i),e.elementType=Pm,e.lanes=s,e;case Vm:return e=ln(19,n,t,i),e.elementType=Vm,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case BC:case Ur:a=10;break t;case Tw:a=9;break t;case _g:a=11;break t;case bg:a=14;break t;case Ai:a=16,r=null;break t}a=29,n=Error(B(130,e===null?"null":typeof e,"")),r=null}return t=ln(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function js(e,t,n,r){return e=ln(7,e,r,t),e.lanes=n,e}function Yd(e,t,n){return e=ln(6,e,null,t),e.lanes=n,e}function Kd(e,t,n){return t=ln(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ja=[],za=0,Ih=null,Nh=0,En=[],wn=0,zs=null,jr=1,zr="";function Cs(e,t){ja[za++]=Nh,ja[za++]=Ih,Ih=e,Nh=t}function iT(e,t,n){En[wn++]=jr,En[wn++]=zr,En[wn++]=zs,zs=e;var r=jr;e=zr;var i=32-cn(r)-1;r&=~(1<<i),n+=1;var s=32-cn(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,jr=1<<32-cn(t)+i|n<<i|r,zr=s+e}else jr=1<<s|n<<i|r,zr=e}function Pg(e){e.return!==null&&(Cs(e,1),iT(e,1,0))}function Vg(e){for(;e===Ih;)Ih=ja[--za],ja[za]=null,Nh=ja[--za],ja[za]=null;for(;e===zs;)zs=En[--wn],En[wn]=null,zr=En[--wn],En[wn]=null,jr=En[--wn],En[wn]=null}var ze=null,Zt=null,Tt=!1,Bs=null,ar=!1,Km=Error(B(519));function $s(e){var t=Error(B(418,""));throw iu(An(t,e)),Km}function V_(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Pe]=e,t[Xe]=r,n){case"dialog":ht("cancel",t),ht("close",t);break;case"iframe":case"object":case"embed":ht("load",t);break;case"video":case"audio":for(n=0;n<ou.length;n++)ht(ou[n],t);break;case"source":ht("error",t);break;case"img":case"image":case"link":ht("error",t),ht("load",t);break;case"details":ht("toggle",t);break;case"input":ht("invalid",t),kw(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),Rh(t);break;case"select":ht("invalid",t);break;case"textarea":ht("invalid",t),Uw(t,r.value,r.defaultValue,r.children),Rh(t)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||j1(t.textContent,n)?(r.popover!=null&&(ht("beforetoggle",t),ht("toggle",t)),r.onScroll!=null&&ht("scroll",t),r.onScrollEnd!=null&&ht("scrollend",t),r.onClick!=null&&(t.onclick=qf),t=!0):t=!1,t||$s(e)}function k_(e){for(ze=e.return;ze;)switch(ze.tag){case 5:case 13:ar=!1;return;case 27:case 3:ar=!0;return;default:ze=ze.return}}function gl(e){if(e!==ze)return!1;if(!Tt)return k_(e),Tt=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Ep(e.type,e.memoizedProps)),n=!n),n&&Zt&&$s(e),k_(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){Zt=zn(e.nextSibling);break t}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}Zt=null}}else t===27?(t=Zt,gs(e.type)?(e=Ap,Ap=null,Zt=e):Zt=t):Zt=ze?zn(e.stateNode.nextSibling):null;return!0}function Lu(){Zt=ze=null,Tt=!1}function L_(){var e=Bs;return e!==null&&($e===null?$e=e:$e.push.apply($e,e),Bs=null),e}function iu(e){Bs===null?Bs=[e]:Bs.push(e)}var Xm=wr(null),aa=null,Br=null;function Ri(e,t,n){Qt(Xm,t._currentValue),t._currentValue=n}function Qr(e){e._currentValue=Xm.current,ye(Xm)}function Wm(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Zm(e,t,n,r){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var s=i.dependencies;if(s!==null){var a=i.child;s=s.firstContext;t:for(;s!==null;){var o=s;s=i;for(var u=0;u<t.length;u++)if(o.context===t[u]){s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),Wm(s.return,n,e),r||(a=null);break t}s=o.next}}else if(i.tag===18){if(a=i.return,a===null)throw Error(B(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Wm(a,n,e),a=null}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===e){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}}function Uu(e,t,n,r){e=null;for(var i=t,s=!1;i!==null;){if(!s){if(i.flags&524288)s=!0;else if(i.flags&262144)break}if(i.tag===10){var a=i.alternate;if(a===null)throw Error(B(387));if(a=a.memoizedProps,a!==null){var o=i.type;mn(i.pendingProps.value,a.value)||(e!==null?e.push(o):e=[o])}}else if(i===wh.current){if(a=i.alternate,a===null)throw Error(B(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(cu):e=[cu])}i=i.return}e!==null&&Zm(t,e,n,r),t.flags|=262144}function Oh(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ys(e){aa=e,Br=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ve(e){return sT(aa,e)}function Nc(e,t){return aa===null&&Ys(e),sT(e,t)}function sT(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Br===null){if(e===null)throw Error(B(308));Br=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Br=Br.next=t;return n}var ZI=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},JI=fe.unstable_scheduleCallback,t2=fe.unstable_NormalPriority,le={$$typeof:Ur,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kg(){return{controller:new ZI,data:new Map,refCount:0}}function ju(e){e.refCount--,e.refCount===0&&JI(t2,function(){e.controller.abort()})}var Ll=null,Jm=0,vo=0,Qa=null;function e2(e,t){if(Ll===null){var n=Ll=[];Jm=0,vo=sy(),Qa={status:"pending",value:void 0,then:function(r){n.push(r)}}}return Jm++,t.then(U_,U_),t}function U_(){if(--Jm===0&&Ll!==null){Qa!==null&&(Qa.status="fulfilled");var e=Ll;Ll=null,vo=0,Qa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function n2(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var j_=tt.S;tt.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&e2(e,t),j_!==null&&j_(e,t)};var qs=wr(null);function Lg(){var e=qs.current;return e!==null?e:Lt.pooledCache}function eh(e,t){t===null?Qt(qs,qs.current):Qt(qs,t.pool)}function aT(){var e=Lg();return e===null?null:{parent:le._currentValue,pool:e}}var zu=Error(B(460)),oT=Error(B(474)),Vf=Error(B(542)),tp={then:function(){}};function z_(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Oc(){}function lT(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Oc,Oc),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,q_(e),e;default:if(typeof t.status=="string")t.then(Oc,Oc);else{if(e=Lt,e!==null&&100<e.shellSuspendCounter)throw Error(B(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=r}},function(r){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,q_(e),e}throw Ul=t,zu}}var Ul=null;function B_(){if(Ul===null)throw Error(B(459));var e=Ul;return Ul=null,e}function q_(e){if(e===zu||e===Vf)throw Error(B(483))}var Si=!1;function Ug(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ep(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Qi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function $i(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,It&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Ch(e),nT(e,null,n),t}return Pf(e,r,t,n),Ch(e)}function jl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Nw(e,n)}}function Xd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var np=!1;function zl(){if(np){var e=Qa;if(e!==null)throw e}}function Bl(e,t,n,r){np=!1;var i=e.updateQueue;Si=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var u=o,c=u.next;u.next=null,a===null?s=c:a.next=c,a=u;var h=e.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=u))}if(s!==null){var m=i.baseState;a=0,h=c=u=null,o=s;do{var p=o.lane&-536870913,d=p!==o.lane;if(d?(vt&p)===p:(r&p)===p){p!==0&&p===vo&&(np=!0),h!==null&&(h=h.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});t:{var S=e,E=o;p=t;var A=n;switch(E.tag){case 1:if(S=E.payload,typeof S=="function"){m=S.call(A,m,p);break t}m=S;break t;case 3:S.flags=S.flags&-65537|128;case 0:if(S=E.payload,p=typeof S=="function"?S.call(A,m,p):S,p==null)break t;m=qt({},m,p);break t;case 2:Si=!0}}p=o.callback,p!==null&&(e.flags|=64,d&&(e.flags|=8192),d=i.callbacks,d===null?i.callbacks=[p]:d.push(p))}else d={lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(c=h=d,u=m):h=h.next=d,a|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;d=o,o=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);h===null&&(u=m),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=h,s===null&&(i.shared.lanes=0),as|=a,e.lanes=a,e.memoizedState=m}}function uT(e,t){if(typeof e!="function")throw Error(B(191,e));e.call(t)}function cT(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)uT(n[e],t)}var _o=wr(null),Dh=wr(0);function H_(e,t){e=Wr,Qt(Dh,e),Qt(_o,t),Wr=e|t.baseLanes}function rp(){Qt(Dh,Wr),Qt(_o,_o.current)}function jg(){Wr=Dh.current,ye(_o),ye(Dh)}var is=0,ct=null,Ot=null,ie=null,Mh=!1,$a=!1,Ks=!1,Ph=0,su=0,Ya=null,r2=0;function te(){throw Error(B(321))}function zg(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!mn(e[n],t[n]))return!1;return!0}function Bg(e,t,n,r,i,s){return is=s,ct=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,tt.H=e===null||e.memoizedState===null?BT:qT,Ks=!1,s=n(r,i),Ks=!1,$a&&(s=fT(t,n,r,i)),hT(e),s}function hT(e){tt.H=Vh;var t=Ot!==null&&Ot.next!==null;if(is=0,ie=Ot=ct=null,Mh=!1,su=0,Ya=null,t)throw Error(B(300));e===null||ge||(e=e.dependencies,e!==null&&Oh(e)&&(ge=!0))}function fT(e,t,n,r){ct=e;var i=0;do{if($a&&(Ya=null),su=0,$a=!1,25<=i)throw Error(B(301));if(i+=1,ie=Ot=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}tt.H=c2,s=t(n,r)}while($a);return s}function i2(){var e=tt.H,t=e.useState()[0];return t=typeof t.then=="function"?Bu(t):t,e=e.useState()[0],(Ot!==null?Ot.memoizedState:null)!==e&&(ct.flags|=1024),t}function qg(){var e=Ph!==0;return Ph=0,e}function Hg(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Fg(e){if(Mh){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Mh=!1}is=0,ie=Ot=ct=null,$a=!1,su=Ph=0,Ya=null}function Ge(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ie===null?ct.memoizedState=ie=e:ie=ie.next=e,ie}function oe(){if(Ot===null){var e=ct.alternate;e=e!==null?e.memoizedState:null}else e=Ot.next;var t=ie===null?ct.memoizedState:ie.next;if(t!==null)ie=t,Ot=e;else{if(e===null)throw ct.alternate===null?Error(B(467)):Error(B(310));Ot=e,e={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},ie===null?ct.memoizedState=ie=e:ie=ie.next=e}return ie}function Gg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bu(e){var t=su;return su+=1,Ya===null&&(Ya=[]),e=lT(Ya,e,t),t=ct,(ie===null?t.memoizedState:ie.next)===null&&(t=t.alternate,tt.H=t===null||t.memoizedState===null?BT:qT),e}function kf(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Bu(e);if(e.$$typeof===Ur)return Ve(e)}throw Error(B(438,String(e)))}function Qg(e){var t=null,n=ct.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=ct.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Gg(),ct.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=qC;return t.index++,n}function Kr(e,t){return typeof t=="function"?t(e):t}function nh(e){var t=oe();return $g(t,Ot,e)}function $g(e,t,n){var r=e.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=n;var i=e.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}t.baseQueue=i=s,r.pending=null}if(s=e.baseState,i===null)e.memoizedState=s;else{t=i.next;var o=a=null,u=null,c=t,h=!1;do{var m=c.lane&-536870913;if(m!==c.lane?(vt&m)===m:(is&m)===m){var p=c.revertLane;if(p===0)u!==null&&(u=u.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),m===vo&&(h=!0);else if((is&p)===p){c=c.next,p===vo&&(h=!0);continue}else m={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(o=u=m,a=s):u=u.next=m,ct.lanes|=p,as|=p;m=c.action,Ks&&n(s,m),s=c.hasEagerState?c.eagerState:n(s,m)}else p={lane:m,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(o=u=p,a=s):u=u.next=p,ct.lanes|=m,as|=m;c=c.next}while(c!==null&&c!==t);if(u===null?a=s:u.next=o,!mn(s,e.memoizedState)&&(ge=!0,h&&(n=Qa,n!==null)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=u,r.lastRenderedState=s}return i===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Wd(e){var t=oe(),n=t.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);mn(s,t.memoizedState)||(ge=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function dT(e,t,n){var r=ct,i=oe(),s=Tt;if(s){if(n===void 0)throw Error(B(407));n=n()}else n=t();var a=!mn((Ot||i).memoizedState,n);a&&(i.memoizedState=n,ge=!0),i=i.queue;var o=gT.bind(null,r,i,e);if(qu(2048,8,o,[e]),i.getSnapshot!==t||a||ie!==null&&ie.memoizedState.tag&1){if(r.flags|=2048,bo(9,Lf(),pT.bind(null,r,i,n,t),null),Lt===null)throw Error(B(349));s||is&124||mT(r,t,n)}return n}function mT(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ct.updateQueue,t===null?(t=Gg(),ct.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function pT(e,t,n,r){t.value=n,t.getSnapshot=r,yT(t)&&vT(e)}function gT(e,t,n){return n(function(){yT(t)&&vT(e)})}function yT(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mn(e,n)}catch{return!0}}function vT(e){var t=jo(e,2);t!==null&&fn(t,e,2)}function ip(e){var t=Ge();if(typeof e=="function"){var n=e;if(e=n(),Ks){ji(!0);try{n()}finally{ji(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:e},t}function _T(e,t,n,r){return e.baseState=n,$g(e,Ot,typeof r=="function"?r:Kr)}function s2(e,t,n,r,i){if(Uf(e))throw Error(B(485));if(e=t.action,e!==null){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};tt.T!==null?n(!0):s.isTransition=!1,r(s),n=t.pending,n===null?(s.next=t.pending=s,bT(t,s)):(s.next=n.next,t.pending=n.next=s)}}function bT(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var s=tt.T,a={};tt.T=a;try{var o=n(i,r),u=tt.S;u!==null&&u(a,o),F_(e,t,o)}catch(c){sp(e,t,c)}finally{tt.T=s}}else try{s=n(i,r),F_(e,t,s)}catch(c){sp(e,t,c)}}function F_(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){G_(e,t,r)},function(r){return sp(e,t,r)}):G_(e,t,n)}function G_(e,t,n){t.status="fulfilled",t.value=n,ET(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,bT(e,n)))}function sp(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,ET(t),t=t.next;while(t!==r)}e.action=null}function ET(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function wT(e,t){return t}function Q_(e,t){if(Tt){var n=Lt.formState;if(n!==null){t:{var r=ct;if(Tt){if(Zt){e:{for(var i=Zt,s=ar;i.nodeType!==8;){if(!s){i=null;break e}if(i=zn(i.nextSibling),i===null){i=null;break e}}s=i.data,i=s==="F!"||s==="F"?i:null}if(i){Zt=zn(i.nextSibling),r=i.data==="F!";break t}}$s(r)}r=!1}r&&(t=n[0])}}return n=Ge(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wT,lastRenderedState:t},n.queue=r,n=UT.bind(null,ct,r),r.dispatch=n,r=ip(!1),s=Wg.bind(null,ct,!1,r.queue),r=Ge(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=s2.bind(null,ct,i,s,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function $_(e){var t=oe();return TT(t,Ot,e)}function TT(e,t,n){if(t=$g(e,t,wT)[0],e=nh(Kr)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=Bu(t)}catch(a){throw a===zu?Vf:a}else r=t;t=oe();var i=t.queue,s=i.dispatch;return n!==t.memoizedState&&(ct.flags|=2048,bo(9,Lf(),a2.bind(null,i,n),null)),[r,s,e]}function a2(e,t){e.action=t}function Y_(e){var t=oe(),n=Ot;if(n!==null)return TT(t,n,e);oe(),t=t.memoizedState,n=oe();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function bo(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=ct.updateQueue,t===null&&(t=Gg(),ct.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Lf(){return{destroy:void 0,resource:void 0}}function AT(){return oe().memoizedState}function rh(e,t,n,r){var i=Ge();r=r===void 0?null:r,ct.flags|=e,i.memoizedState=bo(1|t,Lf(),n,r)}function qu(e,t,n,r){var i=oe();r=r===void 0?null:r;var s=i.memoizedState.inst;Ot!==null&&r!==null&&zg(r,Ot.memoizedState.deps)?i.memoizedState=bo(t,s,n,r):(ct.flags|=e,i.memoizedState=bo(1|t,s,n,r))}function K_(e,t){rh(8390656,8,e,t)}function ST(e,t){qu(2048,8,e,t)}function RT(e,t){return qu(4,2,e,t)}function xT(e,t){return qu(4,4,e,t)}function CT(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function IT(e,t,n){n=n!=null?n.concat([e]):null,qu(4,4,CT.bind(null,t,e),n)}function Yg(){}function NT(e,t){var n=oe();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&zg(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function OT(e,t){var n=oe();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&zg(t,r[1]))return r[0];if(r=e(),Ks){ji(!0);try{e()}finally{ji(!1)}}return n.memoizedState=[r,t],r}function Kg(e,t,n){return n===void 0||is&1073741824?e.memoizedState=t:(e.memoizedState=n,e=E1(),ct.lanes|=e,as|=e,n)}function DT(e,t,n,r){return mn(n,t)?n:_o.current!==null?(e=Kg(e,n,r),mn(e,t)||(ge=!0),e):is&42?(e=E1(),ct.lanes|=e,as|=e,t):(ge=!0,e.memoizedState=n)}function MT(e,t,n,r,i){var s=At.p;At.p=s!==0&&8>s?s:8;var a=tt.T,o={};tt.T=o,Wg(e,!1,t,n);try{var u=i(),c=tt.S;if(c!==null&&c(o,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=n2(u,r);ql(e,t,h,hn(e))}else ql(e,t,r,hn(e))}catch(m){ql(e,t,{then:function(){},status:"rejected",reason:m},hn())}finally{At.p=s,tt.T=a}}function o2(){}function ap(e,t,n,r){if(e.tag!==5)throw Error(B(476));var i=PT(e).queue;MT(e,i,t,Us,n===null?o2:function(){return VT(e),n(r)})}function PT(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Us,baseState:Us,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:Us},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kr,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function VT(e){var t=PT(e).next.queue;ql(e,t,{},hn())}function Xg(){return Ve(cu)}function kT(){return oe().memoizedState}function LT(){return oe().memoizedState}function l2(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=hn();e=Qi(n);var r=$i(t,e,n);r!==null&&(fn(r,t,n),jl(r,t,n)),t={cache:kg()},e.payload=t;return}t=t.return}}function u2(e,t,n){var r=hn();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Uf(e)?jT(t,n):(n=Dg(e,t,n,r),n!==null&&(fn(n,e,r),zT(n,t,r)))}function UT(e,t,n){var r=hn();ql(e,t,n,r)}function ql(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Uf(e))jT(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,mn(o,a))return Pf(e,t,i,0),Lt===null&&Mf(),!1}catch{}finally{}if(n=Dg(e,t,i,r),n!==null)return fn(n,e,r),zT(n,t,r),!0}return!1}function Wg(e,t,n,r){if(r={lane:2,revertLane:sy(),action:r,hasEagerState:!1,eagerState:null,next:null},Uf(e)){if(t)throw Error(B(479))}else t=Dg(e,n,r,2),t!==null&&fn(t,e,2)}function Uf(e){var t=e.alternate;return e===ct||t!==null&&t===ct}function jT(e,t){$a=Mh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function zT(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Nw(e,n)}}var Vh={readContext:Ve,use:kf,useCallback:te,useContext:te,useEffect:te,useImperativeHandle:te,useLayoutEffect:te,useInsertionEffect:te,useMemo:te,useReducer:te,useRef:te,useState:te,useDebugValue:te,useDeferredValue:te,useTransition:te,useSyncExternalStore:te,useId:te,useHostTransitionStatus:te,useFormState:te,useActionState:te,useOptimistic:te,useMemoCache:te,useCacheRefresh:te},BT={readContext:Ve,use:kf,useCallback:function(e,t){return Ge().memoizedState=[e,t===void 0?null:t],e},useContext:Ve,useEffect:K_,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,rh(4194308,4,CT.bind(null,t,e),n)},useLayoutEffect:function(e,t){return rh(4194308,4,e,t)},useInsertionEffect:function(e,t){rh(4,2,e,t)},useMemo:function(e,t){var n=Ge();t=t===void 0?null:t;var r=e();if(Ks){ji(!0);try{e()}finally{ji(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Ge();if(n!==void 0){var i=n(t);if(Ks){ji(!0);try{n(t)}finally{ji(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=u2.bind(null,ct,e),[r.memoizedState,e]},useRef:function(e){var t=Ge();return e={current:e},t.memoizedState=e},useState:function(e){e=ip(e);var t=e.queue,n=UT.bind(null,ct,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Yg,useDeferredValue:function(e,t){var n=Ge();return Kg(n,e,t)},useTransition:function(){var e=ip(!1);return e=MT.bind(null,ct,e.queue,!0,!1),Ge().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=ct,i=Ge();if(Tt){if(n===void 0)throw Error(B(407));n=n()}else{if(n=t(),Lt===null)throw Error(B(349));vt&124||mT(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,K_(gT.bind(null,r,s,e),[e]),r.flags|=2048,bo(9,Lf(),pT.bind(null,r,s,n,t),null),n},useId:function(){var e=Ge(),t=Lt.identifierPrefix;if(Tt){var n=zr,r=jr;n=(r&~(1<<32-cn(r)-1)).toString(32)+n,t="«"+t+"R"+n,n=Ph++,0<n&&(t+="H"+n.toString(32)),t+="»"}else n=r2++,t="«"+t+"r"+n.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:Xg,useFormState:Q_,useActionState:Q_,useOptimistic:function(e){var t=Ge();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Wg.bind(null,ct,!0,n),n.dispatch=t,[e,t]},useMemoCache:Qg,useCacheRefresh:function(){return Ge().memoizedState=l2.bind(null,ct)}},qT={readContext:Ve,use:kf,useCallback:NT,useContext:Ve,useEffect:ST,useImperativeHandle:IT,useInsertionEffect:RT,useLayoutEffect:xT,useMemo:OT,useReducer:nh,useRef:AT,useState:function(){return nh(Kr)},useDebugValue:Yg,useDeferredValue:function(e,t){var n=oe();return DT(n,Ot.memoizedState,e,t)},useTransition:function(){var e=nh(Kr)[0],t=oe().memoizedState;return[typeof e=="boolean"?e:Bu(e),t]},useSyncExternalStore:dT,useId:kT,useHostTransitionStatus:Xg,useFormState:$_,useActionState:$_,useOptimistic:function(e,t){var n=oe();return _T(n,Ot,e,t)},useMemoCache:Qg,useCacheRefresh:LT},c2={readContext:Ve,use:kf,useCallback:NT,useContext:Ve,useEffect:ST,useImperativeHandle:IT,useInsertionEffect:RT,useLayoutEffect:xT,useMemo:OT,useReducer:Wd,useRef:AT,useState:function(){return Wd(Kr)},useDebugValue:Yg,useDeferredValue:function(e,t){var n=oe();return Ot===null?Kg(n,e,t):DT(n,Ot.memoizedState,e,t)},useTransition:function(){var e=Wd(Kr)[0],t=oe().memoizedState;return[typeof e=="boolean"?e:Bu(e),t]},useSyncExternalStore:dT,useId:kT,useHostTransitionStatus:Xg,useFormState:Y_,useActionState:Y_,useOptimistic:function(e,t){var n=oe();return Ot!==null?_T(n,Ot,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Qg,useCacheRefresh:LT},Ka=null,au=0;function Dc(e){var t=au;return au+=1,Ka===null&&(Ka=[]),lT(Ka,e,t)}function yl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Mc(e,t){throw t.$$typeof===zC?Error(B(525)):(e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function X_(e){var t=e._init;return t(e._payload)}function HT(e){function t(y,v){if(e){var w=y.deletions;w===null?(y.deletions=[v],y.flags|=16):w.push(v)}}function n(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function r(y){for(var v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(y,v){return y=Gr(y,v),y.index=0,y.sibling=null,y}function s(y,v,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<v?(y.flags|=67108866,v):w):(y.flags|=67108866,v)):(y.flags|=1048576,v)}function a(y){return e&&y.alternate===null&&(y.flags|=67108866),y}function o(y,v,w,I){return v===null||v.tag!==6?(v=Yd(w,y.mode,I),v.return=y,v):(v=i(v,w),v.return=y,v)}function u(y,v,w,I){var V=w.type;return V===Na?h(y,v,w.props.children,I,w.key):v!==null&&(v.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Ai&&X_(V)===v.type)?(v=i(v,w.props),yl(v,w),v.return=y,v):(v=th(w.type,w.key,w.props,null,y.mode,I),yl(v,w),v.return=y,v)}function c(y,v,w,I){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=Kd(w,y.mode,I),v.return=y,v):(v=i(v,w.children||[]),v.return=y,v)}function h(y,v,w,I,V){return v===null||v.tag!==7?(v=js(w,y.mode,I,V),v.return=y,v):(v=i(v,w),v.return=y,v)}function m(y,v,w){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=Yd(""+v,y.mode,w),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Sc:return w=th(v.type,v.key,v.props,null,y.mode,w),yl(w,v),w.return=y,w;case Al:return v=Kd(v,y.mode,w),v.return=y,v;case Ai:var I=v._init;return v=I(v._payload),m(y,v,w)}if(Sl(v)||dl(v))return v=js(v,y.mode,w,null),v.return=y,v;if(typeof v.then=="function")return m(y,Dc(v),w);if(v.$$typeof===Ur)return m(y,Nc(y,v),w);Mc(y,v)}return null}function p(y,v,w,I){var V=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return V!==null?null:o(y,v,""+w,I);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Sc:return w.key===V?u(y,v,w,I):null;case Al:return w.key===V?c(y,v,w,I):null;case Ai:return V=w._init,w=V(w._payload),p(y,v,w,I)}if(Sl(w)||dl(w))return V!==null?null:h(y,v,w,I,null);if(typeof w.then=="function")return p(y,v,Dc(w),I);if(w.$$typeof===Ur)return p(y,v,Nc(y,w),I);Mc(y,w)}return null}function d(y,v,w,I,V){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return y=y.get(w)||null,o(v,y,""+I,V);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Sc:return y=y.get(I.key===null?w:I.key)||null,u(v,y,I,V);case Al:return y=y.get(I.key===null?w:I.key)||null,c(v,y,I,V);case Ai:var L=I._init;return I=L(I._payload),d(y,v,w,I,V)}if(Sl(I)||dl(I))return y=y.get(w)||null,h(v,y,I,V,null);if(typeof I.then=="function")return d(y,v,w,Dc(I),V);if(I.$$typeof===Ur)return d(y,v,w,Nc(v,I),V);Mc(v,I)}return null}function S(y,v,w,I){for(var V=null,L=null,T=v,_=v=0,x=null;T!==null&&_<w.length;_++){T.index>_?(x=T,T=null):x=T.sibling;var R=p(y,T,w[_],I);if(R===null){T===null&&(T=x);break}e&&T&&R.alternate===null&&t(y,T),v=s(R,v,_),L===null?V=R:L.sibling=R,L=R,T=x}if(_===w.length)return n(y,T),Tt&&Cs(y,_),V;if(T===null){for(;_<w.length;_++)T=m(y,w[_],I),T!==null&&(v=s(T,v,_),L===null?V=T:L.sibling=T,L=T);return Tt&&Cs(y,_),V}for(T=r(T);_<w.length;_++)x=d(T,y,_,w[_],I),x!==null&&(e&&x.alternate!==null&&T.delete(x.key===null?_:x.key),v=s(x,v,_),L===null?V=x:L.sibling=x,L=x);return e&&T.forEach(function(N){return t(y,N)}),Tt&&Cs(y,_),V}function E(y,v,w,I){if(w==null)throw Error(B(151));for(var V=null,L=null,T=v,_=v=0,x=null,R=w.next();T!==null&&!R.done;_++,R=w.next()){T.index>_?(x=T,T=null):x=T.sibling;var N=p(y,T,R.value,I);if(N===null){T===null&&(T=x);break}e&&T&&N.alternate===null&&t(y,T),v=s(N,v,_),L===null?V=N:L.sibling=N,L=N,T=x}if(R.done)return n(y,T),Tt&&Cs(y,_),V;if(T===null){for(;!R.done;_++,R=w.next())R=m(y,R.value,I),R!==null&&(v=s(R,v,_),L===null?V=R:L.sibling=R,L=R);return Tt&&Cs(y,_),V}for(T=r(T);!R.done;_++,R=w.next())R=d(T,y,_,R.value,I),R!==null&&(e&&R.alternate!==null&&T.delete(R.key===null?_:R.key),v=s(R,v,_),L===null?V=R:L.sibling=R,L=R);return e&&T.forEach(function(O){return t(y,O)}),Tt&&Cs(y,_),V}function A(y,v,w,I){if(typeof w=="object"&&w!==null&&w.type===Na&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Sc:t:{for(var V=w.key;v!==null;){if(v.key===V){if(V=w.type,V===Na){if(v.tag===7){n(y,v.sibling),I=i(v,w.props.children),I.return=y,y=I;break t}}else if(v.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Ai&&X_(V)===v.type){n(y,v.sibling),I=i(v,w.props),yl(I,w),I.return=y,y=I;break t}n(y,v);break}else t(y,v);v=v.sibling}w.type===Na?(I=js(w.props.children,y.mode,I,w.key),I.return=y,y=I):(I=th(w.type,w.key,w.props,null,y.mode,I),yl(I,w),I.return=y,y=I)}return a(y);case Al:t:{for(V=w.key;v!==null;){if(v.key===V)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){n(y,v.sibling),I=i(v,w.children||[]),I.return=y,y=I;break t}else{n(y,v);break}else t(y,v);v=v.sibling}I=Kd(w,y.mode,I),I.return=y,y=I}return a(y);case Ai:return V=w._init,w=V(w._payload),A(y,v,w,I)}if(Sl(w))return S(y,v,w,I);if(dl(w)){if(V=dl(w),typeof V!="function")throw Error(B(150));return w=V.call(w),E(y,v,w,I)}if(typeof w.then=="function")return A(y,v,Dc(w),I);if(w.$$typeof===Ur)return A(y,v,Nc(y,w),I);Mc(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,v!==null&&v.tag===6?(n(y,v.sibling),I=i(v,w),I.return=y,y=I):(n(y,v),I=Yd(w,y.mode,I),I.return=y,y=I),a(y)):n(y,v)}return function(y,v,w,I){try{au=0;var V=A(y,v,w,I);return Ka=null,V}catch(T){if(T===zu||T===Vf)throw T;var L=ln(29,T,null,y.mode);return L.lanes=I,L.return=y,L}finally{}}}var Eo=HT(!0),FT=HT(!1),In=wr(null),hr=null;function xi(e){var t=e.alternate;Qt(ue,ue.current&1),Qt(In,e),hr===null&&(t===null||_o.current!==null||t.memoizedState!==null)&&(hr=e)}function GT(e){if(e.tag===22){if(Qt(ue,ue.current),Qt(In,e),hr===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(hr=e)}}else Ci()}function Ci(){Qt(ue,ue.current),Qt(In,In.current)}function qr(e){ye(In),hr===e&&(hr=null),ye(ue)}var ue=wr(0);function kh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Tp(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Zd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:qt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var op={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hn(),i=Qi(r);i.payload=t,n!=null&&(i.callback=n),t=$i(e,i,r),t!==null&&(fn(t,e,r),jl(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hn(),i=Qi(r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=$i(e,i,r),t!==null&&(fn(t,e,r),jl(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hn(),r=Qi(n);r.tag=2,t!=null&&(r.callback=t),t=$i(e,r,n),t!==null&&(fn(t,e,n),jl(t,e,n))}};function W_(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!ru(n,r)||!ru(i,s):!0}function Z_(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&op.enqueueReplaceState(t,t.state,null)}function Xs(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=qt({},n));for(var i in e)n[i]===void 0&&(n[i]=e[i])}return n}var Lh=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function QT(e){Lh(e)}function $T(e){console.error(e)}function YT(e){Lh(e)}function Uh(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function J_(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function lp(e,t,n){return n=Qi(n),n.tag=3,n.payload={element:null},n.callback=function(){Uh(e,t)},n}function KT(e){return e=Qi(e),e.tag=3,e}function XT(e,t,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=r.value;e.payload=function(){return i(s)},e.callback=function(){J_(t,n,r)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){J_(t,n,r),typeof i!="function"&&(Yi===null?Yi=new Set([this]):Yi.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})})}function h2(e,t,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&Uu(t,n,i,!0),n=In.current,n!==null){switch(n.tag){case 13:return hr===null?gp():n.alternate===null&&Jt===0&&(Jt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===tp?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),um(e,r,i)),!1;case 22:return n.flags|=65536,r===tp?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),um(e,r,i)),!1}throw Error(B(435,n.tag))}return um(e,r,i),gp(),!1}if(Tt)return t=In.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==Km&&(e=Error(B(422),{cause:r}),iu(An(e,n)))):(r!==Km&&(t=Error(B(423),{cause:r}),iu(An(t,n))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,r=An(r,n),i=lp(e.stateNode,r,i),Xd(e,i),Jt!==4&&(Jt=2)),!1;var s=Error(B(520),{cause:r});if(s=An(s,n),Gl===null?Gl=[s]:Gl.push(s),Jt!==4&&(Jt=2),t===null)return!0;r=An(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,e=lp(n.stateNode,r,e),Xd(n,e),!1;case 1:if(t=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Yi===null||!Yi.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,i=KT(i),XT(i,e,n,r),Xd(n,i),!1}n=n.return}while(n!==null);return!1}var WT=Error(B(461)),ge=!1;function Ee(e,t,n,r){t.child=e===null?FT(t,null,n,r):Eo(t,e.child,n,r)}function t0(e,t,n,r,i){n=n.render;var s=t.ref;if("ref"in r){var a={};for(var o in r)o!=="ref"&&(a[o]=r[o])}else a=r;return Ys(t),r=Bg(e,t,n,a,s,i),o=qg(),e!==null&&!ge?(Hg(e,t,i),Xr(e,t,i)):(Tt&&o&&Pg(t),t.flags|=1,Ee(e,t,r,i),t.child)}function e0(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Mg(s)&&s.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=s,ZT(e,t,s,r,i)):(e=th(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!Zg(e,i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:ru,n(a,r)&&e.ref===t.ref)return Xr(e,t,i)}return t.flags|=1,e=Gr(s,r),e.ref=t.ref,e.return=t,t.child=e}function ZT(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(ru(s,r)&&e.ref===t.ref)if(ge=!1,t.pendingProps=r=s,Zg(e,i))e.flags&131072&&(ge=!0);else return t.lanes=e.lanes,Xr(e,t,i)}return up(e,t,n,r,i)}function JT(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden"){if(t.flags&128){if(r=s!==null?s.baseLanes|n:n,e!==null){for(i=t.child=e.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;t.childLanes=s&~r}else t.childLanes=0,t.child=null;return n0(e,t,r,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&eh(t,s!==null?s.cachePool:null),s!==null?H_(t,s):rp(),GT(t);else return t.lanes=t.childLanes=536870912,n0(e,t,s!==null?s.baseLanes|n:n,n)}else s!==null?(eh(t,s.cachePool),H_(t,s),Ci(),t.memoizedState=null):(e!==null&&eh(t,null),rp(),Ci());return Ee(e,t,i,n),t.child}function n0(e,t,n,r){var i=Lg();return i=i===null?null:{parent:le._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},e!==null&&eh(t,null),rp(),GT(t),e!==null&&Uu(e,t,r,!0),null}function ih(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(B(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function up(e,t,n,r,i){return Ys(t),n=Bg(e,t,n,r,void 0,i),r=qg(),e!==null&&!ge?(Hg(e,t,i),Xr(e,t,i)):(Tt&&r&&Pg(t),t.flags|=1,Ee(e,t,n,i),t.child)}function r0(e,t,n,r,i,s){return Ys(t),t.updateQueue=null,n=fT(t,r,n,i),hT(e),r=qg(),e!==null&&!ge?(Hg(e,t,s),Xr(e,t,s)):(Tt&&r&&Pg(t),t.flags|=1,Ee(e,t,n,s),t.child)}function i0(e,t,n,r,i){if(Ys(t),t.stateNode===null){var s=Ua,a=n.contextType;typeof a=="object"&&a!==null&&(s=Ve(a)),s=new n(r,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=op,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=r,s.state=t.memoizedState,s.refs={},Ug(t),a=n.contextType,s.context=typeof a=="object"&&a!==null?Ve(a):Ua,s.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Zd(t,n,a,r),s.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&op.enqueueReplaceState(s,s.state,null),Bl(t,r,s,i),zl(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){s=t.stateNode;var o=t.memoizedProps,u=Xs(n,o);s.props=u;var c=s.context,h=n.contextType;a=Ua,typeof h=="object"&&h!==null&&(a=Ve(h));var m=n.getDerivedStateFromProps;h=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o||c!==a)&&Z_(t,s,r,a),Si=!1;var p=t.memoizedState;s.state=p,Bl(t,r,s,i),zl(),c=t.memoizedState,o||p!==c||Si?(typeof m=="function"&&(Zd(t,n,m,r),c=t.memoizedState),(u=Si||W_(t,n,u,r,p,c,a))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=a,r=u):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,ep(e,t),a=t.memoizedProps,h=Xs(n,a),s.props=h,m=t.pendingProps,p=s.context,c=n.contextType,u=Ua,typeof c=="object"&&c!==null&&(u=Ve(c)),o=n.getDerivedStateFromProps,(c=typeof o=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==m||p!==u)&&Z_(t,s,r,u),Si=!1,p=t.memoizedState,s.state=p,Bl(t,r,s,i),zl();var d=t.memoizedState;a!==m||p!==d||Si||e!==null&&e.dependencies!==null&&Oh(e.dependencies)?(typeof o=="function"&&(Zd(t,n,o,r),d=t.memoizedState),(h=Si||W_(t,n,h,r,p,d,u)||e!==null&&e.dependencies!==null&&Oh(e.dependencies))?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,d,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,d,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=d),s.props=r,s.state=d,s.context=u,r=h):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,ih(e,t),r=(t.flags&128)!==0,s||r?(s=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&r?(t.child=Eo(t,e.child,null,i),t.child=Eo(t,null,n,i)):Ee(e,t,n,i),t.memoizedState=s.state,e=t.child):e=Xr(e,t,i),e}function s0(e,t,n,r){return Lu(),t.flags|=256,Ee(e,t,n,r),t.child}var Jd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tm(e){return{baseLanes:e,cachePool:aT()}}function em(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Cn),e}function t1(e,t,n){var r=t.pendingProps,i=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(ue.current&2)!==0),a&&(i=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(Tt){if(i?xi(t):Ci(),Tt){var o=Zt,u;if(u=o){t:{for(u=o,o=ar;u.nodeType!==8;){if(!o){o=null;break t}if(u=zn(u.nextSibling),u===null){o=null;break t}}o=u}o!==null?(t.memoizedState={dehydrated:o,treeContext:zs!==null?{id:jr,overflow:zr}:null,retryLane:536870912,hydrationErrors:null},u=ln(18,null,null,0),u.stateNode=o,u.return=t,t.child=u,ze=t,Zt=null,u=!0):u=!1}u||$s(t)}if(o=t.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return Tp(o)?t.lanes=32:t.lanes=536870912,null;qr(t)}return o=r.children,r=r.fallback,i?(Ci(),i=t.mode,o=jh({mode:"hidden",children:o},i),r=js(r,i,n,null),o.return=t,r.return=t,o.sibling=r,t.child=o,i=t.child,i.memoizedState=tm(n),i.childLanes=em(e,a,n),t.memoizedState=Jd,r):(xi(t),cp(t,o))}if(u=e.memoizedState,u!==null&&(o=u.dehydrated,o!==null)){if(s)t.flags&256?(xi(t),t.flags&=-257,t=nm(e,t,n)):t.memoizedState!==null?(Ci(),t.child=e.child,t.flags|=128,t=null):(Ci(),i=r.fallback,o=t.mode,r=jh({mode:"visible",children:r.children},o),i=js(i,o,n,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,Eo(t,e.child,null,n),r=t.child,r.memoizedState=tm(n),r.childLanes=em(e,a,n),t.memoizedState=Jd,t=i);else if(xi(t),Tp(o)){if(a=o.nextSibling&&o.nextSibling.dataset,a)var c=a.dgst;a=c,r=Error(B(419)),r.stack="",r.digest=a,iu({value:r,source:null,stack:null}),t=nm(e,t,n)}else if(ge||Uu(e,t,n,!1),a=(n&e.childLanes)!==0,ge||a){if(a=Lt,a!==null&&(r=n&-n,r=r&42?1:wg(r),r=r&(a.suspendedLanes|n)?0:r,r!==0&&r!==u.retryLane))throw u.retryLane=r,jo(e,r),fn(a,e,r),WT;o.data==="$?"||gp(),t=nm(e,t,n)}else o.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,Zt=zn(o.nextSibling),ze=t,Tt=!0,Bs=null,ar=!1,e!==null&&(En[wn++]=jr,En[wn++]=zr,En[wn++]=zs,jr=e.id,zr=e.overflow,zs=t),t=cp(t,r.children),t.flags|=4096);return t}return i?(Ci(),i=r.fallback,o=t.mode,u=e.child,c=u.sibling,r=Gr(u,{mode:"hidden",children:r.children}),r.subtreeFlags=u.subtreeFlags&65011712,c!==null?i=Gr(c,i):(i=js(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o===null?o=tm(n):(u=o.cachePool,u!==null?(c=le._currentValue,u=u.parent!==c?{parent:c,pool:c}:u):u=aT(),o={baseLanes:o.baseLanes|n,cachePool:u}),i.memoizedState=o,i.childLanes=em(e,a,n),t.memoizedState=Jd,r):(xi(t),n=e.child,e=n.sibling,n=Gr(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function cp(e,t){return t=jh({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function jh(e,t){return e=ln(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function nm(e,t,n){return Eo(t,e.child,null,n),e=cp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function a0(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Wm(e.return,t,n)}function rm(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function e1(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Ee(e,t,r.children,n),r=ue.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&a0(e,n,t);else if(e.tag===19)a0(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(Qt(ue,r),i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&kh(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rm(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&kh(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rm(t,!0,n,null,s);break;case"together":rm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),as|=t.lanes,!(n&t.childLanes))if(e!==null){if(Uu(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,n=Gr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Gr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Zg(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Oh(e)))}function f2(e,t,n){switch(t.tag){case 3:Th(t,t.stateNode.containerInfo),Ri(t,le,e.memoizedState.cache),Lu();break;case 27:case 5:jm(t);break;case 4:Th(t,t.stateNode.containerInfo);break;case 10:Ri(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(xi(t),t.flags|=128,null):n&t.child.childLanes?t1(e,t,n):(xi(t),e=Xr(e,t,n),e!==null?e.sibling:null);xi(t);break;case 19:var i=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(Uu(e,t,n,!1),r=(n&t.childLanes)!==0),i){if(r)return e1(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Qt(ue,ue.current),r)break;return null;case 22:case 23:return t.lanes=0,JT(e,t,n);case 24:Ri(t,le,e.memoizedState.cache)}return Xr(e,t,n)}function n1(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)ge=!0;else{if(!Zg(e,n)&&!(t.flags&128))return ge=!1,f2(e,t,n);ge=!!(e.flags&131072)}else ge=!1,Tt&&t.flags&1048576&&iT(t,Nh,t.index);switch(t.lanes=0,t.tag){case 16:t:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,typeof r=="function")Mg(r)?(e=Xs(r,e),t.tag=1,t=i0(null,t,r,e,n)):(t.tag=0,t=up(null,t,r,e,n));else{if(r!=null){if(i=r.$$typeof,i===_g){t.tag=11,t=t0(null,t,r,e,n);break t}else if(i===bg){t.tag=14,t=e0(null,t,r,e,n);break t}}throw t=Lm(r)||r,Error(B(306,t,""))}}return t;case 0:return up(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,i=Xs(r,t.pendingProps),i0(e,t,r,i,n);case 3:t:{if(Th(t,t.stateNode.containerInfo),e===null)throw Error(B(387));r=t.pendingProps;var s=t.memoizedState;i=s.element,ep(e,t),Bl(t,r,null,n);var a=t.memoizedState;if(r=a.cache,Ri(t,le,r),r!==s.cache&&Zm(t,[le],n,!0),zl(),r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=s0(e,t,r,n);break t}else if(r!==i){i=An(Error(B(424)),t),iu(i),t=s0(e,t,r,n);break t}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Zt=zn(e.firstChild),ze=t,Tt=!0,Bs=null,ar=!0,n=FT(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Lu(),r===i){t=Xr(e,t,n);break t}Ee(e,t,r,n)}t=t.child}return t;case 26:return ih(e,t),e===null?(n=T0(t.type,null,t.pendingProps,null))?t.memoizedState=n:Tt||(n=t.type,e=t.pendingProps,r=Qh(Gi.current).createElement(n),r[Pe]=t,r[Xe]=e,Se(r,n,e),pe(r),t.stateNode=r):t.memoizedState=T0(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return jm(t),e===null&&Tt&&(r=t.stateNode=q1(t.type,t.pendingProps,Gi.current),ze=t,ar=!0,i=Zt,gs(t.type)?(Ap=i,Zt=zn(r.firstChild)):Zt=i),Ee(e,t,t.pendingProps.children,n),ih(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Tt&&((i=r=Zt)&&(r=z2(r,t.type,t.pendingProps,ar),r!==null?(t.stateNode=r,ze=t,Zt=zn(r.firstChild),ar=!1,i=!0):i=!1),i||$s(t)),jm(t),i=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,r=s.children,Ep(i,s)?r=null:a!==null&&Ep(i,a)&&(t.flags|=32),t.memoizedState!==null&&(i=Bg(e,t,i2,null,null,n),cu._currentValue=i),ih(e,t),Ee(e,t,r,n),t.child;case 6:return e===null&&Tt&&((e=n=Zt)&&(n=B2(n,t.pendingProps,ar),n!==null?(t.stateNode=n,ze=t,Zt=null,e=!0):e=!1),e||$s(t)),null;case 13:return t1(e,t,n);case 4:return Th(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Eo(t,null,r,n):Ee(e,t,r,n),t.child;case 11:return t0(e,t,t.type,t.pendingProps,n);case 7:return Ee(e,t,t.pendingProps,n),t.child;case 8:return Ee(e,t,t.pendingProps.children,n),t.child;case 12:return Ee(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Ri(t,t.type,r.value),Ee(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Ys(t),i=Ve(i),r=r(i),t.flags|=1,Ee(e,t,r,n),t.child;case 14:return e0(e,t,t.type,t.pendingProps,n);case 15:return ZT(e,t,t.type,t.pendingProps,n);case 19:return e1(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},e===null?(n=jh(r,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=Gr(e.child,r),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return JT(e,t,n);case 24:return Ys(t),r=Ve(le),e===null?(i=Lg(),i===null&&(i=Lt,s=kg(),i.pooledCache=s,s.refCount++,s!==null&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:r,cache:i},Ug(t),Ri(t,le,i)):(e.lanes&n&&(ep(e,t),Bl(t,null,null,n),zl()),i=e.memoizedState,s=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),Ri(t,le,r)):(r=s.cache,Ri(t,le,r),r!==i.cache&&Zm(t,[le],n,!0))),Ee(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(B(156,t.tag))}function Dr(e){e.flags|=4}function o0(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!G1(t)){if(t=In.current,t!==null&&((vt&4194048)===vt?hr!==null:(vt&62914560)!==vt&&!(vt&536870912)||t!==hr))throw Ul=tp,oT;e.flags|=8192}}function Pc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Cw():536870912,e.lanes|=t,wo|=t)}function vl(e,t){if(!Tt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $t(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function d2(e,t,n){var r=t.pendingProps;switch(Vg(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(t),null;case 1:return $t(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Qr(le),po(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(gl(t)?Dr(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,L_())),$t(t),null;case 26:return n=t.memoizedState,e===null?(Dr(t),n!==null?($t(t),o0(t,n)):($t(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Dr(t),$t(t),o0(t,n)):($t(t),t.flags&=-16777217):(e.memoizedProps!==r&&Dr(t),$t(t),t.flags&=-16777217),null;case 27:Ah(t),n=Gi.current;var i=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Dr(t);else{if(!r){if(t.stateNode===null)throw Error(B(166));return $t(t),null}e=ur.current,gl(t)?V_(t):(e=q1(i,r,n),t.stateNode=e,Dr(t))}return $t(t),null;case 5:if(Ah(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Dr(t);else{if(!r){if(t.stateNode===null)throw Error(B(166));return $t(t),null}if(e=ur.current,gl(t))V_(t);else{switch(i=Qh(Gi.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof r.is=="string"?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e=typeof r.is=="string"?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Pe]=t,e[Xe]=r;t:for(i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break t;for(;i.sibling===null;){if(i.return===null||i.return===t)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;t:switch(Se(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Dr(t)}}return $t(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Dr(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(B(166));if(e=Gi.current,gl(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,i=ze,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Pe]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||j1(e.nodeValue,n)),e||$s(t)}else e=Qh(e).createTextNode(r),e[Pe]=t,t.stateNode=e}return $t(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=gl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(B(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[Pe]=t}else Lu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$t(t),i=!1}else i=L_(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(qr(t),t):(qr(t),null)}if(qr(t),t.flags&128)return t.lanes=n,t;if(n=r!==null,e=e!==null&&e.memoizedState!==null,n){r=t.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool);var s=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Pc(t,t.updateQueue),$t(t),null;case 4:return po(),e===null&&ay(t.stateNode.containerInfo),$t(t),null;case 10:return Qr(t.type),$t(t),null;case 19:if(ye(ue),i=t.memoizedState,i===null)return $t(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)vl(i,!1);else{if(Jt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=kh(e),s!==null){for(t.flags|=128,vl(i,!1),e=s.updateQueue,t.updateQueue=e,Pc(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)rT(n,e),n=n.sibling;return Qt(ue,ue.current&1|2),t.child}e=e.sibling}i.tail!==null&&cr()>Bh&&(t.flags|=128,r=!0,vl(i,!1),t.lanes=4194304)}else{if(!r)if(e=kh(s),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Pc(t,e),vl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Tt)return $t(t),null}else 2*cr()-i.renderingStartTime>Bh&&n!==536870912&&(t.flags|=128,r=!0,vl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(e=i.last,e!==null?e.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=cr(),t.sibling=null,e=ue.current,Qt(ue,r?e&1|2:e&1),t):($t(t),null);case 22:case 23:return qr(t),jg(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&($t(t),t.subtreeFlags&6&&(t.flags|=8192)):$t(t),n=t.updateQueue,n!==null&&Pc(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&ye(qs),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Qr(le),$t(t),null;case 25:return null;case 30:return null}throw Error(B(156,t.tag))}function m2(e,t){switch(Vg(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qr(le),po(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ah(t),null;case 13:if(qr(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));Lu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ye(ue),null;case 4:return po(),null;case 10:return Qr(t.type),null;case 22:case 23:return qr(t),jg(),e!==null&&ye(qs),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Qr(le),null;case 25:return null;default:return null}}function r1(e,t){switch(Vg(t),t.tag){case 3:Qr(le),po();break;case 26:case 27:case 5:Ah(t);break;case 4:po();break;case 13:qr(t);break;case 19:ye(ue);break;case 10:Qr(t.type);break;case 22:case 23:qr(t),jg(),e!==null&&ye(qs);break;case 24:Qr(le)}}function Hu(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var s=n.create,a=n.inst;r=s(),a.destroy=r}n=n.next}while(n!==i)}}catch(o){Vt(t,t.return,o)}}function ss(e,t,n){try{var r=t.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var s=i.next;r=s;do{if((r.tag&e)===e){var a=r.inst,o=a.destroy;if(o!==void 0){a.destroy=void 0,i=t;var u=n,c=o;try{c()}catch(h){Vt(i,u,h)}}}r=r.next}while(r!==s)}}catch(h){Vt(t,t.return,h)}}function i1(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{cT(t,n)}catch(r){Vt(e,e.return,r)}}}function s1(e,t,n){n.props=Xs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Vt(e,t,r)}}function Hl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(i){Vt(e,t,i)}}function or(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){Vt(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){Vt(e,t,i)}else n.current=null}function a1(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{t:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break t;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Vt(e,e.return,i)}}function im(e,t,n){try{var r=e.stateNode;V2(r,e.type,n,t),r[Xe]=t}catch(i){Vt(e,e.return,i)}}function o1(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&gs(e.type)||e.tag===4}function sm(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||o1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&gs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=qf));else if(r!==4&&(r===27&&gs(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(hp(e,t,n),e=e.sibling;e!==null;)hp(e,t,n),e=e.sibling}function zh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&gs(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(zh(e,t,n),e=e.sibling;e!==null;)zh(e,t,n),e=e.sibling}function l1(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Se(t,r,n),t[Pe]=e,t[Xe]=n}catch(s){Vt(e,e.return,s)}}var Lr=!1,ee=!1,am=!1,l0=typeof WeakSet=="function"?WeakSet:Set,me=null;function p2(e,t){if(e=e.containerInfo,_p=Xh,e=Kw(e),Ng(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else t:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break t}var a=0,o=-1,u=-1,c=0,h=0,m=e,p=null;e:for(;;){for(var d;m!==n||i!==0&&m.nodeType!==3||(o=a+i),m!==s||r!==0&&m.nodeType!==3||(u=a+r),m.nodeType===3&&(a+=m.nodeValue.length),(d=m.firstChild)!==null;)p=m,m=d;for(;;){if(m===e)break e;if(p===n&&++c===i&&(o=a),p===s&&++h===r&&(u=a),(d=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=d}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(bp={focusedElem:e,selectionRange:n},Xh=!1,me=t;me!==null;)if(t=me,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,me=e;else for(;me!==null;){switch(t=me,s=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var S=Xs(n.type,i,n.elementType===n.type);e=r.getSnapshotBeforeUpdate(S,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(E){Vt(n,n.return,E)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)wp(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":wp(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(B(163))}if(e=t.sibling,e!==null){e.return=t.return,me=e;break}me=t.return}}function u1(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:vi(e,n),r&4&&Hu(5,n);break;case 1:if(vi(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){Vt(n,n.return,a)}else{var i=Xs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){Vt(n,n.return,a)}}r&64&&i1(n),r&512&&Hl(n,n.return);break;case 3:if(vi(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{cT(e,t)}catch(a){Vt(n,n.return,a)}}break;case 27:t===null&&r&4&&l1(n);case 26:case 5:vi(e,n),t===null&&r&4&&a1(n),r&512&&Hl(n,n.return);break;case 12:vi(e,n);break;case 13:vi(e,n),r&4&&f1(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=A2.bind(null,n),q2(e,n))));break;case 22:if(r=n.memoizedState!==null||Lr,!r){t=t!==null&&t.memoizedState!==null||ee,i=Lr;var s=ee;Lr=r,(ee=t)&&!s?wi(e,n,(n.subtreeFlags&8772)!==0):vi(e,n),Lr=i,ee=s}break;case 30:break;default:vi(e,n)}}function c1(e){var t=e.alternate;t!==null&&(e.alternate=null,c1(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ag(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ft=null,Qe=!1;function Mr(e,t,n){for(n=n.child;n!==null;)h1(e,t,n),n=n.sibling}function h1(e,t,n){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(Du,n)}catch{}switch(n.tag){case 26:ee||or(n,t),Mr(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ee||or(n,t);var r=Ft,i=Qe;gs(n.type)&&(Ft=n.stateNode,Qe=!1),Mr(e,t,n),$l(n.stateNode),Ft=r,Qe=i;break;case 5:ee||or(n,t);case 6:if(r=Ft,i=Qe,Ft=null,Mr(e,t,n),Ft=r,Qe=i,Ft!==null)if(Qe)try{(Ft.nodeType===9?Ft.body:Ft.nodeName==="HTML"?Ft.ownerDocument.body:Ft).removeChild(n.stateNode)}catch(s){Vt(n,t,s)}else try{Ft.removeChild(n.stateNode)}catch(s){Vt(n,t,s)}break;case 18:Ft!==null&&(Qe?(e=Ft,b0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),du(e)):b0(Ft,n.stateNode));break;case 4:r=Ft,i=Qe,Ft=n.stateNode.containerInfo,Qe=!0,Mr(e,t,n),Ft=r,Qe=i;break;case 0:case 11:case 14:case 15:ee||ss(2,n,t),ee||ss(4,n,t),Mr(e,t,n);break;case 1:ee||(or(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&s1(n,t,r)),Mr(e,t,n);break;case 21:Mr(e,t,n);break;case 22:ee=(r=ee)||n.memoizedState!==null,Mr(e,t,n),ee=r;break;default:Mr(e,t,n)}}function f1(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{du(e)}catch(n){Vt(t,t.return,n)}}function g2(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new l0),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new l0),t;default:throw Error(B(435,e.tag))}}function om(e,t){var n=g2(e);t.forEach(function(r){var i=S2.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}function rn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],s=e,a=t,o=a;t:for(;o!==null;){switch(o.tag){case 27:if(gs(o.type)){Ft=o.stateNode,Qe=!1;break t}break;case 5:Ft=o.stateNode,Qe=!1;break t;case 3:case 4:Ft=o.stateNode.containerInfo,Qe=!0;break t}o=o.return}if(Ft===null)throw Error(B(160));h1(s,a,i),Ft=null,Qe=!1,s=i.alternate,s!==null&&(s.return=null),i.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)d1(t,e),t=t.sibling}var Ln=null;function d1(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:rn(t,e),sn(e),r&4&&(ss(3,e,e.return),Hu(3,e),ss(5,e,e.return));break;case 1:rn(t,e),sn(e),r&512&&(ee||n===null||or(n,n.return)),r&64&&Lr&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=Ln;if(rn(t,e),sn(e),r&512&&(ee||n===null||or(n,n.return)),r&4){var s=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){t:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;e:switch(r){case"title":s=i.getElementsByTagName("title")[0],(!s||s[Vu]||s[Pe]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),Se(s,r,n),s[Pe]=e,pe(s),r=s;break t;case"link":var a=S0("link","href",i).get(r+(n.href||""));if(a){for(var o=0;o<a.length;o++)if(s=a[o],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(o,1);break e}}s=i.createElement(r),Se(s,r,n),i.head.appendChild(s);break;case"meta":if(a=S0("meta","content",i).get(r+(n.content||""))){for(o=0;o<a.length;o++)if(s=a[o],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(o,1);break e}}s=i.createElement(r),Se(s,r,n),i.head.appendChild(s);break;default:throw Error(B(468,r))}s[Pe]=e,pe(s),r=s}e.stateNode=r}else R0(i,e.type,e.stateNode);else e.stateNode=A0(i,r,e.memoizedProps);else s!==r?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,r===null?R0(i,e.type,e.stateNode):A0(i,r,e.memoizedProps)):r===null&&e.stateNode!==null&&im(e,e.memoizedProps,n.memoizedProps)}break;case 27:rn(t,e),sn(e),r&512&&(ee||n===null||or(n,n.return)),n!==null&&r&4&&im(e,e.memoizedProps,n.memoizedProps);break;case 5:if(rn(t,e),sn(e),r&512&&(ee||n===null||or(n,n.return)),e.flags&32){i=e.stateNode;try{yo(i,"")}catch(d){Vt(e,e.return,d)}}r&4&&e.stateNode!=null&&(i=e.memoizedProps,im(e,i,n!==null?n.memoizedProps:i)),r&1024&&(am=!0);break;case 6:if(rn(t,e),sn(e),r&4){if(e.stateNode===null)throw Error(B(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(d){Vt(e,e.return,d)}}break;case 3:if(oh=null,i=Ln,Ln=$h(t.containerInfo),rn(t,e),Ln=i,sn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{du(t.containerInfo)}catch(d){Vt(e,e.return,d)}am&&(am=!1,m1(e));break;case 4:r=Ln,Ln=$h(e.stateNode.containerInfo),rn(t,e),sn(e),Ln=r;break;case 12:rn(t,e),sn(e);break;case 13:rn(t,e),sn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ry=cr()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,om(e,r)));break;case 22:i=e.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,c=Lr,h=ee;if(Lr=c||i,ee=h||u,rn(t,e),ee=h,Lr=c,sn(e),r&8192)t:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||u||Lr||ee||Is(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){u=n=t;try{if(s=u.stateNode,i)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{o=u.stateNode;var m=u.memoizedProps.style,p=m!=null&&m.hasOwnProperty("display")?m.display:null;o.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(d){Vt(u,u.return,d)}}}else if(t.tag===6){if(n===null){u=t;try{u.stateNode.nodeValue=i?"":u.memoizedProps}catch(d){Vt(u,u.return,d)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;t.sibling===null;){if(t.return===null||t.return===e)break t;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,om(e,n))));break;case 19:rn(t,e),sn(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,om(e,r)));break;case 30:break;case 21:break;default:rn(t,e),sn(e)}}function sn(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(o1(r)){n=r;break}r=r.return}if(n==null)throw Error(B(160));switch(n.tag){case 27:var i=n.stateNode,s=sm(e);zh(e,s,i);break;case 5:var a=n.stateNode;n.flags&32&&(yo(a,""),n.flags&=-33);var o=sm(e);zh(e,o,a);break;case 3:case 4:var u=n.stateNode.containerInfo,c=sm(e);hp(e,c,u);break;default:throw Error(B(161))}}catch(h){Vt(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function m1(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;m1(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function vi(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)u1(e,t.alternate,t),t=t.sibling}function Is(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ss(4,t,t.return),Is(t);break;case 1:or(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&s1(t,t.return,n),Is(t);break;case 27:$l(t.stateNode);case 26:case 5:or(t,t.return),Is(t);break;case 22:t.memoizedState===null&&Is(t);break;case 30:Is(t);break;default:Is(t)}e=e.sibling}}function wi(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,i=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:wi(i,s,n),Hu(4,s);break;case 1:if(wi(i,s,n),r=s,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(c){Vt(r,r.return,c)}if(r=s,i=r.updateQueue,i!==null){var o=r.stateNode;try{var u=i.shared.hiddenCallbacks;if(u!==null)for(i.shared.hiddenCallbacks=null,i=0;i<u.length;i++)uT(u[i],o)}catch(c){Vt(r,r.return,c)}}n&&a&64&&i1(s),Hl(s,s.return);break;case 27:l1(s);case 26:case 5:wi(i,s,n),n&&r===null&&a&4&&a1(s),Hl(s,s.return);break;case 12:wi(i,s,n);break;case 13:wi(i,s,n),n&&a&4&&f1(i,s);break;case 22:s.memoizedState===null&&wi(i,s,n),Hl(s,s.return);break;case 30:break;default:wi(i,s,n)}t=t.sibling}}function Jg(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ju(n))}function ty(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ju(e))}function Xn(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)p1(e,t,n,r),t=t.sibling}function p1(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Xn(e,t,n,r),i&2048&&Hu(9,t);break;case 1:Xn(e,t,n,r);break;case 3:Xn(e,t,n,r),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ju(e)));break;case 12:if(i&2048){Xn(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,o=s.onPostCommit;typeof o=="function"&&o(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){Vt(t,t.return,u)}}else Xn(e,t,n,r);break;case 13:Xn(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,t.memoizedState!==null?s._visibility&2?Xn(e,t,n,r):Fl(e,t):s._visibility&2?Xn(e,t,n,r):(s._visibility|=2,Aa(e,t,n,r,(t.subtreeFlags&10256)!==0)),i&2048&&Jg(a,t);break;case 24:Xn(e,t,n,r),i&2048&&ty(t.alternate,t);break;default:Xn(e,t,n,r)}}function Aa(e,t,n,r,i){for(i=i&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var s=e,a=t,o=n,u=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:Aa(s,a,o,u,i),Hu(8,a);break;case 23:break;case 22:var h=a.stateNode;a.memoizedState!==null?h._visibility&2?Aa(s,a,o,u,i):Fl(s,a):(h._visibility|=2,Aa(s,a,o,u,i)),i&&c&2048&&Jg(a.alternate,a);break;case 24:Aa(s,a,o,u,i),i&&c&2048&&ty(a.alternate,a);break;default:Aa(s,a,o,u,i)}t=t.sibling}}function Fl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Fl(n,r),i&2048&&Jg(r.alternate,r);break;case 24:Fl(n,r),i&2048&&ty(r.alternate,r);break;default:Fl(n,r)}t=t.sibling}}var xl=8192;function ba(e){if(e.subtreeFlags&xl)for(e=e.child;e!==null;)g1(e),e=e.sibling}function g1(e){switch(e.tag){case 26:ba(e),e.flags&xl&&e.memoizedState!==null&&eN(Ln,e.memoizedState,e.memoizedProps);break;case 5:ba(e);break;case 3:case 4:var t=Ln;Ln=$h(e.stateNode.containerInfo),ba(e),Ln=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=xl,xl=16777216,ba(e),xl=t):ba(e));break;default:ba(e)}}function y1(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function _l(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];me=r,_1(r,e)}y1(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)v1(e),e=e.sibling}function v1(e){switch(e.tag){case 0:case 11:case 15:_l(e),e.flags&2048&&ss(9,e,e.return);break;case 3:_l(e);break;case 12:_l(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,sh(e)):_l(e);break;default:_l(e)}}function sh(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];me=r,_1(r,e)}y1(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ss(8,t,t.return),sh(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,sh(t));break;default:sh(t)}e=e.sibling}}function _1(e,t){for(;me!==null;){var n=me;switch(n.tag){case 0:case 11:case 15:ss(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:ju(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,me=r;else t:for(n=e;me!==null;){r=me;var i=r.sibling,s=r.return;if(c1(r),r===n){me=null;break t}if(i!==null){i.return=s,me=i;break t}me=s}}}var y2={getCacheForType:function(e){var t=Ve(le),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},v2=typeof WeakMap=="function"?WeakMap:Map,It=0,Lt=null,ft=null,vt=0,Ct=0,an=null,Bi=!1,zo=!1,ey=!1,Wr=0,Jt=0,as=0,Hs=0,ny=0,Cn=0,wo=0,Gl=null,$e=null,fp=!1,ry=0,Bh=1/0,qh=null,Yi=null,Te=0,Ki=null,To=null,Xa=0,dp=0,mp=null,b1=null,Ql=0,pp=null;function hn(){if(It&2&&vt!==0)return vt&-vt;if(tt.T!==null){var e=vo;return e!==0?e:sy()}return Ow()}function E1(){Cn===0&&(Cn=!(vt&536870912)||Tt?xw():536870912);var e=In.current;return e!==null&&(e.flags|=32),Cn}function fn(e,t,n){(e===Lt&&(Ct===2||Ct===9)||e.cancelPendingCommit!==null)&&(Ao(e,0),qi(e,vt,Cn,!1)),Pu(e,n),(!(It&2)||e!==Lt)&&(e===Lt&&(!(It&2)&&(Hs|=n),Jt===4&&qi(e,vt,Cn,!1)),Tr(e))}function w1(e,t,n){if(It&6)throw Error(B(327));var r=!n&&(t&124)===0&&(t&e.expiredLanes)===0||Mu(e,t),i=r?E2(e,t):lm(e,t,!0),s=r;do{if(i===0){zo&&!r&&qi(e,t,0,!1);break}else{if(n=e.current.alternate,s&&!_2(n)){i=lm(e,t,!1),s=!1;continue}if(i===2){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;t:{var o=e;i=Gl;var u=o.current.memoizedState.isDehydrated;if(u&&(Ao(o,a).flags|=256),a=lm(o,a,!1),a!==2){if(ey&&!u){o.errorRecoveryDisabledLanes|=s,Hs|=s,i=4;break t}s=$e,$e=i,s!==null&&($e===null?$e=s:$e.push.apply($e,s))}i=a}if(s=!1,i!==2)continue}}if(i===1){Ao(e,0),qi(e,t,0,!0);break}t:{switch(r=e,s=i,s){case 0:case 1:throw Error(B(345));case 4:if((t&4194048)!==t)break;case 6:qi(r,t,Cn,!Bi);break t;case 2:$e=null;break;case 3:case 5:break;default:throw Error(B(329))}if((t&62914560)===t&&(i=ry+300-cr(),10<i)){if(qi(r,t,Cn,!Bi),If(r,0,!0)!==0)break t;r.timeoutHandle=B1(u0.bind(null,r,n,$e,qh,fp,t,Cn,Hs,wo,Bi,s,2,-0,0),i);break t}u0(r,n,$e,qh,fp,t,Cn,Hs,wo,Bi,s,0,-0,0)}}break}while(!0);Tr(e)}function u0(e,t,n,r,i,s,a,o,u,c,h,m,p,d){if(e.timeoutHandle=-1,m=t.subtreeFlags,(m&8192||(m&16785408)===16785408)&&(uu={stylesheets:null,count:0,unsuspend:tN},g1(t),m=nN(),m!==null)){e.cancelPendingCommit=m(h0.bind(null,e,t,s,n,r,i,a,o,u,h,1,p,d)),qi(e,s,a,!c);return}h0(e,t,s,n,r,i,a,o,u)}function _2(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!mn(s(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qi(e,t,n,r){t&=~ny,t&=~Hs,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var s=31-cn(i),a=1<<s;r[s]=-1,i&=~a}n!==0&&Iw(e,n,t)}function jf(){return It&6?!0:(Fu(0),!1)}function iy(){if(ft!==null){if(Ct===0)var e=ft.return;else e=ft,Br=aa=null,Fg(e),Ka=null,au=0,e=ft;for(;e!==null;)r1(e.alternate,e),e=e.return;ft=null}}function Ao(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,L2(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),iy(),Lt=e,ft=n=Gr(e.current,null),vt=t,Ct=0,an=null,Bi=!1,zo=Mu(e,t),ey=!1,wo=Cn=ny=Hs=as=Jt=0,$e=Gl=null,fp=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var i=31-cn(r),s=1<<i;t|=e[i],r&=~s}return Wr=t,Mf(),n}function T1(e,t){ct=null,tt.H=Vh,t===zu||t===Vf?(t=B_(),Ct=3):t===oT?(t=B_(),Ct=4):Ct=t===WT?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,an=t,ft===null&&(Jt=1,Uh(e,An(t,e.current)))}function A1(){var e=tt.H;return tt.H=Vh,e===null?Vh:e}function S1(){var e=tt.A;return tt.A=y2,e}function gp(){Jt=4,Bi||(vt&4194048)!==vt&&In.current!==null||(zo=!0),!(as&134217727)&&!(Hs&134217727)||Lt===null||qi(Lt,vt,Cn,!1)}function lm(e,t,n){var r=It;It|=2;var i=A1(),s=S1();(Lt!==e||vt!==t)&&(qh=null,Ao(e,t)),t=!1;var a=Jt;t:do try{if(Ct!==0&&ft!==null){var o=ft,u=an;switch(Ct){case 8:iy(),a=6;break t;case 3:case 2:case 9:case 6:In.current===null&&(t=!0);var c=Ct;if(Ct=0,an=null,Ba(e,o,u,c),n&&zo){a=0;break t}break;default:c=Ct,Ct=0,an=null,Ba(e,o,u,c)}}b2(),a=Jt;break}catch(h){T1(e,h)}while(!0);return t&&e.shellSuspendCounter++,Br=aa=null,It=r,tt.H=i,tt.A=s,ft===null&&(Lt=null,vt=0,Mf()),a}function b2(){for(;ft!==null;)R1(ft)}function E2(e,t){var n=It;It|=2;var r=A1(),i=S1();Lt!==e||vt!==t?(qh=null,Bh=cr()+500,Ao(e,t)):zo=Mu(e,t);t:do try{if(Ct!==0&&ft!==null){t=ft;var s=an;e:switch(Ct){case 1:Ct=0,an=null,Ba(e,t,s,1);break;case 2:case 9:if(z_(s)){Ct=0,an=null,c0(t);break}t=function(){Ct!==2&&Ct!==9||Lt!==e||(Ct=7),Tr(e)},s.then(t,t);break t;case 3:Ct=7;break t;case 4:Ct=5;break t;case 7:z_(s)?(Ct=0,an=null,c0(t)):(Ct=0,an=null,Ba(e,t,s,7));break;case 5:var a=null;switch(ft.tag){case 26:a=ft.memoizedState;case 5:case 27:var o=ft;if(!a||G1(a)){Ct=0,an=null;var u=o.sibling;if(u!==null)ft=u;else{var c=o.return;c!==null?(ft=c,zf(c)):ft=null}break e}}Ct=0,an=null,Ba(e,t,s,5);break;case 6:Ct=0,an=null,Ba(e,t,s,6);break;case 8:iy(),Jt=6;break t;default:throw Error(B(462))}}w2();break}catch(h){T1(e,h)}while(!0);return Br=aa=null,tt.H=r,tt.A=i,It=n,ft!==null?0:(Lt=null,vt=0,Mf(),Jt)}function w2(){for(;ft!==null&&!FC();)R1(ft)}function R1(e){var t=n1(e.alternate,e,Wr);e.memoizedProps=e.pendingProps,t===null?zf(e):ft=t}function c0(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=r0(n,t,t.pendingProps,t.type,void 0,vt);break;case 11:t=r0(n,t,t.pendingProps,t.type.render,t.ref,vt);break;case 5:Fg(t);default:r1(n,t),t=ft=rT(t,Wr),t=n1(n,t,Wr)}e.memoizedProps=e.pendingProps,t===null?zf(e):ft=t}function Ba(e,t,n,r){Br=aa=null,Fg(t),Ka=null,au=0;var i=t.return;try{if(h2(e,i,t,n,vt)){Jt=1,Uh(e,An(n,e.current)),ft=null;return}}catch(s){if(i!==null)throw ft=i,s;Jt=1,Uh(e,An(n,e.current)),ft=null;return}t.flags&32768?(Tt||r===1?e=!0:zo||vt&536870912?e=!1:(Bi=e=!0,(r===2||r===9||r===3||r===6)&&(r=In.current,r!==null&&r.tag===13&&(r.flags|=16384))),x1(t,e)):zf(t)}function zf(e){var t=e;do{if(t.flags&32768){x1(t,Bi);return}e=t.return;var n=d2(t.alternate,t,Wr);if(n!==null){ft=n;return}if(t=t.sibling,t!==null){ft=t;return}ft=t=e}while(t!==null);Jt===0&&(Jt=5)}function x1(e,t){do{var n=m2(e.alternate,e);if(n!==null){n.flags&=32767,ft=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ft=e;return}ft=e=n}while(e!==null);Jt=6,ft=null}function h0(e,t,n,r,i,s,a,o,u){e.cancelPendingCommit=null;do Bf();while(Te!==0);if(It&6)throw Error(B(327));if(t!==null){if(t===e.current)throw Error(B(177));if(s=t.lanes|t.childLanes,s|=Og,tI(e,n,s,a,o,u),e===Lt&&(ft=Lt=null,vt=0),To=t,Ki=e,Xa=n,dp=s,mp=i,b1=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,R2(Sh,function(){return D1(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,t.subtreeFlags&13878||r){r=tt.T,tt.T=null,i=At.p,At.p=2,a=It,It|=4;try{p2(e,t,n)}finally{It=a,At.p=i,tt.T=r}}Te=1,C1(),I1(),N1()}}function C1(){if(Te===1){Te=0;var e=Ki,t=To,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=tt.T,tt.T=null;var r=At.p;At.p=2;var i=It;It|=4;try{d1(t,e);var s=bp,a=Kw(e.containerInfo),o=s.focusedElem,u=s.selectionRange;if(a!==o&&o&&o.ownerDocument&&Yw(o.ownerDocument.documentElement,o)){if(u!==null&&Ng(o)){var c=u.start,h=u.end;if(h===void 0&&(h=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(h,o.value.length);else{var m=o.ownerDocument||document,p=m&&m.defaultView||window;if(p.getSelection){var d=p.getSelection(),S=o.textContent.length,E=Math.min(u.start,S),A=u.end===void 0?E:Math.min(u.end,S);!d.extend&&E>A&&(a=A,A=E,E=a);var y=D_(o,E),v=D_(o,A);if(y&&v&&(d.rangeCount!==1||d.anchorNode!==y.node||d.anchorOffset!==y.offset||d.focusNode!==v.node||d.focusOffset!==v.offset)){var w=m.createRange();w.setStart(y.node,y.offset),d.removeAllRanges(),E>A?(d.addRange(w),d.extend(v.node,v.offset)):(w.setEnd(v.node,v.offset),d.addRange(w))}}}}for(m=[],d=o;d=d.parentNode;)d.nodeType===1&&m.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<m.length;o++){var I=m[o];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}Xh=!!_p,bp=_p=null}finally{It=i,At.p=r,tt.T=n}}e.current=t,Te=2}}function I1(){if(Te===2){Te=0;var e=Ki,t=To,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=tt.T,tt.T=null;var r=At.p;At.p=2;var i=It;It|=4;try{u1(e,t.alternate,t)}finally{It=i,At.p=r,tt.T=n}}Te=3}}function N1(){if(Te===4||Te===3){Te=0,GC();var e=Ki,t=To,n=Xa,r=b1;t.subtreeFlags&10256||t.flags&10256?Te=5:(Te=0,To=Ki=null,O1(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(Yi=null),Tg(n),t=t.stateNode,un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(Du,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=tt.T,i=At.p,At.p=2,tt.T=null;try{for(var s=e.onRecoverableError,a=0;a<r.length;a++){var o=r[a];s(o.value,{componentStack:o.stack})}}finally{tt.T=t,At.p=i}}Xa&3&&Bf(),Tr(e),i=e.pendingLanes,n&4194090&&i&42?e===pp?Ql++:(Ql=0,pp=e):Ql=0,Fu(0)}}function O1(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ju(t)))}function Bf(e){return C1(),I1(),N1(),D1()}function D1(){if(Te!==5)return!1;var e=Ki,t=dp;dp=0;var n=Tg(Xa),r=tt.T,i=At.p;try{At.p=32>n?32:n,tt.T=null,n=mp,mp=null;var s=Ki,a=Xa;if(Te=0,To=Ki=null,Xa=0,It&6)throw Error(B(331));var o=It;if(It|=4,v1(s.current),p1(s,s.current,a,n),It=o,Fu(0,!1),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(Du,s)}catch{}return!0}finally{At.p=i,tt.T=r,O1(e,t)}}function f0(e,t,n){t=An(n,t),t=lp(e.stateNode,t,2),e=$i(e,t,2),e!==null&&(Pu(e,2),Tr(e))}function Vt(e,t,n){if(e.tag===3)f0(e,e,n);else for(;t!==null;){if(t.tag===3){f0(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yi===null||!Yi.has(r))){e=An(n,e),n=KT(2),r=$i(t,n,2),r!==null&&(XT(n,r,t,e),Pu(r,2),Tr(r));break}}t=t.return}}function um(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new v2;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(ey=!0,i.add(n),e=T2.bind(null,e,t,n),t.then(e,e))}function T2(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Lt===e&&(vt&n)===n&&(Jt===4||Jt===3&&(vt&62914560)===vt&&300>cr()-ry?!(It&2)&&Ao(e,0):ny|=n,wo===vt&&(wo=0)),Tr(e)}function M1(e,t){t===0&&(t=Cw()),e=jo(e,t),e!==null&&(Pu(e,t),Tr(e))}function A2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),M1(e,n)}function S2(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(B(314))}r!==null&&r.delete(t),M1(e,n)}function R2(e,t){return Eg(e,t)}var Hh=null,Sa=null,yp=!1,Fh=!1,cm=!1,Fs=0;function Tr(e){e!==Sa&&e.next===null&&(Sa===null?Hh=Sa=e:Sa=Sa.next=e),Fh=!0,yp||(yp=!0,C2())}function Fu(e,t){if(!cm&&Fh){cm=!0;do for(var n=!1,r=Hh;r!==null;){if(e!==0){var i=r.pendingLanes;if(i===0)var s=0;else{var a=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-cn(42|e)+1)-1,s&=i&~(a&~o),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,d0(r,s))}else s=vt,s=If(r,r===Lt?s:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(s&3)||Mu(r,s)||(n=!0,d0(r,s));r=r.next}while(n);cm=!1}}function x2(){P1()}function P1(){Fh=yp=!1;var e=0;Fs!==0&&(k2()&&(e=Fs),Fs=0);for(var t=cr(),n=null,r=Hh;r!==null;){var i=r.next,s=V1(r,t);s===0?(r.next=null,n===null?Hh=i:n.next=i,i===null&&(Sa=n)):(n=r,(e!==0||s&3)&&(Fh=!0)),r=i}Fu(e)}function V1(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var a=31-cn(s),o=1<<a,u=i[a];u===-1?(!(o&n)||o&r)&&(i[a]=JC(o,t)):u<=t&&(e.expiredLanes|=o),s&=~o}if(t=Lt,n=vt,n=If(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(Ct===2||Ct===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&kd(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Mu(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&kd(r),Tg(n)){case 2:case 8:n=Sw;break;case 32:n=Sh;break;case 268435456:n=Rw;break;default:n=Sh}return r=k1.bind(null,e),n=Eg(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&kd(r),e.callbackPriority=2,e.callbackNode=null,2}function k1(e,t){if(Te!==0&&Te!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Bf()&&e.callbackNode!==n)return null;var r=vt;return r=If(e,e===Lt?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(w1(e,r,t),V1(e,cr()),e.callbackNode!=null&&e.callbackNode===n?k1.bind(null,e):null)}function d0(e,t){if(Bf())return null;w1(e,t,!0)}function C2(){U2(function(){It&6?Eg(Aw,x2):P1()})}function sy(){return Fs===0&&(Fs=xw()),Fs}function m0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Wc(""+e)}function p0(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function I2(e,t,n,r,i){if(t==="submit"&&n&&n.stateNode===i){var s=m0((i[Xe]||null).action),a=r.submitter;a&&(t=(t=a[Xe]||null)?m0(t.formAction):a.getAttribute("formAction"),t!==null&&(s=t,a=null));var o=new Nf("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Fs!==0){var u=a?p0(i,a):new FormData(i);ap(n,{pending:!0,data:u,method:i.method,action:s},null,u)}}else typeof s=="function"&&(o.preventDefault(),u=a?p0(i,a):new FormData(i),ap(n,{pending:!0,data:u,method:i.method,action:s},s,u))},currentTarget:i}]})}}for(var hm=0;hm<Ym.length;hm++){var fm=Ym[hm],N2=fm.toLowerCase(),O2=fm[0].toUpperCase()+fm.slice(1);Fn(N2,"on"+O2)}Fn(Ww,"onAnimationEnd");Fn(Zw,"onAnimationIteration");Fn(Jw,"onAnimationStart");Fn("dblclick","onDoubleClick");Fn("focusin","onFocus");Fn("focusout","onBlur");Fn(YI,"onTransitionRun");Fn(KI,"onTransitionStart");Fn(XI,"onTransitionCancel");Fn(tT,"onTransitionEnd");go("onMouseEnter",["mouseout","mouseover"]);go("onMouseLeave",["mouseout","mouseover"]);go("onPointerEnter",["pointerout","pointerover"]);go("onPointerLeave",["pointerout","pointerover"]);ra("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ra("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ra("onBeforeInput",["compositionend","keypress","textInput","paste"]);ra("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ra("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ra("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ou));function L1(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;t:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==s&&i.isPropagationStopped())break t;s=o,i.currentTarget=c;try{s(i)}catch(h){Lh(h)}i.currentTarget=null,s=u}else for(a=0;a<r.length;a++){if(o=r[a],u=o.instance,c=o.currentTarget,o=o.listener,u!==s&&i.isPropagationStopped())break t;s=o,i.currentTarget=c;try{s(i)}catch(h){Lh(h)}i.currentTarget=null,s=u}}}}function ht(e,t){var n=t[Bm];n===void 0&&(n=t[Bm]=new Set);var r=e+"__bubble";n.has(r)||(U1(t,e,2,!1),n.add(r))}function dm(e,t,n){var r=0;t&&(r|=4),U1(n,e,r,t)}var Vc="_reactListening"+Math.random().toString(36).slice(2);function ay(e){if(!e[Vc]){e[Vc]=!0,Dw.forEach(function(n){n!=="selectionchange"&&(D2.has(n)||dm(n,!1,e),dm(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Vc]||(t[Vc]=!0,dm("selectionchange",!1,t))}}function U1(e,t,n,r){switch(X1(t)){case 2:var i=sN;break;case 8:i=aN;break;default:i=cy}n=i.bind(null,t,n,e),i=void 0,!Gm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function mm(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)t:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===i)return;a=a.return}for(;o!==null;){if(a=Da(o),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){r=s=a;continue t}o=o.parentNode}}r=r.return}zw(function(){var c=s,h=Rg(n),m=[];t:{var p=eT.get(e);if(p!==void 0){var d=Nf,S=e;switch(e){case"keypress":if(Jc(n)===0)break t;case"keydown":case"keyup":d=RI;break;case"focusin":S="focus",d=Fd;break;case"focusout":S="blur",d=Fd;break;case"beforeblur":case"afterblur":d=Fd;break;case"click":if(n.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=w_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=mI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=II;break;case Ww:case Zw:case Jw:d=yI;break;case tT:d=OI;break;case"scroll":case"scrollend":d=fI;break;case"wheel":d=MI;break;case"copy":case"cut":case"paste":d=_I;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=A_;break;case"toggle":case"beforetoggle":d=VI}var E=(t&4)!==0,A=!E&&(e==="scroll"||e==="scrollend"),y=E?p!==null?p+"Capture":null:p;E=[];for(var v=c,w;v!==null;){var I=v;if(w=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||w===null||y===null||(I=eu(v,y),I!=null&&E.push(lu(v,I,w))),A)break;v=v.return}0<E.length&&(p=new d(p,S,null,n,h),m.push({event:p,listeners:E}))}}if(!(t&7)){t:{if(p=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",p&&n!==Fm&&(S=n.relatedTarget||n.fromElement)&&(Da(S)||S[Lo]))break t;if((d||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,d?(S=n.relatedTarget||n.toElement,d=c,S=S?Da(S):null,S!==null&&(A=Ou(S),E=S.tag,S!==A||E!==5&&E!==27&&E!==6)&&(S=null)):(d=null,S=c),d!==S)){if(E=w_,I="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(E=A_,I="onPointerLeave",y="onPointerEnter",v="pointer"),A=d==null?p:Rl(d),w=S==null?p:Rl(S),p=new E(I,v+"leave",d,n,h),p.target=A,p.relatedTarget=w,I=null,Da(h)===c&&(E=new E(y,v+"enter",S,n,h),E.target=w,E.relatedTarget=A,I=E),A=I,d&&S)e:{for(E=d,y=S,v=0,w=E;w;w=Ea(w))v++;for(w=0,I=y;I;I=Ea(I))w++;for(;0<v-w;)E=Ea(E),v--;for(;0<w-v;)y=Ea(y),w--;for(;v--;){if(E===y||y!==null&&E===y.alternate)break e;E=Ea(E),y=Ea(y)}E=null}else E=null;d!==null&&g0(m,p,d,E,!1),S!==null&&A!==null&&g0(m,A,S,E,!0)}}t:{if(p=c?Rl(c):window,d=p.nodeName&&p.nodeName.toLowerCase(),d==="select"||d==="input"&&p.type==="file")var V=C_;else if(x_(p))if(Qw)V=GI;else{V=HI;var L=qI}else d=p.nodeName,!d||d.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?c&&Sg(c.elementType)&&(V=C_):V=FI;if(V&&(V=V(e,c))){Gw(m,V,n,h);break t}L&&L(e,p,c),e==="focusout"&&c&&p.type==="number"&&c.memoizedProps.value!=null&&Hm(p,"number",p.value)}switch(L=c?Rl(c):window,e){case"focusin":(x_(L)||L.contentEditable==="true")&&(Va=L,Qm=c,kl=null);break;case"focusout":kl=Qm=Va=null;break;case"mousedown":$m=!0;break;case"contextmenu":case"mouseup":case"dragend":$m=!1,M_(m,n,h);break;case"selectionchange":if($I)break;case"keydown":case"keyup":M_(m,n,h)}var T;if(Ig)t:{switch(e){case"compositionstart":var _="onCompositionStart";break t;case"compositionend":_="onCompositionEnd";break t;case"compositionupdate":_="onCompositionUpdate";break t}_=void 0}else Pa?Hw(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(qw&&n.locale!=="ko"&&(Pa||_!=="onCompositionStart"?_==="onCompositionEnd"&&Pa&&(T=Bw()):(zi=h,xg="value"in zi?zi.value:zi.textContent,Pa=!0)),L=Gh(c,_),0<L.length&&(_=new T_(_,e,null,n,h),m.push({event:_,listeners:L}),T?_.data=T:(T=Fw(n),T!==null&&(_.data=T)))),(T=LI?UI(e,n):jI(e,n))&&(_=Gh(c,"onBeforeInput"),0<_.length&&(L=new T_("onBeforeInput","beforeinput",null,n,h),m.push({event:L,listeners:_}),L.data=T)),I2(m,e,c,n,h)}L1(m,t)})}function lu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gh(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||s===null||(i=eu(e,n),i!=null&&r.unshift(lu(e,i,s)),i=eu(e,t),i!=null&&r.push(lu(e,i,s))),e.tag===3)return r;e=e.return}return[]}function Ea(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function g0(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var o=n,u=o.alternate,c=o.stateNode;if(o=o.tag,u!==null&&u===r)break;o!==5&&o!==26&&o!==27||c===null||(u=c,i?(c=eu(n,s),c!=null&&a.unshift(lu(n,c,u))):i||(c=eu(n,s),c!=null&&a.push(lu(n,c,u)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var M2=/\r\n?/g,P2=/\u0000|\uFFFD/g;function y0(e){return(typeof e=="string"?e:""+e).replace(M2,`
`).replace(P2,"")}function j1(e,t){return t=y0(t),y0(e)===t}function qf(){}function Nt(e,t,n,r,i,s){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||yo(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&yo(e,""+r);break;case"className":Cc(e,"class",r);break;case"tabIndex":Cc(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Cc(e,n,r);break;case"style":jw(e,r,s);break;case"data":if(t!=="object"){Cc(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Wc(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(t!=="input"&&Nt(e,t,"name",i.name,i,null),Nt(e,t,"formEncType",i.formEncType,i,null),Nt(e,t,"formMethod",i.formMethod,i,null),Nt(e,t,"formTarget",i.formTarget,i,null)):(Nt(e,t,"encType",i.encType,i,null),Nt(e,t,"method",i.method,i,null),Nt(e,t,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=Wc(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=qf);break;case"onScroll":r!=null&&ht("scroll",e);break;case"onScrollEnd":r!=null&&ht("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(B(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(B(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=Wc(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":ht("beforetoggle",e),ht("toggle",e),Xc(e,"popover",r);break;case"xlinkActuate":Or(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Or(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Or(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Or(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Or(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Or(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Or(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Or(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Or(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Xc(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=cI.get(n)||n,Xc(e,n,r))}}function vp(e,t,n,r,i,s){switch(n){case"style":jw(e,r,s);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(B(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(B(60));e.innerHTML=n}}break;case"children":typeof r=="string"?yo(e,r):(typeof r=="number"||typeof r=="bigint")&&yo(e,""+r);break;case"onScroll":r!=null&&ht("scroll",e);break;case"onScrollEnd":r!=null&&ht("scrollend",e);break;case"onClick":r!=null&&(e.onclick=qf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mw.hasOwnProperty(n))t:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),s=e[Xe]||null,s=s!=null?s[n]:null,typeof s=="function"&&e.removeEventListener(t,s,i),typeof r=="function")){typeof s!="function"&&s!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i);break t}n in e?e[n]=r:r===!0?e.setAttribute(n,""):Xc(e,n,r)}}}function Se(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ht("error",e),ht("load",e);var r=!1,i=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(B(137,t));default:Nt(e,t,s,a,n,null)}}i&&Nt(e,t,"srcSet",n.srcSet,n,null),r&&Nt(e,t,"src",n.src,n,null);return;case"input":ht("invalid",e);var o=s=a=i=null,u=null,c=null;for(r in n)if(n.hasOwnProperty(r)){var h=n[r];if(h!=null)switch(r){case"name":i=h;break;case"type":a=h;break;case"checked":u=h;break;case"defaultChecked":c=h;break;case"value":s=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(B(137,t));break;default:Nt(e,t,r,h,n,null)}}kw(e,s,o,u,c,a,i,!1),Rh(e);return;case"select":ht("invalid",e),r=a=s=null;for(i in n)if(n.hasOwnProperty(i)&&(o=n[i],o!=null))switch(i){case"value":s=o;break;case"defaultValue":a=o;break;case"multiple":r=o;default:Nt(e,t,i,o,n,null)}t=s,n=a,e.multiple=!!r,t!=null?Fa(e,!!r,t,!1):n!=null&&Fa(e,!!r,n,!0);return;case"textarea":ht("invalid",e),s=i=r=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":r=o;break;case"defaultValue":i=o;break;case"children":s=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(B(91));break;default:Nt(e,t,a,o,n,null)}Uw(e,r,i,s),Rh(e);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Nt(e,t,u,r,n,null)}return;case"dialog":ht("beforetoggle",e),ht("toggle",e),ht("cancel",e),ht("close",e);break;case"iframe":case"object":ht("load",e);break;case"video":case"audio":for(r=0;r<ou.length;r++)ht(ou[r],e);break;case"image":ht("error",e),ht("load",e);break;case"details":ht("toggle",e);break;case"embed":case"source":case"link":ht("error",e),ht("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(r=n[c],r!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(B(137,t));default:Nt(e,t,c,r,n,null)}return;default:if(Sg(t)){for(h in n)n.hasOwnProperty(h)&&(r=n[h],r!==void 0&&vp(e,t,h,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(r=n[o],r!=null&&Nt(e,t,o,r,n,null))}function V2(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,a=null,o=null,u=null,c=null,h=null;for(d in n){var m=n[d];if(n.hasOwnProperty(d)&&m!=null)switch(d){case"checked":break;case"value":break;case"defaultValue":u=m;default:r.hasOwnProperty(d)||Nt(e,t,d,null,r,m)}}for(var p in r){var d=r[p];if(m=n[p],r.hasOwnProperty(p)&&(d!=null||m!=null))switch(p){case"type":s=d;break;case"name":i=d;break;case"checked":c=d;break;case"defaultChecked":h=d;break;case"value":a=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(B(137,t));break;default:d!==m&&Nt(e,t,p,d,r,m)}}qm(e,a,o,u,c,h,s,i);return;case"select":d=a=o=p=null;for(s in n)if(u=n[s],n.hasOwnProperty(s)&&u!=null)switch(s){case"value":break;case"multiple":d=u;default:r.hasOwnProperty(s)||Nt(e,t,s,null,r,u)}for(i in r)if(s=r[i],u=n[i],r.hasOwnProperty(i)&&(s!=null||u!=null))switch(i){case"value":p=s;break;case"defaultValue":o=s;break;case"multiple":a=s;default:s!==u&&Nt(e,t,i,s,r,u)}t=o,n=a,r=d,p!=null?Fa(e,!!n,p,!1):!!r!=!!n&&(t!=null?Fa(e,!!n,t,!0):Fa(e,!!n,n?[]:"",!1));return;case"textarea":d=p=null;for(o in n)if(i=n[o],n.hasOwnProperty(o)&&i!=null&&!r.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Nt(e,t,o,null,r,i)}for(a in r)if(i=r[a],s=n[a],r.hasOwnProperty(a)&&(i!=null||s!=null))switch(a){case"value":p=i;break;case"defaultValue":d=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(B(91));break;default:i!==s&&Nt(e,t,a,i,r,s)}Lw(e,p,d);return;case"option":for(var S in n)if(p=n[S],n.hasOwnProperty(S)&&p!=null&&!r.hasOwnProperty(S))switch(S){case"selected":e.selected=!1;break;default:Nt(e,t,S,null,r,p)}for(u in r)if(p=r[u],d=n[u],r.hasOwnProperty(u)&&p!==d&&(p!=null||d!=null))switch(u){case"selected":e.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Nt(e,t,u,p,r,d)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var E in n)p=n[E],n.hasOwnProperty(E)&&p!=null&&!r.hasOwnProperty(E)&&Nt(e,t,E,null,r,p);for(c in r)if(p=r[c],d=n[c],r.hasOwnProperty(c)&&p!==d&&(p!=null||d!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(B(137,t));break;default:Nt(e,t,c,p,r,d)}return;default:if(Sg(t)){for(var A in n)p=n[A],n.hasOwnProperty(A)&&p!==void 0&&!r.hasOwnProperty(A)&&vp(e,t,A,void 0,r,p);for(h in r)p=r[h],d=n[h],!r.hasOwnProperty(h)||p===d||p===void 0&&d===void 0||vp(e,t,h,p,r,d);return}}for(var y in n)p=n[y],n.hasOwnProperty(y)&&p!=null&&!r.hasOwnProperty(y)&&Nt(e,t,y,null,r,p);for(m in r)p=r[m],d=n[m],!r.hasOwnProperty(m)||p===d||p==null&&d==null||Nt(e,t,m,p,r,d)}var _p=null,bp=null;function Qh(e){return e.nodeType===9?e:e.ownerDocument}function v0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function z1(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Ep(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pm=null;function k2(){var e=window.event;return e&&e.type==="popstate"?e===pm?!1:(pm=e,!0):(pm=null,!1)}var B1=typeof setTimeout=="function"?setTimeout:void 0,L2=typeof clearTimeout=="function"?clearTimeout:void 0,_0=typeof Promise=="function"?Promise:void 0,U2=typeof queueMicrotask=="function"?queueMicrotask:typeof _0<"u"?function(e){return _0.resolve(null).then(e).catch(j2)}:B1;function j2(e){setTimeout(function(){throw e})}function gs(e){return e==="head"}function b0(e,t){var n=t,r=0,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(0<r&&8>r){n=r;var a=e.ownerDocument;if(n&1&&$l(a.documentElement),n&2&&$l(a.body),n&4)for(n=a.head,$l(n),a=n.firstChild;a;){var o=a.nextSibling,u=a.nodeName;a[Vu]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=o}}if(i===0){e.removeChild(s),du(t);return}i--}else n==="$"||n==="$?"||n==="$!"?i++:r=n.charCodeAt(0)-48;else r=0;n=s}while(n);du(t)}function wp(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":wp(n),Ag(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function z2(e,t,n,r){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Vu])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=zn(e.nextSibling),e===null)break}return null}function B2(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=zn(e.nextSibling),e===null))return null;return e}function Tp(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function q2(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function zn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Ap=null;function E0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function q1(e,t,n){switch(t=Qh(n),e){case"html":if(e=t.documentElement,!e)throw Error(B(452));return e;case"head":if(e=t.head,!e)throw Error(B(453));return e;case"body":if(e=t.body,!e)throw Error(B(454));return e;default:throw Error(B(451))}}function $l(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ag(e)}var Nn=new Map,w0=new Set;function $h(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ai=At.d;At.d={f:H2,r:F2,D:G2,C:Q2,L:$2,m:Y2,X:X2,S:K2,M:W2};function H2(){var e=ai.f(),t=jf();return e||t}function F2(e){var t=Uo(e);t!==null&&t.tag===5&&t.type==="form"?VT(t):ai.r(e)}var Bo=typeof document>"u"?null:document;function H1(e,t,n){var r=Bo;if(r&&typeof t=="string"&&t){var i=Tn(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),w0.has(i)||(w0.add(i),e={rel:e,crossOrigin:n,href:t},r.querySelector(i)===null&&(t=r.createElement("link"),Se(t,"link",e),pe(t),r.head.appendChild(t)))}}function G2(e){ai.D(e),H1("dns-prefetch",e,null)}function Q2(e,t){ai.C(e,t),H1("preconnect",e,t)}function $2(e,t,n){ai.L(e,t,n);var r=Bo;if(r&&e&&t){var i='link[rel="preload"][as="'+Tn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Tn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Tn(n.imageSizes)+'"]')):i+='[href="'+Tn(e)+'"]';var s=i;switch(t){case"style":s=So(e);break;case"script":s=qo(e)}Nn.has(s)||(e=qt({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Nn.set(s,e),r.querySelector(i)!==null||t==="style"&&r.querySelector(Gu(s))||t==="script"&&r.querySelector(Qu(s))||(t=r.createElement("link"),Se(t,"link",e),pe(t),r.head.appendChild(t)))}}function Y2(e,t){ai.m(e,t);var n=Bo;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+Tn(r)+'"][href="'+Tn(e)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=qo(e)}if(!Nn.has(s)&&(e=qt({rel:"modulepreload",href:e},t),Nn.set(s,e),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Qu(s)))return}r=n.createElement("link"),Se(r,"link",e),pe(r),n.head.appendChild(r)}}}function K2(e,t,n){ai.S(e,t,n);var r=Bo;if(r&&e){var i=Ha(r).hoistableStyles,s=So(e);t=t||"default";var a=i.get(s);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(Gu(s)))o.loading=5;else{e=qt({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Nn.get(s))&&oy(e,n);var u=a=r.createElement("link");pe(u),Se(u,"link",e),u._p=new Promise(function(c,h){u.onload=c,u.onerror=h}),u.addEventListener("load",function(){o.loading|=1}),u.addEventListener("error",function(){o.loading|=2}),o.loading|=4,ah(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:o},i.set(s,a)}}}function X2(e,t){ai.X(e,t);var n=Bo;if(n&&e){var r=Ha(n).hoistableScripts,i=qo(e),s=r.get(i);s||(s=n.querySelector(Qu(i)),s||(e=qt({src:e,async:!0},t),(t=Nn.get(i))&&ly(e,t),s=n.createElement("script"),pe(s),Se(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}function W2(e,t){ai.M(e,t);var n=Bo;if(n&&e){var r=Ha(n).hoistableScripts,i=qo(e),s=r.get(i);s||(s=n.querySelector(Qu(i)),s||(e=qt({src:e,async:!0,type:"module"},t),(t=Nn.get(i))&&ly(e,t),s=n.createElement("script"),pe(s),Se(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}function T0(e,t,n,r){var i=(i=Gi.current)?$h(i):null;if(!i)throw Error(B(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=So(n.href),n=Ha(i).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=So(n.href);var s=Ha(i).hoistableStyles,a=s.get(e);if(a||(i=i.ownerDocument||i,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,a),(s=i.querySelector(Gu(e)))&&!s._p&&(a.instance=s,a.state.loading=5),Nn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Nn.set(e,n),s||Z2(i,e,n,a.state))),t&&r===null)throw Error(B(528,""));return a}if(t&&r!==null)throw Error(B(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=qo(n),n=Ha(i).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(B(444,e))}}function So(e){return'href="'+Tn(e)+'"'}function Gu(e){return'link[rel="stylesheet"]['+e+"]"}function F1(e){return qt({},e,{"data-precedence":e.precedence,precedence:null})}function Z2(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),Se(t,"link",n),pe(t),e.head.appendChild(t))}function qo(e){return'[src="'+Tn(e)+'"]'}function Qu(e){return"script[async]"+e}function A0(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+Tn(n.href)+'"]');if(r)return t.instance=r,pe(r),r;var i=qt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),pe(r),Se(r,"style",i),ah(r,n.precedence,e),t.instance=r;case"stylesheet":i=So(n.href);var s=e.querySelector(Gu(i));if(s)return t.state.loading|=4,t.instance=s,pe(s),s;r=F1(n),(i=Nn.get(i))&&oy(r,i),s=(e.ownerDocument||e).createElement("link"),pe(s);var a=s;return a._p=new Promise(function(o,u){a.onload=o,a.onerror=u}),Se(s,"link",r),t.state.loading|=4,ah(s,n.precedence,e),t.instance=s;case"script":return s=qo(n.src),(i=e.querySelector(Qu(s)))?(t.instance=i,pe(i),i):(r=n,(i=Nn.get(s))&&(r=qt({},n),ly(r,i)),e=e.ownerDocument||e,i=e.createElement("script"),pe(i),Se(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(B(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,ah(r,n.precedence,e));return t.instance}function ah(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===t)s=o;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function oy(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ly(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var oh=null;function S0(e,t,n){if(oh===null){var r=new Map,i=oh=new Map;i.set(n,r)}else i=oh,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[Vu]||s[Pe]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(t)||"";a=e+a;var o=r.get(a);o?o.push(s):r.set(a,[s])}}return r}function R0(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function J2(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function G1(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var uu=null;function tN(){}function eN(e,t,n){if(uu===null)throw Error(B(475));var r=uu;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var i=So(n.href),s=e.querySelector(Gu(i));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(r.count++,r=Yh.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=s,pe(s);return}s=e.ownerDocument||e,n=F1(n),(i=Nn.get(i))&&oy(n,i),s=s.createElement("link"),pe(s);var a=s;a._p=new Promise(function(o,u){a.onload=o,a.onerror=u}),Se(s,"link",n),t.instance=s}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(r.count++,t=Yh.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}function nN(){if(uu===null)throw Error(B(475));var e=uu;return e.stylesheets&&e.count===0&&Sp(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Sp(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Yh(){if(this.count--,this.count===0){if(this.stylesheets)Sp(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Kh=null;function Sp(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Kh=new Map,t.forEach(rN,e),Kh=null,Yh.call(e))}function rN(e,t){if(!(t.state.loading&4)){var n=Kh.get(e);if(n)var r=n.get(null);else{n=new Map,Kh.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var a=i[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}i=t.instance,a=i.getAttribute("data-precedence"),s=n.get(a)||r,s===r&&n.set(null,i),n.set(a,i),this.count++,r=Yh.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var cu={$$typeof:Ur,Provider:null,Consumer:null,_currentValue:Us,_currentValue2:Us,_threadCount:0};function iN(e,t,n,r,i,s,a,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ld(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ld(0),this.hiddenUpdates=Ld(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Q1(e,t,n,r,i,s,a,o,u,c,h,m){return e=new iN(e,t,n,a,o,u,c,m),t=1,s===!0&&(t|=24),s=ln(3,null,null,t),e.current=s,s.stateNode=e,t=kg(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},Ug(s),e}function $1(e){return e?(e=Ua,e):Ua}function Y1(e,t,n,r,i,s){i=$1(i),r.context===null?r.context=i:r.pendingContext=i,r=Qi(t),r.payload={element:n},s=s===void 0?null:s,s!==null&&(r.callback=s),n=$i(e,r,t),n!==null&&(fn(n,e,t),jl(n,e,t))}function x0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function uy(e,t){x0(e,t),(e=e.alternate)&&x0(e,t)}function K1(e){if(e.tag===13){var t=jo(e,67108864);t!==null&&fn(t,e,67108864),uy(e,67108864)}}var Xh=!0;function sN(e,t,n,r){var i=tt.T;tt.T=null;var s=At.p;try{At.p=2,cy(e,t,n,r)}finally{At.p=s,tt.T=i}}function aN(e,t,n,r){var i=tt.T;tt.T=null;var s=At.p;try{At.p=8,cy(e,t,n,r)}finally{At.p=s,tt.T=i}}function cy(e,t,n,r){if(Xh){var i=Rp(r);if(i===null)mm(e,t,r,Wh,n),C0(e,r);else if(lN(i,e,t,n,r))r.stopPropagation();else if(C0(e,r),t&4&&-1<oN.indexOf(e)){for(;i!==null;){var s=Uo(i);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=xs(s.pendingLanes);if(a!==0){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var u=1<<31-cn(a);o.entanglements[1]|=u,a&=~u}Tr(s),!(It&6)&&(Bh=cr()+500,Fu(0))}}break;case 13:o=jo(s,2),o!==null&&fn(o,s,2),jf(),uy(s,2)}if(s=Rp(r),s===null&&mm(e,t,r,Wh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else mm(e,t,r,null,n)}}function Rp(e){return e=Rg(e),hy(e)}var Wh=null;function hy(e){if(Wh=null,e=Da(e),e!==null){var t=Ou(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=bw(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Wh=e,null}function X1(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(QC()){case Aw:return 2;case Sw:return 8;case Sh:case $C:return 32;case Rw:return 268435456;default:return 32}default:return 32}}var xp=!1,Xi=null,Wi=null,Zi=null,hu=new Map,fu=new Map,Ii=[],oN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C0(e,t){switch(e){case"focusin":case"focusout":Xi=null;break;case"dragenter":case"dragleave":Wi=null;break;case"mouseover":case"mouseout":Zi=null;break;case"pointerover":case"pointerout":hu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":fu.delete(t.pointerId)}}function bl(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Uo(t),t!==null&&K1(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function lN(e,t,n,r,i){switch(t){case"focusin":return Xi=bl(Xi,e,t,n,r,i),!0;case"dragenter":return Wi=bl(Wi,e,t,n,r,i),!0;case"mouseover":return Zi=bl(Zi,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return hu.set(s,bl(hu.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,fu.set(s,bl(fu.get(s)||null,e,t,n,r,i)),!0}return!1}function W1(e){var t=Da(e.target);if(t!==null){var n=Ou(t);if(n!==null){if(t=n.tag,t===13){if(t=bw(n),t!==null){e.blockedOn=t,eI(e.priority,function(){if(n.tag===13){var r=hn();r=wg(r);var i=jo(n,r);i!==null&&fn(i,n,r),uy(n,r)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function lh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Rp(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Fm=r,n.target.dispatchEvent(r),Fm=null}else return t=Uo(n),t!==null&&K1(t),e.blockedOn=n,!1;t.shift()}return!0}function I0(e,t,n){lh(e)&&n.delete(t)}function uN(){xp=!1,Xi!==null&&lh(Xi)&&(Xi=null),Wi!==null&&lh(Wi)&&(Wi=null),Zi!==null&&lh(Zi)&&(Zi=null),hu.forEach(I0),fu.forEach(I0)}function kc(e,t){e.blockedOn===t&&(e.blockedOn=null,xp||(xp=!0,fe.unstable_scheduleCallback(fe.unstable_NormalPriority,uN)))}var Lc=null;function N0(e){Lc!==e&&(Lc=e,fe.unstable_scheduleCallback(fe.unstable_NormalPriority,function(){Lc===e&&(Lc=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if(typeof r!="function"){if(hy(r||n)===null)continue;break}var s=Uo(n);s!==null&&(e.splice(t,3),t-=3,ap(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function du(e){function t(u){return kc(u,e)}Xi!==null&&kc(Xi,e),Wi!==null&&kc(Wi,e),Zi!==null&&kc(Zi,e),hu.forEach(t),fu.forEach(t);for(var n=0;n<Ii.length;n++){var r=Ii[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Ii.length&&(n=Ii[0],n.blockedOn===null);)W1(n),n.blockedOn===null&&Ii.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],a=i[Xe]||null;if(typeof s=="function")a||N0(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(i=s,a=s[Xe]||null)o=a.formAction;else if(hy(i)!==null)continue}else o=a.action;typeof o=="function"?n[r+1]=o:(n.splice(r,3),r-=3),N0(n)}}}function fy(e){this._internalRoot=e}Hf.prototype.render=fy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));var n=t.current,r=hn();Y1(n,r,e,t,null,null)};Hf.prototype.unmount=fy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Y1(e.current,2,null,e,null,null),jf(),t[Lo]=null}};function Hf(e){this._internalRoot=e}Hf.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ow();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ii.length&&t!==0&&t<Ii[n].priority;n++);Ii.splice(n,0,e),n===0&&W1(e)}};var O0=vw.version;if(O0!=="19.1.1")throw Error(B(527,O0,"19.1.1"));At.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=jC(t),e=e!==null?Ew(e):null,e=e===null?null:e.stateNode,e};var cN={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:tt,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uc.isDisabled&&Uc.supportsFiber)try{Du=Uc.inject(cN),un=Uc}catch{}}Rf.createRoot=function(e,t){if(!_w(e))throw Error(B(299));var n=!1,r="",i=QT,s=$T,a=YT,o=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(o=t.unstable_transitionCallbacks)),t=Q1(e,1,!1,null,null,n,r,i,s,a,o,null),e[Lo]=t.current,ay(e),new fy(t)};Rf.hydrateRoot=function(e,t,n){if(!_w(e))throw Error(B(299));var r=!1,i="",s=QT,a=$T,o=YT,u=null,c=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(u=n.unstable_transitionCallbacks),n.formState!==void 0&&(c=n.formState)),t=Q1(e,1,!0,t,n??null,r,i,s,a,o,u,c),t.context=$1(null),n=t.current,r=hn(),r=wg(r),i=Qi(r),i.callback=null,$i(n,i,r),n=r,t.current.lanes=n,Pu(t,n),Tr(t),e[Lo]=t.current,ay(e),new Hf(t)};Rf.version="19.1.1";function Z1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Z1)}catch(e){console.error(e)}}Z1(),iw.exports=Rf;var hN=iw.exports,fN=(e,t,n,r,i,s,a,o)=>{let u=document.documentElement,c=["light","dark"];function h(d){(Array.isArray(e)?e:[e]).forEach(S=>{let E=S==="class",A=E&&s?i.map(y=>s[y]||y):i;E?(u.classList.remove(...A),u.classList.add(s&&s[d]?s[d]:d)):u.setAttribute(S,d)}),m(d)}function m(d){o&&c.includes(d)&&(u.style.colorScheme=d)}function p(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)h(r);else try{let d=localStorage.getItem(t)||n,S=a&&d==="system"?p():d;h(S)}catch{}},dN=D.createContext(void 0),mN={setTheme:e=>{},themes:[]},pN=()=>{var e;return(e=D.useContext(dN))!=null?e:mN};D.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:a,themes:o,nonce:u,scriptProps:c})=>{let h=JSON.stringify([n,t,s,e,o,a,r,i]).slice(1,-1);return D.createElement("script",{...c,suppressHydrationWarning:!0,nonce:typeof window>"u"?u:"",dangerouslySetInnerHTML:{__html:`(${fN.toString()})(${h})`}})});var gN=e=>{switch(e){case"success":return _N;case"info":return EN;case"warning":return bN;case"error":return wN;default:return null}},yN=Array(12).fill(0),vN=({visible:e,className:t})=>Q.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Q.createElement("div",{className:"sonner-spinner"},yN.map((n,r)=>Q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),_N=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),bN=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),EN=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),wN=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),TN=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),AN=()=>{let[e,t]=Q.useState(document.hidden);return Q.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Cp=1,SN=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;let{message:r,...i}=t,s=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:Cp++,a=this.toasts.find(u=>u.id===s),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(u=>u.id===s?(this.publish({...u,...t,id:s,title:r}),{...u,...t,id:s,dismissible:o,title:r}):u):this.addToast({title:r,...i,dismissible:o,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:t,dismiss:!0})),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let i=t instanceof Promise?t:t(),s=r!==void 0,a,o=i.then(async c=>{if(a=["resolve",c],Q.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(xN(c)&&!c.ok){s=!1;let h=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,m=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description;this.create({id:r,type:"error",message:h,description:m})}else if(n.success!==void 0){s=!1;let h=typeof n.success=="function"?await n.success(c):n.success,m=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"success",message:h,description:m})}}).catch(async c=>{if(a=["reject",c],n.error!==void 0){s=!1;let h=typeof n.error=="function"?await n.error(c):n.error,m=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"error",message:h,description:m})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=n.finally)==null||c.call(n)}),u=()=>new Promise((c,h)=>o.then(()=>a[0]==="reject"?h(a[1]):c(a[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:u}:Object.assign(r,{unwrap:u})},this.custom=(t,n)=>{let r=(n==null?void 0:n.id)||Cp++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ye=new SN,RN=(e,t)=>{let n=(t==null?void 0:t.id)||Cp++;return Ye.addToast({title:e,...t,id:n}),n},xN=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",CN=RN,IN=()=>Ye.toasts,NN=()=>Ye.getActiveToasts(),El=Object.assign(CN,{success:Ye.success,info:Ye.info,warning:Ye.warning,error:Ye.error,custom:Ye.custom,message:Ye.message,promise:Ye.promise,dismiss:Ye.dismiss,loading:Ye.loading},{getHistory:IN,getToasts:NN});function ON(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}ON(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function jc(e){return e.label!==void 0}var DN=3,MN="32px",PN="16px",D0=4e3,VN=356,kN=14,LN=20,UN=200;function Mn(...e){return e.filter(Boolean).join(" ")}function jN(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var zN=e=>{var t,n,r,i,s,a,o,u,c,h,m;let{invert:p,toast:d,unstyled:S,interacting:E,setHeights:A,visibleToasts:y,heights:v,index:w,toasts:I,expanded:V,removeToast:L,defaultRichColors:T,closeButton:_,style:x,cancelButtonStyle:R,actionButtonStyle:N,className:O="",descriptionClassName:C="",duration:rt,position:wt,gap:q,loadingIcon:$,expandByDefault:H,classNames:F,icons:W,closeButtonAriaLabel:Ut="Close toast",pauseWhenPageIsHidden:at}=e,[J,gt]=Q.useState(null),[Dt,Qn]=Q.useState(null),[St,ui]=Q.useState(!1),[$n,pn]=Q.useState(!1),[en,Yn]=Q.useState(!1),[gn,ci]=Q.useState(!1),[ys,vs]=Q.useState(!1),[tl,_s]=Q.useState(0),[Rr,fa]=Q.useState(0),hi=Q.useRef(d.duration||rt||D0),ac=Q.useRef(null),On=Q.useRef(null),el=w===0,oc=w+1<=y,xt=d.type,Kt=d.dismissible!==!1,da=d.className||"",lc=d.descriptionClassName||"",bs=Q.useMemo(()=>v.findIndex(nt=>nt.toastId===d.id)||0,[v,d.id]),bd=Q.useMemo(()=>{var nt;return(nt=d.closeButton)!=null?nt:_},[d.closeButton,_]),fi=Q.useMemo(()=>d.duration||rt||D0,[d.duration,rt]),ma=Q.useRef(0),xr=Q.useRef(0),pa=Q.useRef(0),di=Q.useRef(null),[Ed,nl]=wt.split("-"),rl=Q.useMemo(()=>v.reduce((nt,_t,Mt)=>Mt>=bs?nt:nt+_t.height,0),[v,bs]),il=AN(),Es=d.invert||p,ws=xt==="loading";xr.current=Q.useMemo(()=>bs*q+rl,[bs,rl]),Q.useEffect(()=>{hi.current=fi},[fi]),Q.useEffect(()=>{ui(!0)},[]),Q.useEffect(()=>{let nt=On.current;if(nt){let _t=nt.getBoundingClientRect().height;return fa(_t),A(Mt=>[{toastId:d.id,height:_t,position:d.position},...Mt]),()=>A(Mt=>Mt.filter(ve=>ve.toastId!==d.id))}},[A,d.id]),Q.useLayoutEffect(()=>{if(!St)return;let nt=On.current,_t=nt.style.height;nt.style.height="auto";let Mt=nt.getBoundingClientRect().height;nt.style.height=_t,fa(Mt),A(ve=>ve.find(He=>He.toastId===d.id)?ve.map(He=>He.toastId===d.id?{...He,height:Mt}:He):[{toastId:d.id,height:Mt,position:d.position},...ve])},[St,d.title,d.description,A,d.id]);let yn=Q.useCallback(()=>{pn(!0),_s(xr.current),A(nt=>nt.filter(_t=>_t.toastId!==d.id)),setTimeout(()=>{L(d)},UN)},[d,L,A,xr]);Q.useEffect(()=>{if(d.promise&&xt==="loading"||d.duration===1/0||d.type==="loading")return;let nt;return V||E||at&&il?(()=>{if(pa.current<ma.current){let _t=new Date().getTime()-ma.current;hi.current=hi.current-_t}pa.current=new Date().getTime()})():hi.current!==1/0&&(ma.current=new Date().getTime(),nt=setTimeout(()=>{var _t;(_t=d.onAutoClose)==null||_t.call(d,d),yn()},hi.current)),()=>clearTimeout(nt)},[V,E,d,xt,at,il,yn]),Q.useEffect(()=>{d.delete&&yn()},[yn,d.delete]);function Cr(){var nt,_t,Mt;return W!=null&&W.loading?Q.createElement("div",{className:Mn(F==null?void 0:F.loader,(nt=d==null?void 0:d.classNames)==null?void 0:nt.loader,"sonner-loader"),"data-visible":xt==="loading"},W.loading):$?Q.createElement("div",{className:Mn(F==null?void 0:F.loader,(_t=d==null?void 0:d.classNames)==null?void 0:_t.loader,"sonner-loader"),"data-visible":xt==="loading"},$):Q.createElement(vN,{className:Mn(F==null?void 0:F.loader,(Mt=d==null?void 0:d.classNames)==null?void 0:Mt.loader),visible:xt==="loading"})}return Q.createElement("li",{tabIndex:0,ref:On,className:Mn(O,da,F==null?void 0:F.toast,(t=d==null?void 0:d.classNames)==null?void 0:t.toast,F==null?void 0:F.default,F==null?void 0:F[xt],(n=d==null?void 0:d.classNames)==null?void 0:n[xt]),"data-sonner-toast":"","data-rich-colors":(r=d.richColors)!=null?r:T,"data-styled":!(d.jsx||d.unstyled||S),"data-mounted":St,"data-promise":!!d.promise,"data-swiped":ys,"data-removed":$n,"data-visible":oc,"data-y-position":Ed,"data-x-position":nl,"data-index":w,"data-front":el,"data-swiping":en,"data-dismissible":Kt,"data-type":xt,"data-invert":Es,"data-swipe-out":gn,"data-swipe-direction":Dt,"data-expanded":!!(V||H&&St),style:{"--index":w,"--toasts-before":w,"--z-index":I.length-w,"--offset":`${$n?tl:xr.current}px`,"--initial-height":H?"auto":`${Rr}px`,...x,...d.style},onDragEnd:()=>{Yn(!1),gt(null),di.current=null},onPointerDown:nt=>{ws||!Kt||(ac.current=new Date,_s(xr.current),nt.target.setPointerCapture(nt.pointerId),nt.target.tagName!=="BUTTON"&&(Yn(!0),di.current={x:nt.clientX,y:nt.clientY}))},onPointerUp:()=>{var nt,_t,Mt,ve;if(gn||!Kt)return;di.current=null;let He=Number(((nt=On.current)==null?void 0:nt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ht=Number(((_t=On.current)==null?void 0:_t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Kn=new Date().getTime()-((Mt=ac.current)==null?void 0:Mt.getTime()),_e=J==="x"?He:Ht,Fe=Math.abs(_e)/Kn;if(Math.abs(_e)>=LN||Fe>.11){_s(xr.current),(ve=d.onDismiss)==null||ve.call(d,d),Qn(J==="x"?He>0?"right":"left":Ht>0?"down":"up"),yn(),ci(!0),vs(!1);return}Yn(!1),gt(null)},onPointerMove:nt=>{var _t,Mt,ve,He;if(!di.current||!Kt||((_t=window.getSelection())==null?void 0:_t.toString().length)>0)return;let Ht=nt.clientY-di.current.y,Kn=nt.clientX-di.current.x,_e=(Mt=e.swipeDirections)!=null?Mt:jN(wt);!J&&(Math.abs(Kn)>1||Math.abs(Ht)>1)&&gt(Math.abs(Kn)>Math.abs(Ht)?"x":"y");let Fe={x:0,y:0};J==="y"?(_e.includes("top")||_e.includes("bottom"))&&(_e.includes("top")&&Ht<0||_e.includes("bottom")&&Ht>0)&&(Fe.y=Ht):J==="x"&&(_e.includes("left")||_e.includes("right"))&&(_e.includes("left")&&Kn<0||_e.includes("right")&&Kn>0)&&(Fe.x=Kn),(Math.abs(Fe.x)>0||Math.abs(Fe.y)>0)&&vs(!0),(ve=On.current)==null||ve.style.setProperty("--swipe-amount-x",`${Fe.x}px`),(He=On.current)==null||He.style.setProperty("--swipe-amount-y",`${Fe.y}px`)}},bd&&!d.jsx?Q.createElement("button",{"aria-label":Ut,"data-disabled":ws,"data-close-button":!0,onClick:ws||!Kt?()=>{}:()=>{var nt;yn(),(nt=d.onDismiss)==null||nt.call(d,d)},className:Mn(F==null?void 0:F.closeButton,(i=d==null?void 0:d.classNames)==null?void 0:i.closeButton)},(s=W==null?void 0:W.close)!=null?s:TN):null,d.jsx||D.isValidElement(d.title)?d.jsx?d.jsx:typeof d.title=="function"?d.title():d.title:Q.createElement(Q.Fragment,null,xt||d.icon||d.promise?Q.createElement("div",{"data-icon":"",className:Mn(F==null?void 0:F.icon,(a=d==null?void 0:d.classNames)==null?void 0:a.icon)},d.promise||d.type==="loading"&&!d.icon?d.icon||Cr():null,d.type!=="loading"?d.icon||(W==null?void 0:W[xt])||gN(xt):null):null,Q.createElement("div",{"data-content":"",className:Mn(F==null?void 0:F.content,(o=d==null?void 0:d.classNames)==null?void 0:o.content)},Q.createElement("div",{"data-title":"",className:Mn(F==null?void 0:F.title,(u=d==null?void 0:d.classNames)==null?void 0:u.title)},typeof d.title=="function"?d.title():d.title),d.description?Q.createElement("div",{"data-description":"",className:Mn(C,lc,F==null?void 0:F.description,(c=d==null?void 0:d.classNames)==null?void 0:c.description)},typeof d.description=="function"?d.description():d.description):null),D.isValidElement(d.cancel)?d.cancel:d.cancel&&jc(d.cancel)?Q.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||R,onClick:nt=>{var _t,Mt;jc(d.cancel)&&Kt&&((Mt=(_t=d.cancel).onClick)==null||Mt.call(_t,nt),yn())},className:Mn(F==null?void 0:F.cancelButton,(h=d==null?void 0:d.classNames)==null?void 0:h.cancelButton)},d.cancel.label):null,D.isValidElement(d.action)?d.action:d.action&&jc(d.action)?Q.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||N,onClick:nt=>{var _t,Mt;jc(d.action)&&((Mt=(_t=d.action).onClick)==null||Mt.call(_t,nt),!nt.defaultPrevented&&yn())},className:Mn(F==null?void 0:F.actionButton,(m=d==null?void 0:d.classNames)==null?void 0:m.actionButton)},d.action.label):null))};function M0(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function BN(e,t){let n={};return[e,t].forEach((r,i)=>{let s=i===1,a=s?"--mobile-offset":"--offset",o=s?PN:MN;function u(c){["top","right","bottom","left"].forEach(h=>{n[`${a}-${h}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?u(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${a}-${c}`]=o:n[`${a}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):u(o)}),n}var qN=D.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:a,className:o,offset:u,mobileOffset:c,theme:h="light",richColors:m,duration:p,style:d,visibleToasts:S=DN,toastOptions:E,dir:A=M0(),gap:y=kN,loadingIcon:v,icons:w,containerAriaLabel:I="Notifications",pauseWhenPageIsHidden:V}=e,[L,T]=Q.useState([]),_=Q.useMemo(()=>Array.from(new Set([r].concat(L.filter(at=>at.position).map(at=>at.position)))),[L,r]),[x,R]=Q.useState([]),[N,O]=Q.useState(!1),[C,rt]=Q.useState(!1),[wt,q]=Q.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=Q.useRef(null),H=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=Q.useRef(null),W=Q.useRef(!1),Ut=Q.useCallback(at=>{T(J=>{var gt;return(gt=J.find(Dt=>Dt.id===at.id))!=null&&gt.delete||Ye.dismiss(at.id),J.filter(({id:Dt})=>Dt!==at.id)})},[]);return Q.useEffect(()=>Ye.subscribe(at=>{if(at.dismiss){T(J=>J.map(gt=>gt.id===at.id?{...gt,delete:!0}:gt));return}setTimeout(()=>{LC.flushSync(()=>{T(J=>{let gt=J.findIndex(Dt=>Dt.id===at.id);return gt!==-1?[...J.slice(0,gt),{...J[gt],...at},...J.slice(gt+1)]:[at,...J]})})})}),[]),Q.useEffect(()=>{if(h!=="system"){q(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window>"u")return;let at=window.matchMedia("(prefers-color-scheme: dark)");try{at.addEventListener("change",({matches:J})=>{q(J?"dark":"light")})}catch{at.addListener(({matches:gt})=>{try{q(gt?"dark":"light")}catch(Dt){console.error(Dt)}})}},[h]),Q.useEffect(()=>{L.length<=1&&O(!1)},[L]),Q.useEffect(()=>{let at=J=>{var gt,Dt;i.every(Qn=>J[Qn]||J.code===Qn)&&(O(!0),(gt=$.current)==null||gt.focus()),J.code==="Escape"&&(document.activeElement===$.current||(Dt=$.current)!=null&&Dt.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",at),()=>document.removeEventListener("keydown",at)},[i]),Q.useEffect(()=>{if($.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,W.current=!1)}},[$.current]),Q.createElement("section",{ref:t,"aria-label":`${I} ${H}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},_.map((at,J)=>{var gt;let[Dt,Qn]=at.split("-");return L.length?Q.createElement("ol",{key:at,dir:A==="auto"?M0():A,tabIndex:-1,ref:$,className:o,"data-sonner-toaster":!0,"data-theme":wt,"data-y-position":Dt,"data-lifted":N&&L.length>1&&!s,"data-x-position":Qn,style:{"--front-toast-height":`${((gt=x[0])==null?void 0:gt.height)||0}px`,"--width":`${VN}px`,"--gap":`${y}px`,...d,...BN(u,c)},onBlur:St=>{W.current&&!St.currentTarget.contains(St.relatedTarget)&&(W.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:St=>{St.target instanceof HTMLElement&&St.target.dataset.dismissible==="false"||W.current||(W.current=!0,F.current=St.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{C||O(!1)},onDragEnd:()=>O(!1),onPointerDown:St=>{St.target instanceof HTMLElement&&St.target.dataset.dismissible==="false"||rt(!0)},onPointerUp:()=>rt(!1)},L.filter(St=>!St.position&&J===0||St.position===at).map((St,ui)=>{var $n,pn;return Q.createElement(zN,{key:St.id,icons:w,index:ui,toast:St,defaultRichColors:m,duration:($n=E==null?void 0:E.duration)!=null?$n:p,className:E==null?void 0:E.className,descriptionClassName:E==null?void 0:E.descriptionClassName,invert:n,visibleToasts:S,closeButton:(pn=E==null?void 0:E.closeButton)!=null?pn:a,interacting:C,position:at,style:E==null?void 0:E.style,unstyled:E==null?void 0:E.unstyled,classNames:E==null?void 0:E.classNames,cancelButtonStyle:E==null?void 0:E.cancelButtonStyle,actionButtonStyle:E==null?void 0:E.actionButtonStyle,removeToast:Ut,toasts:L.filter(en=>en.position==St.position),heights:x.filter(en=>en.position==St.position),setHeights:R,expandByDefault:s,gap:y,loadingIcon:v,expanded:N,pauseWhenPageIsHidden:V,swipeDirections:e.swipeDirections})})):null}))});const HN=({...e})=>{const{theme:t="system"}=pN();return M.jsx(qN,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};function er(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function P0(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function J1(...e){return t=>{let n=!1;const r=e.map(i=>{const s=P0(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():P0(e[i],null)}}}}function oi(...e){return D.useCallback(J1(...e),e)}function dy(e,t=[]){let n=[];function r(s,a){const o=D.createContext(a),u=n.length;n=[...n,a];const c=m=>{var y;const{scope:p,children:d,...S}=m,E=((y=p==null?void 0:p[e])==null?void 0:y[u])||o,A=D.useMemo(()=>S,Object.values(S));return M.jsx(E.Provider,{value:A,children:d})};c.displayName=s+"Provider";function h(m,p){var E;const d=((E=p==null?void 0:p[e])==null?void 0:E[u])||o,S=D.useContext(d);if(S)return S;if(a!==void 0)return a;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[c,h]}const i=()=>{const s=n.map(a=>D.createContext(a));return function(o){const u=(o==null?void 0:o[e])||s;return D.useMemo(()=>({[`__scope${e}`]:{...o,[e]:u}}),[o,u])}};return i.scopeName=e,[r,FN(i,...t)]}function FN(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:u,scopeName:c})=>{const m=u(s)[`__scope${c}`];return{...o,...m}},{});return D.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function tA(e){const t=QN(e),n=D.forwardRef((r,i)=>{const{children:s,...a}=r,o=D.Children.toArray(s),u=o.find(YN);if(u){const c=u.props.children,h=o.map(m=>m===u?D.Children.count(c)>1?D.Children.only(null):D.isValidElement(c)?c.props.children:null:m);return M.jsx(t,{...a,ref:i,children:D.isValidElement(c)?D.cloneElement(c,void 0,h):null})}return M.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}var GN=tA("Slot");function QN(e){const t=D.forwardRef((n,r)=>{const{children:i,...s}=n;if(D.isValidElement(i)){const a=XN(i),o=KN(s,i.props);return i.type!==D.Fragment&&(o.ref=r?J1(r,a):a),D.cloneElement(i,o)}return D.Children.count(i)>1?D.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var eA=Symbol("radix.slottable");function $N(e){const t=({children:n})=>M.jsx(M.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=eA,t}function YN(e){return D.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===eA}function KN(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{const u=s(...o);return i(...o),u}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function XN(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var WN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Gn=WN.reduce((e,t)=>{const n=tA(`Primitive.${t}`),r=D.forwardRef((i,s)=>{const{asChild:a,...o}=i,u=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),M.jsx(u,{...o,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function ZN(e,t){e&&Cf.flushSync(()=>e.dispatchEvent(t))}function Ff(e){const t=D.useRef(e);return D.useEffect(()=>{t.current=e}),D.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function JN(e,t=globalThis==null?void 0:globalThis.document){const n=Ff(e);D.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var tO="DismissableLayer",Ip="dismissableLayer.update",eO="dismissableLayer.pointerDownOutside",nO="dismissableLayer.focusOutside",V0,nA=D.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),rA=D.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...u}=e,c=D.useContext(nA),[h,m]=D.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,d]=D.useState({}),S=oi(t,T=>m(T)),E=Array.from(c.layers),[A]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=E.indexOf(A),v=h?E.indexOf(h):-1,w=c.layersWithOutsidePointerEventsDisabled.size>0,I=v>=y,V=sO(T=>{const _=T.target,x=[...c.branches].some(R=>R.contains(_));!I||x||(i==null||i(T),a==null||a(T),T.defaultPrevented||o==null||o())},p),L=aO(T=>{const _=T.target;[...c.branches].some(R=>R.contains(_))||(s==null||s(T),a==null||a(T),T.defaultPrevented||o==null||o())},p);return JN(T=>{v===c.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&o&&(T.preventDefault(),o()))},p),D.useEffect(()=>{if(h)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(V0=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(h)),c.layers.add(h),k0(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=V0)}},[h,p,n,c]),D.useEffect(()=>()=>{h&&(c.layers.delete(h),c.layersWithOutsidePointerEventsDisabled.delete(h),k0())},[h,c]),D.useEffect(()=>{const T=()=>d({});return document.addEventListener(Ip,T),()=>document.removeEventListener(Ip,T)},[]),M.jsx(Gn.div,{...u,ref:S,style:{pointerEvents:w?I?"auto":"none":void 0,...e.style},onFocusCapture:er(e.onFocusCapture,L.onFocusCapture),onBlurCapture:er(e.onBlurCapture,L.onBlurCapture),onPointerDownCapture:er(e.onPointerDownCapture,V.onPointerDownCapture)})});rA.displayName=tO;var rO="DismissableLayerBranch",iO=D.forwardRef((e,t)=>{const n=D.useContext(nA),r=D.useRef(null),i=oi(t,r);return D.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),M.jsx(Gn.div,{...e,ref:i})});iO.displayName=rO;function sO(e,t=globalThis==null?void 0:globalThis.document){const n=Ff(e),r=D.useRef(!1),i=D.useRef(()=>{});return D.useEffect(()=>{const s=o=>{if(o.target&&!r.current){let u=function(){iA(eO,n,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=u,t.addEventListener("click",i.current,{once:!0})):u()}else t.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function aO(e,t=globalThis==null?void 0:globalThis.document){const n=Ff(e),r=D.useRef(!1);return D.useEffect(()=>{const i=s=>{s.target&&!r.current&&iA(nO,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function k0(){const e=new CustomEvent(Ip);document.dispatchEvent(e)}function iA(e,t,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?ZN(i,s):i.dispatchEvent(s)}var Ro=globalThis!=null&&globalThis.document?D.useLayoutEffect:()=>{};const oO=["top","right","bottom","left"],os=Math.min,on=Math.max,Zh=Math.round,zc=Math.floor,fr=e=>({x:e,y:e}),lO={left:"right",right:"left",bottom:"top",top:"bottom"},uO={start:"end",end:"start"};function Np(e,t,n){return on(e,os(t,n))}function Zr(e,t){return typeof e=="function"?e(t):e}function Jr(e){return e.split("-")[0]}function Ho(e){return e.split("-")[1]}function my(e){return e==="x"?"y":"x"}function py(e){return e==="y"?"height":"width"}const cO=new Set(["top","bottom"]);function lr(e){return cO.has(Jr(e))?"y":"x"}function gy(e){return my(lr(e))}function hO(e,t,n){n===void 0&&(n=!1);const r=Ho(e),i=gy(e),s=py(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=Jh(a)),[a,Jh(a)]}function fO(e){const t=Jh(e);return[Op(e),t,Op(t)]}function Op(e){return e.replace(/start|end/g,t=>uO[t])}const L0=["left","right"],U0=["right","left"],dO=["top","bottom"],mO=["bottom","top"];function pO(e,t,n){switch(e){case"top":case"bottom":return n?t?U0:L0:t?L0:U0;case"left":case"right":return t?dO:mO;default:return[]}}function gO(e,t,n,r){const i=Ho(e);let s=pO(Jr(e),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),t&&(s=s.concat(s.map(Op)))),s}function Jh(e){return e.replace(/left|right|bottom|top/g,t=>lO[t])}function yO(e){return{top:0,right:0,bottom:0,left:0,...e}}function sA(e){return typeof e!="number"?yO(e):{top:e,right:e,bottom:e,left:e}}function tf(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function j0(e,t,n){let{reference:r,floating:i}=e;const s=lr(t),a=gy(t),o=py(a),u=Jr(t),c=s==="y",h=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,p=r[o]/2-i[o]/2;let d;switch(u){case"top":d={x:h,y:r.y-i.height};break;case"bottom":d={x:h,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:m};break;case"left":d={x:r.x-i.width,y:m};break;default:d={x:r.x,y:r.y}}switch(Ho(t)){case"start":d[a]-=p*(n&&c?-1:1);break;case"end":d[a]+=p*(n&&c?-1:1);break}return d}const vO=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,o=s.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:h,y:m}=j0(c,r,u),p=r,d={},S=0;for(let E=0;E<o.length;E++){const{name:A,fn:y}=o[E],{x:v,y:w,data:I,reset:V}=await y({x:h,y:m,initialPlacement:r,placement:p,strategy:i,middlewareData:d,rects:c,platform:a,elements:{reference:e,floating:t}});h=v??h,m=w??m,d={...d,[A]:{...d[A],...I}},V&&S<=50&&(S++,typeof V=="object"&&(V.placement&&(p=V.placement),V.rects&&(c=V.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):V.rects),{x:h,y:m}=j0(c,p,u)),E=-1)}return{x:h,y:m,placement:p,strategy:i,middlewareData:d}};async function mu(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:u}=e,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:p=!1,padding:d=0}=Zr(t,e),S=sA(d),A=o[p?m==="floating"?"reference":"floating":m],y=tf(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(A)))==null||n?A:A.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:h,strategy:u})),v=m==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),I=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},V=tf(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:v,offsetParent:w,strategy:u}):v);return{top:(y.top-V.top+S.top)/I.y,bottom:(V.bottom-y.bottom+S.bottom)/I.y,left:(y.left-V.left+S.left)/I.x,right:(V.right-y.right+S.right)/I.x}}const _O=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:a,elements:o,middlewareData:u}=t,{element:c,padding:h=0}=Zr(e,t)||{};if(c==null)return{};const m=sA(h),p={x:n,y:r},d=gy(i),S=py(d),E=await a.getDimensions(c),A=d==="y",y=A?"top":"left",v=A?"bottom":"right",w=A?"clientHeight":"clientWidth",I=s.reference[S]+s.reference[d]-p[d]-s.floating[S],V=p[d]-s.reference[d],L=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let T=L?L[w]:0;(!T||!await(a.isElement==null?void 0:a.isElement(L)))&&(T=o.floating[w]||s.floating[S]);const _=I/2-V/2,x=T/2-E[S]/2-1,R=os(m[y],x),N=os(m[v],x),O=R,C=T-E[S]-N,rt=T/2-E[S]/2+_,wt=Np(O,rt,C),q=!u.arrow&&Ho(i)!=null&&rt!==wt&&s.reference[S]/2-(rt<O?R:N)-E[S]/2<0,$=q?rt<O?rt-O:rt-C:0;return{[d]:p[d]+$,data:{[d]:wt,centerOffset:rt-wt-$,...q&&{alignmentOffset:$}},reset:q}}}),bO=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:u,elements:c}=t,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:p,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:E=!0,...A}=Zr(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=Jr(i),v=lr(o),w=Jr(o)===o,I=await(u.isRTL==null?void 0:u.isRTL(c.floating)),V=p||(w||!E?[Jh(o)]:fO(o)),L=S!=="none";!p&&L&&V.push(...gO(o,E,S,I));const T=[o,...V],_=await mu(t,A),x=[];let R=((r=s.flip)==null?void 0:r.overflows)||[];if(h&&x.push(_[y]),m){const rt=hO(i,a,I);x.push(_[rt[0]],_[rt[1]])}if(R=[...R,{placement:i,overflows:x}],!x.every(rt=>rt<=0)){var N,O;const rt=(((N=s.flip)==null?void 0:N.index)||0)+1,wt=T[rt];if(wt&&(!(m==="alignment"?v!==lr(wt):!1)||R.every(H=>H.overflows[0]>0&&lr(H.placement)===v)))return{data:{index:rt,overflows:R},reset:{placement:wt}};let q=(O=R.filter($=>$.overflows[0]<=0).sort(($,H)=>$.overflows[1]-H.overflows[1])[0])==null?void 0:O.placement;if(!q)switch(d){case"bestFit":{var C;const $=(C=R.filter(H=>{if(L){const F=lr(H.placement);return F===v||F==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(F=>F>0).reduce((F,W)=>F+W,0)]).sort((H,F)=>H[1]-F[1])[0])==null?void 0:C[0];$&&(q=$);break}case"initialPlacement":q=o;break}if(i!==q)return{reset:{placement:q}}}return{}}}};function z0(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function B0(e){return oO.some(t=>e[t]>=0)}const EO=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Zr(e,t);switch(r){case"referenceHidden":{const s=await mu(t,{...i,elementContext:"reference"}),a=z0(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:B0(a)}}}case"escaped":{const s=await mu(t,{...i,altBoundary:!0}),a=z0(s,n.floating);return{data:{escapedOffsets:a,escaped:B0(a)}}}default:return{}}}}},aA=new Set(["left","top"]);async function wO(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=Jr(n),o=Ho(n),u=lr(n)==="y",c=aA.has(a)?-1:1,h=s&&u?-1:1,m=Zr(t,e);let{mainAxis:p,crossAxis:d,alignmentAxis:S}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return o&&typeof S=="number"&&(d=o==="end"?S*-1:S),u?{x:d*h,y:p*c}:{x:p*c,y:d*h}}const TO=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:a,middlewareData:o}=t,u=await wO(t,e);return a===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:a}}}}},AO=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:A=>{let{x:y,y:v}=A;return{x:y,y:v}}},...u}=Zr(e,t),c={x:n,y:r},h=await mu(t,u),m=lr(Jr(i)),p=my(m);let d=c[p],S=c[m];if(s){const A=p==="y"?"top":"left",y=p==="y"?"bottom":"right",v=d+h[A],w=d-h[y];d=Np(v,d,w)}if(a){const A=m==="y"?"top":"left",y=m==="y"?"bottom":"right",v=S+h[A],w=S-h[y];S=Np(v,S,w)}const E=o.fn({...t,[p]:d,[m]:S});return{...E,data:{x:E.x-n,y:E.y-r,enabled:{[p]:s,[m]:a}}}}}},SO=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=t,{offset:o=0,mainAxis:u=!0,crossAxis:c=!0}=Zr(e,t),h={x:n,y:r},m=lr(i),p=my(m);let d=h[p],S=h[m];const E=Zr(o,t),A=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(u){const w=p==="y"?"height":"width",I=s.reference[p]-s.floating[w]+A.mainAxis,V=s.reference[p]+s.reference[w]-A.mainAxis;d<I?d=I:d>V&&(d=V)}if(c){var y,v;const w=p==="y"?"width":"height",I=aA.has(Jr(i)),V=s.reference[m]-s.floating[w]+(I&&((y=a.offset)==null?void 0:y[m])||0)+(I?0:A.crossAxis),L=s.reference[m]+s.reference[w]+(I?0:((v=a.offset)==null?void 0:v[m])||0)-(I?A.crossAxis:0);S<V?S=V:S>L&&(S=L)}return{[p]:d,[m]:S}}}},RO=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:s,platform:a,elements:o}=t,{apply:u=()=>{},...c}=Zr(e,t),h=await mu(t,c),m=Jr(i),p=Ho(i),d=lr(i)==="y",{width:S,height:E}=s.floating;let A,y;m==="top"||m==="bottom"?(A=m,y=p===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(y=m,A=p==="end"?"top":"bottom");const v=E-h.top-h.bottom,w=S-h.left-h.right,I=os(E-h[A],v),V=os(S-h[y],w),L=!t.middlewareData.shift;let T=I,_=V;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(_=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(T=v),L&&!p){const R=on(h.left,0),N=on(h.right,0),O=on(h.top,0),C=on(h.bottom,0);d?_=S-2*(R!==0||N!==0?R+N:on(h.left,h.right)):T=E-2*(O!==0||C!==0?O+C:on(h.top,h.bottom))}await u({...t,availableWidth:_,availableHeight:T});const x=await a.getDimensions(o.floating);return S!==x.width||E!==x.height?{reset:{rects:!0}}:{}}}};function Gf(){return typeof window<"u"}function Fo(e){return oA(e)?(e.nodeName||"").toLowerCase():"#document"}function dn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ar(e){var t;return(t=(oA(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function oA(e){return Gf()?e instanceof Node||e instanceof dn(e).Node:!1}function Bn(e){return Gf()?e instanceof Element||e instanceof dn(e).Element:!1}function br(e){return Gf()?e instanceof HTMLElement||e instanceof dn(e).HTMLElement:!1}function q0(e){return!Gf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof dn(e).ShadowRoot}const xO=new Set(["inline","contents"]);function $u(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=qn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!xO.has(i)}const CO=new Set(["table","td","th"]);function IO(e){return CO.has(Fo(e))}const NO=[":popover-open",":modal"];function Qf(e){return NO.some(t=>{try{return e.matches(t)}catch{return!1}})}const OO=["transform","translate","scale","rotate","perspective"],DO=["transform","translate","scale","rotate","perspective","filter"],MO=["paint","layout","strict","content"];function yy(e){const t=vy(),n=Bn(e)?qn(e):e;return OO.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||DO.some(r=>(n.willChange||"").includes(r))||MO.some(r=>(n.contain||"").includes(r))}function PO(e){let t=ls(e);for(;br(t)&&!xo(t);){if(yy(t))return t;if(Qf(t))return null;t=ls(t)}return null}function vy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const VO=new Set(["html","body","#document"]);function xo(e){return VO.has(Fo(e))}function qn(e){return dn(e).getComputedStyle(e)}function $f(e){return Bn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ls(e){if(Fo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||q0(e)&&e.host||Ar(e);return q0(t)?t.host:t}function lA(e){const t=ls(e);return xo(t)?e.ownerDocument?e.ownerDocument.body:e.body:br(t)&&$u(t)?t:lA(t)}function pu(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=lA(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),a=dn(i);if(s){const o=Dp(a);return t.concat(a,a.visualViewport||[],$u(i)?i:[],o&&n?pu(o):[])}return t.concat(i,pu(i,[],n))}function Dp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function uA(e){const t=qn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=br(e),s=i?e.offsetWidth:n,a=i?e.offsetHeight:r,o=Zh(n)!==s||Zh(r)!==a;return o&&(n=s,r=a),{width:n,height:r,$:o}}function _y(e){return Bn(e)?e:e.contextElement}function Wa(e){const t=_y(e);if(!br(t))return fr(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=uA(t);let a=(s?Zh(n.width):n.width)/r,o=(s?Zh(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const kO=fr(0);function cA(e){const t=dn(e);return!vy()||!t.visualViewport?kO:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function LO(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==dn(e)?!1:t}function Ws(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=_y(e);let a=fr(1);t&&(r?Bn(r)&&(a=Wa(r)):a=Wa(e));const o=LO(s,n,r)?cA(s):fr(0);let u=(i.left+o.x)/a.x,c=(i.top+o.y)/a.y,h=i.width/a.x,m=i.height/a.y;if(s){const p=dn(s),d=r&&Bn(r)?dn(r):r;let S=p,E=Dp(S);for(;E&&r&&d!==S;){const A=Wa(E),y=E.getBoundingClientRect(),v=qn(E),w=y.left+(E.clientLeft+parseFloat(v.paddingLeft))*A.x,I=y.top+(E.clientTop+parseFloat(v.paddingTop))*A.y;u*=A.x,c*=A.y,h*=A.x,m*=A.y,u+=w,c+=I,S=dn(E),E=Dp(S)}}return tf({width:h,height:m,x:u,y:c})}function by(e,t){const n=$f(e).scrollLeft;return t?t.left+n:Ws(Ar(e)).left+n}function hA(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:by(e,r)),s=r.top+t.scrollTop;return{x:i,y:s}}function UO(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",a=Ar(r),o=t?Qf(t.floating):!1;if(r===a||o&&s)return n;let u={scrollLeft:0,scrollTop:0},c=fr(1);const h=fr(0),m=br(r);if((m||!m&&!s)&&((Fo(r)!=="body"||$u(a))&&(u=$f(r)),br(r))){const d=Ws(r);c=Wa(r),h.x=d.x+r.clientLeft,h.y=d.y+r.clientTop}const p=a&&!m&&!s?hA(a,u,!0):fr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-u.scrollLeft*c.x+h.x+p.x,y:n.y*c.y-u.scrollTop*c.y+h.y+p.y}}function jO(e){return Array.from(e.getClientRects())}function zO(e){const t=Ar(e),n=$f(e),r=e.ownerDocument.body,i=on(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=on(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+by(e);const o=-n.scrollTop;return qn(r).direction==="rtl"&&(a+=on(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}function BO(e,t){const n=dn(e),r=Ar(e),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,u=0;if(i){s=i.width,a=i.height;const c=vy();(!c||c&&t==="fixed")&&(o=i.offsetLeft,u=i.offsetTop)}return{width:s,height:a,x:o,y:u}}const qO=new Set(["absolute","fixed"]);function HO(e,t){const n=Ws(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=br(e)?Wa(e):fr(1),a=e.clientWidth*s.x,o=e.clientHeight*s.y,u=i*s.x,c=r*s.y;return{width:a,height:o,x:u,y:c}}function H0(e,t,n){let r;if(t==="viewport")r=BO(e,n);else if(t==="document")r=zO(Ar(e));else if(Bn(t))r=HO(t,n);else{const i=cA(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return tf(r)}function fA(e,t){const n=ls(e);return n===t||!Bn(n)||xo(n)?!1:qn(n).position==="fixed"||fA(n,t)}function FO(e,t){const n=t.get(e);if(n)return n;let r=pu(e,[],!1).filter(o=>Bn(o)&&Fo(o)!=="body"),i=null;const s=qn(e).position==="fixed";let a=s?ls(e):e;for(;Bn(a)&&!xo(a);){const o=qn(a),u=yy(a);!u&&o.position==="fixed"&&(i=null),(s?!u&&!i:!u&&o.position==="static"&&!!i&&qO.has(i.position)||$u(a)&&!u&&fA(e,a))?r=r.filter(h=>h!==a):i=o,a=ls(a)}return t.set(e,r),r}function GO(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[...n==="clippingAncestors"?Qf(t)?[]:FO(t,this._c):[].concat(n),r],o=a[0],u=a.reduce((c,h)=>{const m=H0(t,h,i);return c.top=on(m.top,c.top),c.right=os(m.right,c.right),c.bottom=os(m.bottom,c.bottom),c.left=on(m.left,c.left),c},H0(t,o,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function QO(e){const{width:t,height:n}=uA(e);return{width:t,height:n}}function $O(e,t,n){const r=br(t),i=Ar(t),s=n==="fixed",a=Ws(e,!0,s,t);let o={scrollLeft:0,scrollTop:0};const u=fr(0);function c(){u.x=by(i)}if(r||!r&&!s)if((Fo(t)!=="body"||$u(i))&&(o=$f(t)),r){const d=Ws(t,!0,s,t);u.x=d.x+t.clientLeft,u.y=d.y+t.clientTop}else i&&c();s&&!r&&i&&c();const h=i&&!r&&!s?hA(i,o):fr(0),m=a.left+o.scrollLeft-u.x-h.x,p=a.top+o.scrollTop-u.y-h.y;return{x:m,y:p,width:a.width,height:a.height}}function gm(e){return qn(e).position==="static"}function F0(e,t){if(!br(e)||qn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Ar(e)===n&&(n=n.ownerDocument.body),n}function dA(e,t){const n=dn(e);if(Qf(e))return n;if(!br(e)){let i=ls(e);for(;i&&!xo(i);){if(Bn(i)&&!gm(i))return i;i=ls(i)}return n}let r=F0(e,t);for(;r&&IO(r)&&gm(r);)r=F0(r,t);return r&&xo(r)&&gm(r)&&!yy(r)?n:r||PO(e)||n}const YO=async function(e){const t=this.getOffsetParent||dA,n=this.getDimensions,r=await n(e.floating);return{reference:$O(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function KO(e){return qn(e).direction==="rtl"}const XO={convertOffsetParentRelativeRectToViewportRelativeRect:UO,getDocumentElement:Ar,getClippingRect:GO,getOffsetParent:dA,getElementRects:YO,getClientRects:jO,getDimensions:QO,getScale:Wa,isElement:Bn,isRTL:KO};function mA(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function WO(e,t){let n=null,r;const i=Ar(e);function s(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function a(o,u){o===void 0&&(o=!1),u===void 0&&(u=1),s();const c=e.getBoundingClientRect(),{left:h,top:m,width:p,height:d}=c;if(o||t(),!p||!d)return;const S=zc(m),E=zc(i.clientWidth-(h+p)),A=zc(i.clientHeight-(m+d)),y=zc(h),w={rootMargin:-S+"px "+-E+"px "+-A+"px "+-y+"px",threshold:on(0,os(1,u))||1};let I=!0;function V(L){const T=L[0].intersectionRatio;if(T!==u){if(!I)return a();T?a(!1,T):r=setTimeout(()=>{a(!1,1e-7)},1e3)}T===1&&!mA(c,e.getBoundingClientRect())&&a(),I=!1}try{n=new IntersectionObserver(V,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(V,w)}n.observe(e)}return a(!0),s}function ZO(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,c=_y(e),h=i||s?[...c?pu(c):[],...pu(t)]:[];h.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const m=c&&o?WO(c,n):null;let p=-1,d=null;a&&(d=new ResizeObserver(y=>{let[v]=y;v&&v.target===c&&d&&(d.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=d)==null||w.observe(t)})),n()}),c&&!u&&d.observe(c),d.observe(t));let S,E=u?Ws(e):null;u&&A();function A(){const y=Ws(e);E&&!mA(E,y)&&n(),E=y,S=requestAnimationFrame(A)}return n(),()=>{var y;h.forEach(v=>{i&&v.removeEventListener("scroll",n),s&&v.removeEventListener("resize",n)}),m==null||m(),(y=d)==null||y.disconnect(),d=null,u&&cancelAnimationFrame(S)}}const JO=TO,tD=AO,eD=bO,nD=RO,rD=EO,G0=_O,iD=SO,sD=(e,t,n)=>{const r=new Map,i={platform:XO,...n},s={...i.platform,_c:r};return vO(e,t,{...i,platform:s})};var aD=typeof document<"u",oD=function(){},uh=aD?D.useLayoutEffect:oD;function ef(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!ef(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!ef(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function pA(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Q0(e,t){const n=pA(e);return Math.round(t*n)/n}function ym(e){const t=D.useRef(e);return uh(()=>{t.current=e}),t}function lD(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:u,open:c}=e,[h,m]=D.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,d]=D.useState(r);ef(p,r)||d(r);const[S,E]=D.useState(null),[A,y]=D.useState(null),v=D.useCallback(H=>{H!==L.current&&(L.current=H,E(H))},[]),w=D.useCallback(H=>{H!==T.current&&(T.current=H,y(H))},[]),I=s||S,V=a||A,L=D.useRef(null),T=D.useRef(null),_=D.useRef(h),x=u!=null,R=ym(u),N=ym(i),O=ym(c),C=D.useCallback(()=>{if(!L.current||!T.current)return;const H={placement:t,strategy:n,middleware:p};N.current&&(H.platform=N.current),sD(L.current,T.current,H).then(F=>{const W={...F,isPositioned:O.current!==!1};rt.current&&!ef(_.current,W)&&(_.current=W,Cf.flushSync(()=>{m(W)}))})},[p,t,n,N,O]);uh(()=>{c===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,m(H=>({...H,isPositioned:!1})))},[c]);const rt=D.useRef(!1);uh(()=>(rt.current=!0,()=>{rt.current=!1}),[]),uh(()=>{if(I&&(L.current=I),V&&(T.current=V),I&&V){if(R.current)return R.current(I,V,C);C()}},[I,V,C,R,x]);const wt=D.useMemo(()=>({reference:L,floating:T,setReference:v,setFloating:w}),[v,w]),q=D.useMemo(()=>({reference:I,floating:V}),[I,V]),$=D.useMemo(()=>{const H={position:n,left:0,top:0};if(!q.floating)return H;const F=Q0(q.floating,h.x),W=Q0(q.floating,h.y);return o?{...H,transform:"translate("+F+"px, "+W+"px)",...pA(q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:W}},[n,o,q.floating,h.x,h.y]);return D.useMemo(()=>({...h,update:C,refs:wt,elements:q,floatingStyles:$}),[h,C,wt,q,$])}const uD=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?G0({element:r.current,padding:i}).fn(n):{}:r?G0({element:r,padding:i}).fn(n):{}}}},cD=(e,t)=>({...JO(e),options:[e,t]}),hD=(e,t)=>({...tD(e),options:[e,t]}),fD=(e,t)=>({...iD(e),options:[e,t]}),dD=(e,t)=>({...eD(e),options:[e,t]}),mD=(e,t)=>({...nD(e),options:[e,t]}),pD=(e,t)=>({...rD(e),options:[e,t]}),gD=(e,t)=>({...uD(e),options:[e,t]});var yD="Arrow",gA=D.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...s}=e;return M.jsx(Gn.svg,{...s,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:M.jsx("polygon",{points:"0,0 30,0 15,10"})})});gA.displayName=yD;var vD=gA;function yA(e){const[t,n]=D.useState(void 0);return Ro(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,o;if("borderBoxSize"in s){const u=s.borderBoxSize,c=Array.isArray(u)?u[0]:u;a=c.inlineSize,o=c.blockSize}else a=e.offsetWidth,o=e.offsetHeight;n({width:a,height:o})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var vA="Popper",[_A,bA]=dy(vA),[k9,EA]=_A(vA),wA="PopperAnchor",TA=D.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,s=EA(wA,n),a=D.useRef(null),o=oi(t,a);return D.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:M.jsx(Gn.div,{...i,ref:o})});TA.displayName=wA;var Ey="PopperContent",[_D,bD]=_A(Ey),AA=D.forwardRef((e,t)=>{var St,ui,$n,pn,en,Yn;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:u=!0,collisionBoundary:c=[],collisionPadding:h=0,sticky:m="partial",hideWhenDetached:p=!1,updatePositionStrategy:d="optimized",onPlaced:S,...E}=e,A=EA(Ey,n),[y,v]=D.useState(null),w=oi(t,gn=>v(gn)),[I,V]=D.useState(null),L=yA(I),T=(L==null?void 0:L.width)??0,_=(L==null?void 0:L.height)??0,x=r+(s!=="center"?"-"+s:""),R=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},N=Array.isArray(c)?c:[c],O=N.length>0,C={padding:R,boundary:N.filter(wD),altBoundary:O},{refs:rt,floatingStyles:wt,placement:q,isPositioned:$,middlewareData:H}=lD({strategy:"fixed",placement:x,whileElementsMounted:(...gn)=>ZO(...gn,{animationFrame:d==="always"}),elements:{reference:A.anchor},middleware:[cD({mainAxis:i+_,alignmentAxis:a}),u&&hD({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?fD():void 0,...C}),u&&dD({...C}),mD({...C,apply:({elements:gn,rects:ci,availableWidth:ys,availableHeight:vs})=>{const{width:tl,height:_s}=ci.reference,Rr=gn.floating.style;Rr.setProperty("--radix-popper-available-width",`${ys}px`),Rr.setProperty("--radix-popper-available-height",`${vs}px`),Rr.setProperty("--radix-popper-anchor-width",`${tl}px`),Rr.setProperty("--radix-popper-anchor-height",`${_s}px`)}}),I&&gD({element:I,padding:o}),TD({arrowWidth:T,arrowHeight:_}),p&&pD({strategy:"referenceHidden",...C})]}),[F,W]=xA(q),Ut=Ff(S);Ro(()=>{$&&(Ut==null||Ut())},[$,Ut]);const at=(St=H.arrow)==null?void 0:St.x,J=(ui=H.arrow)==null?void 0:ui.y,gt=(($n=H.arrow)==null?void 0:$n.centerOffset)!==0,[Dt,Qn]=D.useState();return Ro(()=>{y&&Qn(window.getComputedStyle(y).zIndex)},[y]),M.jsx("div",{ref:rt.setFloating,"data-radix-popper-content-wrapper":"",style:{...wt,transform:$?wt.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Dt,"--radix-popper-transform-origin":[(pn=H.transformOrigin)==null?void 0:pn.x,(en=H.transformOrigin)==null?void 0:en.y].join(" "),...((Yn=H.hide)==null?void 0:Yn.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:M.jsx(_D,{scope:n,placedSide:F,onArrowChange:V,arrowX:at,arrowY:J,shouldHideArrow:gt,children:M.jsx(Gn.div,{"data-side":F,"data-align":W,...E,ref:w,style:{...E.style,animation:$?void 0:"none"}})})})});AA.displayName=Ey;var SA="PopperArrow",ED={top:"bottom",right:"left",bottom:"top",left:"right"},RA=D.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,s=bD(SA,r),a=ED[s.placedSide];return M.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:M.jsx(vD,{...i,ref:n,style:{...i.style,display:"block"}})})});RA.displayName=SA;function wD(e){return e!==null}var TD=e=>({name:"transformOrigin",options:e,fn(t){var A,y,v;const{placement:n,rects:r,middlewareData:i}=t,a=((A=i.arrow)==null?void 0:A.centerOffset)!==0,o=a?0:e.arrowWidth,u=a?0:e.arrowHeight,[c,h]=xA(n),m={start:"0%",center:"50%",end:"100%"}[h],p=(((y=i.arrow)==null?void 0:y.x)??0)+o/2,d=(((v=i.arrow)==null?void 0:v.y)??0)+u/2;let S="",E="";return c==="bottom"?(S=a?m:`${p}px`,E=`${-u}px`):c==="top"?(S=a?m:`${p}px`,E=`${r.floating.height+u}px`):c==="right"?(S=`${-u}px`,E=a?m:`${d}px`):c==="left"&&(S=`${r.floating.width+u}px`,E=a?m:`${d}px`),{data:{x:S,y:E}}}});function xA(e){const[t,n="center"]=e.split("-");return[t,n]}var AD=TA,SD=AA,RD=RA;function xD(e,t){return D.useReducer((n,r)=>t[n][r]??n,e)}var CA=e=>{const{present:t,children:n}=e,r=CD(t),i=typeof n=="function"?n({present:r.isPresent}):D.Children.only(n),s=oi(r.ref,ID(i));return typeof n=="function"||r.isPresent?D.cloneElement(i,{ref:s}):null};CA.displayName="Presence";function CD(e){const[t,n]=D.useState(),r=D.useRef(null),i=D.useRef(e),s=D.useRef("none"),a=e?"mounted":"unmounted",[o,u]=xD(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return D.useEffect(()=>{const c=Bc(r.current);s.current=o==="mounted"?c:"none"},[o]),Ro(()=>{const c=r.current,h=i.current;if(h!==e){const p=s.current,d=Bc(c);e?u("MOUNT"):d==="none"||(c==null?void 0:c.display)==="none"?u("UNMOUNT"):u(h&&p!==d?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,u]),Ro(()=>{if(t){let c;const h=t.ownerDocument.defaultView??window,m=d=>{const E=Bc(r.current).includes(d.animationName);if(d.target===t&&E&&(u("ANIMATION_END"),!i.current)){const A=t.style.animationFillMode;t.style.animationFillMode="forwards",c=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=A)})}},p=d=>{d.target===t&&(s.current=Bc(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{h.clearTimeout(c),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:D.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Bc(e){return(e==null?void 0:e.animationName)||"none"}function ID(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var ND=mw[" useInsertionEffect ".trim().toString()]||Ro;function OD({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,s,a]=DD({defaultProp:t,onChange:n}),o=e!==void 0,u=o?e:i;{const h=D.useRef(e!==void 0);D.useEffect(()=>{const m=h.current;m!==o&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=o},[o,r])}const c=D.useCallback(h=>{var m;if(o){const p=MD(h)?h(e):h;p!==e&&((m=a.current)==null||m.call(a,p))}else s(h)},[o,e,s,a]);return[u,c]}function DD({defaultProp:e,onChange:t}){const[n,r]=D.useState(e),i=D.useRef(n),s=D.useRef(t);return ND(()=>{s.current=t},[t]),D.useEffect(()=>{var a;i.current!==n&&((a=s.current)==null||a.call(s,n),i.current=n)},[n,i]),[n,r,s]}function MD(e){return typeof e=="function"}var PD=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),VD="VisuallyHidden",IA=D.forwardRef((e,t)=>M.jsx(Gn.span,{...e,ref:t,style:{...PD,...e.style}}));IA.displayName=VD;var kD=IA,[Yf,L9]=dy("Tooltip",[bA]),wy=bA(),NA="TooltipProvider",LD=700,$0="tooltip.open",[UD,OA]=Yf(NA),DA=e=>{const{__scopeTooltip:t,delayDuration:n=LD,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=e,a=D.useRef(!0),o=D.useRef(!1),u=D.useRef(0);return D.useEffect(()=>{const c=u.current;return()=>window.clearTimeout(c)},[]),M.jsx(UD,{scope:t,isOpenDelayedRef:a,delayDuration:n,onOpen:D.useCallback(()=>{window.clearTimeout(u.current),a.current=!1},[]),onClose:D.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:o,onPointerInTransitChange:D.useCallback(c=>{o.current=c},[]),disableHoverableContent:i,children:s})};DA.displayName=NA;var MA="Tooltip",[U9,Kf]=Yf(MA),Mp="TooltipTrigger",jD=D.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=Kf(Mp,n),s=OA(Mp,n),a=wy(n),o=D.useRef(null),u=oi(t,o,i.onTriggerChange),c=D.useRef(!1),h=D.useRef(!1),m=D.useCallback(()=>c.current=!1,[]);return D.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),M.jsx(AD,{asChild:!0,...a,children:M.jsx(Gn.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:u,onPointerMove:er(e.onPointerMove,p=>{p.pointerType!=="touch"&&!h.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:er(e.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:er(e.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:er(e.onFocus,()=>{c.current||i.onOpen()}),onBlur:er(e.onBlur,i.onClose),onClick:er(e.onClick,i.onClose)})})});jD.displayName=Mp;var zD="TooltipPortal",[j9,BD]=Yf(zD,{forceMount:void 0}),Co="TooltipContent",PA=D.forwardRef((e,t)=>{const n=BD(Co,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=e,a=Kf(Co,e.__scopeTooltip);return M.jsx(CA,{present:r||a.open,children:a.disableHoverableContent?M.jsx(VA,{side:i,...s,ref:t}):M.jsx(qD,{side:i,...s,ref:t})})}),qD=D.forwardRef((e,t)=>{const n=Kf(Co,e.__scopeTooltip),r=OA(Co,e.__scopeTooltip),i=D.useRef(null),s=oi(t,i),[a,o]=D.useState(null),{trigger:u,onClose:c}=n,h=i.current,{onPointerInTransitChange:m}=r,p=D.useCallback(()=>{o(null),m(!1)},[m]),d=D.useCallback((S,E)=>{const A=S.currentTarget,y={x:S.clientX,y:S.clientY},v=$D(y,A.getBoundingClientRect()),w=YD(y,v),I=KD(E.getBoundingClientRect()),V=WD([...w,...I]);o(V),m(!0)},[m]);return D.useEffect(()=>()=>p(),[p]),D.useEffect(()=>{if(u&&h){const S=A=>d(A,h),E=A=>d(A,u);return u.addEventListener("pointerleave",S),h.addEventListener("pointerleave",E),()=>{u.removeEventListener("pointerleave",S),h.removeEventListener("pointerleave",E)}}},[u,h,d,p]),D.useEffect(()=>{if(a){const S=E=>{const A=E.target,y={x:E.clientX,y:E.clientY},v=(u==null?void 0:u.contains(A))||(h==null?void 0:h.contains(A)),w=!XD(y,a);v?p():w&&(p(),c())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[u,h,a,c,p]),M.jsx(VA,{...e,ref:s})}),[HD,FD]=Yf(MA,{isInside:!1}),GD=$N("TooltipContent"),VA=D.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...o}=e,u=Kf(Co,n),c=wy(n),{onClose:h}=u;return D.useEffect(()=>(document.addEventListener($0,h),()=>document.removeEventListener($0,h)),[h]),D.useEffect(()=>{if(u.trigger){const m=p=>{const d=p.target;d!=null&&d.contains(u.trigger)&&h()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[u.trigger,h]),M.jsx(rA,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:m=>m.preventDefault(),onDismiss:h,children:M.jsxs(SD,{"data-state":u.stateAttribute,...c,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[M.jsx(GD,{children:r}),M.jsx(HD,{scope:n,isInside:!0,children:M.jsx(kD,{id:u.contentId,role:"tooltip",children:i||r})})]})})});PA.displayName=Co;var kA="TooltipArrow",QD=D.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=wy(n);return FD(kA,n).isInside?null:M.jsx(RD,{...i,...r,ref:t})});QD.displayName=kA;function $D(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function YD(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function KD(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function XD(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,a=t.length-1;s<t.length;a=s++){const o=t[s],u=t[a],c=o.x,h=o.y,m=u.x,p=u.y;h>r!=p>r&&n<(m-c)*(r-h)/(p-h)+c&&(i=!i)}return i}function WD(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),ZD(t)}function ZD(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const s=t[t.length-1],a=t[t.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const s=n[n.length-1],a=n[n.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var JD=DA,LA=PA;function UA(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=UA(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function jA(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=UA(e))&&(r&&(r+=" "),r+=t);return r}const Ty="-",tM=e=>{const t=nM(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const o=a.split(Ty);return o[0]===""&&o.length!==1&&o.shift(),zA(o,t)||eM(a)},getConflictingClassGroupIds:(a,o)=>{const u=n[a]||[];return o&&r[a]?[...u,...r[a]]:u}}},zA=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?zA(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(Ty);return(a=t.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},Y0=/^\[(.+)\]$/,eM=e=>{if(Y0.test(e)){const t=Y0.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},nM=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return iM(Object.entries(e.classGroups),n).forEach(([s,a])=>{Pp(a,r,s,t)}),r},Pp=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:K0(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(rM(i)){Pp(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{Pp(a,K0(t,s),n,r)})})},K0=(e,t)=>{let n=e;return t.split(Ty).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},rM=e=>e.isThemeGetter,iM=(e,t)=>t?e.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[t+a,o])):s);return[n,i]}):e,sM=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(s,a)=>{n.set(s,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},BA="!",aM=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],s=t.length,a=o=>{const u=[];let c=0,h=0,m;for(let A=0;A<o.length;A++){let y=o[A];if(c===0){if(y===i&&(r||o.slice(A,A+s)===t)){u.push(o.slice(h,A)),h=A+s;continue}if(y==="/"){m=A;continue}}y==="["?c++:y==="]"&&c--}const p=u.length===0?o:o.substring(h),d=p.startsWith(BA),S=d?p.substring(1):p,E=m&&m>h?m-h:void 0;return{modifiers:u,hasImportantModifier:d,baseClassName:S,maybePostfixModifierPosition:E}};return n?o=>n({className:o,parseClassName:a}):a},oM=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},lM=e=>({cache:sM(e.cacheSize),parseClassName:aM(e),...tM(e)}),uM=/\s+/,cM=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,s=[],a=e.trim().split(uM);let o="";for(let u=a.length-1;u>=0;u-=1){const c=a[u],{modifiers:h,hasImportantModifier:m,baseClassName:p,maybePostfixModifierPosition:d}=n(c);let S=!!d,E=r(S?p.substring(0,d):p);if(!E){if(!S){o=c+(o.length>0?" "+o:o);continue}if(E=r(p),!E){o=c+(o.length>0?" "+o:o);continue}S=!1}const A=oM(h).join(":"),y=m?A+BA:A,v=y+E;if(s.includes(v))continue;s.push(v);const w=i(E,S);for(let I=0;I<w.length;++I){const V=w[I];s.push(y+V)}o=c+(o.length>0?" "+o:o)}return o};function hM(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=qA(t))&&(r&&(r+=" "),r+=n);return r}const qA=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=qA(e[r]))&&(n&&(n+=" "),n+=t);return n};function fM(e,...t){let n,r,i,s=a;function a(u){const c=t.reduce((h,m)=>m(h),e());return n=lM(c),r=n.cache.get,i=n.cache.set,s=o,o(u)}function o(u){const c=r(u);if(c)return c;const h=cM(u,n);return i(u,h),h}return function(){return s(hM.apply(null,arguments))}}const zt=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},HA=/^\[(?:([a-z-]+):)?(.+)\]$/i,dM=/^\d+\/\d+$/,mM=new Set(["px","full","screen"]),pM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,gM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,yM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,vM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_M=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Pr=e=>Za(e)||mM.has(e)||dM.test(e),_i=e=>Go(e,"length",xM),Za=e=>!!e&&!Number.isNaN(Number(e)),vm=e=>Go(e,"number",Za),wl=e=>!!e&&Number.isInteger(Number(e)),bM=e=>e.endsWith("%")&&Za(e.slice(0,-1)),lt=e=>HA.test(e),bi=e=>pM.test(e),EM=new Set(["length","size","percentage"]),wM=e=>Go(e,EM,FA),TM=e=>Go(e,"position",FA),AM=new Set(["image","url"]),SM=e=>Go(e,AM,IM),RM=e=>Go(e,"",CM),Tl=()=>!0,Go=(e,t,n)=>{const r=HA.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},xM=e=>gM.test(e)&&!yM.test(e),FA=()=>!1,CM=e=>vM.test(e),IM=e=>_M.test(e),NM=()=>{const e=zt("colors"),t=zt("spacing"),n=zt("blur"),r=zt("brightness"),i=zt("borderColor"),s=zt("borderRadius"),a=zt("borderSpacing"),o=zt("borderWidth"),u=zt("contrast"),c=zt("grayscale"),h=zt("hueRotate"),m=zt("invert"),p=zt("gap"),d=zt("gradientColorStops"),S=zt("gradientColorStopPositions"),E=zt("inset"),A=zt("margin"),y=zt("opacity"),v=zt("padding"),w=zt("saturate"),I=zt("scale"),V=zt("sepia"),L=zt("skew"),T=zt("space"),_=zt("translate"),x=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",lt,t],O=()=>[lt,t],C=()=>["",Pr,_i],rt=()=>["auto",Za,lt],wt=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],H=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",lt],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Ut=()=>[Za,lt];return{cacheSize:500,separator:":",theme:{colors:[Tl],spacing:[Pr,_i],blur:["none","",bi,lt],brightness:Ut(),borderColor:[e],borderRadius:["none","","full",bi,lt],borderSpacing:O(),borderWidth:C(),contrast:Ut(),grayscale:F(),hueRotate:Ut(),invert:F(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[bM,_i],inset:N(),margin:N(),opacity:Ut(),padding:O(),saturate:Ut(),scale:Ut(),sepia:F(),skew:Ut(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",lt]}],container:["container"],columns:[{columns:[bi]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...wt(),lt]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:x()}],"overscroll-x":[{"overscroll-x":x()}],"overscroll-y":[{"overscroll-y":x()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[E]}],"inset-x":[{"inset-x":[E]}],"inset-y":[{"inset-y":[E]}],start:[{start:[E]}],end:[{end:[E]}],top:[{top:[E]}],right:[{right:[E]}],bottom:[{bottom:[E]}],left:[{left:[E]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",wl,lt]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",lt]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",wl,lt]}],"grid-cols":[{"grid-cols":[Tl]}],"col-start-end":[{col:["auto",{span:["full",wl,lt]},lt]}],"col-start":[{"col-start":rt()}],"col-end":[{"col-end":rt()}],"grid-rows":[{"grid-rows":[Tl]}],"row-start-end":[{row:["auto",{span:[wl,lt]},lt]}],"row-start":[{"row-start":rt()}],"row-end":[{"row-end":rt()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",lt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",lt]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...H()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...H(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...H(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[A]}],mx:[{mx:[A]}],my:[{my:[A]}],ms:[{ms:[A]}],me:[{me:[A]}],mt:[{mt:[A]}],mr:[{mr:[A]}],mb:[{mb:[A]}],ml:[{ml:[A]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",lt,t]}],"min-w":[{"min-w":[lt,t,"min","max","fit"]}],"max-w":[{"max-w":[lt,t,"none","full","min","max","fit","prose",{screen:[bi]},bi]}],h:[{h:[lt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[lt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[lt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[lt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",bi,_i]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",vm]}],"font-family":[{font:[Tl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",lt]}],"line-clamp":[{"line-clamp":["none",Za,vm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Pr,lt]}],"list-image":[{"list-image":["none",lt]}],"list-style-type":[{list:["none","disc","decimal",lt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Pr,_i]}],"underline-offset":[{"underline-offset":["auto",Pr,lt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",lt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",lt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...wt(),TM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",wM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},SM]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[d]}],"gradient-via":[{via:[d]}],"gradient-to":[{to:[d]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:q()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[Pr,lt]}],"outline-w":[{outline:[Pr,_i]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:C()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Pr,_i]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",bi,RM]}],"shadow-color":[{shadow:[Tl]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...$(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",bi,lt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[m]}],saturate:[{saturate:[w]}],sepia:[{sepia:[V]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[V]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",lt]}],duration:[{duration:Ut()}],ease:[{ease:["linear","in","out","in-out",lt]}],delay:[{delay:Ut()}],animate:[{animate:["none","spin","ping","pulse","bounce",lt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[wl,lt]}],"translate-x":[{"translate-x":[_]}],"translate-y":[{"translate-y":[_]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",lt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",lt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",lt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Pr,_i,vm]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},OM=fM(NM);function We(...e){return OM(jA(e))}const DM=JD,MM=D.forwardRef(({className:e,sideOffset:t=4,...n},r)=>M.jsx(LA,{ref:r,sideOffset:t,className:We("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));MM.displayName=LA.displayName;var Xf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Wf=typeof window>"u"||"Deno"in globalThis;function Pn(){}function PM(e,t){return typeof e=="function"?e(t):e}function VM(e){return typeof e=="number"&&e>=0&&e!==1/0}function kM(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Vp(e,t){return typeof e=="function"?e(t):e}function LM(e,t){return typeof e=="function"?e(t):e}function X0(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:o}=e;if(a){if(r){if(t.queryHash!==Ay(a,t.options))return!1}else if(!yu(t.queryKey,a))return!1}if(n!=="all"){const u=t.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||i&&i!==t.state.fetchStatus||s&&!s(t))}function W0(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(gu(t.options.mutationKey)!==gu(s))return!1}else if(!yu(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function Ay(e,t){return((t==null?void 0:t.queryKeyHashFn)||gu)(e)}function gu(e){return JSON.stringify(e,(t,n)=>kp(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function yu(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>yu(e[n],t[n])):!1}function GA(e,t){if(e===t)return e;const n=Z0(e)&&Z0(t);if(n||kp(e)&&kp(t)){const r=n?e:Object.keys(e),i=r.length,s=n?t:Object.keys(t),a=s.length,o=n?[]:{},u=new Set(r);let c=0;for(let h=0;h<a;h++){const m=n?h:s[h];(!n&&u.has(m)||n)&&e[m]===void 0&&t[m]===void 0?(o[m]=void 0,c++):(o[m]=GA(e[m],t[m]),o[m]===e[m]&&e[m]!==void 0&&c++)}return i===a&&c===i?e:o}return t}function Z0(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function kp(e){if(!J0(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!J0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function J0(e){return Object.prototype.toString.call(e)==="[object Object]"}function UM(e){return new Promise(t=>{setTimeout(t,e)})}function jM(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?GA(e,t):t}function zM(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function BM(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Sy=Symbol();function QA(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Sy?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Ds,Pi,ao,$E,qM=($E=class extends Xf{constructor(){super();Et(this,Ds);Et(this,Pi);Et(this,ao);ot(this,ao,t=>{if(!Wf&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,Pi)||this.setEventListener(U(this,ao))}onUnsubscribe(){var t;this.hasListeners()||((t=U(this,Pi))==null||t.call(this),ot(this,Pi,void 0))}setEventListener(t){var n;ot(this,ao,t),(n=U(this,Pi))==null||n.call(this),ot(this,Pi,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){U(this,Ds)!==t&&(ot(this,Ds,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof U(this,Ds)=="boolean"?U(this,Ds):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Ds=new WeakMap,Pi=new WeakMap,ao=new WeakMap,$E),$A=new qM,oo,Vi,lo,YE,HM=(YE=class extends Xf{constructor(){super();Et(this,oo,!0);Et(this,Vi);Et(this,lo);ot(this,lo,t=>{if(!Wf&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){U(this,Vi)||this.setEventListener(U(this,lo))}onUnsubscribe(){var t;this.hasListeners()||((t=U(this,Vi))==null||t.call(this),ot(this,Vi,void 0))}setEventListener(t){var n;ot(this,lo,t),(n=U(this,Vi))==null||n.call(this),ot(this,Vi,t(this.setOnline.bind(this)))}setOnline(t){U(this,oo)!==t&&(ot(this,oo,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return U(this,oo)}},oo=new WeakMap,Vi=new WeakMap,lo=new WeakMap,YE),nf=new HM;function FM(){let e,t;const n=new Promise((i,s)=>{e=i,t=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function GM(e){return Math.min(1e3*2**e,3e4)}function YA(e){return(e??"online")==="online"?nf.isOnline():!0}var KA=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function _m(e){return e instanceof KA}function XA(e){let t=!1,n=0,r=!1,i;const s=FM(),a=E=>{var A;r||(p(new KA(E)),(A=e.abort)==null||A.call(e))},o=()=>{t=!0},u=()=>{t=!1},c=()=>$A.isFocused()&&(e.networkMode==="always"||nf.isOnline())&&e.canRun(),h=()=>YA(e.networkMode)&&e.canRun(),m=E=>{var A;r||(r=!0,(A=e.onSuccess)==null||A.call(e,E),i==null||i(),s.resolve(E))},p=E=>{var A;r||(r=!0,(A=e.onError)==null||A.call(e,E),i==null||i(),s.reject(E))},d=()=>new Promise(E=>{var A;i=y=>{(r||c())&&E(y)},(A=e.onPause)==null||A.call(e)}).then(()=>{var E;i=void 0,r||(E=e.onContinue)==null||E.call(e)}),S=()=>{if(r)return;let E;const A=n===0?e.initialPromise:void 0;try{E=A??e.fn()}catch(y){E=Promise.reject(y)}Promise.resolve(E).then(m).catch(y=>{var L;if(r)return;const v=e.retry??(Wf?0:3),w=e.retryDelay??GM,I=typeof w=="function"?w(n,y):w,V=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,y);if(t||!V){p(y);return}n++,(L=e.onFail)==null||L.call(e,n,y),UM(I).then(()=>c()?void 0:d()).then(()=>{t?p(y):S()})})};return{promise:s,cancel:a,continue:()=>(i==null||i(),s),cancelRetry:o,continueRetry:u,canStart:h,start:()=>(h()?S():d().then(S),s)}}var QM=e=>setTimeout(e,0);function $M(){let e=[],t=0,n=o=>{o()},r=o=>{o()},i=QM;const s=o=>{t?e.push(o):i(()=>{n(o)})},a=()=>{const o=e;e=[],o.length&&i(()=>{r(()=>{o.forEach(u=>{n(u)})})})};return{batch:o=>{let u;t++;try{u=o()}finally{t--,t||a()}return u},batchCalls:o=>(...u)=>{s(()=>{o(...u)})},schedule:s,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{i=o}}}var je=$M(),Ms,KE,WA=(KE=class{constructor(){Et(this,Ms)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),VM(this.gcTime)&&ot(this,Ms,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Wf?1/0:5*60*1e3))}clearGcTimeout(){U(this,Ms)&&(clearTimeout(U(this,Ms)),ot(this,Ms,void 0))}},Ms=new WeakMap,KE),uo,Ps,vn,Vs,Oe,Iu,ks,Vn,Vr,XE,YM=(XE=class extends WA{constructor(n){super();Et(this,Vn);Et(this,uo);Et(this,Ps);Et(this,vn);Et(this,Vs);Et(this,Oe);Et(this,Iu);Et(this,ks);ot(this,ks,!1),ot(this,Iu,n.defaultOptions),this.setOptions(n.options),this.observers=[],ot(this,Vs,n.client),ot(this,vn,U(this,Vs).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ot(this,uo,XM(this.options)),this.state=n.state??U(this,uo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=U(this,Oe))==null?void 0:n.promise}setOptions(n){this.options={...U(this,Iu),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,vn).remove(this)}setData(n,r){const i=jM(this.state.data,n,this.options);return Ie(this,Vn,Vr).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){Ie(this,Vn,Vr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=U(this,Oe))==null?void 0:i.promise;return(s=U(this,Oe))==null||s.cancel(n),r?r.then(Pn).catch(Pn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,uo))}isActive(){return this.observers.some(n=>LM(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Sy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Vp(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!kM(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,Oe))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,Oe))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),U(this,vn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(U(this,Oe)&&(U(this,ks)?U(this,Oe).cancel({revert:!0}):U(this,Oe).cancelRetry()),this.scheduleGc()),U(this,vn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ie(this,Vn,Vr).call(this,{type:"invalidate"})}fetch(n,r){var h,m,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,Oe))return U(this,Oe).continueRetry(),U(this,Oe).promise}if(n&&this.setOptions(n),!this.options.queryFn){const d=this.observers.find(S=>S.options.queryFn);d&&this.setOptions(d.options)}const i=new AbortController,s=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(ot(this,ks,!0),i.signal)})},a=()=>{const d=QA(this.options,r),E=(()=>{const A={client:U(this,Vs),queryKey:this.queryKey,meta:this.meta};return s(A),A})();return ot(this,ks,!1),this.options.persister?this.options.persister(d,E,this):d(E)},u=(()=>{const d={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:U(this,Vs),state:this.state,fetchFn:a};return s(d),d})();(h=this.options.behavior)==null||h.onFetch(u,this),ot(this,Ps,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((m=u.fetchOptions)==null?void 0:m.meta))&&Ie(this,Vn,Vr).call(this,{type:"fetch",meta:(p=u.fetchOptions)==null?void 0:p.meta});const c=d=>{var S,E,A,y;_m(d)&&d.silent||Ie(this,Vn,Vr).call(this,{type:"error",error:d}),_m(d)||((E=(S=U(this,vn).config).onError)==null||E.call(S,d,this),(y=(A=U(this,vn).config).onSettled)==null||y.call(A,this.state.data,d,this)),this.scheduleGc()};return ot(this,Oe,XA({initialPromise:r==null?void 0:r.initialPromise,fn:u.fetchFn,abort:i.abort.bind(i),onSuccess:d=>{var S,E,A,y;if(d===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(v){c(v);return}(E=(S=U(this,vn).config).onSuccess)==null||E.call(S,d,this),(y=(A=U(this,vn).config).onSettled)==null||y.call(A,d,this.state.error,this),this.scheduleGc()},onError:c,onFail:(d,S)=>{Ie(this,Vn,Vr).call(this,{type:"failed",failureCount:d,error:S})},onPause:()=>{Ie(this,Vn,Vr).call(this,{type:"pause"})},onContinue:()=>{Ie(this,Vn,Vr).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),U(this,Oe).start()}},uo=new WeakMap,Ps=new WeakMap,vn=new WeakMap,Vs=new WeakMap,Oe=new WeakMap,Iu=new WeakMap,ks=new WeakMap,Vn=new WeakSet,Vr=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...KM(i.data,this.options),fetchMeta:n.meta??null};case"success":return ot(this,Ps,void 0),{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return _m(s)&&s.revert&&U(this,Ps)?{...U(this,Ps),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),je.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),U(this,vn).notify({query:this,type:"updated",action:n})})},XE);function KM(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:YA(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function XM(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Zn,WE,WM=(WE=class extends Xf{constructor(t={}){super();Et(this,Zn);this.config=t,ot(this,Zn,new Map)}build(t,n,r){const i=n.queryKey,s=n.queryHash??Ay(i,n);let a=this.get(s);return a||(a=new YM({client:t,queryKey:i,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(a)),a}add(t){U(this,Zn).has(t.queryHash)||(U(this,Zn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=U(this,Zn).get(t.queryHash);n&&(t.destroy(),n===t&&U(this,Zn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){je.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return U(this,Zn).get(t)}getAll(){return[...U(this,Zn).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>X0(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>X0(t,r)):n}notify(t){je.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){je.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){je.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Zn=new WeakMap,WE),Jn,Le,Ls,tr,Ti,ZE,ZM=(ZE=class extends WA{constructor(n){super();Et(this,tr);Et(this,Jn);Et(this,Le);Et(this,Ls);this.mutationId=n.mutationId,ot(this,Le,n.mutationCache),ot(this,Jn,[]),this.state=n.state||JM(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){U(this,Jn).includes(n)||(U(this,Jn).push(n),this.clearGcTimeout(),U(this,Le).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ot(this,Jn,U(this,Jn).filter(r=>r!==n)),this.scheduleGc(),U(this,Le).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){U(this,Jn).length||(this.state.status==="pending"?this.scheduleGc():U(this,Le).remove(this))}continue(){var n;return((n=U(this,Ls))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var a,o,u,c,h,m,p,d,S,E,A,y,v,w,I,V,L,T,_,x;const r=()=>{Ie(this,tr,Ti).call(this,{type:"continue"})};ot(this,Ls,XA({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(R,N)=>{Ie(this,tr,Ti).call(this,{type:"failed",failureCount:R,error:N})},onPause:()=>{Ie(this,tr,Ti).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Le).canRun(this)}));const i=this.state.status==="pending",s=!U(this,Ls).canStart();try{if(i)r();else{Ie(this,tr,Ti).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(a=U(this,Le).config).onMutate)==null?void 0:o.call(a,n,this));const N=await((c=(u=this.options).onMutate)==null?void 0:c.call(u,n));N!==this.state.context&&Ie(this,tr,Ti).call(this,{type:"pending",context:N,variables:n,isPaused:s})}const R=await U(this,Ls).start();return await((m=(h=U(this,Le).config).onSuccess)==null?void 0:m.call(h,R,n,this.state.context,this)),await((d=(p=this.options).onSuccess)==null?void 0:d.call(p,R,n,this.state.context)),await((E=(S=U(this,Le).config).onSettled)==null?void 0:E.call(S,R,null,this.state.variables,this.state.context,this)),await((y=(A=this.options).onSettled)==null?void 0:y.call(A,R,null,n,this.state.context)),Ie(this,tr,Ti).call(this,{type:"success",data:R}),R}catch(R){try{throw await((w=(v=U(this,Le).config).onError)==null?void 0:w.call(v,R,n,this.state.context,this)),await((V=(I=this.options).onError)==null?void 0:V.call(I,R,n,this.state.context)),await((T=(L=U(this,Le).config).onSettled)==null?void 0:T.call(L,void 0,R,this.state.variables,this.state.context,this)),await((x=(_=this.options).onSettled)==null?void 0:x.call(_,void 0,R,n,this.state.context)),R}finally{Ie(this,tr,Ti).call(this,{type:"error",error:R})}}finally{U(this,Le).runNext(this)}}},Jn=new WeakMap,Le=new WeakMap,Ls=new WeakMap,tr=new WeakSet,Ti=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),je.batch(()=>{U(this,Jn).forEach(i=>{i.onMutationUpdate(n)}),U(this,Le).notify({mutation:this,type:"updated",action:n})})},ZE);function JM(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var kr,kn,Nu,JE,tP=(JE=class extends Xf{constructor(t={}){super();Et(this,kr);Et(this,kn);Et(this,Nu);this.config=t,ot(this,kr,new Set),ot(this,kn,new Map),ot(this,Nu,0)}build(t,n,r){const i=new ZM({mutationCache:this,mutationId:++Tc(this,Nu)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){U(this,kr).add(t);const n=qc(t);if(typeof n=="string"){const r=U(this,kn).get(n);r?r.push(t):U(this,kn).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(U(this,kr).delete(t)){const n=qc(t);if(typeof n=="string"){const r=U(this,kn).get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&U(this,kn).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=qc(t);if(typeof n=="string"){const r=U(this,kn).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const n=qc(t);if(typeof n=="string"){const i=(r=U(this,kn).get(n))==null?void 0:r.find(s=>s!==t&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){je.batch(()=>{U(this,kr).forEach(t=>{this.notify({type:"removed",mutation:t})}),U(this,kr).clear(),U(this,kn).clear()})}getAll(){return Array.from(U(this,kr))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>W0(n,r))}findAll(t={}){return this.getAll().filter(n=>W0(t,n))}notify(t){je.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return je.batch(()=>Promise.all(t.map(n=>n.continue().catch(Pn))))}},kr=new WeakMap,kn=new WeakMap,Nu=new WeakMap,JE);function qc(e){var t;return(t=e.options.scope)==null?void 0:t.id}function tb(e){return{onFetch:(t,n)=>{var h,m,p,d,S;const r=t.options,i=(p=(m=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:m.fetchMore)==null?void 0:p.direction,s=((d=t.state.data)==null?void 0:d.pages)||[],a=((S=t.state.data)==null?void 0:S.pageParams)||[];let o={pages:[],pageParams:[]},u=0;const c=async()=>{let E=!1;const A=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?E=!0:t.signal.addEventListener("abort",()=>{E=!0}),t.signal)})},y=QA(t.options,t.fetchOptions),v=async(w,I,V)=>{if(E)return Promise.reject();if(I==null&&w.pages.length)return Promise.resolve(w);const T=(()=>{const N={client:t.client,queryKey:t.queryKey,pageParam:I,direction:V?"backward":"forward",meta:t.options.meta};return A(N),N})(),_=await y(T),{maxPages:x}=t.options,R=V?BM:zM;return{pages:R(w.pages,_,x),pageParams:R(w.pageParams,I,x)}};if(i&&s.length){const w=i==="backward",I=w?eP:eb,V={pages:s,pageParams:a},L=I(r,V);o=await v(V,L,w)}else{const w=e??s.length;do{const I=u===0?a[0]??r.initialPageParam:eb(r,o);if(u>0&&I==null)break;o=await v(o,I),u++}while(u<w)}return o};t.options.persister?t.fetchFn=()=>{var E,A;return(A=(E=t.options).persister)==null?void 0:A.call(E,c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=c}}}function eb(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function eP(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Wt,ki,Li,co,ho,Ui,fo,mo,tw,nP=(tw=class{constructor(e={}){Et(this,Wt);Et(this,ki);Et(this,Li);Et(this,co);Et(this,ho);Et(this,Ui);Et(this,fo);Et(this,mo);ot(this,Wt,e.queryCache||new WM),ot(this,ki,e.mutationCache||new tP),ot(this,Li,e.defaultOptions||{}),ot(this,co,new Map),ot(this,ho,new Map),ot(this,Ui,0)}mount(){Tc(this,Ui)._++,U(this,Ui)===1&&(ot(this,fo,$A.subscribe(async e=>{e&&(await this.resumePausedMutations(),U(this,Wt).onFocus())})),ot(this,mo,nf.subscribe(async e=>{e&&(await this.resumePausedMutations(),U(this,Wt).onOnline())})))}unmount(){var e,t;Tc(this,Ui)._--,U(this,Ui)===0&&((e=U(this,fo))==null||e.call(this),ot(this,fo,void 0),(t=U(this,mo))==null||t.call(this),ot(this,mo,void 0))}isFetching(e){return U(this,Wt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return U(this,ki).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=U(this,Wt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=U(this,Wt).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Vp(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return U(this,Wt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=U(this,Wt).get(r.queryHash),s=i==null?void 0:i.state.data,a=PM(t,s);if(a!==void 0)return U(this,Wt).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return je.batch(()=>U(this,Wt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=U(this,Wt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=U(this,Wt);je.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=U(this,Wt);return je.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=je.batch(()=>U(this,Wt).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Pn).catch(Pn)}invalidateQueries(e,t={}){return je.batch(()=>(U(this,Wt).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=je.batch(()=>U(this,Wt).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Pn)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Pn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=U(this,Wt).build(this,t);return n.isStaleByTime(Vp(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Pn).catch(Pn)}fetchInfiniteQuery(e){return e.behavior=tb(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Pn).catch(Pn)}ensureInfiniteQueryData(e){return e.behavior=tb(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return nf.isOnline()?U(this,ki).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,Wt)}getMutationCache(){return U(this,ki)}getDefaultOptions(){return U(this,Li)}setDefaultOptions(e){ot(this,Li,e)}setQueryDefaults(e,t){U(this,co).set(gu(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...U(this,co).values()],n={};return t.forEach(r=>{yu(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){U(this,ho).set(gu(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...U(this,ho).values()],n={};return t.forEach(r=>{yu(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...U(this,Li).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Ay(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Sy&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...U(this,Li).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){U(this,Wt).clear(),U(this,ki).clear()}},Wt=new WeakMap,ki=new WeakMap,Li=new WeakMap,co=new WeakMap,ho=new WeakMap,Ui=new WeakMap,fo=new WeakMap,mo=new WeakMap,tw),rP=D.createContext(void 0),iP=({client:e,children:t})=>(D.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),M.jsx(rP.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rf(){return rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rf.apply(this,arguments)}var Hi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Hi||(Hi={}));const nb="popstate";function sP(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:a,hash:o}=r.location;return Lp("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:JA(i)}return oP(t,n,null,e)}function Ze(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ZA(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function aP(){return Math.random().toString(36).substr(2,8)}function rb(e,t){return{usr:e.state,key:e.key,idx:t}}function Lp(e,t,n,r){return n===void 0&&(n=null),rf({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Zf(t):t,{state:n,key:t&&t.key||r||aP()})}function JA(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Zf(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function oP(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=Hi.Pop,u=null,c=h();c==null&&(c=0,a.replaceState(rf({},a.state,{idx:c}),""));function h(){return(a.state||{idx:null}).idx}function m(){o=Hi.Pop;let A=h(),y=A==null?null:A-c;c=A,u&&u({action:o,location:E.location,delta:y})}function p(A,y){o=Hi.Push;let v=Lp(E.location,A,y);c=h()+1;let w=rb(v,c),I=E.createHref(v);try{a.pushState(w,"",I)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;i.location.assign(I)}s&&u&&u({action:o,location:E.location,delta:1})}function d(A,y){o=Hi.Replace;let v=Lp(E.location,A,y);c=h();let w=rb(v,c),I=E.createHref(v);a.replaceState(w,"",I),s&&u&&u({action:o,location:E.location,delta:0})}function S(A){let y=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof A=="string"?A:JA(A);return v=v.replace(/ $/,"%20"),Ze(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let E={get action(){return o},get location(){return e(i,a)},listen(A){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(nb,m),u=A,()=>{i.removeEventListener(nb,m),u=null}},createHref(A){return t(i,A)},createURL:S,encodeLocation(A){let y=S(A);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:d,go(A){return a.go(A)}};return E}var ib;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ib||(ib={}));function lP(e,t,n){return n===void 0&&(n="/"),uP(e,t,n)}function uP(e,t,n,r){let i=typeof t=="string"?Zf(t):t,s=nS(i.pathname||"/",n);if(s==null)return null;let a=tS(e);cP(a);let o=null;for(let u=0;o==null&&u<a.length;++u){let c=wP(s);o=_P(a[u],c)}return o}function tS(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let u={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(Ze(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Ja([r,u.relativePath]),h=n.concat(u);s.children&&s.children.length>0&&(Ze(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),tS(s.children,t,h,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:yP(c,s.index),routesMeta:h})};return e.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let u of eS(s.path))i(s,a,u)}),t}function eS(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=eS(r.join("/")),o=[];return o.push(...a.map(u=>u===""?s:[s,u].join("/"))),i&&o.push(...a),o.map(u=>e.startsWith("/")&&u===""?"/":u)}function cP(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:vP(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const hP=/^:[\w-]+$/,fP=3,dP=2,mP=1,pP=10,gP=-2,sb=e=>e==="*";function yP(e,t){let n=e.split("/"),r=n.length;return n.some(sb)&&(r+=gP),t&&(r+=dP),n.filter(i=>!sb(i)).reduce((i,s)=>i+(hP.test(s)?fP:s===""?mP:pP),r)}function vP(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function _P(e,t,n){let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let u=r[o],c=o===r.length-1,h=s==="/"?t:t.slice(s.length)||"/",m=bP({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},h),p=u.route;if(!m)return null;Object.assign(i,m.params),a.push({params:i,pathname:Ja([s,m.pathname]),pathnameBase:TP(Ja([s,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(s=Ja([s,m.pathnameBase]))}return a}function bP(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=EP(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,h,m)=>{let{paramName:p,isOptional:d}=h;if(p==="*"){let E=o[m]||"";a=s.slice(0,s.length-E.length).replace(/(.)\/+$/,"$1")}const S=o[m];return d&&!S?c[p]=void 0:c[p]=(S||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:e}}function EP(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),ZA(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,u)=>(r.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function wP(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ZA(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function nS(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const Ja=e=>e.join("/").replace(/\/\/+/g,"/"),TP=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/");function AP(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const rS=["post","put","patch","delete"];new Set(rS);const SP=["get",...rS];new Set(SP);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sf(){return sf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sf.apply(this,arguments)}const RP=D.createContext(null),xP=D.createContext(null),iS=D.createContext(null),Jf=D.createContext(null),td=D.createContext({outlet:null,matches:[],isDataRoute:!1}),sS=D.createContext(null);function Ry(){return D.useContext(Jf)!=null}function CP(){return Ry()||Ze(!1),D.useContext(Jf).location}function IP(e,t){return NP(e,t)}function NP(e,t,n,r){Ry()||Ze(!1);let{navigator:i}=D.useContext(iS),{matches:s}=D.useContext(td),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let c=CP(),h;if(t){var m;let A=typeof t=="string"?Zf(t):t;u==="/"||(m=A.pathname)!=null&&m.startsWith(u)||Ze(!1),h=A}else h=c;let p=h.pathname||"/",d=p;if(u!=="/"){let A=u.replace(/^\//,"").split("/");d="/"+p.replace(/^\//,"").split("/").slice(A.length).join("/")}let S=lP(e,{pathname:d}),E=VP(S&&S.map(A=>Object.assign({},A,{params:Object.assign({},o,A.params),pathname:Ja([u,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?u:Ja([u,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),s,n,r);return t&&E?D.createElement(Jf.Provider,{value:{location:sf({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Hi.Pop}},E):E}function OP(){let e=jP(),t=AP(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},t),n?D.createElement("pre",{style:i},n):null,null)}const DP=D.createElement(OP,null);class MP extends D.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?D.createElement(td.Provider,{value:this.props.routeContext},D.createElement(sS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function PP(e){let{routeContext:t,match:n,children:r}=e,i=D.useContext(RP);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),D.createElement(td.Provider,{value:t},r)}function VP(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=(i=n)==null?void 0:i.errors;if(o!=null){let h=a.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);h>=0||Ze(!1),a=a.slice(0,Math.min(a.length,h+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<a.length;h++){let m=a[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=h),m.route.id){let{loaderData:p,errors:d}=n,S=m.route.loader&&p[m.route.id]===void 0&&(!d||d[m.route.id]===void 0);if(m.route.lazy||S){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((h,m,p)=>{let d,S=!1,E=null,A=null;n&&(d=o&&m.route.id?o[m.route.id]:void 0,E=m.route.errorElement||DP,u&&(c<0&&p===0?(zP("route-fallback"),S=!0,A=null):c===p&&(S=!0,A=m.route.hydrateFallbackElement||null)));let y=t.concat(a.slice(0,p+1)),v=()=>{let w;return d?w=E:S?w=A:m.route.Component?w=D.createElement(m.route.Component,null):m.route.element?w=m.route.element:w=h,D.createElement(PP,{match:m,routeContext:{outlet:h,matches:y,isDataRoute:n!=null},children:w})};return n&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?D.createElement(MP,{location:n.location,revalidation:n.revalidation,component:E,error:d,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var aS=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(aS||{});function kP(e){let t=D.useContext(xP);return t||Ze(!1),t}function LP(e){let t=D.useContext(td);return t||Ze(!1),t}function UP(e){let t=LP(),n=t.matches[t.matches.length-1];return n.route.id||Ze(!1),n.route.id}function jP(){var e;let t=D.useContext(sS),n=kP(aS.UseRouteError),r=UP();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}const ab={};function zP(e,t,n){ab[e]||(ab[e]=!0)}function BP(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Up(e){Ze(!1)}function qP(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Hi.Pop,navigator:s,static:a=!1,future:o}=e;Ry()&&Ze(!1);let u=t.replace(/^\/*/,"/"),c=D.useMemo(()=>({basename:u,navigator:s,static:a,future:sf({v7_relativeSplatPath:!1},o)}),[u,o,s,a]);typeof r=="string"&&(r=Zf(r));let{pathname:h="/",search:m="",hash:p="",state:d=null,key:S="default"}=r,E=D.useMemo(()=>{let A=nS(h,u);return A==null?null:{location:{pathname:A,search:m,hash:p,state:d,key:S},navigationType:i}},[u,h,m,p,d,S,i]);return E==null?null:D.createElement(iS.Provider,{value:c},D.createElement(Jf.Provider,{children:n,value:E}))}function HP(e){let{children:t,location:n}=e;return IP(jp(t),n)}new Promise(()=>{});function jp(e,t){t===void 0&&(t=[]);let n=[];return D.Children.forEach(e,(r,i)=>{if(!D.isValidElement(r))return;let s=[...t,i];if(r.type===D.Fragment){n.push.apply(n,jp(r.props.children,s));return}r.type!==Up&&Ze(!1),!r.props.index||!r.props.children||Ze(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=jp(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const FP="6";try{window.__reactRouterVersion=FP}catch{}const GP="startTransition",ob=mw[GP];function QP(e){let{basename:t,children:n,future:r,window:i}=e,s=D.useRef();s.current==null&&(s.current=sP({window:i,v5Compat:!0}));let a=s.current,[o,u]=D.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},h=D.useCallback(m=>{c&&ob?ob(()=>u(m)):u(m)},[u,c]);return D.useLayoutEffect(()=>a.listen(h),[a,h]),D.useEffect(()=>BP(r),[r]),D.createElement(qP,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}var lb;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(lb||(lb={}));var ub;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ub||(ub={}));const $P=()=>{};var cb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},YP=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],a=e[n++],o=e[n++],u=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;t[r++]=String.fromCharCode(55296+(u>>10)),t[r++]=String.fromCharCode(56320+(u&1023))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return t.join("")},lS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],a=i+1<e.length,o=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,h=s>>2,m=(s&3)<<4|o>>4;let p=(o&15)<<2|c>>6,d=c&63;u||(d=64,a||(p=64)),r.push(n[h],n[m],n[p],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(oS(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):YP(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const c=i<e.length?n[e.charAt(i)]:64;++i;const m=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||o==null||c==null||m==null)throw new KP;const p=s<<2|o>>4;if(r.push(p),c!==64){const d=o<<4&240|c>>2;if(r.push(d),m!==64){const S=c<<6&192|m;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class KP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XP=function(e){const t=oS(e);return lS.encodeByteArray(t,!0)},af=function(e){return XP(e).replace(/\./g,"")},uS=function(e){try{return lS.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP=()=>WP().__FIREBASE_DEFAULTS__,JP=()=>{if(typeof process>"u"||typeof cb>"u")return;const e=cb.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},t4=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&uS(e[1]);return t&&JSON.parse(t)},ed=()=>{try{return $P()||ZP()||JP()||t4()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},cS=e=>{var t,n;return(n=(t=ed())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},e4=e=>{const t=cS(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},hS=()=>{var e;return(e=ed())==null?void 0:e.config},fS=e=>{var t;return(t=ed())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function dS(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...e};return[af(JSON.stringify(n)),af(JSON.stringify(a)),""].join(".")}const Yl={};function i4(){const e={prod:[],emulator:[]};for(const t of Object.keys(Yl))Yl[t]?e.emulator.push(t):e.prod.push(t);return e}function s4(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let hb=!1;function mS(e,t){if(typeof window>"u"||typeof document>"u"||!Qo(window.location.host)||Yl[e]===t||Yl[e]||hb)return;Yl[e]=t;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",s=i4().prod.length>0;function a(){const p=document.getElementById(r);p&&p.remove()}function o(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function u(p,d){p.setAttribute("width","24"),p.setAttribute("id",d),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{hb=!0,a()},p}function h(p,d){p.setAttribute("id",d),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function m(){const p=s4(r),d=n("text"),S=document.getElementById(d)||document.createElement("span"),E=n("learnmore"),A=document.getElementById(E)||document.createElement("a"),y=n("preprendIcon"),v=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const w=p.element;o(w),h(A,E);const I=c();u(v,y),w.append(v,S,A,I),document.body.appendChild(w)}s?(S.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",d)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function a4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ke())}function o4(){var t;const e=(t=ed())==null?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function l4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function u4(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function c4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function h4(){const e=ke();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function f4(){return!o4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function d4(){try{return typeof indexedDB=="object"}catch{return!1}}function m4(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)==null?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p4="FirebaseError";class li extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=p4,Object.setPrototypeOf(this,li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Yu.prototype.create)}}class Yu{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],a=s?g4(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new li(i,o,r)}}function g4(e,t){return e.replace(y4,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const y4=/\{\$([^}]+)}/g;function v4(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Zs(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],a=t[i];if(fb(s)&&fb(a)){if(!Zs(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function fb(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function _4(e,t){const n=new b4(e,t);return n.subscribe.bind(n)}class b4{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");E4(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=bm),i.error===void 0&&(i.error=bm),i.complete===void 0&&(i.complete=bm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function E4(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function bm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(e){return e&&e._delegate?e._delegate:e}class Js{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new n4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(A4(t))try{this.getOrInitializeService({instanceIdentifier:Ns})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Ns){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ns){return this.instances.has(t)}getOptions(t=Ns){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(t),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&t(s,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:T4(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Ns){return this.component?this.component.multipleInstances?t:Ns:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function T4(e){return e===Ns?void 0:e}function A4(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new w4(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(dt||(dt={}));const R4={debug:dt.DEBUG,verbose:dt.VERBOSE,info:dt.INFO,warn:dt.WARN,error:dt.ERROR,silent:dt.SILENT},x4=dt.INFO,C4={[dt.DEBUG]:"log",[dt.VERBOSE]:"log",[dt.INFO]:"info",[dt.WARN]:"warn",[dt.ERROR]:"error"},I4=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=C4[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class xy{constructor(t){this.name=t,this._logLevel=x4,this._logHandler=I4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?R4[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,dt.DEBUG,...t),this._logHandler(this,dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,dt.VERBOSE,...t),this._logHandler(this,dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,dt.INFO,...t),this._logHandler(this,dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,dt.WARN,...t),this._logHandler(this,dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,dt.ERROR,...t),this._logHandler(this,dt.ERROR,...t)}}const N4=(e,t)=>t.some(n=>e instanceof n);let db,mb;function O4(){return db||(db=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function D4(){return mb||(mb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pS=new WeakMap,zp=new WeakMap,gS=new WeakMap,Em=new WeakMap,Cy=new WeakMap;function M4(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",a)},s=()=>{n(Ji(e.result)),i()},a=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&pS.set(n,e)}).catch(()=>{}),Cy.set(t,e),t}function P4(e){if(zp.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",a),e.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",a),e.addEventListener("abort",a)});zp.set(e,t)}let Bp={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return zp.get(e);if(t==="objectStoreNames")return e.objectStoreNames||gS.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ji(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function V4(e){Bp=e(Bp)}function k4(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(wm(this),t,...n);return gS.set(r,t.sort?t.sort():[t]),Ji(r)}:D4().includes(e)?function(...t){return e.apply(wm(this),t),Ji(pS.get(this))}:function(...t){return Ji(e.apply(wm(this),t))}}function L4(e){return typeof e=="function"?k4(e):(e instanceof IDBTransaction&&P4(e),N4(e,O4())?new Proxy(e,Bp):e)}function Ji(e){if(e instanceof IDBRequest)return M4(e);if(Em.has(e))return Em.get(e);const t=L4(e);return t!==e&&(Em.set(e,t),Cy.set(t,e)),t}const wm=e=>Cy.get(e);function U4(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(e,t),o=Ji(a);return r&&a.addEventListener("upgradeneeded",u=>{r(Ji(a.result),u.oldVersion,u.newVersion,Ji(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),o.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const j4=["get","getKey","getAll","getAllKeys","count"],z4=["put","add","delete","clear"],Tm=new Map;function pb(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Tm.get(t))return Tm.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=z4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||j4.includes(n)))return;const s=async function(a,...o){const u=this.transaction(a,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&u.done]))[0]};return Tm.set(t,s),s}V4(e=>({...e,get:(t,n,r)=>pb(t,n)||e.get(t,n,r),has:(t,n)=>!!pb(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(q4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function q4(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const qp="@firebase/app",gb="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ti=new xy("@firebase/app"),H4="@firebase/app-compat",F4="@firebase/analytics-compat",G4="@firebase/analytics",Q4="@firebase/app-check-compat",$4="@firebase/app-check",Y4="@firebase/auth",K4="@firebase/auth-compat",X4="@firebase/database",W4="@firebase/data-connect",Z4="@firebase/database-compat",J4="@firebase/functions",tV="@firebase/functions-compat",eV="@firebase/installations",nV="@firebase/installations-compat",rV="@firebase/messaging",iV="@firebase/messaging-compat",sV="@firebase/performance",aV="@firebase/performance-compat",oV="@firebase/remote-config",lV="@firebase/remote-config-compat",uV="@firebase/storage",cV="@firebase/storage-compat",hV="@firebase/firestore",fV="@firebase/ai",dV="@firebase/firestore-compat",mV="firebase",pV="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp="[DEFAULT]",gV={[qp]:"fire-core",[H4]:"fire-core-compat",[G4]:"fire-analytics",[F4]:"fire-analytics-compat",[$4]:"fire-app-check",[Q4]:"fire-app-check-compat",[Y4]:"fire-auth",[K4]:"fire-auth-compat",[X4]:"fire-rtdb",[W4]:"fire-data-connect",[Z4]:"fire-rtdb-compat",[J4]:"fire-fn",[tV]:"fire-fn-compat",[eV]:"fire-iid",[nV]:"fire-iid-compat",[rV]:"fire-fcm",[iV]:"fire-fcm-compat",[sV]:"fire-perf",[aV]:"fire-perf-compat",[oV]:"fire-rc",[lV]:"fire-rc-compat",[uV]:"fire-gcs",[cV]:"fire-gcs-compat",[hV]:"fire-fst",[dV]:"fire-fst-compat",[fV]:"fire-vertex","fire-js":"fire-js",[mV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of=new Map,yV=new Map,Fp=new Map;function yb(e,t){try{e.container.addComponent(t)}catch(n){ti.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Io(e){const t=e.name;if(Fp.has(t))return ti.debug(`There were multiple attempts to register component ${t}.`),!1;Fp.set(t,e);for(const n of of.values())yb(n,e);for(const n of yV.values())yb(n,e);return!0}function Iy(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Sn(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ts=new Yu("app","Firebase",vV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o=pV;function Ny(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r={name:Hp,automaticDataCollectionEnabled:!0,...t},i=r.name;if(typeof i!="string"||!i)throw ts.create("bad-app-name",{appName:String(i)});if(n||(n=hS()),!n)throw ts.create("no-options");const s=of.get(i);if(s){if(Zs(n,s.options)&&Zs(r,s.config))return s;throw ts.create("duplicate-app",{appName:i})}const a=new S4(i);for(const u of Fp.values())a.addComponent(u);const o=new _V(n,r,a);return of.set(i,o),o}function yS(e=Hp){const t=of.get(e);if(!t&&e===Hp&&hS())return Ny();if(!t)throw ts.create("no-app",{appName:e});return t}function es(e,t,n){let r=gV[e]??e;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const a=[`Unable to register library "${r}" with version "${t}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ti.warn(a.join(" "));return}Io(new Js(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV="firebase-heartbeat-database",EV=1,vu="firebase-heartbeat-store";let Am=null;function vS(){return Am||(Am=U4(bV,EV,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(vu)}catch(n){console.warn(n)}}}}).catch(e=>{throw ts.create("idb-open",{originalErrorMessage:e.message})})),Am}async function wV(e){try{const n=(await vS()).transaction(vu),r=await n.objectStore(vu).get(_S(e));return await n.done,r}catch(t){if(t instanceof li)ti.warn(t.message);else{const n=ts.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ti.warn(n.message)}}}async function vb(e,t){try{const r=(await vS()).transaction(vu,"readwrite");await r.objectStore(vu).put(t,_S(e)),await r.done}catch(n){if(n instanceof li)ti.warn(n.message);else{const r=ts.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ti.warn(r.message)}}}function _S(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TV=1024,AV=30;class SV{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=_b();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>AV){const a=CV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ti.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=_b(),{heartbeatsToSend:r,unsentEntries:i}=RV(this._heartbeatsCache.heartbeats),s=af(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ti.warn(n),""}}}function _b(){return new Date().toISOString().substring(0,10)}function RV(e,t=TV){const n=[];let r=e.slice();for(const i of e){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),bb(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),bb(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class xV{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return d4()?m4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return vb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return vb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function bb(e){return af(JSON.stringify({version:2,heartbeats:e})).length}function CV(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IV(e){Io(new Js("platform-logger",t=>new B4(t),"PRIVATE")),Io(new Js("heartbeat",t=>new SV(t),"PRIVATE")),es(qp,gb,e),es(qp,gb,"esm2020"),es("fire-js","")}IV("");var NV="firebase",OV="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */es(NV,OV,"app");function bS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DV=bS,ES=new Yu("auth","Firebase",bS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf=new xy("@firebase/auth");function MV(e,...t){lf.logLevel<=dt.WARN&&lf.warn(`Auth (${$o}): ${e}`,...t)}function ch(e,...t){lf.logLevel<=dt.ERROR&&lf.error(`Auth (${$o}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(e,...t){throw Oy(e,...t)}function dr(e,...t){return Oy(e,...t)}function wS(e,t,n){const r={...DV(),[t]:n};return new Yu("auth","Firebase",r).create(t,{appName:e.name})}function $r(e){return wS(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Oy(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return ES.create(e,...t)}function et(e,t,...n){if(!e)throw Oy(t,...n)}function Hr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ch(t),new Error(t)}function ni(e,t){e||Hr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function PV(){return Eb()==="http:"||Eb()==="https:"}function Eb(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PV()||u4()||"connection"in navigator)?navigator.onLine:!0}function kV(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(t,n){this.shortDelay=t,this.longDelay=n,ni(n>t,"Short delay should be less than long delay!"),this.isMobile=a4()||c4()}get(){return VV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(e,t){ni(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jV=new Xu(3e4,6e4);function Wu(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Yo(e,t,n,r,i={}){return AS(e,i,async()=>{let s={},a={};r&&(t==="GET"?a=r:s={body:JSON.stringify(r)});const o=Ku({key:e.config.apiKey,...a}).slice(1),u=await e._getAdditionalHeaders();u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode);const c={method:t,headers:u,...s};return l4()||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&Qo(e.emulatorConfig.host)&&(c.credentials="include"),TS.fetch()(await SS(e,e.config.apiHost,n,o),c)})}async function AS(e,t,n){e._canInitEmulator=!1;const r={...LV,...t};try{const i=new zV(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Hc(e,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[u,c]=o.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hc(e,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Hc(e,"email-already-in-use",a);if(u==="USER_DISABLED")throw Hc(e,"user-disabled",a);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw wS(e,h,c);ei(e,h)}}catch(i){if(i instanceof li)throw i;ei(e,"network-request-failed",{message:String(i)})}}async function My(e,t,n,r,i={}){const s=await Yo(e,t,n,r,i);return"mfaPendingCredential"in s&&ei(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function SS(e,t,n,r){const i=`${t}${n}?${r}`,s=e,a=s.config.emulator?Dy(e.config,i):`${e.config.apiScheme}://${i}`;return UV.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}class zV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(dr(this.auth,"network-request-failed")),jV.get())})}}function Hc(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=dr(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BV(e,t){return Yo(e,"POST","/v1/accounts:delete",t)}async function uf(e,t){return Yo(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function qV(e,t=!1){const n=Je(e),r=await n.getIdToken(t),i=Py(r);et(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Kl(Sm(i.auth_time)),issuedAtTime:Kl(Sm(i.iat)),expirationTime:Kl(Sm(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Sm(e){return Number(e)*1e3}function Py(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return ch("JWT malformed, contained fewer than 3 sections"),null;try{const i=uS(n);return i?JSON.parse(i):(ch("Failed to decode base64 JWT payload"),null)}catch(i){return ch("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function wb(e){const t=Py(e);return et(t,"internal-error"),et(typeof t.exp<"u","internal-error"),et(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _u(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof li&&HV(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function HV({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kl(this.lastLoginAt),this.creationTime=Kl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cf(e){var m;const t=e.auth,n=await e.getIdToken(),r=await _u(e,uf(t,{idToken:n}));et(r==null?void 0:r.users.length,t,"internal-error");const i=r.users[0];e._notifyReloadListener(i);const s=(m=i.providerUserInfo)!=null&&m.length?RS(i.providerUserInfo):[],a=QV(e.providerData,s),o=e.isAnonymous,u=!(e.email&&i.passwordHash)&&!(a!=null&&a.length),c=o?u:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Qp(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(e,h)}async function GV(e){const t=Je(e);await cf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function QV(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function RS(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $V(e,t){const n=await AS(e,{},async()=>{const r=Ku({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,a=await SS(e,i,"/v1/token",`key=${s}`),o=await e._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:o,body:r};return e.emulatorConfig&&Qo(e.emulatorConfig.host)&&(u.credentials="include"),TS.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function YV(e,t){return Yo(e,"POST","/v2/accounts:revokeToken",Wu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){et(t.idToken,"internal-error"),et(typeof t.idToken<"u","internal-error"),et(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):wb(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){et(t.length!==0,"internal-error");const n=wb(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(et(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await $V(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new to;return r&&(et(typeof r=="string","internal-error",{appName:t}),a.refreshToken=r),i&&(et(typeof i=="string","internal-error",{appName:t}),a.accessToken=i),s&&(et(typeof s=="number","internal-error",{appName:t}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new to,this.toJSON())}_performRefresh(){return Hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(e,t){et(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Un{constructor({uid:t,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new FV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Qp(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const n=await _u(this,this.stsTokenManager.getToken(this.auth,t));return et(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return qV(this,t)}reload(){return GV(this)}_assign(t){this!==t&&(et(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Un({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){et(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await cf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sn(this.auth.app))return Promise.reject($r(this.auth));const t=await this.getIdToken();return await _u(this,BV(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,o=n.tenantId??void 0,u=n._redirectEventId??void 0,c=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:m,emailVerified:p,isAnonymous:d,providerData:S,stsTokenManager:E}=n;et(m&&E,t,"internal-error");const A=to.fromJSON(this.name,E);et(typeof m=="string",t,"internal-error"),Ei(r,t.name),Ei(i,t.name),et(typeof p=="boolean",t,"internal-error"),et(typeof d=="boolean",t,"internal-error"),Ei(s,t.name),Ei(a,t.name),Ei(o,t.name),Ei(u,t.name),Ei(c,t.name),Ei(h,t.name);const y=new Un({uid:m,auth:t,email:i,emailVerified:p,displayName:r,isAnonymous:d,photoURL:a,phoneNumber:s,tenantId:o,stsTokenManager:A,createdAt:c,lastLoginAt:h});return S&&Array.isArray(S)&&(y.providerData=S.map(v=>({...v}))),u&&(y._redirectEventId=u),y}static async _fromIdTokenResponse(t,n,r=!1){const i=new to;i.updateFromServerResponse(n);const s=new Un({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await cf(s),s}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];et(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?RS(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new to;o.updateFromIdToken(r);const u=new Un({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Qp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb=new Map;function Fr(e){ni(e instanceof Function,"Expected a class definition");let t=Tb.get(e);return t?(ni(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Tb.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}xS.type="NONE";const Ab=xS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(e,t,n){return`firebase:${e}:${t}:${n}`}class eo{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=hh(this.userKey,i.apiKey,s),this.fullPersistenceKey=hh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await uf(this.auth,{idToken:t}).catch(()=>{});return n?Un._fromGetAccountInfoResponse(this.auth,n,t):null}return Un._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new eo(Fr(Ab),t,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Fr(Ab);const a=hh(r,t.config.apiKey,t.name);let o=null;for(const c of n)try{const h=await c._get(a);if(h){let m;if(typeof h=="string"){const p=await uf(t,{idToken:h}).catch(()=>{});if(!p)break;m=await Un._fromGetAccountInfoResponse(t,p,h)}else m=Un._fromJSON(t,h);c!==s&&(o=m),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new eo(s,t,r):(s=u[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new eo(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(OS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(CS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(MS(t))return"Blackberry";if(PS(t))return"Webos";if(IS(t))return"Safari";if((t.includes("chrome/")||NS(t))&&!t.includes("edge/"))return"Chrome";if(DS(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function CS(e=ke()){return/firefox\//i.test(e)}function IS(e=ke()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function NS(e=ke()){return/crios\//i.test(e)}function OS(e=ke()){return/iemobile/i.test(e)}function DS(e=ke()){return/android/i.test(e)}function MS(e=ke()){return/blackberry/i.test(e)}function PS(e=ke()){return/webos/i.test(e)}function Vy(e=ke()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function KV(e=ke()){var t;return Vy(e)&&!!((t=window.navigator)!=null&&t.standalone)}function XV(){return h4()&&document.documentMode===10}function VS(e=ke()){return Vy(e)||DS(e)||PS(e)||MS(e)||/windows phone/i.test(e)||OS(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(e,t=[]){let n;switch(e){case"Browser":n=Sb(ke());break;case"Worker":n=`${Sb(ke())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${$o}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((a,o)=>{try{const u=t(s);a(u)}catch(u){o(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZV(e,t={}){return Yo(e,"GET","/v2/passwordPolicy",Wu(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV=6;class tk{constructor(t){var r;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??JV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=t.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rb(this),this.idTokenSubscription=new Rb(this),this.beforeStateQueue=new WV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ES,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Fr(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await eo.create(this,t),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await uf(this,{idToken:t}),r=await Un._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var s;if(Sn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,o=r==null?void 0:r._redirectEventId,u=await this.tryRedirectSignIn(t);(!a||a===o)&&(u!=null&&u.user)&&(r=u.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return et(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await cf(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=kV()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Sn(this.app))return Promise.reject($r(this));const n=t?Je(t):null;return n&&et(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&et(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Sn(this.app)?Promise.reject($r(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Sn(this.app)?Promise.reject($r(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await ZV(this),n=new tk(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Yu("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await YV(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Fr(t)||this._popupRedirectResolver;et(n,this,"argument-error"),this.redirectPersistenceManager=await eo.create(this,[Fr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(et(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,r,i);return()=>{a=!0,u()}}else{const u=t.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return et(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=kS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var n;if(Sn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&MV(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Zu(e){return Je(e)}class Rb{constructor(t){this.auth=t,this.observer=null,this.addObserver=_4(n=>this.observer=n)}get next(){return et(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ky={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nk(e){ky=e}function rk(e){return ky.loadJS(e)}function ik(){return ky.gapiScript}function sk(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(e,t){const n=Iy(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Zs(s,t??{}))return i;ei(i,"already-initialized")}return n.initialize({options:t})}function ok(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Fr);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function lk(e,t,n){const r=Zu(e);et(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!1,s=LS(t),{host:a,port:o}=uk(t),u=o===null?"":`:${o}`,c={url:`${s}//${a}${u}/`},h=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){et(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),et(Zs(c,r.config.emulator)&&Zs(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Qo(a)?(dS(`${s}//${a}${u}`),mS("Auth",!0)):ck()}function LS(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function uk(e){const t=LS(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:xb(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:xb(a)}}}function xb(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function ck(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Hr("not implemented")}_getIdTokenResponse(t){return Hr("not implemented")}_linkToIdToken(t,n){return Hr("not implemented")}_getReauthenticationResolver(t){return Hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function no(e,t){return My(e,"POST","/v1/accounts:signInWithIdp",Wu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk="http://localhost";class ta extends US{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ta(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):ei("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const a=new ta(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return no(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,no(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,no(t,n)}buildRequest(){const t={requestUri:hk,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Ku(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju extends jS{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends Ju{constructor(){super("facebook.com")}static credential(t){return ta._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ni.credentialFromTaggedObject(t)}static credentialFromError(t){return Ni.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ni.credential(t.oauthAccessToken)}catch{return null}}}Ni.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ni.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends Ju{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ta._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Oi.credentialFromTaggedObject(t)}static credentialFromError(t){return Oi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Oi.credential(n,r)}catch{return null}}}Oi.GOOGLE_SIGN_IN_METHOD="google.com";Oi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di extends Ju{constructor(){super("github.com")}static credential(t){return ta._fromParams({providerId:Di.PROVIDER_ID,signInMethod:Di.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Di.credentialFromTaggedObject(t)}static credentialFromError(t){return Di.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Di.credential(t.oauthAccessToken)}catch{return null}}}Di.GITHUB_SIGN_IN_METHOD="github.com";Di.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends Ju{constructor(){super("twitter.com")}static credential(t,n){return ta._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Mi.credentialFromTaggedObject(t)}static credentialFromError(t){return Mi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Mi.credential(n,r)}catch{return null}}}Mi.TWITTER_SIGN_IN_METHOD="twitter.com";Mi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fk(e,t){return My(e,"POST","/v1/accounts:signUp",Wu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await Un._fromIdTokenResponse(t,r,i),a=Cb(r);return new ri({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=Cb(r);return new ri({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function Cb(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ib(e){var i;if(Sn(e.app))return Promise.reject($r(e));const t=Zu(e);if(await t._initializationPromise,(i=t.currentUser)!=null&&i.isAnonymous)return new ri({user:t.currentUser,providerId:null,operationType:"signIn"});const n=await fk(t,{returnSecureToken:!0}),r=await ri._fromIdTokenResponse(t,"signIn",n,!0);return await t._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf extends li{constructor(t,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,hf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new hf(t,n,r,i)}}function zS(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?hf._fromErrorAndOperation(e,s,t,r):s})}async function dk(e,t,n=!1){const r=await _u(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ri._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mk(e,t,n=!1){const{auth:r}=e;if(Sn(r.app))return Promise.reject($r(r));const i="reauthenticate";try{const s=await _u(e,zS(r,i,t,e),n);et(s.idToken,r,"internal-error");const a=Py(s.idToken);et(a,r,"internal-error");const{sub:o}=a;return et(e.uid===o,r,"user-mismatch"),ri._forOperation(e,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ei(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pk(e,t,n=!1){if(Sn(e.app))return Promise.reject($r(e));const r="signIn",i=await zS(e,r,t),s=await ri._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gk(e,t){return My(e,"POST","/v1/accounts:signInWithCustomToken",Wu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yk(e,t){if(Sn(e.app))return Promise.reject($r(e));const n=Zu(e),r=await gk(n,{token:t,returnSecureToken:!0}),i=await ri._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}function vk(e,t,n,r){return Je(e).onIdTokenChanged(t,n,r)}function _k(e,t,n){return Je(e).beforeAuthStateChanged(t,n)}function bk(e,t,n,r){return Je(e).onAuthStateChanged(t,n,r)}const ff="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ff,"1"),this.storage.removeItem(ff),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek=1e3,wk=10;class qS extends BS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,o,u)=>{this.notifyListeners(a,u)});return}const r=t.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);XV()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,wk):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},Ek)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}qS.type="LOCAL";const Tk=qS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS extends BS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}HS.type="SESSION";const FS=HS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ak(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new nd(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async c=>c(n.origin,s)),u=await Ak(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,u)=>{const c=Ly("",20);i.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(m){const p=m;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(p.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(){return window}function Rk(e){mr().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(){return typeof mr().WorkerGlobalScope<"u"&&typeof mr().importScripts=="function"}async function xk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ck(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function Ik(){return GS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS="firebaseLocalStorageDb",Nk=1,df="firebaseLocalStorage",$S="fbase_key";class tc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rd(e,t){return e.transaction([df],t?"readwrite":"readonly").objectStore(df)}function Ok(){const e=indexedDB.deleteDatabase(QS);return new tc(e).toPromise()}function $p(){const e=indexedDB.open(QS,Nk);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(df,{keyPath:$S})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(df)?t(r):(r.close(),await Ok(),t(await $p()))})})}async function Nb(e,t,n){const r=rd(e,!0).put({[$S]:t,value:n});return new tc(r).toPromise()}async function Dk(e,t){const n=rd(e,!1).get(t),r=await new tc(n).toPromise();return r===void 0?null:r.value}function Ob(e,t){const n=rd(e,!0).delete(t);return new tc(n).toPromise()}const Mk=800,Pk=3;class YS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $p(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>Pk)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nd._getInstance(Ik()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await xk(),!this.activeServiceWorker)return;this.sender=new Sk(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(r=t[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Ck()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await $p();return await Nb(t,ff,"1"),await Ob(t,ff),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Nb(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>Dk(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ob(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=rd(i,!1).getAll();return new tc(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Mk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YS.type="LOCAL";const Vk=YS;new Xu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(e,t){return t?Fr(t):(et(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy extends US{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return no(t,this._buildIdpRequest())}_linkToIdToken(t,n){return no(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return no(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function Lk(e){return pk(e.auth,new Uy(e),e.bypassAuthState)}function Uk(e){const{auth:t,user:n}=e;return et(n,t,"internal-error"),mk(n,new Uy(e),e.bypassAuthState)}async function jk(e){const{auth:t,user:n}=e;return et(n,t,"internal-error"),dk(n,new Uy(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=t;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(u))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Lk;case"linkViaPopup":case"linkViaRedirect":return jk;case"reauthViaPopup":case"reauthViaRedirect":return Uk;default:ei(this.auth,"internal-error")}}resolve(t){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk=new Xu(2e3,1e4);class qa extends KS{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,qa.currentPopupAction&&qa.currentPopupAction.cancel(),qa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return et(t,this.auth,"internal-error"),t}async onExecution(){ni(this.filter.length===1,"Popup operations only handle one event");const t=Ly();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(dr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(dr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qa.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(dr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,zk.get())};t()}}qa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk="pendingRedirect",fh=new Map;class qk extends KS{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=fh.get(this.auth._key());if(!t){try{const r=await Hk(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}fh.set(this.auth._key(),t)}return this.bypassAuthState||fh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Hk(e,t){const n=Qk(t),r=Gk(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Fk(e,t){fh.set(e._key(),t)}function Gk(e){return Fr(e._redirectPersistence)}function Qk(e){return hh(Bk,e.config.apiKey,e.name)}async function $k(e,t,n=!1){if(Sn(e.app))return Promise.reject($r(e));const r=Zu(e),i=kk(r,t),a=await new qk(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk=10*60*1e3;class Kk{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Xk(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!XS(t)){const i=((r=t.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(dr(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Yk&&this.cachedEventUids.clear(),this.cachedEventUids.has(Db(t))}saveEventToCache(t){this.cachedEventUids.add(Db(t)),this.lastProcessedEventTime=Date.now()}}function Db(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function XS({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Xk(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XS(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wk(e,t={}){return Yo(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Jk=/^https?/;async function t6(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Wk(e);for(const n of t)try{if(e6(n))return}catch{}ei(e,"unauthorized-domain")}function e6(e){const t=Gp(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!Jk.test(n))return!1;if(Zk.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6=new Xu(3e4,6e4);function Mb(){const e=mr().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function r6(e){return new Promise((t,n)=>{var i,s,a;function r(){Mb(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Mb(),n(dr(e,"network-request-failed"))},timeout:n6.get()})}if((s=(i=mr().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)t(gapi.iframes.getContext());else if((a=mr().gapi)!=null&&a.load)r();else{const o=sk("iframefcb");return mr()[o]=()=>{gapi.load?r():n(dr(e,"network-request-failed"))},rk(`${ik()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw dh=null,t})}let dh=null;function i6(e){return dh=dh||r6(e),dh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6=new Xu(5e3,15e3),a6="__/auth/iframe",o6="emulator/auth/iframe",l6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},u6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function c6(e){const t=e.config;et(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Dy(t,o6):`https://${e.config.authDomain}/${a6}`,r={apiKey:t.apiKey,appName:e.name,v:$o},i=u6.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Ku(r).slice(1)}`}async function h6(e){const t=await i6(e),n=mr().gapi;return et(n,e,"internal-error"),t.open({where:document.body,url:c6(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:l6,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=dr(e,"network-request-failed"),o=mr().setTimeout(()=>{s(a)},s6.get());function u(){mr().clearTimeout(o),i(r)}r.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},d6=500,m6=600,p6="_blank",g6="http://localhost";class Pb{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function y6(e,t,n,r=d6,i=m6){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const u={...f6,width:r.toString(),height:i.toString(),top:s,left:a},c=ke().toLowerCase();n&&(o=NS(c)?p6:n),CS(c)&&(t=t||g6,u.scrollbars="yes");const h=Object.entries(u).reduce((p,[d,S])=>`${p}${d}=${S},`,"");if(KV(c)&&o!=="_self")return v6(t||"",o),new Pb(null);const m=window.open(t||"",o,h);et(m,e,"popup-blocked");try{m.focus()}catch{}return new Pb(m)}function v6(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6="__/auth/handler",b6="emulator/auth/handler",E6=encodeURIComponent("fac");async function Vb(e,t,n,r,i,s){et(e.config.authDomain,e,"auth-domain-config-required"),et(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:$o,eventId:i};if(t instanceof jS){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",v4(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[h,m]of Object.entries({}))a[h]=m}if(t instanceof Ju){const h=t.getScopes().filter(m=>m!=="");h.length>0&&(a.scopes=h.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const h of Object.keys(o))o[h]===void 0&&delete o[h];const u=await e._getAppCheckToken(),c=u?`#${E6}=${encodeURIComponent(u)}`:"";return`${w6(e)}?${Ku(o).slice(1)}${c}`}function w6({config:e}){return e.emulator?Dy(e,b6):`https://${e.authDomain}/${_6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="webStorageSupport";class T6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FS,this._completeRedirectFn=$k,this._overrideRedirectResult=Fk}async _openPopup(t,n,r,i){var a;ni((a=this.eventManagers[t._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await Vb(t,n,r,Gp(),i);return y6(t,s,Ly())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await Vb(t,n,r,Gp(),i);return Rk(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ni(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await h6(t),r=new Kk(t);return n.register("authEvent",i=>(et(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Rm,{type:Rm},i=>{var a;const s=(a=i==null?void 0:i[0])==null?void 0:a[Rm];s!==void 0&&n(!!s),ei(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=t6(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return VS()||IS()||Vy()}}const A6=T6;var kb="@firebase/auth",Lb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){et(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R6(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function x6(e){Io(new Js("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;et(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:a,authDomain:o,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kS(e)},c=new ek(r,i,s,u);return ok(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Io(new Js("auth-internal",t=>{const n=Zu(t.getProvider("auth").getImmediate());return(r=>new S6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),es(kb,Lb,R6(e)),es(kb,Lb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6=5*60,I6=fS("authIdTokenMaxAge")||C6;let Ub=null;const N6=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>I6)return;const i=n==null?void 0:n.token;Ub!==i&&(Ub=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function O6(e=yS()){const t=Iy(e,"auth");if(t.isInitialized())return t.getImmediate();const n=ak(e,{popupRedirectResolver:A6,persistence:[Vk,Tk,FS]}),r=fS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=N6(s.toString());_k(n,a,()=>a(n.currentUser)),vk(n,o=>a(o))}}const i=cS("auth");return i&&lk(n,`http://${i}`),n}function D6(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}nk({loadJS(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=dr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",D6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});x6("Browser");let xm=null,jb=null;const zb=()=>(!xm&&window.__firebase_config&&(xm=Ny(window.__firebase_config),jb=O6(xm)),jb),M6=()=>{const[e,t]=D.useState(null),[n,r]=D.useState(!0),[i,s]=D.useState(null);return D.useEffect(()=>{console.log("Starting Firebase Auth initialization...");const u=setTimeout(()=>{console.warn("Auth check timed out after 10 seconds"),r(!1),e||console.log("No user found after timeout, showing sign-in options")},1e4),c=()=>{if(!window.__firebase_config){console.log("Waiting for Firebase config..."),setTimeout(c,100);return}const h=zb();if(!h){console.error("Firebase Auth initialization failed"),clearTimeout(u),s("Firebase Auth not initialized"),r(!1);return}console.log("Firebase Auth initialized, setting up listener...");const m=bk(h,d=>{clearTimeout(u),console.log("Auth state changed:",d?`User signed in: ${d.uid}`:"No user"),t(d),r(!1),s(null)},d=>{clearTimeout(u),console.error("Auth state change error:",d),s(d.message),r(!1)});return(async()=>{try{window.__initial_auth_token?(console.log("Attempting sign-in with custom token..."),await yk(h,window.__initial_auth_token)):(console.log("Attempting anonymous sign-in..."),await Ib(h))}catch(d){console.error("Auto sign-in error:",d),console.log("Auto sign-in failed, user will need to manually sign in")}})(),()=>{console.log("Cleaning up auth listener"),clearTimeout(u),m()}};c()},[]),{user:e,loading:n,error:i,signInAnonymous:async()=>{try{console.log("Manual anonymous sign-in attempt..."),r(!0),s(null);const u=zb();if(!u)throw new Error("Firebase Auth not initialized");const c=await Ib(u);return console.log("Manual anonymous sign-in successful:",c.user.uid),c.user}catch(u){throw console.error("Manual anonymous sign-in error:",u),s(`Sign-in failed: ${u.message}`),u}finally{r(!1)}},forceSkipAuth:()=>{console.log("Forcing skip of authentication - demo mode"),r(!1),s(null),t({uid:"demo-user-"+Date.now(),isAnonymous:!0,email:null,displayName:"Demo User"})}}};var Bb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ns,WS;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(T,_){function x(){}x.prototype=_.prototype,T.D=_.prototype,T.prototype=new x,T.prototype.constructor=T,T.C=function(R,N,O){for(var C=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)C[rt-2]=arguments[rt];return _.prototype[N].apply(R,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,_,x){x||(x=0);var R=Array(16);if(typeof _=="string")for(var N=0;16>N;++N)R[N]=_.charCodeAt(x++)|_.charCodeAt(x++)<<8|_.charCodeAt(x++)<<16|_.charCodeAt(x++)<<24;else for(N=0;16>N;++N)R[N]=_[x++]|_[x++]<<8|_[x++]<<16|_[x++]<<24;_=T.g[0],x=T.g[1],N=T.g[2];var O=T.g[3],C=_+(O^x&(N^O))+R[0]+3614090360&4294967295;_=x+(C<<7&4294967295|C>>>25),C=O+(N^_&(x^N))+R[1]+3905402710&4294967295,O=_+(C<<12&4294967295|C>>>20),C=N+(x^O&(_^x))+R[2]+606105819&4294967295,N=O+(C<<17&4294967295|C>>>15),C=x+(_^N&(O^_))+R[3]+3250441966&4294967295,x=N+(C<<22&4294967295|C>>>10),C=_+(O^x&(N^O))+R[4]+4118548399&4294967295,_=x+(C<<7&4294967295|C>>>25),C=O+(N^_&(x^N))+R[5]+1200080426&4294967295,O=_+(C<<12&4294967295|C>>>20),C=N+(x^O&(_^x))+R[6]+2821735955&4294967295,N=O+(C<<17&4294967295|C>>>15),C=x+(_^N&(O^_))+R[7]+4249261313&4294967295,x=N+(C<<22&4294967295|C>>>10),C=_+(O^x&(N^O))+R[8]+1770035416&4294967295,_=x+(C<<7&4294967295|C>>>25),C=O+(N^_&(x^N))+R[9]+2336552879&4294967295,O=_+(C<<12&4294967295|C>>>20),C=N+(x^O&(_^x))+R[10]+4294925233&4294967295,N=O+(C<<17&4294967295|C>>>15),C=x+(_^N&(O^_))+R[11]+2304563134&4294967295,x=N+(C<<22&4294967295|C>>>10),C=_+(O^x&(N^O))+R[12]+1804603682&4294967295,_=x+(C<<7&4294967295|C>>>25),C=O+(N^_&(x^N))+R[13]+4254626195&4294967295,O=_+(C<<12&4294967295|C>>>20),C=N+(x^O&(_^x))+R[14]+2792965006&4294967295,N=O+(C<<17&4294967295|C>>>15),C=x+(_^N&(O^_))+R[15]+1236535329&4294967295,x=N+(C<<22&4294967295|C>>>10),C=_+(N^O&(x^N))+R[1]+4129170786&4294967295,_=x+(C<<5&4294967295|C>>>27),C=O+(x^N&(_^x))+R[6]+3225465664&4294967295,O=_+(C<<9&4294967295|C>>>23),C=N+(_^x&(O^_))+R[11]+643717713&4294967295,N=O+(C<<14&4294967295|C>>>18),C=x+(O^_&(N^O))+R[0]+3921069994&4294967295,x=N+(C<<20&4294967295|C>>>12),C=_+(N^O&(x^N))+R[5]+3593408605&4294967295,_=x+(C<<5&4294967295|C>>>27),C=O+(x^N&(_^x))+R[10]+38016083&4294967295,O=_+(C<<9&4294967295|C>>>23),C=N+(_^x&(O^_))+R[15]+3634488961&4294967295,N=O+(C<<14&4294967295|C>>>18),C=x+(O^_&(N^O))+R[4]+3889429448&4294967295,x=N+(C<<20&4294967295|C>>>12),C=_+(N^O&(x^N))+R[9]+568446438&4294967295,_=x+(C<<5&4294967295|C>>>27),C=O+(x^N&(_^x))+R[14]+3275163606&4294967295,O=_+(C<<9&4294967295|C>>>23),C=N+(_^x&(O^_))+R[3]+4107603335&4294967295,N=O+(C<<14&4294967295|C>>>18),C=x+(O^_&(N^O))+R[8]+1163531501&4294967295,x=N+(C<<20&4294967295|C>>>12),C=_+(N^O&(x^N))+R[13]+2850285829&4294967295,_=x+(C<<5&4294967295|C>>>27),C=O+(x^N&(_^x))+R[2]+4243563512&4294967295,O=_+(C<<9&4294967295|C>>>23),C=N+(_^x&(O^_))+R[7]+1735328473&4294967295,N=O+(C<<14&4294967295|C>>>18),C=x+(O^_&(N^O))+R[12]+2368359562&4294967295,x=N+(C<<20&4294967295|C>>>12),C=_+(x^N^O)+R[5]+4294588738&4294967295,_=x+(C<<4&4294967295|C>>>28),C=O+(_^x^N)+R[8]+2272392833&4294967295,O=_+(C<<11&4294967295|C>>>21),C=N+(O^_^x)+R[11]+1839030562&4294967295,N=O+(C<<16&4294967295|C>>>16),C=x+(N^O^_)+R[14]+4259657740&4294967295,x=N+(C<<23&4294967295|C>>>9),C=_+(x^N^O)+R[1]+2763975236&4294967295,_=x+(C<<4&4294967295|C>>>28),C=O+(_^x^N)+R[4]+1272893353&4294967295,O=_+(C<<11&4294967295|C>>>21),C=N+(O^_^x)+R[7]+4139469664&4294967295,N=O+(C<<16&4294967295|C>>>16),C=x+(N^O^_)+R[10]+3200236656&4294967295,x=N+(C<<23&4294967295|C>>>9),C=_+(x^N^O)+R[13]+681279174&4294967295,_=x+(C<<4&4294967295|C>>>28),C=O+(_^x^N)+R[0]+3936430074&4294967295,O=_+(C<<11&4294967295|C>>>21),C=N+(O^_^x)+R[3]+3572445317&4294967295,N=O+(C<<16&4294967295|C>>>16),C=x+(N^O^_)+R[6]+76029189&4294967295,x=N+(C<<23&4294967295|C>>>9),C=_+(x^N^O)+R[9]+3654602809&4294967295,_=x+(C<<4&4294967295|C>>>28),C=O+(_^x^N)+R[12]+3873151461&4294967295,O=_+(C<<11&4294967295|C>>>21),C=N+(O^_^x)+R[15]+530742520&4294967295,N=O+(C<<16&4294967295|C>>>16),C=x+(N^O^_)+R[2]+3299628645&4294967295,x=N+(C<<23&4294967295|C>>>9),C=_+(N^(x|~O))+R[0]+4096336452&4294967295,_=x+(C<<6&4294967295|C>>>26),C=O+(x^(_|~N))+R[7]+1126891415&4294967295,O=_+(C<<10&4294967295|C>>>22),C=N+(_^(O|~x))+R[14]+2878612391&4294967295,N=O+(C<<15&4294967295|C>>>17),C=x+(O^(N|~_))+R[5]+4237533241&4294967295,x=N+(C<<21&4294967295|C>>>11),C=_+(N^(x|~O))+R[12]+1700485571&4294967295,_=x+(C<<6&4294967295|C>>>26),C=O+(x^(_|~N))+R[3]+2399980690&4294967295,O=_+(C<<10&4294967295|C>>>22),C=N+(_^(O|~x))+R[10]+4293915773&4294967295,N=O+(C<<15&4294967295|C>>>17),C=x+(O^(N|~_))+R[1]+2240044497&4294967295,x=N+(C<<21&4294967295|C>>>11),C=_+(N^(x|~O))+R[8]+1873313359&4294967295,_=x+(C<<6&4294967295|C>>>26),C=O+(x^(_|~N))+R[15]+4264355552&4294967295,O=_+(C<<10&4294967295|C>>>22),C=N+(_^(O|~x))+R[6]+2734768916&4294967295,N=O+(C<<15&4294967295|C>>>17),C=x+(O^(N|~_))+R[13]+1309151649&4294967295,x=N+(C<<21&4294967295|C>>>11),C=_+(N^(x|~O))+R[4]+4149444226&4294967295,_=x+(C<<6&4294967295|C>>>26),C=O+(x^(_|~N))+R[11]+3174756917&4294967295,O=_+(C<<10&4294967295|C>>>22),C=N+(_^(O|~x))+R[2]+718787259&4294967295,N=O+(C<<15&4294967295|C>>>17),C=x+(O^(N|~_))+R[9]+3951481745&4294967295,T.g[0]=T.g[0]+_&4294967295,T.g[1]=T.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,T.g[2]=T.g[2]+N&4294967295,T.g[3]=T.g[3]+O&4294967295}r.prototype.u=function(T,_){_===void 0&&(_=T.length);for(var x=_-this.blockSize,R=this.B,N=this.h,O=0;O<_;){if(N==0)for(;O<=x;)i(this,T,O),O+=this.blockSize;if(typeof T=="string"){for(;O<_;)if(R[N++]=T.charCodeAt(O++),N==this.blockSize){i(this,R),N=0;break}}else for(;O<_;)if(R[N++]=T[O++],N==this.blockSize){i(this,R),N=0;break}}this.h=N,this.o+=_},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var _=1;_<T.length-8;++_)T[_]=0;var x=8*this.o;for(_=T.length-8;_<T.length;++_)T[_]=x&255,x/=256;for(this.u(T),T=Array(16),_=x=0;4>_;++_)for(var R=0;32>R;R+=8)T[x++]=this.g[_]>>>R&255;return T};function s(T,_){var x=o;return Object.prototype.hasOwnProperty.call(x,T)?x[T]:x[T]=_(T)}function a(T,_){this.h=_;for(var x=[],R=!0,N=T.length-1;0<=N;N--){var O=T[N]|0;R&&O==_||(x[N]=O,R=!1)}this.g=x}var o={};function u(T){return-128<=T&&128>T?s(T,function(_){return new a([_|0],0>_?-1:0)}):new a([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return m;if(0>T)return A(c(-T));for(var _=[],x=1,R=0;T>=x;R++)_[R]=T/x|0,x*=4294967296;return new a(_,0)}function h(T,_){if(T.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(T.charAt(0)=="-")return A(h(T.substring(1),_));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=c(Math.pow(_,8)),R=m,N=0;N<T.length;N+=8){var O=Math.min(8,T.length-N),C=parseInt(T.substring(N,N+O),_);8>O?(O=c(Math.pow(_,O)),R=R.j(O).add(c(C))):(R=R.j(x),R=R.add(c(C)))}return R}var m=u(0),p=u(1),d=u(16777216);e=a.prototype,e.m=function(){if(E(this))return-A(this).m();for(var T=0,_=1,x=0;x<this.g.length;x++){var R=this.i(x);T+=(0<=R?R:4294967296+R)*_,_*=4294967296}return T},e.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(S(this))return"0";if(E(this))return"-"+A(this).toString(T);for(var _=c(Math.pow(T,6)),x=this,R="";;){var N=I(x,_).g;x=y(x,N.j(_));var O=((0<x.g.length?x.g[0]:x.h)>>>0).toString(T);if(x=N,S(x))return O+R;for(;6>O.length;)O="0"+O;R=O+R}},e.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function S(T){if(T.h!=0)return!1;for(var _=0;_<T.g.length;_++)if(T.g[_]!=0)return!1;return!0}function E(T){return T.h==-1}e.l=function(T){return T=y(this,T),E(T)?-1:S(T)?0:1};function A(T){for(var _=T.g.length,x=[],R=0;R<_;R++)x[R]=~T.g[R];return new a(x,~T.h).add(p)}e.abs=function(){return E(this)?A(this):this},e.add=function(T){for(var _=Math.max(this.g.length,T.g.length),x=[],R=0,N=0;N<=_;N++){var O=R+(this.i(N)&65535)+(T.i(N)&65535),C=(O>>>16)+(this.i(N)>>>16)+(T.i(N)>>>16);R=C>>>16,O&=65535,C&=65535,x[N]=C<<16|O}return new a(x,x[x.length-1]&-2147483648?-1:0)};function y(T,_){return T.add(A(_))}e.j=function(T){if(S(this)||S(T))return m;if(E(this))return E(T)?A(this).j(A(T)):A(A(this).j(T));if(E(T))return A(this.j(A(T)));if(0>this.l(d)&&0>T.l(d))return c(this.m()*T.m());for(var _=this.g.length+T.g.length,x=[],R=0;R<2*_;R++)x[R]=0;for(R=0;R<this.g.length;R++)for(var N=0;N<T.g.length;N++){var O=this.i(R)>>>16,C=this.i(R)&65535,rt=T.i(N)>>>16,wt=T.i(N)&65535;x[2*R+2*N]+=C*wt,v(x,2*R+2*N),x[2*R+2*N+1]+=O*wt,v(x,2*R+2*N+1),x[2*R+2*N+1]+=C*rt,v(x,2*R+2*N+1),x[2*R+2*N+2]+=O*rt,v(x,2*R+2*N+2)}for(R=0;R<_;R++)x[R]=x[2*R+1]<<16|x[2*R];for(R=_;R<2*_;R++)x[R]=0;return new a(x,0)};function v(T,_){for(;(T[_]&65535)!=T[_];)T[_+1]+=T[_]>>>16,T[_]&=65535,_++}function w(T,_){this.g=T,this.h=_}function I(T,_){if(S(_))throw Error("division by zero");if(S(T))return new w(m,m);if(E(T))return _=I(A(T),_),new w(A(_.g),A(_.h));if(E(_))return _=I(T,A(_)),new w(A(_.g),_.h);if(30<T.g.length){if(E(T)||E(_))throw Error("slowDivide_ only works with positive integers.");for(var x=p,R=_;0>=R.l(T);)x=V(x),R=V(R);var N=L(x,1),O=L(R,1);for(R=L(R,2),x=L(x,2);!S(R);){var C=O.add(R);0>=C.l(T)&&(N=N.add(x),O=C),R=L(R,1),x=L(x,1)}return _=y(T,N.j(_)),new w(N,_)}for(N=m;0<=T.l(_);){for(x=Math.max(1,Math.floor(T.m()/_.m())),R=Math.ceil(Math.log(x)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),O=c(x),C=O.j(_);E(C)||0<C.l(T);)x-=R,O=c(x),C=O.j(_);S(O)&&(O=p),N=N.add(O),T=y(T,C)}return new w(N,T)}e.A=function(T){return I(this,T).h},e.and=function(T){for(var _=Math.max(this.g.length,T.g.length),x=[],R=0;R<_;R++)x[R]=this.i(R)&T.i(R);return new a(x,this.h&T.h)},e.or=function(T){for(var _=Math.max(this.g.length,T.g.length),x=[],R=0;R<_;R++)x[R]=this.i(R)|T.i(R);return new a(x,this.h|T.h)},e.xor=function(T){for(var _=Math.max(this.g.length,T.g.length),x=[],R=0;R<_;R++)x[R]=this.i(R)^T.i(R);return new a(x,this.h^T.h)};function V(T){for(var _=T.g.length+1,x=[],R=0;R<_;R++)x[R]=T.i(R)<<1|T.i(R-1)>>>31;return new a(x,T.h)}function L(T,_){var x=_>>5;_%=32;for(var R=T.g.length-x,N=[],O=0;O<R;O++)N[O]=0<_?T.i(O+x)>>>_|T.i(O+x+1)<<32-_:T.i(O+x);return new a(N,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,WS=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=h,ns=a}).apply(typeof Bb<"u"?Bb:typeof self<"u"?self:typeof window<"u"?window:{});var Fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ZS,Cl,JS,mh,Yp,tR,eR,nR;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,g){return l==Array.prototype||l==Object.prototype||(l[f]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fc=="object"&&Fc];for(var f=0;f<l.length;++f){var g=l[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(l,f){if(f)t:{var g=r;l=l.split(".");for(var b=0;b<l.length-1;b++){var P=l[b];if(!(P in g))break t;g=g[P]}l=l[l.length-1],b=g[l],f=f(b),f!=b&&f!=null&&t(g,l,{configurable:!0,writable:!0,value:f})}}function s(l,f){l instanceof String&&(l+="");var g=0,b=!1,P={next:function(){if(!b&&g<l.length){var k=g++;return{value:f(k,l[k]),done:!1}}return b=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}i("Array.prototype.values",function(l){return l||function(){return s(this,function(f,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function u(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function c(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function h(l,f,g){return l.call.apply(l.bind,arguments)}function m(l,f,g){if(!l)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,b),l.apply(f,P)}}return function(){return l.apply(f,arguments)}}function p(l,f,g){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:m,p.apply(null,arguments)}function d(l,f){var g=Array.prototype.slice.call(arguments,1);return function(){var b=g.slice();return b.push.apply(b,arguments),l.apply(this,b)}}function S(l,f){function g(){}g.prototype=f.prototype,l.aa=f.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(b,P,k){for(var G=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)G[Pt-2]=arguments[Pt];return f.prototype[P].apply(b,G)}}function E(l){const f=l.length;if(0<f){const g=Array(f);for(let b=0;b<f;b++)g[b]=l[b];return g}return[]}function A(l,f){for(let g=1;g<arguments.length;g++){const b=arguments[g];if(u(b)){const P=l.length||0,k=b.length||0;l.length=P+k;for(let G=0;G<k;G++)l[P+G]=b[G]}else l.push(b)}}class y{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function v(l){return/^[\s\xa0]*$/.test(l)}function w(){var l=o.navigator;return l&&(l=l.userAgent)?l:""}function I(l){return I[" "](l),l}I[" "]=function(){};var V=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function L(l,f,g){for(const b in l)f.call(g,l[b],b,l)}function T(l,f){for(const g in l)f.call(void 0,l[g],g,l)}function _(l){const f={};for(const g in l)f[g]=l[g];return f}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(l,f){let g,b;for(let P=1;P<arguments.length;P++){b=arguments[P];for(g in b)l[g]=b[g];for(let k=0;k<x.length;k++)g=x[k],Object.prototype.hasOwnProperty.call(b,g)&&(l[g]=b[g])}}function N(l){var f=1;l=l.split(":");const g=[];for(;0<f&&l.length;)g.push(l.shift()),f--;return l.length&&g.push(l.join(":")),g}function O(l){o.setTimeout(()=>{throw l},0)}function C(){var l=F;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class rt{constructor(){this.h=this.g=null}add(f,g){const b=wt.get();b.set(f,g),this.h?this.h.next=b:this.g=b,this.h=b}}var wt=new y(()=>new q,l=>l.reset());class q{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let $,H=!1,F=new rt,W=()=>{const l=o.Promise.resolve(void 0);$=()=>{l.then(Ut)}};var Ut=()=>{for(var l;l=C();){try{l.h.call(l.g)}catch(g){O(g)}var f=wt;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}H=!1};function at(){this.s=this.s,this.C=this.C}at.prototype.s=!1,at.prototype.ma=function(){this.s||(this.s=!0,this.N())},at.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var gt=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};o.addEventListener("test",g,f),o.removeEventListener("test",g,f)}catch{}return l}();function Dt(l,f){if(J.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,b=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(V){t:{try{I(f.nodeName);var P=!0;break t}catch{}P=!1}P||(f=null)}}else g=="mouseover"?f=l.fromElement:g=="mouseout"&&(f=l.toElement);this.relatedTarget=f,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Qn[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Dt.aa.h.call(this)}}S(Dt,J);var Qn={2:"touch",3:"pen",4:"mouse"};Dt.prototype.h=function(){Dt.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var St="closure_listenable_"+(1e6*Math.random()|0),ui=0;function $n(l,f,g,b,P){this.listener=l,this.proxy=null,this.src=f,this.type=g,this.capture=!!b,this.ha=P,this.key=++ui,this.da=this.fa=!1}function pn(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function en(l){this.src=l,this.g={},this.h=0}en.prototype.add=function(l,f,g,b,P){var k=l.toString();l=this.g[k],l||(l=this.g[k]=[],this.h++);var G=gn(l,f,b,P);return-1<G?(f=l[G],g||(f.fa=!1)):(f=new $n(f,this.src,k,!!b,P),f.fa=g,l.push(f)),f};function Yn(l,f){var g=f.type;if(g in l.g){var b=l.g[g],P=Array.prototype.indexOf.call(b,f,void 0),k;(k=0<=P)&&Array.prototype.splice.call(b,P,1),k&&(pn(f),l.g[g].length==0&&(delete l.g[g],l.h--))}}function gn(l,f,g,b){for(var P=0;P<l.length;++P){var k=l[P];if(!k.da&&k.listener==f&&k.capture==!!g&&k.ha==b)return P}return-1}var ci="closure_lm_"+(1e6*Math.random()|0),ys={};function vs(l,f,g,b,P){if(Array.isArray(f)){for(var k=0;k<f.length;k++)vs(l,f[k],g,b,P);return null}return g=oc(g),l&&l[St]?l.K(f,g,c(b)?!!b.capture:!1,P):tl(l,f,g,!1,b,P)}function tl(l,f,g,b,P,k){if(!f)throw Error("Invalid event type");var G=c(P)?!!P.capture:!!P,Pt=On(l);if(Pt||(l[ci]=Pt=new en(l)),g=Pt.add(f,g,b,G,k),g.proxy)return g;if(b=_s(),g.proxy=b,b.src=l,b.listener=g,l.addEventListener)gt||(P=G),P===void 0&&(P=!1),l.addEventListener(f.toString(),b,P);else if(l.attachEvent)l.attachEvent(hi(f.toString()),b);else if(l.addListener&&l.removeListener)l.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return g}function _s(){function l(g){return f.call(l.src,l.listener,g)}const f=ac;return l}function Rr(l,f,g,b,P){if(Array.isArray(f))for(var k=0;k<f.length;k++)Rr(l,f[k],g,b,P);else b=c(b)?!!b.capture:!!b,g=oc(g),l&&l[St]?(l=l.i,f=String(f).toString(),f in l.g&&(k=l.g[f],g=gn(k,g,b,P),-1<g&&(pn(k[g]),Array.prototype.splice.call(k,g,1),k.length==0&&(delete l.g[f],l.h--)))):l&&(l=On(l))&&(f=l.g[f.toString()],l=-1,f&&(l=gn(f,g,b,P)),(g=-1<l?f[l]:null)&&fa(g))}function fa(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[St])Yn(f.i,l);else{var g=l.type,b=l.proxy;f.removeEventListener?f.removeEventListener(g,b,l.capture):f.detachEvent?f.detachEvent(hi(g),b):f.addListener&&f.removeListener&&f.removeListener(b),(g=On(f))?(Yn(g,l),g.h==0&&(g.src=null,f[ci]=null)):pn(l)}}}function hi(l){return l in ys?ys[l]:ys[l]="on"+l}function ac(l,f){if(l.da)l=!0;else{f=new Dt(f,this);var g=l.listener,b=l.ha||l.src;l.fa&&fa(l),l=g.call(b,f)}return l}function On(l){return l=l[ci],l instanceof en?l:null}var el="__closure_events_fn_"+(1e9*Math.random()>>>0);function oc(l){return typeof l=="function"?l:(l[el]||(l[el]=function(f){return l.handleEvent(f)}),l[el])}function xt(){at.call(this),this.i=new en(this),this.M=this,this.F=null}S(xt,at),xt.prototype[St]=!0,xt.prototype.removeEventListener=function(l,f,g,b){Rr(this,l,f,g,b)};function Kt(l,f){var g,b=l.F;if(b)for(g=[];b;b=b.F)g.push(b);if(l=l.M,b=f.type||f,typeof f=="string")f=new J(f,l);else if(f instanceof J)f.target=f.target||l;else{var P=f;f=new J(b,l),R(f,P)}if(P=!0,g)for(var k=g.length-1;0<=k;k--){var G=f.g=g[k];P=da(G,b,!0,f)&&P}if(G=f.g=l,P=da(G,b,!0,f)&&P,P=da(G,b,!1,f)&&P,g)for(k=0;k<g.length;k++)G=f.g=g[k],P=da(G,b,!1,f)&&P}xt.prototype.N=function(){if(xt.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var g=l.g[f],b=0;b<g.length;b++)pn(g[b]);delete l.g[f],l.h--}}this.F=null},xt.prototype.K=function(l,f,g,b){return this.i.add(String(l),f,!1,g,b)},xt.prototype.L=function(l,f,g,b){return this.i.add(String(l),f,!0,g,b)};function da(l,f,g,b){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var P=!0,k=0;k<f.length;++k){var G=f[k];if(G&&!G.da&&G.capture==g){var Pt=G.listener,be=G.ha||G.src;G.fa&&Yn(l.i,G),P=Pt.call(be,b)!==!1&&P}}return P&&!b.defaultPrevented}function lc(l,f,g){if(typeof l=="function")g&&(l=p(l,g));else if(l&&typeof l.handleEvent=="function")l=p(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:o.setTimeout(l,f||0)}function bs(l){l.g=lc(()=>{l.g=null,l.i&&(l.i=!1,bs(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class bd extends at{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:bs(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fi(l){at.call(this),this.h=l,this.g={}}S(fi,at);var ma=[];function xr(l){L(l.g,function(f,g){this.g.hasOwnProperty(g)&&fa(f)},l),l.g={}}fi.prototype.N=function(){fi.aa.N.call(this),xr(this)},fi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pa=o.JSON.stringify,di=o.JSON.parse,Ed=class{stringify(l){return o.JSON.stringify(l,void 0)}parse(l){return o.JSON.parse(l,void 0)}};function nl(){}nl.prototype.h=null;function rl(l){return l.h||(l.h=l.i())}function il(){}var Es={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ws(){J.call(this,"d")}S(ws,J);function yn(){J.call(this,"c")}S(yn,J);var Cr={},nt=null;function _t(){return nt=nt||new xt}Cr.La="serverreachability";function Mt(l){J.call(this,Cr.La,l)}S(Mt,J);function ve(l){const f=_t();Kt(f,new Mt(f))}Cr.STAT_EVENT="statevent";function He(l,f){J.call(this,Cr.STAT_EVENT,l),this.stat=f}S(He,J);function Ht(l){const f=_t();Kt(f,new He(f,l))}Cr.Ma="timingevent";function Kn(l,f){J.call(this,Cr.Ma,l),this.size=f}S(Kn,J);function _e(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){l()},f)}function Fe(){this.g=!0}Fe.prototype.xa=function(){this.g=!1};function Qx(l,f,g,b,P,k){l.info(function(){if(l.g)if(k)for(var G="",Pt=k.split("&"),be=0;be<Pt.length;be++){var bt=Pt[be].split("=");if(1<bt.length){var xe=bt[0];bt=bt[1];var Ce=xe.split("_");G=2<=Ce.length&&Ce[1]=="type"?G+(xe+"="+bt+"&"):G+(xe+"=redacted&")}}else G=null;else G=k;return"XMLHTTP REQ ("+b+") [attempt "+P+"]: "+f+`
`+g+`
`+G})}function $x(l,f,g,b,P,k,G){l.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+P+"]: "+f+`
`+g+`
`+k+" "+G})}function ga(l,f,g,b){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+Kx(l,g)+(b?" "+b:"")})}function Yx(l,f){l.info(function(){return"TIMEOUT: "+f})}Fe.prototype.info=function(){};function Kx(l,f){if(!l.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var b=g[l];if(!(2>b.length)){var P=b[1];if(Array.isArray(P)&&!(1>P.length)){var k=P[0];if(k!="noop"&&k!="stop"&&k!="close")for(var G=1;G<P.length;G++)P[G]=""}}}}return pa(g)}catch{return f}}var uc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ev={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wd;function cc(){}S(cc,nl),cc.prototype.g=function(){return new XMLHttpRequest},cc.prototype.i=function(){return{}},wd=new cc;function mi(l,f,g,b){this.j=l,this.i=f,this.l=g,this.R=b||1,this.U=new fi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wv}function wv(){this.i=null,this.g="",this.h=!1}var Tv={},Td={};function Ad(l,f,g){l.L=1,l.v=mc(Ir(f)),l.m=g,l.P=!0,Av(l,null)}function Av(l,f){l.F=Date.now(),hc(l),l.A=Ir(l.v);var g=l.A,b=l.R;Array.isArray(b)||(b=[String(b)]),Uv(g.i,"t",b),l.C=0,g=l.j.J,l.h=new wv,l.g=n_(l.j,g?f:null,!l.m),0<l.O&&(l.M=new bd(p(l.Y,l,l.g),l.O)),f=l.U,g=l.g,b=l.ca;var P="readystatechange";Array.isArray(P)||(P&&(ma[0]=P.toString()),P=ma);for(var k=0;k<P.length;k++){var G=vs(g,P[k],b||f.handleEvent,!1,f.h||f);if(!G)break;f.g[G.key]=G}f=l.H?_(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),ve(),Qx(l.i,l.u,l.A,l.l,l.R,l.m)}mi.prototype.ca=function(l){l=l.target;const f=this.M;f&&Nr(l)==3?f.j():this.Y(l)},mi.prototype.Y=function(l){try{if(l==this.g)t:{const Ce=Nr(this.g);var f=this.g.Ba();const _a=this.g.Z();if(!(3>Ce)&&(Ce!=3||this.g&&(this.h.h||this.g.oa()||Gv(this.g)))){this.J||Ce!=4||f==7||(f==8||0>=_a?ve(3):ve(2)),Sd(this);var g=this.g.Z();this.X=g;e:if(Sv(this)){var b=Gv(this.g);l="";var P=b.length,k=Nr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ts(this),sl(this);var G="";break e}this.h.i=new o.TextDecoder}for(f=0;f<P;f++)this.h.h=!0,l+=this.h.i.decode(b[f],{stream:!(k&&f==P-1)});b.length=0,this.h.g+=l,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=g==200,$x(this.i,this.u,this.A,this.l,this.R,Ce,g),this.o){if(this.T&&!this.K){e:{if(this.g){var Pt,be=this.g;if((Pt=be.g?be.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Pt)){var bt=Pt;break e}}bt=null}if(g=bt)ga(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rd(this,g);else{this.o=!1,this.s=3,Ht(12),Ts(this),sl(this);break t}}if(this.P){g=!0;let Dn;for(;!this.J&&this.C<G.length;)if(Dn=Xx(this,G),Dn==Td){Ce==4&&(this.s=4,Ht(14),g=!1),ga(this.i,this.l,null,"[Incomplete Response]");break}else if(Dn==Tv){this.s=4,Ht(15),ga(this.i,this.l,G,"[Invalid Chunk]"),g=!1;break}else ga(this.i,this.l,Dn,null),Rd(this,Dn);if(Sv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||G.length!=0||this.h.h||(this.s=1,Ht(16),g=!1),this.o=this.o&&g,!g)ga(this.i,this.l,G,"[Invalid Chunked Response]"),Ts(this),sl(this);else if(0<G.length&&!this.W){this.W=!0;var xe=this.j;xe.g==this&&xe.ba&&!xe.M&&(xe.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),Dd(xe),xe.M=!0,Ht(11))}}else ga(this.i,this.l,G,null),Rd(this,G);Ce==4&&Ts(this),this.o&&!this.J&&(Ce==4?Zv(this.j,this):(this.o=!1,hc(this)))}else dC(this.g),g==400&&0<G.indexOf("Unknown SID")?(this.s=3,Ht(12)):(this.s=0,Ht(13)),Ts(this),sl(this)}}}catch{}finally{}};function Sv(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Xx(l,f){var g=l.C,b=f.indexOf(`
`,g);return b==-1?Td:(g=Number(f.substring(g,b)),isNaN(g)?Tv:(b+=1,b+g>f.length?Td:(f=f.slice(b,b+g),l.C=b+g,f)))}mi.prototype.cancel=function(){this.J=!0,Ts(this)};function hc(l){l.S=Date.now()+l.I,Rv(l,l.I)}function Rv(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=_e(p(l.ba,l),f)}function Sd(l){l.B&&(o.clearTimeout(l.B),l.B=null)}mi.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Yx(this.i,this.A),this.L!=2&&(ve(),Ht(17)),Ts(this),this.s=2,sl(this)):Rv(this,this.S-l)};function sl(l){l.j.G==0||l.J||Zv(l.j,l)}function Ts(l){Sd(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,xr(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function Rd(l,f){try{var g=l.j;if(g.G!=0&&(g.g==l||xd(g.h,l))){if(!l.K&&xd(g.h,l)&&g.G==3){try{var b=g.Da.g.parse(f)}catch{b=null}if(Array.isArray(b)&&b.length==3){var P=b;if(P[0]==0){t:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)bc(g),vc(g);else break t;Od(g),Ht(18)}}else g.za=P[1],0<g.za-g.T&&37500>P[2]&&g.F&&g.v==0&&!g.C&&(g.C=_e(p(g.Za,g),6e3));if(1>=Iv(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Ss(g,11)}else if((l.K||g.g==l)&&bc(g),!v(f))for(P=g.Da.g.parse(f),f=0;f<P.length;f++){let bt=P[f];if(g.T=bt[0],bt=bt[1],g.G==2)if(bt[0]=="c"){g.K=bt[1],g.ia=bt[2];const xe=bt[3];xe!=null&&(g.la=xe,g.j.info("VER="+g.la));const Ce=bt[4];Ce!=null&&(g.Aa=Ce,g.j.info("SVER="+g.Aa));const _a=bt[5];_a!=null&&typeof _a=="number"&&0<_a&&(b=1.5*_a,g.L=b,g.j.info("backChannelRequestTimeoutMs_="+b)),b=g;const Dn=l.g;if(Dn){const wc=Dn.g?Dn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wc){var k=b.h;k.g||wc.indexOf("spdy")==-1&&wc.indexOf("quic")==-1&&wc.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(Cd(k,k.h),k.h=null))}if(b.D){const Md=Dn.g?Dn.g.getResponseHeader("X-HTTP-Session-Id"):null;Md&&(b.ya=Md,jt(b.I,b.D,Md))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),b=g;var G=l;if(b.qa=e_(b,b.J?b.ia:null,b.W),G.K){Nv(b.h,G);var Pt=G,be=b.L;be&&(Pt.I=be),Pt.B&&(Sd(Pt),hc(Pt)),b.g=G}else Xv(b);0<g.i.length&&_c(g)}else bt[0]!="stop"&&bt[0]!="close"||Ss(g,7);else g.G==3&&(bt[0]=="stop"||bt[0]=="close"?bt[0]=="stop"?Ss(g,7):Nd(g):bt[0]!="noop"&&g.l&&g.l.ta(bt),g.v=0)}}ve(4)}catch{}}var Wx=class{constructor(l,f){this.g=l,this.map=f}};function xv(l){this.l=l||10,o.PerformanceNavigationTiming?(l=o.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Cv(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Iv(l){return l.h?1:l.g?l.g.size:0}function xd(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function Cd(l,f){l.g?l.g.add(f):l.h=f}function Nv(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}xv.prototype.cancel=function(){if(this.i=Ov(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Ov(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const g of l.g.values())f=f.concat(g.D);return f}return E(l.i)}function Zx(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var f=[],g=l.length,b=0;b<g;b++)f.push(l[b]);return f}f=[],g=0;for(b in l)f[g++]=l[b];return f}function Jx(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var f=[];l=l.length;for(var g=0;g<l;g++)f.push(g);return f}f=[],g=0;for(const b in l)f[g++]=b;return f}}}function Dv(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var g=Jx(l),b=Zx(l),P=b.length,k=0;k<P;k++)f.call(void 0,b[k],g&&g[k],l)}var Mv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tC(l,f){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var b=l[g].indexOf("="),P=null;if(0<=b){var k=l[g].substring(0,b);P=l[g].substring(b+1)}else k=l[g];f(k,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function As(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof As){this.h=l.h,fc(this,l.j),this.o=l.o,this.g=l.g,dc(this,l.s),this.l=l.l;var f=l.i,g=new ll;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),Pv(this,g),this.m=l.m}else l&&(f=String(l).match(Mv))?(this.h=!1,fc(this,f[1]||"",!0),this.o=al(f[2]||""),this.g=al(f[3]||"",!0),dc(this,f[4]),this.l=al(f[5]||"",!0),Pv(this,f[6]||"",!0),this.m=al(f[7]||"")):(this.h=!1,this.i=new ll(null,this.h))}As.prototype.toString=function(){var l=[],f=this.j;f&&l.push(ol(f,Vv,!0),":");var g=this.g;return(g||f=="file")&&(l.push("//"),(f=this.o)&&l.push(ol(f,Vv,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(ol(g,g.charAt(0)=="/"?rC:nC,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",ol(g,sC)),l.join("")};function Ir(l){return new As(l)}function fc(l,f,g){l.j=g?al(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function dc(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function Pv(l,f,g){f instanceof ll?(l.i=f,aC(l.i,l.h)):(g||(f=ol(f,iC)),l.i=new ll(f,l.h))}function jt(l,f,g){l.i.set(f,g)}function mc(l){return jt(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function al(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function ol(l,f,g){return typeof l=="string"?(l=encodeURI(l).replace(f,eC),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function eC(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Vv=/[#\/\?@]/g,nC=/[#\?:]/g,rC=/[#\?]/g,iC=/[#\?@]/g,sC=/#/g;function ll(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function pi(l){l.g||(l.g=new Map,l.h=0,l.i&&tC(l.i,function(f,g){l.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}e=ll.prototype,e.add=function(l,f){pi(this),this.i=null,l=ya(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(f),this.h+=1,this};function kv(l,f){pi(l),f=ya(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function Lv(l,f){return pi(l),f=ya(l,f),l.g.has(f)}e.forEach=function(l,f){pi(this),this.g.forEach(function(g,b){g.forEach(function(P){l.call(f,P,b,this)},this)},this)},e.na=function(){pi(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let b=0;b<f.length;b++){const P=l[b];for(let k=0;k<P.length;k++)g.push(f[b])}return g},e.V=function(l){pi(this);let f=[];if(typeof l=="string")Lv(this,l)&&(f=f.concat(this.g.get(ya(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)f=f.concat(l[g])}return f},e.set=function(l,f){return pi(this),this.i=null,l=ya(this,l),Lv(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},e.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function Uv(l,f,g){kv(l,f),0<g.length&&(l.i=null,l.g.set(ya(l,f),E(g)),l.h+=g.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var b=f[g];const k=encodeURIComponent(String(b)),G=this.V(b);for(b=0;b<G.length;b++){var P=k;G[b]!==""&&(P+="="+encodeURIComponent(String(G[b]))),l.push(P)}}return this.i=l.join("&")};function ya(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function aC(l,f){f&&!l.j&&(pi(l),l.i=null,l.g.forEach(function(g,b){var P=b.toLowerCase();b!=P&&(kv(this,b),Uv(this,P,g))},l)),l.j=f}function oC(l,f){const g=new Fe;if(o.Image){const b=new Image;b.onload=d(gi,g,"TestLoadImage: loaded",!0,f,b),b.onerror=d(gi,g,"TestLoadImage: error",!1,f,b),b.onabort=d(gi,g,"TestLoadImage: abort",!1,f,b),b.ontimeout=d(gi,g,"TestLoadImage: timeout",!1,f,b),o.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=l}else f(!1)}function lC(l,f){const g=new Fe,b=new AbortController,P=setTimeout(()=>{b.abort(),gi(g,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:b.signal}).then(k=>{clearTimeout(P),k.ok?gi(g,"TestPingServer: ok",!0,f):gi(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(P),gi(g,"TestPingServer: error",!1,f)})}function gi(l,f,g,b,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),b(g)}catch{}}function uC(){this.g=new Ed}function cC(l,f,g){const b=g||"";try{Dv(l,function(P,k){let G=P;c(P)&&(G=pa(P)),f.push(b+k+"="+encodeURIComponent(G))})}catch(P){throw f.push(b+"type="+encodeURIComponent("_badmap")),P}}function pc(l){this.l=l.Ub||null,this.j=l.eb||!1}S(pc,nl),pc.prototype.g=function(){return new gc(this.l,this.j)},pc.prototype.i=function(l){return function(){return l}}({});function gc(l,f){xt.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(gc,xt),e=gc.prototype,e.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,cl(this)},e.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||o).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ul(this)),this.readyState=0},e.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,cl(this)),this.g&&(this.readyState=3,cl(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jv(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function jv(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}e.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?ul(this):cl(this),this.readyState==3&&jv(this)}},e.Ra=function(l){this.g&&(this.response=this.responseText=l,ul(this))},e.Qa=function(l){this.g&&(this.response=l,ul(this))},e.ga=function(){this.g&&ul(this)};function ul(l){l.readyState=4,l.l=null,l.j=null,l.v=null,cl(l)}e.setRequestHeader=function(l,f){this.u.append(l,f)},e.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=f.next();return l.join(`\r
`)};function cl(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(gc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function zv(l){let f="";return L(l,function(g,b){f+=b,f+=":",f+=g,f+=`\r
`}),f}function Id(l,f,g){t:{for(b in g){var b=!1;break t}b=!0}b||(g=zv(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):jt(l,f,g))}function Xt(l){xt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Xt,xt);var hC=/^https?$/i,fC=["POST","PUT"];e=Xt.prototype,e.Ha=function(l){this.J=l},e.ea=function(l,f,g,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wd.g(),this.v=this.o?rl(this.o):rl(wd),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(k){Bv(this,k);return}if(l=g||"",g=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var P in b)g.set(P,b[P]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const k of b.keys())g.set(k,b.get(k));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(g.keys()).find(k=>k.toLowerCase()=="content-type"),P=o.FormData&&l instanceof o.FormData,!(0<=Array.prototype.indexOf.call(fC,f,void 0))||b||P||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,G]of g)this.g.setRequestHeader(k,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Fv(this),this.u=!0,this.g.send(l),this.u=!1}catch(k){Bv(this,k)}};function Bv(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,qv(l),yc(l)}function qv(l){l.A||(l.A=!0,Kt(l,"complete"),Kt(l,"error"))}e.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Kt(this,"complete"),Kt(this,"abort"),yc(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yc(this,!0)),Xt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Hv(this):this.bb())},e.bb=function(){Hv(this)};function Hv(l){if(l.h&&typeof a<"u"&&(!l.v[1]||Nr(l)!=4||l.Z()!=2)){if(l.u&&Nr(l)==4)lc(l.Ea,0,l);else if(Kt(l,"readystatechange"),Nr(l)==4){l.h=!1;try{const G=l.Z();t:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break t;default:f=!1}var g;if(!(g=f)){var b;if(b=G===0){var P=String(l.D).match(Mv)[1]||null;!P&&o.self&&o.self.location&&(P=o.self.location.protocol.slice(0,-1)),b=!hC.test(P?P.toLowerCase():"")}g=b}if(g)Kt(l,"complete"),Kt(l,"success");else{l.m=6;try{var k=2<Nr(l)?l.g.statusText:""}catch{k=""}l.l=k+" ["+l.Z()+"]",qv(l)}}finally{yc(l)}}}}function yc(l,f){if(l.g){Fv(l);const g=l.g,b=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||Kt(l,"ready");try{g.onreadystatechange=b}catch{}}}function Fv(l){l.I&&(o.clearTimeout(l.I),l.I=null)}e.isActive=function(){return!!this.g};function Nr(l){return l.g?l.g.readyState:0}e.Z=function(){try{return 2<Nr(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),di(f)}};function Gv(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function dC(l){const f={};l=(l.g&&2<=Nr(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<l.length;b++){if(v(l[b]))continue;var g=N(l[b]);const P=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const k=f[P]||[];f[P]=k,k.push(g)}T(f,function(b){return b.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hl(l,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||f}function Qv(l){this.Aa=0,this.i=[],this.j=new Fe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hl("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hl("baseRetryDelayMs",5e3,l),this.cb=hl("retryDelaySeedMs",1e4,l),this.Wa=hl("forwardChannelMaxRetries",2,l),this.wa=hl("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new xv(l&&l.concurrentRequestLimit),this.Da=new uC,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=Qv.prototype,e.la=8,e.G=1,e.connect=function(l,f,g,b){Ht(0),this.W=l,this.H=f||{},g&&b!==void 0&&(this.H.OSID=g,this.H.OAID=b),this.F=this.X,this.I=e_(this,null,this.W),_c(this)};function Nd(l){if($v(l),l.G==3){var f=l.U++,g=Ir(l.I);if(jt(g,"SID",l.K),jt(g,"RID",f),jt(g,"TYPE","terminate"),fl(l,g),f=new mi(l,l.j,f),f.L=2,f.v=mc(Ir(g)),g=!1,o.navigator&&o.navigator.sendBeacon)try{g=o.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&o.Image&&(new Image().src=f.v,g=!0),g||(f.g=n_(f.j,null),f.g.ea(f.v)),f.F=Date.now(),hc(f)}t_(l)}function vc(l){l.g&&(Dd(l),l.g.cancel(),l.g=null)}function $v(l){vc(l),l.u&&(o.clearTimeout(l.u),l.u=null),bc(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&o.clearTimeout(l.s),l.s=null)}function _c(l){if(!Cv(l.h)&&!l.s){l.s=!0;var f=l.Ga;$||W(),H||($(),H=!0),F.add(f,l),l.B=0}}function mC(l,f){return Iv(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=_e(p(l.Ga,l,f),Jv(l,l.B)),l.B++,!0)}e.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const P=new mi(this,this.j,l);let k=this.o;if(this.S&&(k?(k=_(k),R(k,this.S)):k=this.S),this.m!==null||this.O||(P.H=k,k=null),this.P)t:{for(var f=0,g=0;g<this.i.length;g++){e:{var b=this.i[g];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(f+=b,4096<f){f=g;break t}if(f===4096||g===this.i.length-1){f=g+1;break t}}f=1e3}else f=1e3;f=Kv(this,P,f),g=Ir(this.I),jt(g,"RID",l),jt(g,"CVER",22),this.D&&jt(g,"X-HTTP-Session-Id",this.D),fl(this,g),k&&(this.O?f="headers="+encodeURIComponent(String(zv(k)))+"&"+f:this.m&&Id(g,this.m,k)),Cd(this.h,P),this.Ua&&jt(g,"TYPE","init"),this.P?(jt(g,"$req",f),jt(g,"SID","null"),P.T=!0,Ad(P,g,null)):Ad(P,g,f),this.G=2}}else this.G==3&&(l?Yv(this,l):this.i.length==0||Cv(this.h)||Yv(this))};function Yv(l,f){var g;f?g=f.l:g=l.U++;const b=Ir(l.I);jt(b,"SID",l.K),jt(b,"RID",g),jt(b,"AID",l.T),fl(l,b),l.m&&l.o&&Id(b,l.m,l.o),g=new mi(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),f&&(l.i=f.D.concat(l.i)),f=Kv(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Cd(l.h,g),Ad(g,b,f)}function fl(l,f){l.H&&L(l.H,function(g,b){jt(f,b,g)}),l.l&&Dv({},function(g,b){jt(f,b,g)})}function Kv(l,f,g){g=Math.min(l.i.length,g);var b=l.l?p(l.l.Na,l.l,l):null;t:{var P=l.i;let k=-1;for(;;){const G=["count="+g];k==-1?0<g?(k=P[0].g,G.push("ofs="+k)):k=0:G.push("ofs="+k);let Pt=!0;for(let be=0;be<g;be++){let bt=P[be].g;const xe=P[be].map;if(bt-=k,0>bt)k=Math.max(0,P[be].g-100),Pt=!1;else try{cC(xe,G,"req"+bt+"_")}catch{b&&b(xe)}}if(Pt){b=G.join("&");break t}}}return l=l.i.splice(0,g),f.D=l,b}function Xv(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;$||W(),H||($(),H=!0),F.add(f,l),l.v=0}}function Od(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=_e(p(l.Fa,l),Jv(l,l.v)),l.v++,!0)}e.Fa=function(){if(this.u=null,Wv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=_e(p(this.ab,this),l)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ht(10),vc(this),Wv(this))};function Dd(l){l.A!=null&&(o.clearTimeout(l.A),l.A=null)}function Wv(l){l.g=new mi(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=Ir(l.qa);jt(f,"RID","rpc"),jt(f,"SID",l.K),jt(f,"AID",l.T),jt(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&jt(f,"TO",l.ja),jt(f,"TYPE","xmlhttp"),fl(l,f),l.m&&l.o&&Id(f,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=mc(Ir(f)),g.m=null,g.P=!0,Av(g,l)}e.Za=function(){this.C!=null&&(this.C=null,vc(this),Od(this),Ht(19))};function bc(l){l.C!=null&&(o.clearTimeout(l.C),l.C=null)}function Zv(l,f){var g=null;if(l.g==f){bc(l),Dd(l),l.g=null;var b=2}else if(xd(l.h,f))g=f.D,Nv(l.h,f),b=1;else return;if(l.G!=0){if(f.o)if(b==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var P=l.B;b=_t(),Kt(b,new Kn(b,g)),_c(l)}else Xv(l);else if(P=f.s,P==3||P==0&&0<f.X||!(b==1&&mC(l,f)||b==2&&Od(l)))switch(g&&0<g.length&&(f=l.h,f.i=f.i.concat(g)),P){case 1:Ss(l,5);break;case 4:Ss(l,10);break;case 3:Ss(l,6);break;default:Ss(l,2)}}}function Jv(l,f){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*f}function Ss(l,f){if(l.j.info("Error code "+f),f==2){var g=p(l.fb,l),b=l.Xa;const P=!b;b=new As(b||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||fc(b,"https"),mc(b),P?oC(b.toString(),g):lC(b.toString(),g)}else Ht(2);l.G=0,l.l&&l.l.sa(f),t_(l),$v(l)}e.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Ht(2)):(this.j.info("Failed to ping google.com"),Ht(1))};function t_(l){if(l.G=0,l.ka=[],l.l){const f=Ov(l.h);(f.length!=0||l.i.length!=0)&&(A(l.ka,f),A(l.ka,l.i),l.h.i.length=0,E(l.i),l.i.length=0),l.l.ra()}}function e_(l,f,g){var b=g instanceof As?Ir(g):new As(g);if(b.g!="")f&&(b.g=f+"."+b.g),dc(b,b.s);else{var P=o.location;b=P.protocol,f=f?f+"."+P.hostname:P.hostname,P=+P.port;var k=new As(null);b&&fc(k,b),f&&(k.g=f),P&&dc(k,P),g&&(k.l=g),b=k}return g=l.D,f=l.ya,g&&f&&jt(b,g,f),jt(b,"VER",l.la),fl(l,b),b}function n_(l,f,g){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new Xt(new pc({eb:g})):new Xt(l.pa),f.Ha(l.J),f}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function r_(){}e=r_.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Ec(){}Ec.prototype.g=function(l,f){return new nn(l,f)};function nn(l,f){xt.call(this),this.g=new Qv(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!v(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!v(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new va(this)}S(nn,xt),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Nd(this.g)},nn.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=pa(l),l=g);f.i.push(new Wx(f.Ya++,l)),f.G==3&&_c(f)},nn.prototype.N=function(){this.g.l=null,delete this.j,Nd(this.g),delete this.g,nn.aa.N.call(this)};function i_(l){ws.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){t:{for(const g in f){l=g;break t}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}S(i_,ws);function s_(){yn.call(this),this.status=1}S(s_,yn);function va(l){this.g=l}S(va,r_),va.prototype.ua=function(){Kt(this.g,"a")},va.prototype.ta=function(l){Kt(this.g,new i_(l))},va.prototype.sa=function(l){Kt(this.g,new s_)},va.prototype.ra=function(){Kt(this.g,"b")},Ec.prototype.createWebChannel=Ec.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,nR=function(){return new Ec},eR=function(){return _t()},tR=Cr,Yp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},uc.NO_ERROR=0,uc.TIMEOUT=8,uc.HTTP_ERROR=6,mh=uc,Ev.COMPLETE="complete",JS=Ev,il.EventType=Es,Es.OPEN="a",Es.CLOSE="b",Es.ERROR="c",Es.MESSAGE="d",xt.prototype.listen=xt.prototype.K,Cl=il,Xt.prototype.listenOnce=Xt.prototype.L,Xt.prototype.getLastError=Xt.prototype.Ka,Xt.prototype.getLastErrorCode=Xt.prototype.Ba,Xt.prototype.getStatus=Xt.prototype.Z,Xt.prototype.getResponseJson=Xt.prototype.Oa,Xt.prototype.getResponseText=Xt.prototype.oa,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Ha,ZS=Xt}).apply(typeof Fc<"u"?Fc:typeof self<"u"?self:typeof window<"u"?window:{});const qb="@firebase/firestore",Hb="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let De=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};De.UNAUTHENTICATED=new De(null),De.GOOGLE_CREDENTIALS=new De("google-credentials-uid"),De.FIRST_PARTY=new De("first-party-uid"),De.MOCK_USER=new De("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ko="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=new xy("@firebase/firestore");function Ra(){return ea.logLevel}function K(e,...t){if(ea.logLevel<=dt.DEBUG){const n=t.map(jy);ea.debug(`Firestore (${Ko}): ${e}`,...n)}}function ii(e,...t){if(ea.logLevel<=dt.ERROR){const n=t.map(jy);ea.error(`Firestore (${Ko}): ${e}`,...n)}}function No(e,...t){if(ea.logLevel<=dt.WARN){const n=t.map(jy);ea.warn(`Firestore (${Ko}): ${e}`,...n)}}function jy(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(e,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,rR(e,r,n)}function rR(e,t,n){let r=`FIRESTORE (${Ko}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ii(r),new Error(r)}function Rt(e,t,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,e||rR(t,i,r)}function st(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends li{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class P6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(De.UNAUTHENTICATED))}shutdown(){}}class V6{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class k6{constructor(t){this.t=t,this.currentUser=De.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Rt(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new Gs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Gs,t.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const u=s;t.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},o=u=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>o(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?o(u):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Gs)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Rt(typeof r.accessToken=="string",31837,{l:r}),new iR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Rt(t===null||typeof t=="string",2055,{h:t}),new De(t)}}class L6{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=De.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class U6{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new L6(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(De.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Fb{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class j6{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Sn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Rt(this.o===void 0,3512);const r=s=>{s.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,K("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Fb(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Rt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Fb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z6(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=z6(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%62))}return r}}function mt(e,t){return e<t?-1:e>t?1:0}function Kp(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const i=e.charAt(r),s=t.charAt(r);if(i!==s)return Cm(i)===Cm(s)?mt(i,s):Cm(i)?1:-1}return mt(e.length,t.length)}const B6=55296,q6=57343;function Cm(e){const t=e.charCodeAt(0);return t>=B6&&t<=q6}function Oo(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb="__name__";class Wn{constructor(t,n,r){n===void 0?n=0:n>t.length&&Z(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&Z(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Wn.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Wn?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=Wn.compareSegments(t.get(i),n.get(i));if(s!==0)return s}return mt(t.length,n.length)}static compareSegments(t,n){const r=Wn.isNumericId(t),i=Wn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Wn.extractNumericId(t).compare(Wn.extractNumericId(n)):Kp(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ns.fromString(t.substring(4,t.length-2))}}class kt extends Wn{construct(t,n,r){return new kt(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new Y(j.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new kt(n)}static emptyPath(){return new kt([])}}const H6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ae extends Wn{construct(t,n,r){return new Ae(t,n,r)}static isValidIdentifier(t){return H6.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ae.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Gb}static keyField(){return new Ae([Gb])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Y(j.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<t.length;){const o=t[i];if(o==="\\"){if(i+1===t.length)throw new Y(j.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Y(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new Y(j.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ae(n)}static emptyPath(){return new Ae([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(t){this.path=t}static fromPath(t){return new X(kt.fromString(t))}static fromName(t){return new X(kt.fromString(t).popFirst(5))}static empty(){return new X(kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&kt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return kt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new X(new kt(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(e,t,n){if(!n)throw new Y(j.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function F6(e,t,n,r){if(t===!0&&r===!0)throw new Y(j.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Qb(e){if(!X.isDocumentKey(e))throw new Y(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function $b(e){if(X.isDocumentKey(e))throw new Y(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function aR(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function id(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Z(12329,{type:typeof e})}function ro(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Y(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=id(e);throw new Y(j.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(e,t){const n={typeString:e};return t&&(n.value=t),n}function ec(e,t){if(!aR(e))throw new Y(j.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,s="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}const a=e[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Y(j.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb=-62135596800,Kb=1e6;class Bt{static now(){return Bt.fromMillis(Date.now())}static fromDate(t){return Bt.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*Kb);return new Bt(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Y(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Yb)throw new Y(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Y(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Kb}_compareTo(t){return this.seconds===t.seconds?mt(this.nanoseconds,t.nanoseconds):mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Bt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ec(t,Bt._jsonSchema))return new Bt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Yb;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Bt._jsonSchemaVersion="firestore/timestamp/1.0",Bt._jsonSchema={type:ae("string",Bt._jsonSchemaVersion),seconds:ae("number"),nanoseconds:ae("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{static fromTimestamp(t){return new it(t)}static min(){return new it(new Bt(0,0))}static max(){return new it(new Bt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu=-1;function G6(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=it.fromTimestamp(r===1e9?new Bt(n+1,0):new Bt(n,r));return new us(i,X.empty(),t)}function Q6(e){return new us(e.readTime,e.key,bu)}class us{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new us(it.min(),X.empty(),bu)}static max(){return new us(it.max(),X.empty(),bu)}}function $6(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=X.comparator(e.documentKey,t.documentKey),n!==0?n:mt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class K6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(e){if(e.code!==j.FAILED_PRECONDITION||e.message!==Y6)throw e;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Z(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new z((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):z.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):z.reject(n)}static resolve(t){return new z((n,r)=>{n(t)})}static reject(t){return new z((n,r)=>{r(t)})}static waitFor(t){return new z((n,r)=>{let i=0,s=0,a=!1;t.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&n()},u=>r(u))}),a=!0,s===i&&n()})}static or(t){let n=z.resolve(!1);for(const r of t)n=n.next(i=>i?z.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new z((r,i)=>{const s=t.length,a=new Array(s);let o=0;for(let u=0;u<s;u++){const c=u;n(t[c]).next(h=>{a[c]=h,++o,o===s&&r(a)},h=>i(h))}})}static doWhile(t,n){return new z((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function X6(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wo(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}sd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By=-1;function ad(e){return e==null}function mf(e){return e===0&&1/e==-1/0}function W6(e){return typeof e=="number"&&Number.isInteger(e)&&!mf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR="";function Z6(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Xb(t)),t=J6(e.get(n),t);return Xb(t)}function J6(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const s=e.charAt(i);switch(s){case"\0":n+="";break;case oR:n+="";break;default:n+=s}}return n}function Xb(e){return e+oR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function oa(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function lR(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(t,n){this.comparator=t,this.root=n||we.EMPTY}insert(t,n){return new Yt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,we.BLACK,null,null))}remove(t){return new Yt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,we.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Gc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Gc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Gc(this.root,t,this.comparator,!0)}}class Gc{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class we{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??we.RED,this.left=i??we.EMPTY,this.right=s??we.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new we(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return we.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return we.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,we.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,we.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Z(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Z(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Z(27949);return t+(this.isRed()?0:1)}}we.EMPTY=null,we.RED=!0,we.BLACK=!1;we.EMPTY=new class{constructor(){this.size=0}get key(){throw Z(57766)}get value(){throw Z(16141)}get color(){throw Z(16727)}get left(){throw Z(29726)}get right(){throw Z(36894)}copy(t,n,r,i,s){return this}insert(t,n,r){return new we(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(t){this.comparator=t,this.data=new Yt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Zb(this.data.getIterator())}getIteratorFrom(t){return new Zb(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof he)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new he(this.comparator);return n.data=t,n}}class Zb{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(t){this.fields=t,t.sort(Ae.comparator)}static empty(){return new jn([])}unionWith(t){let n=new he(Ae.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new jn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Oo(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new uR("Invalid base64 string: "+s):s}}(t);return new Re(n)}static fromUint8Array(t){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(t);return new Re(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Re.EMPTY_BYTE_STRING=new Re("");const t3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cs(e){if(Rt(!!e,39018),typeof e=="string"){let t=0;const n=t3.exec(e);if(Rt(!!n,46558,{timestamp:e}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ne(e.seconds),nanos:ne(e.nanos)}}function ne(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function hs(e){return typeof e=="string"?Re.fromBase64String(e):Re.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR="server_timestamp",hR="__type__",fR="__previous_value__",dR="__local_write_time__";function qy(e){var n,r;return((r=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[hR])==null?void 0:r.stringValue)===cR}function od(e){const t=e.mapValue.fields[fR];return qy(t)?od(t):t}function Eu(e){const t=cs(e.mapValue.fields[dR].timestampValue);return new Bt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(t,n,r,i,s,a,o,u,c,h){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=u,this.useFetchStreams=c,this.isUsingEmulator=h}}const pf="(default)";class wu{constructor(t,n){this.projectId=t,this.database=n||pf}static empty(){return new wu("","")}get isDefaultDatabase(){return this.database===pf}isEqual(t){return t instanceof wu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="__type__",n3="__max__",Qc={mapValue:{}},pR="__vector__",gf="value";function fs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?qy(e)?4:i3(e)?9007199254740991:r3(e)?10:11:Z(28295,{value:e})}function Er(e,t){if(e===t)return!0;const n=fs(e);if(n!==fs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Eu(e).isEqual(Eu(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=cs(i.timestampValue),o=cs(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return hs(i.bytesValue).isEqual(hs(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return ne(i.geoPointValue.latitude)===ne(s.geoPointValue.latitude)&&ne(i.geoPointValue.longitude)===ne(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ne(i.integerValue)===ne(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=ne(i.doubleValue),o=ne(s.doubleValue);return a===o?mf(a)===mf(o):isNaN(a)&&isNaN(o)}return!1}(e,t);case 9:return Oo(e.arrayValue.values||[],t.arrayValue.values||[],Er);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(Wb(a)!==Wb(o))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(o[u]===void 0||!Er(a[u],o[u])))return!1;return!0}(e,t);default:return Z(52216,{left:e})}}function Tu(e,t){return(e.values||[]).find(n=>Er(n,t))!==void 0}function Do(e,t){if(e===t)return 0;const n=fs(e),r=fs(t);if(n!==r)return mt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return mt(e.booleanValue,t.booleanValue);case 2:return function(s,a){const o=ne(s.integerValue||s.doubleValue),u=ne(a.integerValue||a.doubleValue);return o<u?-1:o>u?1:o===u?0:isNaN(o)?isNaN(u)?0:-1:1}(e,t);case 3:return Jb(e.timestampValue,t.timestampValue);case 4:return Jb(Eu(e),Eu(t));case 5:return Kp(e.stringValue,t.stringValue);case 6:return function(s,a){const o=hs(s),u=hs(a);return o.compareTo(u)}(e.bytesValue,t.bytesValue);case 7:return function(s,a){const o=s.split("/"),u=a.split("/");for(let c=0;c<o.length&&c<u.length;c++){const h=mt(o[c],u[c]);if(h!==0)return h}return mt(o.length,u.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,a){const o=mt(ne(s.latitude),ne(a.latitude));return o!==0?o:mt(ne(s.longitude),ne(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return tE(e.arrayValue,t.arrayValue);case 10:return function(s,a){var p,d,S,E;const o=s.fields||{},u=a.fields||{},c=(p=o[gf])==null?void 0:p.arrayValue,h=(d=u[gf])==null?void 0:d.arrayValue,m=mt(((S=c==null?void 0:c.values)==null?void 0:S.length)||0,((E=h==null?void 0:h.values)==null?void 0:E.length)||0);return m!==0?m:tE(c,h)}(e.mapValue,t.mapValue);case 11:return function(s,a){if(s===Qc.mapValue&&a===Qc.mapValue)return 0;if(s===Qc.mapValue)return 1;if(a===Qc.mapValue)return-1;const o=s.fields||{},u=Object.keys(o),c=a.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let m=0;m<u.length&&m<h.length;++m){const p=Kp(u[m],h[m]);if(p!==0)return p;const d=Do(o[u[m]],c[h[m]]);if(d!==0)return d}return mt(u.length,h.length)}(e.mapValue,t.mapValue);default:throw Z(23264,{he:n})}}function Jb(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return mt(e,t);const n=cs(e),r=cs(t),i=mt(n.seconds,r.seconds);return i!==0?i:mt(n.nanos,r.nanos)}function tE(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Do(n[i],r[i]);if(s)return s}return mt(n.length,r.length)}function Mo(e){return Xp(e)}function Xp(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=cs(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return hs(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return X.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Xp(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${Xp(n.fields[a])}`;return i+"}"}(e.mapValue):Z(61005,{value:e})}function ph(e){switch(fs(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=od(e);return t?16+ph(t):16;case 5:return 2*e.stringValue.length;case 6:return hs(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+ph(s),0)}(e.arrayValue);case 10:case 11:return function(r){let i=0;return oa(r.fields,(s,a)=>{i+=s.length+ph(a)}),i}(e.mapValue);default:throw Z(13486,{value:e})}}function eE(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Wp(e){return!!e&&"integerValue"in e}function Hy(e){return!!e&&"arrayValue"in e}function nE(e){return!!e&&"nullValue"in e}function rE(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function gh(e){return!!e&&"mapValue"in e}function r3(e){var n,r;return((r=(((n=e==null?void 0:e.mapValue)==null?void 0:n.fields)||{})[mR])==null?void 0:r.stringValue)===pR}function Xl(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return oa(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=Xl(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Xl(e.arrayValue.values[n]);return t}return{...e}}function i3(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===n3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(t){this.value=t}static empty(){return new Rn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!gh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Xl(n)}setAll(t){let n=Ae.emptyPath(),r={},i=[];t.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=o.popLast()}a?r[o.lastSegment()]=Xl(a):i.push(o.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());gh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Er(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];gh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){oa(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new Rn(Xl(this.value))}}function gR(e){const t=[];return oa(e.fields,(n,r)=>{const i=new Ae([n]);if(gh(r)){const s=gR(r.mapValue).fields;if(s.length===0)t.push(i);else for(const a of s)t.push(i.child(a))}else t.push(i)}),new jn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(t,n,r,i,s,a,o){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(t){return new Me(t,0,it.min(),it.min(),it.min(),Rn.empty(),0)}static newFoundDocument(t,n,r,i){return new Me(t,1,n,it.min(),r,i,0)}static newNoDocument(t,n){return new Me(t,2,n,it.min(),it.min(),Rn.empty(),0)}static newUnknownDocument(t,n){return new Me(t,3,n,it.min(),it.min(),Rn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(it.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=it.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Me&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Me(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(t,n){this.position=t,this.inclusive=n}}function iE(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(s.field.isKeyField()?r=X.comparator(X.fromName(a.referenceValue),n.key):r=Do(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function sE(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Er(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(t,n="asc"){this.field=t,this.dir=n}}function s3(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{}class se extends yR{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new o3(t,n,r):n==="array-contains"?new c3(t,r):n==="in"?new h3(t,r):n==="not-in"?new f3(t,r):n==="array-contains-any"?new d3(t,r):new se(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new l3(t,r):new u3(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Do(n,this.value)):n!==null&&fs(this.value)===fs(n)&&this.matchesComparison(Do(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Z(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hn extends yR{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Hn(t,n)}matches(t){return vR(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function vR(e){return e.op==="and"}function _R(e){return a3(e)&&vR(e)}function a3(e){for(const t of e.filters)if(t instanceof Hn)return!1;return!0}function Zp(e){if(e instanceof se)return e.field.canonicalString()+e.op.toString()+Mo(e.value);if(_R(e))return e.filters.map(t=>Zp(t)).join(",");{const t=e.filters.map(n=>Zp(n)).join(",");return`${e.op}(${t})`}}function bR(e,t){return e instanceof se?function(r,i){return i instanceof se&&r.op===i.op&&r.field.isEqual(i.field)&&Er(r.value,i.value)}(e,t):e instanceof Hn?function(r,i){return i instanceof Hn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,o)=>s&&bR(a,i.filters[o]),!0):!1}(e,t):void Z(19439)}function ER(e){return e instanceof se?function(n){return`${n.field.canonicalString()} ${n.op} ${Mo(n.value)}`}(e):e instanceof Hn?function(n){return n.op.toString()+" {"+n.getFilters().map(ER).join(" ,")+"}"}(e):"Filter"}class o3 extends se{constructor(t,n,r){super(t,n,r),this.key=X.fromName(r.referenceValue)}matches(t){const n=X.comparator(t.key,this.key);return this.matchesComparison(n)}}class l3 extends se{constructor(t,n){super(t,"in",n),this.keys=wR("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class u3 extends se{constructor(t,n){super(t,"not-in",n),this.keys=wR("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function wR(e,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map(r=>X.fromName(r.referenceValue))}class c3 extends se{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Hy(n)&&Tu(n.arrayValue,this.value)}}class h3 extends se{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Tu(this.value.arrayValue,n)}}class f3 extends se{constructor(t,n){super(t,"not-in",n)}matches(t){if(Tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Tu(this.value.arrayValue,n)}}class d3 extends se{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Hy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Tu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(t,n=null,r=[],i=[],s=null,a=null,o=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.Te=null}}function aE(e,t=null,n=[],r=[],i=null,s=null,a=null){return new m3(e,t,n,r,i,s,a)}function Fy(e){const t=st(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>Zp(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ad(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Mo(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Mo(r)).join(",")),t.Te=n}return t.Te}function Gy(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!s3(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!bR(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!sE(e.startAt,t.startAt)&&sE(e.endAt,t.endAt)}function Jp(e){return X.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(t,n=null,r=[],i=[],s=null,a="F",o=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function p3(e,t,n,r,i,s,a,o){return new Zo(e,t,n,r,i,s,a,o)}function Qy(e){return new Zo(e)}function oE(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function TR(e){return e.collectionGroup!==null}function Wl(e){const t=st(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const s of t.explicitOrderBy)t.Ie.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new he(Ae.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.Ie.push(new Au(s,r))}),n.has(Ae.keyField().canonicalString())||t.Ie.push(new Au(Ae.keyField(),r))}return t.Ie}function pr(e){const t=st(e);return t.Ee||(t.Ee=g3(t,Wl(e))),t.Ee}function g3(e,t){if(e.limitType==="F")return aE(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Au(i.field,s)});const n=e.endAt?new yf(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new yf(e.startAt.position,e.startAt.inclusive):null;return aE(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function tg(e,t){const n=e.filters.concat([t]);return new Zo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function eg(e,t,n){return new Zo(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ld(e,t){return Gy(pr(e),pr(t))&&e.limitType===t.limitType}function AR(e){return`${Fy(pr(e))}|lt:${e.limitType}`}function xa(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ER(i)).join(", ")}]`),ad(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Mo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Mo(i)).join(",")),`Target(${r})`}(pr(e))}; limitType=${e.limitType})`}function ud(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):X.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of Wl(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(a,o,u){const c=iE(a,o,u);return a.inclusive?c<=0:c<0}(r.startAt,Wl(r),i)||r.endAt&&!function(a,o,u){const c=iE(a,o,u);return a.inclusive?c>=0:c>0}(r.endAt,Wl(r),i))}(e,t)}function y3(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function SR(e){return(t,n)=>{let r=!1;for(const i of Wl(e)){const s=v3(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function v3(e,t,n){const r=e.field.isKeyField()?X.comparator(t.key,n.key):function(s,a,o){const u=a.data.field(s),c=o.data.field(s);return u!==null&&c!==null?Do(u,c):Z(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Z(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){oa(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return lR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3=new Yt(X.comparator);function si(){return _3}const RR=new Yt(X.comparator);function Il(...e){let t=RR;for(const n of e)t=t.insert(n.key,n);return t}function xR(e){let t=RR;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Os(){return Zl()}function CR(){return Zl()}function Zl(){return new la(e=>e.toString(),(e,t)=>e.isEqual(t))}const b3=new Yt(X.comparator),E3=new he(X.comparator);function pt(...e){let t=E3;for(const n of e)t=t.add(n);return t}const w3=new he(mt);function T3(){return w3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mf(t)?"-0":t}}function IR(e){return{integerValue:""+e}}function A3(e,t){return W6(t)?IR(t):$y(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(){this._=void 0}}function S3(e,t,n){return e instanceof Su?function(i,s){const a={fields:{[hR]:{stringValue:cR},[dR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&qy(s)&&(s=od(s)),s&&(a.fields[fR]=s),{mapValue:a}}(n,t):e instanceof Ru?OR(e,t):e instanceof xu?DR(e,t):function(i,s){const a=NR(i,s),o=lE(a)+lE(i.Ae);return Wp(a)&&Wp(i.Ae)?IR(o):$y(i.serializer,o)}(e,t)}function R3(e,t,n){return e instanceof Ru?OR(e,t):e instanceof xu?DR(e,t):n}function NR(e,t){return e instanceof vf?function(r){return Wp(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class Su extends cd{}class Ru extends cd{constructor(t){super(),this.elements=t}}function OR(e,t){const n=MR(t);for(const r of e.elements)n.some(i=>Er(i,r))||n.push(r);return{arrayValue:{values:n}}}class xu extends cd{constructor(t){super(),this.elements=t}}function DR(e,t){let n=MR(t);for(const r of e.elements)n=n.filter(i=>!Er(i,r));return{arrayValue:{values:n}}}class vf extends cd{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function lE(e){return ne(e.integerValue||e.doubleValue)}function MR(e){return Hy(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(t,n){this.field=t,this.transform=n}}function C3(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof Ru&&i instanceof Ru||r instanceof xu&&i instanceof xu?Oo(r.elements,i.elements,Er):r instanceof vf&&i instanceof vf?Er(r.Ae,i.Ae):r instanceof Su&&i instanceof Su}(e.transform,t.transform)}class I3{constructor(t,n){this.version=t,this.transformResults=n}}class gr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new gr}static exists(t){return new gr(void 0,t)}static updateTime(t){return new gr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function yh(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class hd{}function PR(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Yy(e.key,gr.none()):new nc(e.key,e.data,gr.none());{const n=e.data,r=Rn.empty();let i=new he(Ae.comparator);for(let s of t.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new ua(e.key,r,new jn(i.toArray()),gr.none())}}function N3(e,t,n){e instanceof nc?function(i,s,a){const o=i.value.clone(),u=cE(i.fieldTransforms,s,a.transformResults);o.setAll(u),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(e,t,n):e instanceof ua?function(i,s,a){if(!yh(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=cE(i.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(VR(i)),u.setAll(o),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(e,t,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function Jl(e,t,n,r){return e instanceof nc?function(s,a,o,u){if(!yh(s.precondition,a))return o;const c=s.value.clone(),h=hE(s.fieldTransforms,u,a);return c.setAll(h),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(e,t,n,r):e instanceof ua?function(s,a,o,u){if(!yh(s.precondition,a))return o;const c=hE(s.fieldTransforms,u,a),h=a.data;return h.setAll(VR(s)),h.setAll(c),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(e,t,n,r):function(s,a,o){return yh(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(e,t,n)}function O3(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=NR(r.transform,i||null);s!=null&&(n===null&&(n=Rn.empty()),n.set(r.field,s))}return n||null}function uE(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Oo(r,i,(s,a)=>C3(s,a))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class nc extends hd{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ua extends hd{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function VR(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function cE(e,t,n){const r=new Map;Rt(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,R3(a,o,n[i]))}return r}function hE(e,t,n){const r=new Map;for(const i of e){const s=i.transform,a=n.data.field(i.field);r.set(i.field,S3(s,a,t))}return r}class Yy extends hd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class D3 extends hd{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&N3(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Jl(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Jl(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=CR();return this.mutations.forEach(i=>{const s=t.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=n.has(i.key)?null:o;const u=PR(a,o);u!==null&&r.set(i.key,u),a.isValidDocument()||a.convertToNoDocument(it.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),pt())}isEqual(t){return this.batchId===t.batchId&&Oo(this.mutations,t.mutations,(n,r)=>uE(n,r))&&Oo(this.baseMutations,t.baseMutations,(n,r)=>uE(n,r))}}class Ky{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){Rt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let i=function(){return b3}();const s=t.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new Ky(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V3{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var re,yt;function k3(e){switch(e){case j.OK:return Z(64938);case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0;default:return Z(15467,{code:e})}}function kR(e){if(e===void 0)return ii("GRPC error has no .code"),j.UNKNOWN;switch(e){case re.OK:return j.OK;case re.CANCELLED:return j.CANCELLED;case re.UNKNOWN:return j.UNKNOWN;case re.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case re.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case re.INTERNAL:return j.INTERNAL;case re.UNAVAILABLE:return j.UNAVAILABLE;case re.UNAUTHENTICATED:return j.UNAUTHENTICATED;case re.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case re.NOT_FOUND:return j.NOT_FOUND;case re.ALREADY_EXISTS:return j.ALREADY_EXISTS;case re.PERMISSION_DENIED:return j.PERMISSION_DENIED;case re.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case re.ABORTED:return j.ABORTED;case re.OUT_OF_RANGE:return j.OUT_OF_RANGE;case re.UNIMPLEMENTED:return j.UNIMPLEMENTED;case re.DATA_LOSS:return j.DATA_LOSS;default:return Z(39323,{code:e})}}(yt=re||(re={}))[yt.OK=0]="OK",yt[yt.CANCELLED=1]="CANCELLED",yt[yt.UNKNOWN=2]="UNKNOWN",yt[yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yt[yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yt[yt.NOT_FOUND=5]="NOT_FOUND",yt[yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",yt[yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",yt[yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",yt[yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yt[yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yt[yt.ABORTED=10]="ABORTED",yt[yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",yt[yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",yt[yt.INTERNAL=13]="INTERNAL",yt[yt.UNAVAILABLE=14]="UNAVAILABLE",yt[yt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3=new ns([4294967295,4294967295],0);function fE(e){const t=L3().encode(e),n=new WS;return n.update(t),new Uint8Array(n.digest())}function dE(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new ns([n,r],0),new ns([i,s],0)]}class Xy{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Nl(`Invalid padding: ${n}`);if(r<0)throw new Nl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Nl(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Nl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=ns.fromNumber(this.ge)}ye(t,n,r){let i=t.add(n.multiply(ns.fromNumber(r)));return i.compare(U3)===1&&(i=new ns([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=fE(t),[r,i]=dE(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);if(!this.we(a))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),a=new Xy(s,i,n);return r.forEach(o=>a.insert(o)),a}insert(t){if(this.ge===0)return;const n=fE(t),[r,i]=dE(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);this.Se(a)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,rc.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new fd(it.min(),i,new Yt(mt),si(),pt())}}class rc{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new rc(r,n,pt(),pt(),pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(t,n,r,i){this.be=t,this.removedTargetIds=n,this.key=r,this.De=i}}class LR{constructor(t,n){this.targetId=t,this.Ce=n}}class UR{constructor(t,n,r=Re.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class mE{constructor(){this.ve=0,this.Fe=pE(),this.Me=Re.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=pt(),n=pt(),r=pt();return this.Fe.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Z(38017,{changeType:s})}}),new rc(this.Me,this.xe,t,n,r)}qe(){this.Oe=!1,this.Fe=pE()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Rt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class j3{constructor(t){this.Ge=t,this.ze=new Map,this.je=si(),this.Je=$c(),this.He=$c(),this.Ye=new Yt(mt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:Z(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(t){const n=t.targetId,r=t.Ce.count,i=this.ot(n);if(i){const s=i.target;if(Jp(s))if(r===0){const a=new X(s.path);this.et(n,a,Me.newNoDocument(a,it.min()))}else Rt(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const o=this.ut(t),u=o?this.ct(o,t,a):1;if(u!==0){this.it(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,o;try{a=hs(r).toUint8Array()}catch(u){if(u instanceof uR)return No("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{o=new Xy(a,i,s)}catch(u){return No(u instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return o.ge===0?null:o}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Ge.ht(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;t.mightContain(o)||(this.et(n,s,null),i++)}),i}Tt(t){const n=new Map;this.ze.forEach((s,a)=>{const o=this.ot(a);if(o){if(s.current&&Jp(o.target)){const u=new X(o.target.path);this.It(u).has(a)||this.Et(a,u)||this.et(a,u,Me.newNoDocument(u,t))}s.Be&&(n.set(a,s.ke()),s.qe())}});let r=pt();this.He.forEach((s,a)=>{let o=!0;a.forEachWhile(u=>{const c=this.ot(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(s))}),this.je.forEach((s,a)=>a.setReadTime(t));const i=new fd(t,n,this.Ye,this.je,r);return this.je=si(),this.Je=$c(),this.He=$c(),this.Ye=new Yt(mt),i}Xe(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const i=this.nt(t);this.Et(t,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new mE,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new he(mt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new he(mt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||K("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new mE),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function $c(){return new Yt(X.comparator)}function pE(){return new Yt(X.comparator)}const z3={asc:"ASCENDING",desc:"DESCENDING"},B3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},q3={and:"AND",or:"OR"};class H3{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function ng(e,t){return e.useProto3Json||ad(t)?t:{value:t}}function _f(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function jR(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function F3(e,t){return _f(e,t.toTimestamp())}function yr(e){return Rt(!!e,49232),it.fromTimestamp(function(n){const r=cs(n);return new Bt(r.seconds,r.nanos)}(e))}function Wy(e,t){return rg(e,t).canonicalString()}function rg(e,t){const n=function(i){return new kt(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function zR(e){const t=kt.fromString(e);return Rt(GR(t),10190,{key:t.toString()}),t}function ig(e,t){return Wy(e.databaseId,t.path)}function Im(e,t){const n=zR(t);if(n.get(1)!==e.databaseId.projectId)throw new Y(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Y(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new X(qR(n))}function BR(e,t){return Wy(e.databaseId,t)}function G3(e){const t=zR(e);return t.length===4?kt.emptyPath():qR(t)}function sg(e){return new kt(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function qR(e){return Rt(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function gE(e,t,n){return{name:ig(e,t),fields:n.value.mapValue.fields}}function Q3(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Z(39313,{state:c})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(Rt(h===void 0||typeof h=="string",58123),Re.fromBase64String(h||"")):(Rt(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Re.fromUint8Array(h||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(c){const h=c.code===void 0?j.UNKNOWN:kR(c.code);return new Y(h,c.message||"")}(a);n=new UR(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Im(e,r.document.name),s=yr(r.document.updateTime),a=r.document.createTime?yr(r.document.createTime):it.min(),o=new Rn({mapValue:{fields:r.document.fields}}),u=Me.newFoundDocument(i,s,a,o),c=r.targetIds||[],h=r.removedTargetIds||[];n=new vh(c,h,u.key,u)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Im(e,r.document),s=r.readTime?yr(r.readTime):it.min(),a=Me.newNoDocument(i,s),o=r.removedTargetIds||[];n=new vh([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Im(e,r.document),s=r.removedTargetIds||[];n=new vh([],s,i,null)}else{if(!("filter"in t))return Z(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new V3(i,s),o=r.targetId;n=new LR(o,a)}}return n}function $3(e,t){let n;if(t instanceof nc)n={update:gE(e,t.key,t.value)};else if(t instanceof Yy)n={delete:ig(e,t.key)};else if(t instanceof ua)n={update:gE(e,t.key,t.data),updateMask:nL(t.fieldMask)};else{if(!(t instanceof D3))return Z(16599,{Vt:t.type});n={verify:ig(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,a){const o=a.transform;if(o instanceof Su)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Ru)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof xu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof vf)return{fieldPath:a.field.canonicalString(),increment:o.Ae};throw Z(20930,{transform:a.transform})}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:F3(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Z(27497)}(e,t.precondition)),n}function Y3(e,t){return e&&e.length>0?(Rt(t!==void 0,14353),e.map(n=>function(i,s){let a=i.updateTime?yr(i.updateTime):yr(s);return a.isEqual(it.min())&&(a=yr(s)),new I3(a,i.transformResults||[])}(n,t))):[]}function K3(e,t){return{documents:[BR(e,t.path)]}}function X3(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=BR(e,i);const s=function(c){if(c.length!==0)return FR(Hn.create(c,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(c){if(c.length!==0)return c.map(h=>function(p){return{field:Ca(p.field),direction:J3(p.dir)}}(h))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=ng(e,t.limit);return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{ft:n,parent:i}}function W3(e){let t=G3(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Rt(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:t=t.child(h.collectionId)}let s=[];n.where&&(s=function(m){const p=HR(m);return p instanceof Hn&&_R(p)?p.getFilters():[p]}(n.where));let a=[];n.orderBy&&(a=function(m){return m.map(p=>function(S){return new Au(Ia(S.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(p))}(n.orderBy));let o=null;n.limit&&(o=function(m){let p;return p=typeof m=="object"?m.value:m,ad(p)?null:p}(n.limit));let u=null;n.startAt&&(u=function(m){const p=!!m.before,d=m.values||[];return new yf(d,p)}(n.startAt));let c=null;return n.endAt&&(c=function(m){const p=!m.before,d=m.values||[];return new yf(d,p)}(n.endAt)),p3(t,i,a,s,o,"F",u,c)}function Z3(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z(28987,{purpose:i})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function HR(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ia(n.unaryFilter.field);return se.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ia(n.unaryFilter.field);return se.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ia(n.unaryFilter.field);return se.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Ia(n.unaryFilter.field);return se.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Z(61313);default:return Z(60726)}}(e):e.fieldFilter!==void 0?function(n){return se.create(Ia(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Z(58110);default:return Z(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return Hn.create(n.compositeFilter.filters.map(r=>HR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Z(1026)}}(n.compositeFilter.op))}(e):Z(30097,{filter:e})}function J3(e){return z3[e]}function tL(e){return B3[e]}function eL(e){return q3[e]}function Ca(e){return{fieldPath:e.canonicalString()}}function Ia(e){return Ae.fromServerFormat(e.fieldPath)}function FR(e){return e instanceof se?function(n){if(n.op==="=="){if(rE(n.value))return{unaryFilter:{field:Ca(n.field),op:"IS_NAN"}};if(nE(n.value))return{unaryFilter:{field:Ca(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(rE(n.value))return{unaryFilter:{field:Ca(n.field),op:"IS_NOT_NAN"}};if(nE(n.value))return{unaryFilter:{field:Ca(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ca(n.field),op:tL(n.op),value:n.value}}}(e):e instanceof Hn?function(n){const r=n.getFilters().map(i=>FR(i));return r.length===1?r[0]:{compositeFilter:{op:eL(n.op),filters:r}}}(e):Z(54877,{filter:e})}function nL(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function GR(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(t,n,r,i,s=it.min(),a=it.min(),o=Re.EMPTY_BYTE_STRING,u=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=u}withSequenceNumber(t){return new Fi(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(t){this.yt=t}}function iL(e){const t=W3({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?eg(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(){this.Cn=new aL}addToCollectionParentIndex(t,n){return this.Cn.add(n),z.resolve()}getCollectionParents(t,n){return z.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return z.resolve()}deleteFieldIndex(t,n){return z.resolve()}deleteAllFieldIndexes(t){return z.resolve()}createTargetIndexes(t,n){return z.resolve()}getDocumentsMatchingTarget(t,n){return z.resolve(null)}getIndexType(t,n){return z.resolve(0)}getFieldIndexes(t,n){return z.resolve([])}getNextCollectionGroupToUpdate(t){return z.resolve(null)}getMinOffset(t,n){return z.resolve(us.min())}getMinOffsetFromCollectionGroup(t,n){return z.resolve(us.min())}updateCollectionGroup(t,n,r){return z.resolve()}updateIndexEntries(t,n){return z.resolve()}}class aL{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new he(kt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new he(kt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QR=41943040;class Ke{static withCacheSize(t){return new Ke(t,Ke.DEFAULT_COLLECTION_PERCENTILE,Ke.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ke.DEFAULT_COLLECTION_PERCENTILE=10,Ke.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ke.DEFAULT=new Ke(QR,Ke.DEFAULT_COLLECTION_PERCENTILE,Ke.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ke.DISABLED=new Ke(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Po(0)}static cr(){return new Po(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="LruGarbageCollector",oL=1048576;function _E([e,t],[n,r]){const i=mt(e,n);return i===0?mt(t,r):i}class lL{constructor(t){this.Ir=t,this.buffer=new he(_E),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();_E(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class uL{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){K(vE,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wo(n)?K(vE,"Ignoring IndexedDB error during garbage collection: ",n):await Xo(n)}await this.Vr(3e5)})}}class cL{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return z.resolve(sd.ce);const r=new lL(n);return this.mr.forEachTarget(t,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(t,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.mr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(K("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(yE)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(K("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yE):this.yr(t,n))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let r,i,s,a,o,u,c;const h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(K("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,a=Date.now(),this.nthSequenceNumber(t,i))).next(m=>(r=m,o=Date.now(),this.removeTargets(t,r,n))).next(m=>(s=m,u=Date.now(),this.removeOrphanedDocuments(t,r))).next(m=>(c=Date.now(),Ra()<=dt.DEBUG&&K("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(u-o)+`ms
	Removed ${m} documents in `+(c-u)+`ms
Total Duration: ${c-h}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})))}}function hL(e,t){return new cL(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(){this.changes=new la(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Me.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&Jl(r.mutation,i,jn.empty(),Bt.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,pt()).next(()=>r))}getLocalViewOfDocuments(t,n,r=pt()){const i=Os();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let a=Il();return s.forEach((o,u)=>{a=a.insert(o,u.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const r=Os();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,pt()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((a,o)=>{n.set(a,o)})})}computeViews(t,n,r,i){let s=si();const a=Zl(),o=function(){return Zl()}();return n.forEach((u,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof ua)?s=s.insert(c.key,c):h!==void 0?(a.set(c.key,h.mutation.getFieldMask()),Jl(h.mutation,c,h.mutation.getFieldMask(),Bt.now())):a.set(c.key,jn.empty())}),this.recalculateAndSaveOverlays(t,s).next(u=>(u.forEach((c,h)=>a.set(c,h)),n.forEach((c,h)=>o.set(c,new dL(h,a.get(c)??null))),o))}recalculateAndSaveOverlays(t,n){const r=Zl();let i=new Yt((a,o)=>a-o),s=pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const o of a)o.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||jn.empty();h=o.applyToLocalView(c,h),r.set(u,h);const m=(i.get(o.batchId)||pt()).add(u);i=i.insert(o.batchId,m)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const u=o.getNext(),c=u.key,h=u.value,m=CR();h.forEach(p=>{if(!s.has(p)){const d=PR(n.get(p),r.get(p));d!==null&&m.set(p,d),s=s.add(p)}}),a.push(this.documentOverlayCache.saveOverlays(t,c,m))}return z.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(a){return X.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):TR(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):z.resolve(Os());let o=bu,u=s;return a.next(c=>z.forEach(c,(h,m)=>(o<m.largestBatchId&&(o=m.largestBatchId),s.get(h)?z.resolve():this.remoteDocumentCache.getEntry(t,h).next(p=>{u=u.insert(h,p)}))).next(()=>this.populateOverlays(t,c,s)).next(()=>this.computeViews(t,u,c,pt())).next(h=>({batchId:o,changes:xR(h)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new X(n)).next(r=>{let i=Il();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let a=Il();return this.indexManager.getCollectionParents(t,s).next(o=>z.forEach(o,u=>{const c=function(m,p){return new Zo(p,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(t,c,r,i).next(h=>{h.forEach((m,p)=>{a=a.insert(m,p)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(a=>{s.forEach((u,c)=>{const h=c.getKey();a.get(h)===null&&(a=a.insert(h,Me.newInvalidDocument(h)))});let o=Il();return a.forEach((u,c)=>{const h=s.get(u);h!==void 0&&Jl(h.mutation,c,jn.empty(),Bt.now()),ud(n,c)&&(o=o.insert(u,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return z.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:yr(i.createTime)}}(n)),z.resolve()}getNamedQuery(t,n){return z.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,function(i){return{name:i.name,query:iL(i.bundledQuery),readTime:yr(i.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(){this.overlays=new Yt(X.comparator),this.qr=new Map}getOverlay(t,n){return z.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Os();return z.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.St(t,n,s)}),z.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),z.resolve()}getOverlaysForCollection(t,n,r){const i=Os(),s=n.length+1,a=new X(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const u=o.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return z.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new Yt((c,h)=>c-h);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=Os(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const o=Os(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>o.set(c,h)),!(o.size()>=i)););return z.resolve(o)}St(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new P3(n,r));let s=this.qr.get(n);s===void 0&&(s=pt(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(){this.sessionToken=Re.EMPTY_BYTE_STRING}getSessionToken(t){return z.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(){this.Qr=new he(de.$r),this.Ur=new he(de.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const r=new de(t,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.Gr(new de(t,n))}zr(t,n){t.forEach(r=>this.removeReference(r,n))}jr(t){const n=new X(new kt([])),r=new de(n,t),i=new de(n,t+1),s=[];return this.Ur.forEachInRange([r,i],a=>{this.Gr(a),s.push(a.key)}),s}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new X(new kt([])),r=new de(n,t),i=new de(n,t+1);let s=pt();return this.Ur.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(t){const n=new de(t,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class de{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return X.comparator(t.key,n.key)||mt(t.Yr,n.Yr)}static Kr(t,n){return mt(t.Yr,n.Yr)||X.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new he(de.$r)}checkEmpty(t){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new M3(s,n,r,i);this.mutationQueue.push(a);for(const o of i)this.Zr=this.Zr.add(new de(o.key,s)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return z.resolve(a)}lookupMutationBatch(t,n){return z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return z.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?By:this.tr-1)}getAllMutationBatches(t){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new de(n,0),i=new de(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],a=>{const o=this.Xr(a.Yr);s.push(o)}),z.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new he(mt);return n.forEach(i=>{const s=new de(i,0),a=new de(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],o=>{r=r.add(o.Yr)})}),z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;X.isDocumentKey(s)||(s=s.child(""));const a=new de(new X(s),0);let o=new he(mt);return this.Zr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(o=o.add(u.Yr)),!0)},a),z.resolve(this.ti(o))}ti(t){const n=[];return t.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){Rt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return z.forEach(n.mutations,i=>{const s=new de(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Zr=r})}ir(t){}containsKey(t,n){const r=new de(n,0),i=this.Zr.firstAfterOrEqual(r);return z.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,z.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(t){this.ri=t,this.docs=function(){return new Yt(X.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Me.newInvalidDocument(n))}getEntries(t,n){let r=si();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Me.newInvalidDocument(i))}),z.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=si();const a=n.path,o=new X(a.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||$6(Q6(h),r)<=0||(i.has(h.key)||ud(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return z.resolve(s)}getAllFromCollectionGroup(t,n,r,i){Z(9500)}ii(t,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new bL(this)}getSize(t){return z.resolve(this.size)}}class bL extends fL{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(t,i)):this.Nr.removeEntry(r)}),z.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(t){this.persistence=t,this.si=new la(n=>Fy(n),Gy),this.lastRemoteSnapshotVersion=it.min(),this.highestTargetId=0,this.oi=0,this._i=new Zy,this.targetCount=0,this.ai=Po.ur()}forEachTarget(t,n){return this.si.forEach((r,i)=>n(i)),z.resolve()}getLastRemoteSnapshotVersion(t){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),z.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Po(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,z.resolve()}updateTargetData(t,n){return this.Pr(n),z.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.si.forEach((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(t,o.targetId)),i++)}),z.waitFor(s).next(()=>i)}getTargetCount(t){return z.resolve(this.targetCount)}getTargetData(t,n){const r=this.si.get(n)||null;return z.resolve(r)}addMatchingKeys(t,n,r){return this._i.Wr(n,r),z.resolve()}removeMatchingKeys(t,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(t,a))}),z.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),z.resolve()}getMatchingKeysForTargetId(t,n){const r=this._i.Hr(n);return z.resolve(r)}containsKey(t,n){return z.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(t,n){this.ui={},this.overlays={},this.ci=new sd(0),this.li=!1,this.li=!0,this.hi=new yL,this.referenceDelegate=t(this),this.Pi=new EL(this),this.indexManager=new sL,this.remoteDocumentCache=function(i){return new _L(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new rL(n),this.Ii=new pL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new gL,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ui[t.toKey()];return r||(r=new vL(n,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,r){K("MemoryPersistence","Starting transaction:",t);const i=new wL(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(t,n){return z.or(Object.values(this.ui).map(r=>()=>r.containsKey(t,n)))}}class wL extends K6{constructor(t){super(),this.currentSequenceNumber=t}}class Jy{constructor(t){this.persistence=t,this.Ri=new Zy,this.Vi=null}static mi(t){return new Jy(t)}get fi(){if(this.Vi)return this.Vi;throw Z(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),z.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),z.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),z.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.fi,r=>{const i=X.fromPath(r);return this.gi(t,i).next(s=>{s||n.removeEntry(i,it.min())})}).next(()=>(this.Vi=null,n.apply(t)))}updateLimboDocument(t,n){return this.gi(t,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(t){return 0}gi(t,n){return z.or([()=>z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class bf{constructor(t,n){this.persistence=t,this.pi=new la(r=>Z6(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=hL(this,n)}static mi(t,n){return new bf(t,n)}Ei(){}di(t){return z.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(i=>r+i))}wr(t){let n=0;return this.pr(t,r=>{n++}).next(()=>n)}pr(t,n){return z.forEach(this.pi,(r,i)=>this.br(t,r,i).next(s=>s?z.resolve():n(i)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(t,a=>this.br(t,a,n).next(o=>{o||(r++,s.removeEntry(a,it.min()))})).next(()=>s.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),z.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),z.resolve()}removeReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),z.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),z.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=ph(t.data.value)),n}br(t,n,r){return z.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const i=this.pi.get(n);return z.resolve(i!==void 0&&i>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Es=r,this.ds=i}static As(t,n){let r=pt(),i=pt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new tv(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return f4()?8:X6(ke())>0?6:4}()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.ys(t,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ws(t,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new TL;return this.Ss(t,n,a).next(o=>{if(s.result=o,this.Vs)return this.bs(t,n,a,o.size)})}).next(()=>s.result)}bs(t,n,r,i){return r.documentReadCount<this.fs?(Ra()<=dt.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",xa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),z.resolve()):(Ra()<=dt.DEBUG&&K("QueryEngine","Query:",xa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Ra()<=dt.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",xa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,pr(n))):z.resolve())}ys(t,n){if(oE(n))return z.resolve(null);let r=pr(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=eg(n,null,"F"),r=pr(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const a=pt(...s);return this.ps.getDocuments(t,a).next(o=>this.indexManager.getMinOffset(t,r).next(u=>{const c=this.Ds(n,o);return this.Cs(n,c,a,u.readTime)?this.ys(t,eg(n,null,"F")):this.vs(t,c,n,u)}))})))}ws(t,n,r,i){return oE(n)||i.isEqual(it.min())?z.resolve(null):this.ps.getDocuments(t,r).next(s=>{const a=this.Ds(n,s);return this.Cs(n,a,r,i)?z.resolve(null):(Ra()<=dt.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xa(n)),this.vs(t,a,n,G6(i,bu)).next(o=>o))})}Ds(t,n){let r=new he(SR(t));return n.forEach((i,s)=>{ud(t,s)&&(r=r.add(s))}),r}Cs(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(t,n,r){return Ra()<=dt.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",xa(n)),this.ps.getDocumentsMatchingQuery(t,n,us.min(),r)}vs(t,n,r,i){return this.ps.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="LocalStore",SL=3e8;class RL{constructor(t,n,r,i){this.persistence=t,this.Fs=n,this.serializer=i,this.Ms=new Yt(mt),this.xs=new la(s=>Fy(s),Gy),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new mL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function xL(e,t,n,r){return new RL(e,t,n,r)}async function YR(e,t){const n=st(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],o=[];let u=pt();for(const c of i){a.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of s){o.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ls:c,removedBatchIds:a,addedBatchIds:o}))})})}function CL(e,t){const n=st(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(o,u,c,h){const m=c.batch,p=m.keys();let d=z.resolve();return p.forEach(S=>{d=d.next(()=>h.getEntry(u,S)).next(E=>{const A=c.docVersions.get(S);Rt(A!==null,48541),E.version.compareTo(A)<0&&(m.applyToRemoteDocument(E,c),E.isValidDocument()&&(E.setReadTime(c.commitVersion),h.addEntry(E)))})}),d.next(()=>o.mutationQueue.removeMutationBatch(u,m))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let u=pt();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(u=u.add(o.batch.mutations[c].key));return u}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function KR(e){const t=st(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Pi.getLastRemoteSnapshotVersion(n))}function IL(e,t){const n=st(e),r=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const o=[];t.targetChanges.forEach((h,m)=>{const p=i.get(m);if(!p)return;o.push(n.Pi.removeMatchingKeys(s,h.removedDocuments,m).next(()=>n.Pi.addMatchingKeys(s,h.addedDocuments,m)));let d=p.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(m)!==null?d=d.withResumeToken(Re.EMPTY_BYTE_STRING,it.min()).withLastLimboFreeSnapshotVersion(it.min()):h.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(h.resumeToken,r)),i=i.insert(m,d),function(E,A,y){return E.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=SL?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(p,d,h)&&o.push(n.Pi.updateTargetData(s,d))});let u=si(),c=pt();if(t.documentUpdates.forEach(h=>{t.resolvedLimboDocuments.has(h)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),o.push(NL(s,a,t.documentUpdates).next(h=>{u=h.ks,c=h.qs})),!r.isEqual(it.min())){const h=n.Pi.getLastRemoteSnapshotVersion(s).next(m=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));o.push(h)}return z.waitFor(o).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.Ms=i,s))}function NL(e,t,n){let r=pt(),i=pt();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let a=si();return n.forEach((o,u)=>{const c=s.get(o);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),u.isNoDocument()&&u.version.isEqual(it.min())?(t.removeEntry(o,u.readTime),a=a.insert(o,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(u),a=a.insert(o,u)):K(ev,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",u.version)}),{ks:a,qs:i}})}function OL(e,t){const n=st(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=By),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function DL(e,t){const n=st(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,t).next(s=>s?(i=s,z.resolve(i)):n.Pi.allocateTargetId(r).next(a=>(i=new Fi(t,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(t,r.targetId)),r})}async function ag(e,t,n){const r=st(e),i=r.Ms.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Wo(a))throw a;K(ev,`Failed to update sequence numbers for target ${t}: ${a}`)}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function bE(e,t,n){const r=st(e);let i=it.min(),s=pt();return r.persistence.runTransaction("Execute query","readwrite",a=>function(u,c,h){const m=st(u),p=m.xs.get(h);return p!==void 0?z.resolve(m.Ms.get(p)):m.Pi.getTargetData(c,h)}(r,a,pr(t)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,o.targetId).next(u=>{s=u})}).next(()=>r.Fs.getDocumentsMatchingQuery(a,t,n?i:it.min(),n?s:pt())).next(o=>(ML(r,y3(t),o),{documents:o,Qs:s})))}function ML(e,t,n){let r=e.Os.get(t)||it.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.Os.set(t,r)}class EE{constructor(){this.activeTargetIds=T3()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class PL{constructor(){this.Mo=new EE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,r){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new EE,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="ConnectivityMonitor";class TE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){K(wE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){K(wE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yc=null;function og(){return Yc===null?Yc=function(){return 268435456+Math.round(2147483648*Math.random())}():Yc++,"0x"+Yc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="RestConnection",kL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LL{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===pf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(t,n,r,i,s){const a=og(),o=this.zo(t,n.toUriEncodedString());K(Nm,`Sending RPC '${t}' ${a}:`,o,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,s);const{host:c}=new URL(o),h=Qo(c);return this.Jo(t,o,u,r,h).then(m=>(K(Nm,`Received RPC '${t}' ${a}: `,m),m),m=>{throw No(Nm,`RPC '${t}' ${a} failed with error: `,m,"url: ",o,"request:",r),m})}Ho(t,n,r,i,s,a){return this.Go(t,n,r,i,s)}jo(t,n,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ko}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>t[s]=i),r&&r.headers.forEach((i,s)=>t[s]=i)}zo(t,n){const r=kL[t];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ne="WebChannelConnection";class jL extends LL{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,i,s){const a=og();return new Promise((o,u)=>{const c=new ZS;c.setWithCredentials(!0),c.listenOnce(JS.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case mh.NO_ERROR:const m=c.getResponseJson();K(Ne,`XHR for RPC '${t}' ${a} received:`,JSON.stringify(m)),o(m);break;case mh.TIMEOUT:K(Ne,`RPC '${t}' ${a} timed out`),u(new Y(j.DEADLINE_EXCEEDED,"Request time out"));break;case mh.HTTP_ERROR:const p=c.getStatus();if(K(Ne,`RPC '${t}' ${a} failed with status:`,p,"response text:",c.getResponseText()),p>0){let d=c.getResponseJson();Array.isArray(d)&&(d=d[0]);const S=d==null?void 0:d.error;if(S&&S.status&&S.message){const E=function(y){const v=y.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(v)>=0?v:j.UNKNOWN}(S.status);u(new Y(E,S.message))}else u(new Y(j.UNKNOWN,"Server responded with status "+c.getStatus()))}else u(new Y(j.UNAVAILABLE,"Connection failed."));break;default:Z(9055,{l_:t,streamId:a,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{K(Ne,`RPC '${t}' ${a} completed.`)}});const h=JSON.stringify(i);K(Ne,`RPC '${t}' ${a} sending request:`,i),c.send(n,"POST",h,r,15)})}T_(t,n,r){const i=og(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=nR(),o=eR(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=s.join("");K(Ne,`Creating RPC '${t}' stream ${i}: ${h}`,u);const m=a.createWebChannel(h,u);this.I_(m);let p=!1,d=!1;const S=new UL({Yo:A=>{d?K(Ne,`Not sending because RPC '${t}' stream ${i} is closed:`,A):(p||(K(Ne,`Opening RPC '${t}' stream ${i} transport.`),m.open(),p=!0),K(Ne,`RPC '${t}' stream ${i} sending:`,A),m.send(A))},Zo:()=>m.close()}),E=(A,y,v)=>{A.listen(y,w=>{try{v(w)}catch(I){setTimeout(()=>{throw I},0)}})};return E(m,Cl.EventType.OPEN,()=>{d||(K(Ne,`RPC '${t}' stream ${i} transport opened.`),S.o_())}),E(m,Cl.EventType.CLOSE,()=>{d||(d=!0,K(Ne,`RPC '${t}' stream ${i} transport closed`),S.a_(),this.E_(m))}),E(m,Cl.EventType.ERROR,A=>{d||(d=!0,No(Ne,`RPC '${t}' stream ${i} transport errored. Name:`,A.name,"Message:",A.message),S.a_(new Y(j.UNAVAILABLE,"The operation could not be completed")))}),E(m,Cl.EventType.MESSAGE,A=>{var y;if(!d){const v=A.data[0];Rt(!!v,16349);const w=v,I=(w==null?void 0:w.error)||((y=w[0])==null?void 0:y.error);if(I){K(Ne,`RPC '${t}' stream ${i} received error:`,I);const V=I.status;let L=function(x){const R=re[x];if(R!==void 0)return kR(R)}(V),T=I.message;L===void 0&&(L=j.INTERNAL,T="Unknown error status: "+V+" with message "+I.message),d=!0,S.a_(new Y(L,T)),m.close()}else K(Ne,`RPC '${t}' stream ${i} received:`,v),S.u_(v)}}),E(o,tR.STAT_EVENT,A=>{A.stat===Yp.PROXY?K(Ne,`RPC '${t}' stream ${i} detected buffering proxy`):A.stat===Yp.NOPROXY&&K(Ne,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(n=>n===t)}}function Om(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(e){return new H3(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(t,n,r=1e3,i=1.5,s=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="PersistentStream";class WR{constructor(t,n,r,i,s,a,o,u){this.Mi=t,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new XR(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(ii(n.toString()),ii("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{t(()=>{const i=new Y(j.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(t,n){const r=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return K(AE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget(()=>this.D_===t?n():(K(AE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zL extends WR{constructor(t,n,r,i,s,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=Q3(this.serializer,t),r=function(s){if(!("targetChange"in s))return it.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?it.min():a.readTime?yr(a.readTime):it.min()}(t);return this.listener.H_(n,r)}Y_(t){const n={};n.database=sg(this.serializer),n.addTarget=function(s,a){let o;const u=a.target;if(o=Jp(u)?{documents:K3(s,u)}:{query:X3(s,u).ft},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=jR(s,a.resumeToken);const c=ng(s,a.expectedCount);c!==null&&(o.expectedCount=c)}else if(a.snapshotVersion.compareTo(it.min())>0){o.readTime=_f(s,a.snapshotVersion.toTimestamp());const c=ng(s,a.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,t);const r=Z3(this.serializer,t);r&&(n.labels=r),this.q_(n)}Z_(t){const n={};n.database=sg(this.serializer),n.removeTarget=t,this.q_(n)}}class BL extends WR{constructor(t,n,r,i,s,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Rt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Rt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Rt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=Y3(t.writeResults,t.commitTime),r=yr(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=sg(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>$3(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{}class HL extends qL{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Y(j.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Go(t,rg(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y(j.UNKNOWN,s.toString())})}Ho(t,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Ho(t,rg(n,r),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Y(j.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class FL{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ii(n),this.aa=!1):K("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na="RemoteStore";class GL{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(a=>{r.enqueueAndForget(async()=>{ca(this)&&(K(na,"Restarting streams for network reachability change."),await async function(u){const c=st(u);c.Ea.add(4),await ic(c),c.Ra.set("Unknown"),c.Ea.delete(4),await md(c)}(this))})}),this.Ra=new FL(r,i)}}async function md(e){if(ca(e))for(const t of e.da)await t(!0)}async function ic(e){for(const t of e.da)await t(!1)}function ZR(e,t){const n=st(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),sv(n)?iv(n):Jo(n).O_()&&rv(n,t))}function nv(e,t){const n=st(e),r=Jo(n);n.Ia.delete(t),r.O_()&&JR(n,t),n.Ia.size===0&&(r.O_()?r.L_():ca(n)&&n.Ra.set("Unknown"))}function rv(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(it.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Jo(e).Y_(t)}function JR(e,t){e.Va.Ue(t),Jo(e).Z_(t)}function iv(e){e.Va=new j3({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Jo(e).start(),e.Ra.ua()}function sv(e){return ca(e)&&!Jo(e).x_()&&e.Ia.size>0}function ca(e){return st(e).Ea.size===0}function tx(e){e.Va=void 0}async function QL(e){e.Ra.set("Online")}async function $L(e){e.Ia.forEach((t,n)=>{rv(e,t)})}async function YL(e,t){tx(e),sv(e)?(e.Ra.ha(t),iv(e)):e.Ra.set("Unknown")}async function KL(e,t,n){if(e.Ra.set("Online"),t instanceof UR&&t.state===2&&t.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.Ia.delete(o),i.Va.removeTarget(o))}(e,t)}catch(r){K(na,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Ef(e,r)}else if(t instanceof vh?e.Va.Ze(t):t instanceof LR?e.Va.st(t):e.Va.tt(t),!n.isEqual(it.min()))try{const r=await KR(e.localStore);n.compareTo(r)>=0&&await function(s,a){const o=s.Va.Tt(a);return o.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=s.Ia.get(c);h&&s.Ia.set(c,h.withResumeToken(u.resumeToken,a))}}),o.targetMismatches.forEach((u,c)=>{const h=s.Ia.get(u);if(!h)return;s.Ia.set(u,h.withResumeToken(Re.EMPTY_BYTE_STRING,h.snapshotVersion)),JR(s,u);const m=new Fi(h.target,u,c,h.sequenceNumber);rv(s,m)}),s.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(r){K(na,"Failed to raise snapshot:",r),await Ef(e,r)}}async function Ef(e,t,n){if(!Wo(t))throw t;e.Ea.add(1),await ic(e),e.Ra.set("Offline"),n||(n=()=>KR(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{K(na,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await md(e)})}function ex(e,t){return t().catch(n=>Ef(e,n,t))}async function pd(e){const t=st(e),n=ds(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:By;for(;XL(t);)try{const i=await OL(t.localStore,r);if(i===null){t.Ta.length===0&&n.L_();break}r=i.batchId,WL(t,i)}catch(i){await Ef(t,i)}nx(t)&&rx(t)}function XL(e){return ca(e)&&e.Ta.length<10}function WL(e,t){e.Ta.push(t);const n=ds(e);n.O_()&&n.X_&&n.ea(t.mutations)}function nx(e){return ca(e)&&!ds(e).x_()&&e.Ta.length>0}function rx(e){ds(e).start()}async function ZL(e){ds(e).ra()}async function JL(e){const t=ds(e);for(const n of e.Ta)t.ea(n.mutations)}async function tU(e,t,n){const r=e.Ta.shift(),i=Ky.from(r,t,n);await ex(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await pd(e)}async function eU(e,t){t&&ds(e).X_&&await async function(r,i){if(function(a){return k3(a)&&a!==j.ABORTED}(i.code)){const s=r.Ta.shift();ds(r).B_(),await ex(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await pd(r)}}(e,t),nx(e)&&rx(e)}async function SE(e,t){const n=st(e);n.asyncQueue.verifyOperationInProgress(),K(na,"RemoteStore received new credentials");const r=ca(n);n.Ea.add(3),await ic(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await md(n)}async function nU(e,t){const n=st(e);t?(n.Ea.delete(2),await md(n)):t||(n.Ea.add(2),await ic(n),n.Ra.set("Unknown"))}function Jo(e){return e.ma||(e.ma=function(n,r,i){const s=st(n);return s.sa(),new zL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Xo:QL.bind(null,e),t_:$L.bind(null,e),r_:YL.bind(null,e),H_:KL.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),sv(e)?iv(e):e.Ra.set("Unknown")):(await e.ma.stop(),tx(e))})),e.ma}function ds(e){return e.fa||(e.fa=function(n,r,i){const s=st(n);return s.sa(),new BL(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:ZL.bind(null,e),r_:eU.bind(null,e),ta:JL.bind(null,e),na:tU.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await pd(e)):(await e.fa.stop(),e.Ta.length>0&&(K(na,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const a=Date.now()+r,o=new av(t,n,a,i,s);return o.start(r),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(j.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ov(e,t){if(ii("AsyncQueue",`${t}: ${e}`),Wo(e))return new Y(j.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{static emptySet(t){return new io(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||X.comparator(n.key,r.key):(n,r)=>X.comparator(n.key,r.key),this.keyedMap=Il(),this.sortedSet=new Yt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof io)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new io;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(){this.ga=new Yt(X.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Z(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,r)=>{t.push(r)}),t}}class Vo{constructor(t,n,r,i,s,a,o,u,c){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(t,n,r,i,s){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new Vo(t,n,io.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ld(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class iU{constructor(){this.queries=xE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=st(n),s=i.queries;i.queries=xE(),s.forEach((a,o)=>{for(const u of o.Sa)u.onError(r)})})(this,new Y(j.ABORTED,"Firestore shutting down"))}}function xE(){return new la(e=>AR(e),ld)}async function sU(e,t){const n=st(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.ba()&&t.Da()&&(r=2):(s=new rU,r=t.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const o=ov(a,`Initialization of query '${xa(t.query)}' failed`);return void t.onError(o)}n.queries.set(i,s),s.Sa.push(t),t.va(n.onlineState),s.wa&&t.Fa(s.wa)&&lv(n)}async function aU(e,t){const n=st(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const a=s.Sa.indexOf(t);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?i=t.Da()?0:1:!s.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function oU(e,t){const n=st(e);let r=!1;for(const i of t){const s=i.query,a=n.queries.get(s);if(a){for(const o of a.Sa)o.Fa(i)&&(r=!0);a.wa=i}}r&&lv(n)}function lU(e,t,n){const r=st(e),i=r.queries.get(t);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(t)}function lv(e){e.Ca.forEach(t=>{t.next()})}var lg,CE;(CE=lg||(lg={})).Ma="default",CE.Cache="cache";class uU{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Vo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=Vo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==lg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(t){this.key=t}}class sx{constructor(t){this.key=t}}class cU{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=pt(),this.mutatedKeys=pt(),this.eu=SR(t),this.tu=new io(this.eu)}get nu(){return this.Ya}ru(t,n){const r=n?n.iu:new RE,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,o=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((h,m)=>{const p=i.get(h),d=ud(this.query,m)?m:null,S=!!p&&this.mutatedKeys.has(p.key),E=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let A=!1;p&&d?p.data.isEqual(d.data)?S!==E&&(r.track({type:3,doc:d}),A=!0):this.su(p,d)||(r.track({type:2,doc:d}),A=!0,(u&&this.eu(d,u)>0||c&&this.eu(d,c)<0)&&(o=!0)):!p&&d?(r.track({type:0,doc:d}),A=!0):p&&!d&&(r.track({type:1,doc:p}),A=!0,(u||c)&&(o=!0)),A&&(d?(a=a.add(d),s=E?s.add(h):s.delete(h)):(a=a.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{tu:a,iu:r,Cs:o,mutatedKeys:s}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const s=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const a=t.iu.ya();a.sort((h,m)=>function(d,S){const E=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z(20277,{Rt:A})}};return E(d)-E(S)}(h.type,m.type)||this.eu(h.doc,m.doc)),this.ou(r),i=i??!1;const o=n&&!i?this._u():[],u=this.Xa.size===0&&this.current&&!i?1:0,c=u!==this.Za;return this.Za=u,a.length!==0||c?{snapshot:new Vo(this.query,t.tu,s,a,t.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new RE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=pt(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return t.forEach(r=>{this.Xa.has(r)||n.push(new sx(r))}),this.Xa.forEach(r=>{t.has(r)||n.push(new ix(r))}),n}cu(t){this.Ya=t.Qs,this.Xa=pt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return Vo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const uv="SyncEngine";class hU{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class fU{constructor(t){this.key=t,this.hu=!1}}class dU{constructor(t,n,r,i,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new la(o=>AR(o),ld),this.Iu=new Map,this.Eu=new Set,this.du=new Yt(X.comparator),this.Au=new Map,this.Ru=new Zy,this.Vu={},this.mu=new Map,this.fu=Po.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function mU(e,t,n=!0){const r=hx(e);let i;const s=r.Tu.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await ax(r,t,n,!0),i}async function pU(e,t){const n=hx(e);await ax(n,t,!0,!1)}async function ax(e,t,n,r){const i=await DL(e.localStore,pr(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await gU(e,t,s,a==="current",i.resumeToken)),e.isPrimaryClient&&n&&ZR(e.remoteStore,i),o}async function gU(e,t,n,r,i){e.pu=(m,p,d)=>async function(E,A,y,v){let w=A.view.ru(y);w.Cs&&(w=await bE(E.localStore,A.query,!1).then(({documents:T})=>A.view.ru(T,w)));const I=v&&v.targetChanges.get(A.targetId),V=v&&v.targetMismatches.get(A.targetId)!=null,L=A.view.applyChanges(w,E.isPrimaryClient,I,V);return NE(E,A.targetId,L.au),L.snapshot}(e,m,p,d);const s=await bE(e.localStore,t,!0),a=new cU(t,s.Qs),o=a.ru(s.documents),u=rc.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),c=a.applyChanges(o,e.isPrimaryClient,u);NE(e,n,c.au);const h=new hU(t,n,a);return e.Tu.set(t,h),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function yU(e,t,n){const r=st(e),i=r.Tu.get(t),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(a=>!ld(a,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ag(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&nv(r.remoteStore,i.targetId),ug(r,i.targetId)}).catch(Xo)):(ug(r,i.targetId),await ag(r.localStore,i.targetId,!0))}async function vU(e,t){const n=st(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),nv(n.remoteStore,r.targetId))}async function _U(e,t,n){const r=RU(e);try{const i=await function(a,o){const u=st(a),c=Bt.now(),h=o.reduce((d,S)=>d.add(S.key),pt());let m,p;return u.persistence.runTransaction("Locally write mutations","readwrite",d=>{let S=si(),E=pt();return u.Ns.getEntries(d,h).next(A=>{S=A,S.forEach((y,v)=>{v.isValidDocument()||(E=E.add(y))})}).next(()=>u.localDocuments.getOverlayedDocuments(d,S)).next(A=>{m=A;const y=[];for(const v of o){const w=O3(v,m.get(v.key).overlayedDocument);w!=null&&y.push(new ua(v.key,w,gR(w.value.mapValue),gr.exists(!0)))}return u.mutationQueue.addMutationBatch(d,c,y,o)}).next(A=>{p=A;const y=A.applyToLocalDocumentSet(m,E);return u.documentOverlayCache.saveOverlays(d,A.batchId,y)})}).then(()=>({batchId:p.batchId,changes:xR(m)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(a,o,u){let c=a.Vu[a.currentUser.toKey()];c||(c=new Yt(mt)),c=c.insert(o,u),a.Vu[a.currentUser.toKey()]=c}(r,i.batchId,n),await sc(r,i.changes),await pd(r.remoteStore)}catch(i){const s=ov(i,"Failed to persist write");n.reject(s)}}async function ox(e,t){const n=st(e);try{const r=await IL(n.localStore,t);t.targetChanges.forEach((i,s)=>{const a=n.Au.get(s);a&&(Rt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?Rt(a.hu,14607):i.removedDocuments.size>0&&(Rt(a.hu,42227),a.hu=!1))}),await sc(n,r,t)}catch(r){await Xo(r)}}function IE(e,t,n){const r=st(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,a)=>{const o=a.view.va(t);o.snapshot&&i.push(o.snapshot)}),function(a,o){const u=st(a);u.onlineState=o;let c=!1;u.queries.forEach((h,m)=>{for(const p of m.Sa)p.va(o)&&(c=!0)}),c&&lv(u)}(r.eventManager,t),i.length&&r.Pu.H_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function bU(e,t,n){const r=st(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),s=i&&i.key;if(s){let a=new Yt(X.comparator);a=a.insert(s,Me.newNoDocument(s,it.min()));const o=pt().add(s),u=new fd(it.min(),new Map,new Yt(mt),a,o);await ox(r,u),r.du=r.du.remove(s),r.Au.delete(t),cv(r)}else await ag(r.localStore,t,!1).then(()=>ug(r,t,n)).catch(Xo)}async function EU(e,t){const n=st(e),r=t.batch.batchId;try{const i=await CL(n.localStore,t);ux(n,r,null),lx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await sc(n,i)}catch(i){await Xo(i)}}async function wU(e,t,n){const r=st(e);try{const i=await function(a,o){const u=st(a);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return u.mutationQueue.lookupMutationBatch(c,o).next(m=>(Rt(m!==null,37113),h=m.keys(),u.mutationQueue.removeMutationBatch(c,m))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,o)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>u.localDocuments.getDocuments(c,h))})}(r.localStore,t);ux(r,t,n),lx(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await sc(r,i)}catch(i){await Xo(i)}}function lx(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function ux(e,t,n){const r=st(e);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function ug(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(r=>{e.Ru.containsKey(r)||cx(e,r)})}function cx(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(nv(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),cv(e))}function NE(e,t,n){for(const r of n)r instanceof ix?(e.Ru.addReference(r.key,t),TU(e,r)):r instanceof sx?(K(uv,"Document no longer in limbo: "+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||cx(e,r.key)):Z(19791,{wu:r})}function TU(e,t){const n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(K(uv,"New document in limbo: "+n),e.Eu.add(r),cv(e))}function cv(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new X(kt.fromString(t)),r=e.fu.next();e.Au.set(r,new fU(n)),e.du=e.du.insert(n,r),ZR(e.remoteStore,new Fi(pr(Qy(n.path)),r,"TargetPurposeLimboResolution",sd.ce))}}async function sc(e,t,n){const r=st(e),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((o,u)=>{a.push(r.pu(u,t,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const m=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(c){i.push(c);const m=tv.As(u.targetId,c);s.push(m)}}))}),await Promise.all(a),r.Pu.H_(i),await async function(u,c){const h=st(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>z.forEach(c,p=>z.forEach(p.Es,d=>h.persistence.referenceDelegate.addReference(m,p.targetId,d)).next(()=>z.forEach(p.ds,d=>h.persistence.referenceDelegate.removeReference(m,p.targetId,d)))))}catch(m){if(!Wo(m))throw m;K(ev,"Failed to update sequence numbers: "+m)}for(const m of c){const p=m.targetId;if(!m.fromCache){const d=h.Ms.get(p),S=d.snapshotVersion,E=d.withLastLimboFreeSnapshotVersion(S);h.Ms=h.Ms.insert(p,E)}}}(r.localStore,s))}async function AU(e,t){const n=st(e);if(!n.currentUser.isEqual(t)){K(uv,"User change. New user:",t.toKey());const r=await YR(n.localStore,t);n.currentUser=t,function(s,a){s.mu.forEach(o=>{o.forEach(u=>{u.reject(new Y(j.CANCELLED,a))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await sc(n,r.Ls)}}function SU(e,t){const n=st(e),r=n.Au.get(t);if(r&&r.hu)return pt().add(r.key);{let i=pt();const s=n.Iu.get(t);if(!s)return i;for(const a of s){const o=n.Tu.get(a);i=i.unionWith(o.view.nu)}return i}}function hx(e){const t=st(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=ox.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=SU.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=bU.bind(null,t),t.Pu.H_=oU.bind(null,t.eventManager),t.Pu.yu=lU.bind(null,t.eventManager),t}function RU(e){const t=st(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=EU.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=wU.bind(null,t),t}class wf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=dd(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return xL(this.persistence,new AL,t.initialUser,this.serializer)}Cu(t){return new $R(Jy.mi,this.serializer)}Du(t){return new PL}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wf.provider={build:()=>new wf};class xU extends wf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Rt(this.persistence.referenceDelegate instanceof bf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new uL(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?Ke.withCacheSize(this.cacheSizeBytes):Ke.DEFAULT;return new $R(r=>bf.mi(r,n),this.serializer)}}class cg{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>IE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=AU.bind(null,this.syncEngine),await nU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new iU}()}createDatastore(t){const n=dd(t.databaseInfo.databaseId),r=function(s){return new jL(s)}(t.databaseInfo);return function(s,a,o,u){return new HL(s,a,o,u)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,a,o){return new GL(r,i,s,a,o)}(this.localStore,this.datastore,t.asyncQueue,n=>IE(this.syncEngine,n,0),function(){return TE.v()?new TE:new VL}())}createSyncEngine(t,n){return function(i,s,a,o,u,c,h){const m=new dU(i,s,a,o,u,c);return h&&(m.gu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(i){const s=st(i);K(na,"RemoteStore shutting down."),s.Ea.add(5),await ic(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}cg.provider={build:()=>new cg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ii("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="FirestoreClient";class IU{constructor(t,n,r,i,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=De.UNAUTHENTICATED,this.clientId=zy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{K(ms,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(K(ms,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=ov(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function Dm(e,t){e.asyncQueue.verifyOperationInProgress(),K(ms,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await YR(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function OE(e,t){e.asyncQueue.verifyOperationInProgress();const n=await NU(e);K(ms,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>SE(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>SE(t.remoteStore,i)),e._onlineComponents=t}async function NU(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){K(ms,"Using user provided OfflineComponentProvider");try{await Dm(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(i){return i.name==="FirebaseError"?i.code===j.FAILED_PRECONDITION||i.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;No("Error using user provided cache. Falling back to memory cache: "+n),await Dm(e,new wf)}}else K(ms,"Using default OfflineComponentProvider"),await Dm(e,new xU(void 0));return e._offlineComponents}async function fx(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(K(ms,"Using user provided OnlineComponentProvider"),await OE(e,e._uninitializedComponentsProvider._online)):(K(ms,"Using default OnlineComponentProvider"),await OE(e,new cg))),e._onlineComponents}function OU(e){return fx(e).then(t=>t.syncEngine)}async function DE(e){const t=await fx(e),n=t.eventManager;return n.onListen=mU.bind(null,t.syncEngine),n.onUnlisten=yU.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=pU.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=vU.bind(null,t.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx="firestore.googleapis.com",PE=!0;class VE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Y(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mx,this.ssl=PE}else this.host=t.host,this.ssl=t.ssl??PE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=QR;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<oL)throw new Y(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}F6("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dx(t.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Y(j.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Y(j.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Y(j.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class gd{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Y(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new P6;switch(r.type){case"firstParty":return new U6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=ME.get(n);r&&(K("ComponentProvider","Removing Datastore"),ME.delete(n),r.terminate())}(this),Promise.resolve()}}function DU(e,t,n,r={}){var c;e=ro(e,gd);const i=Qo(t),s=e._getSettings(),a={...s,emulatorOptions:e._getEmulatorOptions()},o=`${t}:${n}`;i&&(dS(`https://${o}`),mS("Firestore",!0)),s.host!==mx&&s.host!==o&&No("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...s,host:o,ssl:i,emulatorOptions:r};if(!Zs(u,a)&&(e._setSettings(u),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=De.MOCK_USER;else{h=r4(r.mockUserToken,(c=e._app)==null?void 0:c.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Y(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new De(p)}e._authCredentials=new V6(new iR(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new ha(this.firestore,t,this._query)}}class ce{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ce(this.firestore,t,this._key)}toJSON(){return{type:ce._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(ec(n,ce._jsonSchema))return new ce(t,r||null,new X(kt.fromString(n.referencePath)))}}ce._jsonSchemaVersion="firestore/documentReference/1.0",ce._jsonSchema={type:ae("string",ce._jsonSchemaVersion),referencePath:ae("string")};class rs extends ha{constructor(t,n,r){super(t,n,Qy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ce(this.firestore,null,new X(t))}withConverter(t){return new rs(this.firestore,t,this._path)}}function _h(e,t,...n){if(e=Je(e),sR("collection","path",t),e instanceof gd){const r=kt.fromString(t,...n);return $b(r),new rs(e,null,r)}{if(!(e instanceof ce||e instanceof rs))throw new Y(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(kt.fromString(t,...n));return $b(r),new rs(e.firestore,null,r)}}function px(e,t,...n){if(e=Je(e),arguments.length===1&&(t=zy.newId()),sR("doc","path",t),e instanceof gd){const r=kt.fromString(t,...n);return Qb(r),new ce(e,null,new X(r))}{if(!(e instanceof ce||e instanceof rs))throw new Y(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(kt.fromString(t,...n));return Qb(r),new ce(e.firestore,e instanceof rs?e.converter:null,new X(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="AsyncQueue";class LE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new XR(this,"async_queue_retry"),this._c=()=>{const r=Om();r&&K(kE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=Om();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Om();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Gs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Wo(t))throw t;K(kE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(r=>{throw this.nc=r,this.rc=!1,ii("INTERNAL UNHANDLED ERROR: ",UE(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const i=av.createAndSchedule(this,t,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&Z(47125,{Pc:UE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function UE(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(e){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(e,["next","error","complete"])}class Cu extends gd{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new LE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new LE(t),this._firestoreClient=void 0,await t}}}function MU(e,t){const n=typeof e=="object"?e:yS(),r=typeof e=="string"?e:pf,i=Iy(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=e4("firestore");s&&DU(i,...s)}return i}function gx(e){if(e._terminated)throw new Y(j.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||PU(e),e._firestoreClient}function PU(e){var r,i,s;const t=e._freezeSettings(),n=function(o,u,c,h){return new e3(o,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,dx(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(e._databaseId,((r=e._app)==null?void 0:r.options.appId)||"",e._persistenceKey,t);e._componentsProvider||(i=t.localCache)!=null&&i._offlineComponentProvider&&((s=t.localCache)!=null&&s._onlineComponentProvider)&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new IU(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(o){const u=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(u),_online:u}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new xn(Re.fromBase64String(t))}catch(n){throw new Y(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new xn(Re.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ec(t,xn._jsonSchema))return xn.fromBase64String(t.bytes)}}xn._jsonSchemaVersion="firestore/bytes/1.0",xn._jsonSchema={type:ae("string",xn._jsonSchemaVersion),bytes:ae("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Y(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ae(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Y(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Y(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return mt(this._lat,t._lat)||mt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:vr._jsonSchemaVersion}}static fromJSON(t){if(ec(t,vr._jsonSchema))return new vr(t.latitude,t.longitude)}}vr._jsonSchemaVersion="firestore/geoPoint/1.0",vr._jsonSchema={type:ae("string",vr._jsonSchemaVersion),latitude:ae("number"),longitude:ae("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,t._values)}toJSON(){return{type:_r._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ec(t,_r._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new _r(t.vectorValues);throw new Y(j.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_r._jsonSchemaVersion="firestore/vectorValue/1.0",_r._jsonSchema={type:ae("string",_r._jsonSchemaVersion),vectorValues:ae("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VU=/^__.*__$/;class kU{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new ua(t,this.data,this.fieldMask,n,this.fieldTransforms):new nc(t,this.data,n,this.fieldTransforms)}}function yx(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z(40011,{Ac:e})}}class dv{constructor(t,n,r,i,s,a){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new dv({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var i;const n=(i=this.path)==null?void 0:i.child(t),r=this.Vc({path:n,fc:!1});return r.gc(t),r}yc(t){var i;const n=(i=this.path)==null?void 0:i.child(t),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Tf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(yx(this.Ac)&&VU.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class LU{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||dd(t)}Cc(t,n,r,i=!1){return new dv({Ac:t,methodName:n,Dc:r,path:Ae.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vx(e){const t=e._freezeSettings(),n=dd(e._databaseId);return new LU(e._databaseId,!!t.ignoreUndefinedProperties,n)}function UU(e,t,n,r,i,s={}){const a=e.Cc(s.merge||s.mergeFields?2:0,t,n,i);Ex("Data must be an object, but it was:",a,r);const o=_x(r,a);let u,c;if(s.merge)u=new jn(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const h=[];for(const m of s.mergeFields){const p=zU(t,m,n);if(!a.contains(p))throw new Y(j.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);qU(h,p)||h.push(p)}u=new jn(h),c=a.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,c=a.fieldTransforms;return new kU(new Rn(o),u,c)}class mv extends fv{_toFieldTransform(t){return new x3(t.path,new Su)}isEqual(t){return t instanceof mv}}function jU(e,t,n,r=!1){return pv(n,e.Cc(r?4:3,t))}function pv(e,t){if(bx(e=Je(e)))return Ex("Unsupported field value:",t,e),_x(e,t);if(e instanceof fv)return function(r,i){if(!yx(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const o of r){let u=pv(o,i.wc(a));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),a++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=Je(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return A3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Bt.fromDate(r);return{timestampValue:_f(i.serializer,s)}}if(r instanceof Bt){const s=new Bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_f(i.serializer,s)}}if(r instanceof vr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xn)return{bytesValue:jR(i.serializer,r._byteString)};if(r instanceof ce){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Wy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof _r)return function(a,o){return{mapValue:{fields:{[mR]:{stringValue:pR},[gf]:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw o.Sc("VectorValues must only contain numeric values.");return $y(o.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${id(r)}`)}(e,t)}function _x(e,t){const n={};return lR(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):oa(e,(r,i)=>{const s=pv(i,t.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function bx(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Bt||e instanceof vr||e instanceof xn||e instanceof ce||e instanceof fv||e instanceof _r)}function Ex(e,t,n){if(!bx(n)||!aR(n)){const r=id(n);throw r==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+r)}}function zU(e,t,n){if((t=Je(t))instanceof hv)return t._internalPath;if(typeof t=="string")return wx(e,t);throw Tf("Field path arguments must be of type string or ",e,!1,void 0,n)}const BU=new RegExp("[~\\*/\\[\\]]");function wx(e,t,n){if(t.search(BU)>=0)throw Tf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new hv(...t.split("."))._internalPath}catch{throw Tf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Tf(e,t,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let u="";return(s||a)&&(u+=" (found",s&&(u+=` in field ${r}`),a&&(u+=` in document ${i}`),u+=")"),new Y(j.INVALID_ARGUMENT,o+e+u)}function qU(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ce(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new HU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(yd("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class HU extends Tx{data(){return super.data()}}function yd(e,t){return typeof t=="string"?wx(e,t):t instanceof hv?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FU(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Y(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gv{}class Ax extends gv{}function Sx(e,t,...n){let r=[];t instanceof gv&&r.push(t),r=r.concat(n),function(s){const a=s.filter(u=>u instanceof yv).length,o=s.filter(u=>u instanceof vd).length;if(a>1||a>0&&o>0)throw new Y(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}class vd extends Ax{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new vd(t,n,r)}_apply(t){const n=this._parse(t);return xx(t._query,n),new ha(t.firestore,t.converter,tg(t._query,n))}_parse(t){const n=vx(t.firestore);return function(s,a,o,u,c,h,m){let p;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Y(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){BE(m,h);const S=[];for(const E of m)S.push(zE(u,s,E));p={arrayValue:{values:S}}}else p=zE(u,s,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||BE(m,h),p=jU(o,a,m,h==="in"||h==="not-in");return se.create(c,h,p)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function GU(e,t,n){const r=t,i=yd("where",e);return vd._create(i,r,n)}class yv extends gv{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new yv(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Hn.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,s){let a=i;const o=s.getFlattenedFilters();for(const u of o)xx(a,u),a=tg(a,u)}(t._query,n),new ha(t.firestore,t.converter,tg(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class vv extends Ax{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new vv(t,n)}_apply(t){const n=function(i,s,a){if(i.startAt!==null)throw new Y(j.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Y(j.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Au(s,a)}(t._query,this._field,this._direction);return new ha(t.firestore,t.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new Zo(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,n))}}function Rx(e,t="asc"){const n=t,r=yd("orderBy",e);return vv._create(r,n)}function zE(e,t,n){if(typeof(n=Je(n))=="string"){if(n==="")throw new Y(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!TR(t)&&n.indexOf("/")!==-1)throw new Y(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(kt.fromString(n));if(!X.isDocumentKey(r))throw new Y(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return eE(e,new X(r))}if(n instanceof ce)return eE(e,n._key);throw new Y(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${id(n)}.`)}function BE(e,t){if(!Array.isArray(e)||e.length===0)throw new Y(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function xx(e,t){const n=function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new Y(j.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Y(j.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class QU{convertValue(t,n="none"){switch(fs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ne(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(hs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Z(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return oa(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(t){var r,i,s;const n=(s=(i=(r=t.fields)==null?void 0:r[gf].arrayValue)==null?void 0:i.values)==null?void 0:s.map(a=>ne(a.doubleValue));return new _r(n)}convertGeoPoint(t){return new vr(ne(t.latitude),ne(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=od(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Eu(t));default:return null}}convertTimestamp(t){const n=cs(t);return new Bt(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=kt.fromString(t);Rt(GR(r),9688,{name:t});const i=new wu(r.get(1),r.get(3)),s=new X(r.popFirst(5));return i.isEqual(n)||ii(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $U(e,t,n){let r;return r=e?e.toFirestore(t):t,r}class Ol{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Qs extends Tx{constructor(t,n,r,i,s,a){super(t,n,r,i,a),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new bh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(yd("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(j.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Qs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Qs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qs._jsonSchema={type:ae("string",Qs._jsonSchemaVersion),bundleSource:ae("string","DocumentSnapshot"),bundleName:ae("string"),bundle:ae("string")};class bh extends Qs{data(t={}){return super.data(t)}}class so{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ol(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new bh(this._firestore,this._userDataWriter,r.key,r,new Ol(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const u=new bh(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Ol(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const u=new bh(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Ol(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),h=a.indexOf(o.doc.key)),{type:YU(o.type),doc:u,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(j.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=so._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=zy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function YU(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z(61501,{type:e})}}so._jsonSchemaVersion="firestore/querySnapshot/1.0",so._jsonSchema={type:ae("string",so._jsonSchemaVersion),bundleSource:ae("string","QuerySnapshot"),bundleName:ae("string"),bundle:ae("string")};class Cx extends QU{constructor(t){super(),this.firestore=t}convertBytes(t){return new xn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ce(this.firestore,null,n)}}function KU(e){return Nx(ro(e.firestore,Cu),[new Yy(e._key,gr.none())])}function qE(e,t){const n=ro(e.firestore,Cu),r=px(e),i=$U(e.converter,t);return Nx(n,[UU(vx(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,gr.exists(!1))]).then(()=>r)}function Ix(e,...t){var u,c,h;e=Je(e);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||jE(t[r])||(n=t[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(jE(t[r])){const m=t[r];t[r]=(u=m.next)==null?void 0:u.bind(m),t[r+1]=(c=m.error)==null?void 0:c.bind(m),t[r+2]=(h=m.complete)==null?void 0:h.bind(m)}let s,a,o;if(e instanceof ce)a=ro(e.firestore,Cu),o=Qy(e._key.path),s={next:m=>{t[r]&&t[r](XU(a,e,m))},error:t[r+1],complete:t[r+2]};else{const m=ro(e,ha);a=ro(m.firestore,Cu),o=m._query;const p=new Cx(a);s={next:d=>{t[r]&&t[r](new so(a,p,m,d))},error:t[r+1],complete:t[r+2]},FU(e._query)}return function(p,d,S,E){const A=new CU(E),y=new uU(d,A,S);return p.asyncQueue.enqueueAndForget(async()=>sU(await DE(p),y)),()=>{A.Nu(),p.asyncQueue.enqueueAndForget(async()=>aU(await DE(p),y))}}(gx(a),o,i,s)}function Nx(e,t){return function(r,i){const s=new Gs;return r.asyncQueue.enqueueAndForget(async()=>_U(await OU(r),i,s)),s.promise}(gx(e),t)}function XU(e,t,n){const r=n.docs.get(t._key),i=new Cx(e);return new Qs(e,i,t._key,r,new Ol(n.hasPendingWrites,n.fromCache),t.converter)}function HE(){return new mv("serverTimestamp")}(function(t,n=!0){(function(i){Ko=i})($o),Io(new Js("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),o=new Cu(new k6(r.getProvider("auth-internal")),new j6(a,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Y(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wu(c.options.projectId,h)}(a,i),a);return s={useFetchStreams:n,...s},o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),es(qb,Hb,t),es(qb,Hb,"esm2020")})();const WU={apiKey:"AIzaSyAIXEsy0O_sIbiRtabItJh5DIL137WW0N0",authDomain:"wishlist-demo.firebaseapp.com",projectId:"wishlist-demo",storageBucket:"wishlist-demo.appspot.com",messagingSenderId:"123456789",appId:"1:123456789:web:abcdef123456"},ZU=()=>typeof window<"u"&&window.__firebase_config?window.__firebase_config:WU,Eh=()=>typeof window<"u"&&window.__app_id?window.__app_id:"demo-app",JU=Ny(ZU()),Dl=MU(JU),Ox=e=>{const[t,n]=D.useState([]),[r,i]=D.useState(!0),[s,a]=D.useState(null);return D.useEffect(()=>{if(!e)return;const h=`artifacts/${Eh()}/users/${e}/wishlist`,m=Sx(_h(Dl,h),Rx("timestamp","desc")),p=Ix(m,d=>{const S=[];d.forEach(E=>{S.push({id:E.id,...E.data()})}),n(S),i(!1)},d=>{console.error("Firestore error:",d),a("Failed to load wishlist"),i(!1)});return()=>p()},[e]),{products:t,loading:r,error:s,addProduct:async c=>{if(!e)throw new Error("User not authenticated");try{const h=Eh(),m=`artifacts/${h}/users/${e}/wishlist`;if(await qE(_h(Dl,m),{...c,timestamp:HE()}),c.isPublic){const p=`artifacts/${h}/public/data/wishlists`;await qE(_h(Dl,p),{...c,userId:e,timestamp:HE()})}}catch(h){throw console.error("Error adding product:",h),new Error("Failed to add product")}},deleteProduct:async c=>{if(!e)throw new Error("User not authenticated");try{const m=`artifacts/${Eh()}/users/${e}/wishlist`;await KU(px(Dl,m,c))}catch(h){throw console.error("Error deleting product:",h),new Error("Failed to delete product")}}}},t9=e=>{const[t,n]=D.useState([]),[r,i]=D.useState(!1),[s,a]=D.useState(null);return D.useEffect(()=>{if(!e){n([]);return}i(!0);const u=`artifacts/${Eh()}/public/data/wishlists`,c=Sx(_h(Dl,u),GU("userId","==",e),Rx("timestamp","desc")),h=Ix(c,m=>{const p=[];m.forEach(d=>{p.push({id:d.id,...d.data()})}),n(p),i(!1)},m=>{console.error("Public wishlist error:",m),a("Failed to load public wishlist"),i(!1)});return()=>h()},[e]),{publicProducts:t,loading:r,error:s}},nr=D.forwardRef(({className:e,...t},n)=>M.jsx("div",{ref:n,className:We("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));nr.displayName="Card";const rr=D.forwardRef(({className:e,...t},n)=>M.jsx("div",{ref:n,className:We("flex flex-col space-y-1.5 p-6",e),...t}));rr.displayName="CardHeader";const ir=D.forwardRef(({className:e,...t},n)=>M.jsx("h3",{ref:n,className:We("text-2xl font-semibold leading-none tracking-tight",e),...t}));ir.displayName="CardTitle";const e9=D.forwardRef(({className:e,...t},n)=>M.jsx("p",{ref:n,className:We("text-sm text-muted-foreground",e),...t}));e9.displayName="CardDescription";const sr=D.forwardRef(({className:e,...t},n)=>M.jsx("div",{ref:n,className:We("p-6 pt-0",e),...t}));sr.displayName="CardContent";const n9=D.forwardRef(({className:e,...t},n)=>M.jsx("div",{ref:n,className:We("flex items-center p-6 pt-0",e),...t}));n9.displayName="CardFooter";const FE=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,GE=jA,_v=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return GE(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=t,a=Object.keys(i).map(c=>{const h=n==null?void 0:n[c],m=s==null?void 0:s[c];if(h===null)return null;const p=FE(h)||FE(m);return i[c][p]}),o=n&&Object.entries(n).reduce((c,h)=>{let[m,p]=h;return p===void 0||(c[m]=p),c},{}),u=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,h)=>{let{class:m,className:p,...d}=h;return Object.entries(d).every(S=>{let[E,A]=S;return Array.isArray(A)?A.includes({...s,...o}[E]):{...s,...o}[E]===A})?[...c,m,p]:c},[]);return GE(e,a,u,n==null?void 0:n.class,n==null?void 0:n.className)},r9=_v("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ue=D.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},s)=>{const a=r?GN:"button";return M.jsx(a,{className:We(r9({variant:t,size:n,className:e})),ref:s,...i})});Ue.displayName="Button";var i9="Separator",QE="horizontal",s9=["horizontal","vertical"],Dx=D.forwardRef((e,t)=>{const{decorative:n,orientation:r=QE,...i}=e,s=a9(r)?r:QE,o=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return M.jsx(Gn.div,{"data-orientation":s,...o,...i,ref:t})});Dx.displayName=i9;function a9(e){return s9.includes(e)}var Mx=Dx;const Px=D.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},i)=>M.jsx(Mx,{ref:i,decorative:n,orientation:t,className:We("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));Px.displayName=Mx.displayName;const o9=_v("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function hg({className:e,variant:t,...n}){return M.jsx("div",{className:We(o9({variant:t}),e),...n})}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Vx=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var u9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=D.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},u)=>D.createElement("svg",{ref:u,...u9,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Vx("lucide",i),...o},[...a.map(([c,h])=>D.createElement(c,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=(e,t)=>{const n=D.forwardRef(({className:r,...i},s)=>D.createElement(c9,{ref:s,iconNode:t,className:Vx(`lucide-${l9(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=Sr("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=Sr("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=Sr("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=Sr("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=Sr("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=Sr("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p9=Sr("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=Sr("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=Sr("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=Sr("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),bv=D.forwardRef(({className:e,type:t,...n},r)=>M.jsx("input",{type:t,className:We("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));bv.displayName="Input";var v9="Label",kx=D.forwardRef((e,t)=>M.jsx(Gn.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));kx.displayName=v9;var Lx=kx;const _9=_v("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Af=D.forwardRef(({className:e,...t},n)=>M.jsx(Lx,{ref:n,className:We(_9(),e),...t}));Af.displayName=Lx.displayName;function b9(e){const t=D.useRef({value:e,previous:e});return D.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var _d="Switch",[E9,F9]=dy(_d),[w9,T9]=E9(_d),Ux=D.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:a,disabled:o,value:u="on",onCheckedChange:c,form:h,...m}=e,[p,d]=D.useState(null),S=oi(t,w=>d(w)),E=D.useRef(!1),A=p?h||!!p.closest("form"):!0,[y,v]=OD({prop:i,defaultProp:s??!1,onChange:c,caller:_d});return M.jsxs(w9,{scope:n,checked:y,disabled:o,children:[M.jsx(Gn.button,{type:"button",role:"switch","aria-checked":y,"aria-required":a,"data-state":qx(y),"data-disabled":o?"":void 0,disabled:o,value:u,...m,ref:S,onClick:er(e.onClick,w=>{v(I=>!I),A&&(E.current=w.isPropagationStopped(),E.current||w.stopPropagation())})}),A&&M.jsx(Bx,{control:p,bubbles:!E.current,name:r,value:u,checked:y,required:a,disabled:o,form:h,style:{transform:"translateX(-100%)"}})]})});Ux.displayName=_d;var jx="SwitchThumb",zx=D.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=T9(jx,n);return M.jsx(Gn.span,{"data-state":qx(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});zx.displayName=jx;var A9="SwitchBubbleInput",Bx=D.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...i},s)=>{const a=D.useRef(null),o=oi(a,s),u=b9(n),c=yA(t);return D.useEffect(()=>{const h=a.current;if(!h)return;const m=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(m,"checked").set;if(u!==n&&d){const S=new Event("click",{bubbles:r});d.call(h,n),h.dispatchEvent(S)}},[u,n,r]),M.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:o,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Bx.displayName=A9;function qx(e){return e?"checked":"unchecked"}var Hx=Ux,S9=zx;const Fx=D.forwardRef(({className:e,...t},n)=>M.jsx(Hx,{className:We("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:M.jsx(S9,{className:We("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Fx.displayName=Hx.displayName;const R9="AIzaSyAIXEsy0O_sIbiRtabItJh5DIL137WW0N0",x9=async e=>{var t,n,r,i,s;try{const a=`https://api.allorigins.win/get?url=${encodeURIComponent(e)}`,o=await fetch(a);if(!o.ok)throw new Error("Failed to fetch URL content");const m={contents:[{parts:[{text:`System: Act as a helpful product expert. When given a URL, extract the product name, a concise summary of the product's features and description (less than 100 words), and a URL for the main product image. Respond with a valid JSON object only.

User: Extract product information from this HTML content:

${(await o.json()).contents.substring(0,1e4)}`}]}]},p=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${R9}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});if(!p.ok){const y=await p.text();throw console.error("Gemini API error:",y),new Error(`Gemini API request failed: ${p.status}`)}const S=(s=(i=(r=(n=(t=(await p.json()).candidates)==null?void 0:t[0])==null?void 0:n.content)==null?void 0:r.parts)==null?void 0:i[0])==null?void 0:s.text;if(!S)throw new Error("No response from AI");const E=S.replace(/```json\n?|\n?```/g,"").trim(),A=JSON.parse(E);if(!A.productName||!A.description)throw new Error("Invalid AI response format");return A.imageUrl||(A.imageUrl="/placeholder-product.jpg"),{productName:A.productName,description:A.description,imageUrl:A.imageUrl}}catch(a){console.error("Error extracting product data:",a);const u=new URL(e).hostname.replace("www.","");return{productName:`Product from ${u}`,description:`Product found at ${u}. AI extraction failed, please check the original URL for full details.`,imageUrl:"/placeholder-product.jpg"}}},C9=({userId:e})=>{const[t,n]=D.useState(""),[r,i]=D.useState(!1),[s,a]=D.useState(!1),{addProduct:o}=Ox(e),u=h=>{try{return new URL(h),!0}catch{return!1}},c=async h=>{if(h.preventDefault(),!t.trim()){El.error("Please enter a product URL");return}if(!u(t)){El.error("Please enter a valid URL");return}a(!0);try{El.info("Extracting product information...");const m=await x9(t);await o({productName:m.productName,description:m.description,imageUrl:m.imageUrl,originalUrl:t,isPublic:r}),El.success("Product added to your wishlist!"),n(""),i(!1)}catch(m){console.error("Error adding product:",m),El.error("Failed to add product. Please try again.")}finally{a(!1)}};return M.jsxs(nr,{className:"w-full max-w-2xl mx-auto",children:[M.jsx(rr,{children:M.jsxs(ir,{className:"flex items-center gap-2",children:[M.jsx(dg,{className:"h-5 w-5"}),"Add Product to Wishlist"]})}),M.jsx(sr,{children:M.jsxs("form",{onSubmit:c,className:"space-y-4",children:[M.jsxs("div",{className:"space-y-2",children:[M.jsx(Af,{htmlFor:"url",children:"Product URL"}),M.jsx(bv,{id:"url",type:"url",placeholder:"https://example.com/product",value:t,onChange:h=>n(h.target.value),disabled:s})]}),M.jsxs("div",{className:"flex items-center space-x-2",children:[M.jsx(Fx,{id:"public",checked:r,onCheckedChange:i,disabled:s}),M.jsx(Af,{htmlFor:"public",children:"Make this item public"})]}),M.jsx(Ue,{type:"submit",disabled:s||!t.trim(),className:"w-full",children:s?M.jsxs(M.Fragment,{children:[M.jsx(fg,{className:"h-4 w-4 mr-2 animate-spin"}),"Processing..."]}):M.jsxs(M.Fragment,{children:[M.jsx(dg,{className:"h-4 w-4 mr-2"}),"Add to Wishlist"]})})]})})]})},Gx=({product:e,onDelete:t,showDeleteButton:n=!0})=>{const r=()=>{t&&t(e.id)},i=()=>{window.open(e.originalUrl,"_blank","noopener,noreferrer")};return M.jsxs(nr,{className:"w-full max-w-sm mx-auto hover:shadow-lg transition-shadow duration-200",children:[M.jsx(rr,{className:"pb-3",children:M.jsxs("div",{className:"flex justify-between items-start gap-2",children:[M.jsx(ir,{className:"text-lg font-semibold line-clamp-2",children:e.productName}),e.isPublic&&M.jsx(hg,{variant:"secondary",className:"shrink-0",children:"Public"})]})}),M.jsxs(sr,{className:"space-y-4",children:[e.imageUrl&&e.imageUrl!=="/placeholder-product.jpg"&&M.jsx("div",{className:"aspect-square w-full overflow-hidden rounded-md bg-gray-100",children:M.jsx("img",{src:e.imageUrl,alt:e.productName,className:"h-full w-full object-cover transition-transform hover:scale-105",onError:s=>{const a=s.target;a.src="/placeholder-product.jpg"}})}),M.jsx("p",{className:"text-sm text-gray-600 line-clamp-3",children:e.description}),M.jsxs("div",{className:"flex gap-2 pt-2",children:[M.jsxs(Ue,{variant:"outline",size:"sm",onClick:i,className:"flex-1",children:[M.jsx(f9,{className:"h-4 w-4 mr-1"}),"Visit"]}),n&&t&&M.jsx(Ue,{variant:"destructive",size:"sm",onClick:r,className:"px-3",children:M.jsx(g9,{className:"h-4 w-4"})})]})]})]})},I9=()=>{const[e,t]=D.useState(""),[n,r]=D.useState(null),{publicProducts:i,loading:s,error:a}=t9(n),o=c=>{c.preventDefault(),e.trim()&&r(e.trim())},u=()=>{t(""),r(null)};return M.jsxs(nr,{className:"w-full max-w-2xl mx-auto",children:[M.jsx(rr,{children:M.jsxs(ir,{className:"flex items-center gap-2",children:[M.jsx(y9,{className:"h-5 w-5"}),"View Public Wishlist"]})}),M.jsxs(sr,{className:"space-y-4",children:[M.jsxs("form",{onSubmit:o,className:"flex gap-2",children:[M.jsxs("div",{className:"flex-1",children:[M.jsx(Af,{htmlFor:"userId",className:"sr-only",children:"User ID"}),M.jsx(bv,{id:"userId",placeholder:"Enter user ID to view their public wishlist",value:e,onChange:c=>t(c.target.value)})]}),M.jsxs(Ue,{type:"submit",disabled:!e.trim(),children:[M.jsx(p9,{className:"h-4 w-4 mr-1"}),"Search"]}),n&&M.jsx(Ue,{type:"button",variant:"outline",onClick:u,children:"Clear"})]}),n&&M.jsxs("div",{className:"space-y-4",children:[M.jsxs("div",{className:"text-sm text-gray-600",children:["Showing public wishlist for: ",M.jsx("span",{className:"font-mono font-medium",children:n})]}),s&&M.jsxs("div",{className:"text-center py-8",children:[M.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),M.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Loading wishlist..."})]}),a&&M.jsx("div",{className:"text-center py-8 text-red-600",children:M.jsx("p",{children:a})}),!s&&!a&&i.length===0&&M.jsx("div",{className:"text-center py-8 text-gray-500",children:M.jsx("p",{children:"No public items found for this user."})}),!s&&!a&&i.length>0&&M.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(c=>M.jsx(Gx,{product:c,showDeleteButton:!1},c.id))})]})]})]})};function N9(){const{user:e,loading:t,error:n,signInAnonymous:r,forceSkipAuth:i}=M6(),{products:s,loading:a,addProduct:o,deleteProduct:u}=Ox((e==null?void 0:e.uid)||null),[c,h]=D.useState("");return n?M.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-6",children:M.jsxs(nr,{className:"w-full max-w-md",children:[M.jsx(rr,{className:"text-center",children:M.jsxs(ir,{className:"flex items-center justify-center text-red-600",children:[M.jsx(h9,{className:"mr-2 h-5 w-5"}),"Authentication Error"]})}),M.jsxs(sr,{className:"space-y-4",children:[M.jsx("p",{className:"text-sm text-gray-600 text-center",children:n}),M.jsxs("div",{className:"space-y-2",children:[M.jsxs(Ue,{onClick:r,className:"w-full",children:[M.jsx(Kc,{className:"mr-2 h-4 w-4"}),"Try Anonymous Sign-In"]}),M.jsx(Ue,{onClick:i,variant:"outline",className:"w-full",children:"Continue as Demo User"}),M.jsxs(Ue,{onClick:()=>window.location.reload(),variant:"ghost",className:"w-full",children:[M.jsx(m9,{className:"mr-2 h-4 w-4"}),"Reload Page"]})]})]})]})}):t?M.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-6",children:M.jsxs(nr,{className:"w-full max-w-md",children:[M.jsx(rr,{className:"text-center",children:M.jsxs(ir,{className:"flex items-center justify-center",children:[M.jsx(fg,{className:"mr-2 h-5 w-5 animate-spin"}),"Loading Authentication"]})}),M.jsxs(sr,{className:"space-y-4",children:[M.jsx("p",{className:"text-sm text-gray-600 text-center",children:"This should only take a few seconds..."}),M.jsxs("div",{className:"pt-4 border-t",children:[M.jsx("p",{className:"text-xs text-gray-500 text-center mb-3",children:"Taking too long?"}),M.jsxs("div",{className:"space-y-2",children:[M.jsxs(Ue,{onClick:r,variant:"outline",size:"sm",className:"w-full",children:[M.jsx(Kc,{className:"mr-2 h-3 w-3"}),"Sign In Anonymously"]}),M.jsx(Ue,{onClick:i,variant:"ghost",size:"sm",className:"w-full",children:"Continue as Demo"})]})]})]})]})}):e?M.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6",children:M.jsxs("div",{className:"max-w-6xl mx-auto space-y-8",children:[M.jsxs("div",{className:"text-center space-y-4",children:[M.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"AI-Powered Product Wishlist"}),M.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[M.jsxs(hg,{variant:"secondary",className:"px-3 py-1",children:[M.jsx(Kc,{className:"mr-1 h-3 w-3"}),"User ID: ",e.uid]}),e.uid.includes("demo")&&M.jsx(hg,{variant:"outline",className:"px-3 py-1",children:"Demo Mode"})]})]}),M.jsxs(nr,{children:[M.jsx(rr,{children:M.jsxs(ir,{className:"flex items-center",children:[M.jsx(dg,{className:"mr-2 h-5 w-5"}),"Add New Product"]})}),M.jsx(sr,{children:M.jsx(C9,{onAddProduct:o})})]}),M.jsxs(nr,{children:[M.jsx(rr,{children:M.jsxs(ir,{children:["My Wishlist (",s.length," items)"]})}),M.jsx(sr,{children:a?M.jsxs("div",{className:"flex items-center justify-center py-8",children:[M.jsx(fg,{className:"h-6 w-6 animate-spin mr-2"}),M.jsx("span",{children:"Loading wishlist..."})]}):s.length===0?M.jsxs("div",{className:"text-center py-8 text-gray-500",children:[M.jsx("p",{children:"Your wishlist is empty"}),M.jsx("p",{className:"text-sm",children:"Add a product URL above to get started!"})]}):M.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(m=>M.jsx(Gx,{product:m,onDelete:()=>u(m.id)},m.id))})})]}),M.jsx(Px,{}),M.jsxs(nr,{children:[M.jsx(rr,{children:M.jsxs(ir,{className:"flex items-center",children:[M.jsx(d9,{className:"mr-2 h-5 w-5"}),"View Public Wishlist"]})}),M.jsx(sr,{children:M.jsx(I9,{userId:c.trim()||null})})]})]})}):M.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-6",children:M.jsxs(nr,{className:"w-full max-w-md",children:[M.jsx(rr,{className:"text-center",children:M.jsx(ir,{children:"AI-Powered Product Wishlist"})}),M.jsxs(sr,{className:"space-y-4",children:[M.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Sign in to start building your wishlist with AI-powered product extraction"}),M.jsxs("div",{className:"space-y-2",children:[M.jsxs(Ue,{onClick:r,className:"w-full",children:[M.jsx(Kc,{className:"mr-2 h-4 w-4"}),"Sign In Anonymously"]}),M.jsx(Ue,{onClick:i,variant:"outline",className:"w-full",children:"Try Demo Mode"})]})]})]})})}function O9(){return M.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-gray-50 to-blue-50 p-6 text-center",children:M.jsxs("div",{className:"space-y-6 max-w-md",children:[M.jsxs("div",{className:"space-y-3",children:[M.jsx("h1",{className:"text-8xl font-bold text-blue-600",children:"404"}),M.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Page Not Found"}),M.jsx("p",{className:"text-muted-foreground",children:"The page you're looking for doesn't exist or may have been moved."})]}),M.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[M.jsx(Ue,{asChild:!0,children:M.jsx("a",{href:"/",children:"Return Home"})}),M.jsx(Ue,{variant:"outline",onClick:()=>window.history.back(),children:"Go Back"})]})]})})}const D9=new nP,M9=()=>M.jsx(iP,{client:D9,children:M.jsxs(DM,{children:[M.jsx(HN,{}),M.jsx(QP,{children:M.jsxs(HP,{children:[M.jsx(Up,{path:"/",element:M.jsx(N9,{})}),M.jsx(Up,{path:"*",element:M.jsx(O9,{})})]})})]})});hN.createRoot(document.getElementById("root")).render(M.jsx(M9,{}));
