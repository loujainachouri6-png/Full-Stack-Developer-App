var cb=t=>{throw TypeError(t)};var Qm=(t,e,n)=>e.has(t)||cb("Cannot "+n);var z=(t,e,n)=>(Qm(t,e,"read from private field"),n?n.call(t):e.get(t)),Oe=(t,e,n)=>e.has(t)?cb("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),de=(t,e,n,r)=>(Qm(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Yt=(t,e,n)=>(Qm(t,e,"access private method"),n);var pd=(t,e,n,r)=>({set _(i){de(t,e,i,n)},get _(){return z(t,e,r)}});function OM(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function vx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _x={exports:{}},Ch={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PM=Symbol.for("react.transitional.element"),kM=Symbol.for("react.fragment");function bx(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:PM,type:t,key:r,ref:e!==void 0?e:null,props:n}}Ch.Fragment=kM;Ch.jsx=bx;Ch.jsxs=bx;_x.exports=Ch;var p=_x.exports,wx={exports:{}},Ih={},Ex={exports:{}},Tx={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,G){var q=U.length;U.push(G);e:for(;0<q;){var L=q-1>>>1,W=U[L];if(0<i(W,G))U[L]=G,U[q]=W,q=L;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var G=U[0],q=U.pop();if(q!==G){U[0]=q;e:for(var L=0,W=U.length,fe=W>>>1;L<fe;){var ee=2*(L+1)-1,te=U[ee],ae=ee+1,Se=U[ae];if(0>i(te,q))ae<W&&0>i(Se,te)?(U[L]=Se,U[ae]=q,L=ae):(U[L]=te,U[ee]=q,L=ee);else if(ae<W&&0>i(Se,q))U[L]=Se,U[ae]=q,L=ae;else break e}}return G}function i(U,G){var q=U.sortIndex-G.sortIndex;return q!==0?q:U.id-G.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,f=null,m=3,h=!1,x=!1,y=!1,E=!1,_=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function N(U){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=U)r(u),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(u)}}function P(U){if(y=!1,N(U),!x)if(n(l)!==null)x=!0,V||(V=!0,M());else{var G=n(u);G!==null&&le(P,G.startTime-U)}}var V=!1,A=-1,S=5,C=-1;function I(){return E?!0:!(t.unstable_now()-C<S)}function O(){if(E=!1,V){var U=t.unstable_now();C=U;var G=!0;try{e:{x=!1,y&&(y=!1,b(A),A=-1),h=!0;var q=m;try{t:{for(N(U),f=n(l);f!==null&&!(f.expirationTime>U&&I());){var L=f.callback;if(typeof L=="function"){f.callback=null,m=f.priorityLevel;var W=L(f.expirationTime<=U);if(U=t.unstable_now(),typeof W=="function"){f.callback=W,N(U),G=!0;break t}f===n(l)&&r(l),N(U)}else r(l);f=n(l)}if(f!==null)G=!0;else{var fe=n(u);fe!==null&&le(P,fe.startTime-U),G=!1}}break e}finally{f=null,m=q,h=!1}G=void 0}}finally{G?M():V=!1}}}var M;if(typeof T=="function")M=function(){T(O)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Z=D.port2;D.port1.onmessage=O,M=function(){Z.postMessage(null)}}else M=function(){_(O,0)};function le(U,G){A=_(function(){U(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(U){switch(m){case 1:case 2:case 3:var G=3;break;default:G=m}var q=m;m=G;try{return U()}finally{m=q}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(U,G){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var q=m;m=U;try{return G()}finally{m=q}},t.unstable_scheduleCallback=function(U,G,q){var L=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?L+q:L):q=L,U){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=q+W,U={id:d++,callback:G,priorityLevel:U,startTime:q,expirationTime:W,sortIndex:-1},q>L?(U.sortIndex=q,e(u,U),n(l)===null&&U===n(u)&&(y?(b(A),A=-1):y=!0,le(P,q-L))):(U.sortIndex=W,e(l,U),x||h||(x=!0,V||(V=!0,M()))),U},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(U){var G=m;return function(){var q=m;m=G;try{return U.apply(this,arguments)}finally{m=q}}}})(Tx);Ex.exports=Tx;var VM=Ex.exports,xx={exports:{}},me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy=Symbol.for("react.transitional.element"),jM=Symbol.for("react.portal"),LM=Symbol.for("react.fragment"),UM=Symbol.for("react.strict_mode"),zM=Symbol.for("react.profiler"),BM=Symbol.for("react.consumer"),FM=Symbol.for("react.context"),HM=Symbol.for("react.forward_ref"),qM=Symbol.for("react.suspense"),GM=Symbol.for("react.memo"),Sx=Symbol.for("react.lazy"),ub=Symbol.iterator;function $M(t){return t===null||typeof t!="object"?null:(t=ub&&t[ub]||t["@@iterator"],typeof t=="function"?t:null)}var Ax={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Rx=Object.assign,Cx={};function ml(t,e,n){this.props=t,this.context=e,this.refs=Cx,this.updater=n||Ax}ml.prototype.isReactComponent={};ml.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ml.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ix(){}Ix.prototype=ml.prototype;function Wy(t,e,n){this.props=t,this.context=e,this.refs=Cx,this.updater=n||Ax}var Zy=Wy.prototype=new Ix;Zy.constructor=Wy;Rx(Zy,ml.prototype);Zy.isPureReactComponent=!0;var db=Array.isArray,tt={H:null,A:null,T:null,S:null,V:null},Nx=Object.prototype.hasOwnProperty;function Jy(t,e,n,r,i,s){return n=s.ref,{$$typeof:Xy,type:t,key:e,ref:n!==void 0?n:null,props:s}}function KM(t,e){return Jy(t.type,e,void 0,void 0,void 0,t.props)}function ev(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xy}function QM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var fb=/\/+/g;function Ym(t,e){return typeof t=="object"&&t!==null&&t.key!=null?QM(""+t.key):e.toString(36)}function hb(){}function YM(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(hb,hb):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Wa(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Xy:case jM:a=!0;break;case Sx:return a=t._init,Wa(a(t._payload),e,n,r,i)}}if(a)return i=i(t),a=r===""?"."+Ym(t,0):r,db(i)?(n="",a!=null&&(n=a.replace(fb,"$&/")+"/"),Wa(i,e,n,"",function(u){return u})):i!=null&&(ev(i)&&(i=KM(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(fb,"$&/")+"/")+a)),e.push(i)),1;a=0;var o=r===""?".":r+":";if(db(t))for(var l=0;l<t.length;l++)r=t[l],s=o+Ym(r,l),a+=Wa(r,e,n,s,i);else if(l=$M(t),typeof l=="function")for(t=l.call(t),l=0;!(r=t.next()).done;)r=r.value,s=o+Ym(r,l++),a+=Wa(r,e,n,s,i);else if(s==="object"){if(typeof t.then=="function")return Wa(YM(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function gd(t,e,n){if(t==null)return t;var r=[],i=0;return Wa(t,r,"","",function(s){return e.call(n,s,i++)}),r}function XM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var mb=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function WM(){}me.Children={map:gd,forEach:function(t,e,n){gd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return gd(t,function(){e++}),e},toArray:function(t){return gd(t,function(e){return e})||[]},only:function(t){if(!ev(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};me.Component=ml;me.Fragment=LM;me.Profiler=zM;me.PureComponent=Wy;me.StrictMode=UM;me.Suspense=qM;me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=tt;me.__COMPILER_RUNTIME={__proto__:null,c:function(t){return tt.H.useMemoCache(t)}};me.cache=function(t){return function(){return t.apply(null,arguments)}};me.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=Rx({},t.props),i=t.key,s=void 0;if(e!=null)for(a in e.ref!==void 0&&(s=void 0),e.key!==void 0&&(i=""+e.key),e)!Nx.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(r[a]=e[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];r.children=o}return Jy(t.type,i,void 0,void 0,s,r)};me.createContext=function(t){return t={$$typeof:FM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:BM,_context:t},t};me.createElement=function(t,e,n){var r,i={},s=null;if(e!=null)for(r in e.key!==void 0&&(s=""+e.key),e)Nx.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];i.children=o}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return Jy(t,s,void 0,void 0,null,i)};me.createRef=function(){return{current:null}};me.forwardRef=function(t){return{$$typeof:HM,render:t}};me.isValidElement=ev;me.lazy=function(t){return{$$typeof:Sx,_payload:{_status:-1,_result:t},_init:XM}};me.memo=function(t,e){return{$$typeof:GM,type:t,compare:e===void 0?null:e}};me.startTransition=function(t){var e=tt.T,n={};tt.T=n;try{var r=t(),i=tt.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(WM,mb)}catch(s){mb(s)}finally{tt.T=e}};me.unstable_useCacheRefresh=function(){return tt.H.useCacheRefresh()};me.use=function(t){return tt.H.use(t)};me.useActionState=function(t,e,n){return tt.H.useActionState(t,e,n)};me.useCallback=function(t,e){return tt.H.useCallback(t,e)};me.useContext=function(t){return tt.H.useContext(t)};me.useDebugValue=function(){};me.useDeferredValue=function(t,e){return tt.H.useDeferredValue(t,e)};me.useEffect=function(t,e,n){var r=tt.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(t,e)};me.useId=function(){return tt.H.useId()};me.useImperativeHandle=function(t,e,n){return tt.H.useImperativeHandle(t,e,n)};me.useInsertionEffect=function(t,e){return tt.H.useInsertionEffect(t,e)};me.useLayoutEffect=function(t,e){return tt.H.useLayoutEffect(t,e)};me.useMemo=function(t,e){return tt.H.useMemo(t,e)};me.useOptimistic=function(t,e){return tt.H.useOptimistic(t,e)};me.useReducer=function(t,e,n){return tt.H.useReducer(t,e,n)};me.useRef=function(t){return tt.H.useRef(t)};me.useState=function(t){return tt.H.useState(t)};me.useSyncExternalStore=function(t,e,n){return tt.H.useSyncExternalStore(t,e,n)};me.useTransition=function(){return tt.H.useTransition()};me.version="19.1.1";xx.exports=me;var w=xx.exports;const $=vx(w),tv=OM({__proto__:null,default:$},[w]);var Mx={exports:{}},un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZM=w;function Dx(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ni(){}var cn={d:{f:Ni,r:function(){throw Error(Dx(522))},D:Ni,C:Ni,L:Ni,m:Ni,X:Ni,S:Ni,M:Ni},p:0,findDOMNode:null},JM=Symbol.for("react.portal");function eD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:JM,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var gc=ZM.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Nh(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=cn;un.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(Dx(299));return eD(t,e,null,n)};un.flushSync=function(t){var e=gc.T,n=cn.p;try{if(gc.T=null,cn.p=2,t)return t()}finally{gc.T=e,cn.p=n,cn.d.f()}};un.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,cn.d.C(t,e))};un.prefetchDNS=function(t){typeof t=="string"&&cn.d.D(t)};un.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=Nh(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,s=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?cn.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):n==="script"&&cn.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};un.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Nh(e.as,e.crossOrigin);cn.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&cn.d.M(t)};un.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=Nh(n,e.crossOrigin);cn.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};un.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Nh(e.as,e.crossOrigin);cn.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else cn.d.m(t)};un.requestFormReset=function(t){cn.d.r(t)};un.unstable_batchedUpdates=function(t,e){return t(e)};un.useFormState=function(t,e,n){return gc.H.useFormState(t,e,n)};un.useFormStatus=function(){return gc.H.useHostTransitionStatus()};un.version="19.1.1";function Ox(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ox)}catch(t){console.error(t)}}Ox(),Mx.exports=un;var pl=Mx.exports;const Px=vx(pl);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rt=VM,kx=w,tD=pl;function H(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Vx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _u(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function jx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function pb(t){if(_u(t)!==t)throw Error(H(188))}function nD(t){var e=t.alternate;if(!e){if(e=_u(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return pb(i),t;if(s===r)return pb(i),e;s=s.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function Lx(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=Lx(t),e!==null)return e;t=t.sibling}return null}var Ze=Object.assign,rD=Symbol.for("react.element"),yd=Symbol.for("react.transitional.element"),ic=Symbol.for("react.portal"),so=Symbol.for("react.fragment"),Ux=Symbol.for("react.strict_mode"),rg=Symbol.for("react.profiler"),iD=Symbol.for("react.provider"),zx=Symbol.for("react.consumer"),Jr=Symbol.for("react.context"),nv=Symbol.for("react.forward_ref"),ig=Symbol.for("react.suspense"),sg=Symbol.for("react.suspense_list"),rv=Symbol.for("react.memo"),zi=Symbol.for("react.lazy"),ag=Symbol.for("react.activity"),sD=Symbol.for("react.memo_cache_sentinel"),gb=Symbol.iterator;function Kl(t){return t===null||typeof t!="object"?null:(t=gb&&t[gb]||t["@@iterator"],typeof t=="function"?t:null)}var aD=Symbol.for("react.client.reference");function og(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===aD?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case so:return"Fragment";case rg:return"Profiler";case Ux:return"StrictMode";case ig:return"Suspense";case sg:return"SuspenseList";case ag:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case ic:return"Portal";case Jr:return(t.displayName||"Context")+".Provider";case zx:return(t._context.displayName||"Context")+".Consumer";case nv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case rv:return e=t.displayName||null,e!==null?e:og(t.type)||"Memo";case zi:e=t._payload,t=t._init;try{return og(t(e))}catch{}}return null}var sc=Array.isArray,ie=kx.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ke=tD.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,aa={pending:!1,data:null,method:null,action:null},lg=[],ao=-1;function jr(t){return{current:t}}function kt(t){0>ao||(t.current=lg[ao],lg[ao]=null,ao--)}function nt(t,e){ao++,lg[ao]=t.current,t.current=e}var xr=jr(null),zc=jr(null),ls=jr(null),Ef=jr(null);function Tf(t,e){switch(nt(ls,e),nt(zc,t),nt(xr,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?ww(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=ww(e),t=rA(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}kt(xr),nt(xr,t)}function $o(){kt(xr),kt(zc),kt(ls)}function cg(t){t.memoizedState!==null&&nt(Ef,t);var e=xr.current,n=rA(e,t.type);e!==n&&(nt(zc,t),nt(xr,n))}function xf(t){zc.current===t&&(kt(xr),kt(zc)),Ef.current===t&&(kt(Ef),Xc._currentValue=aa)}var ug=Object.prototype.hasOwnProperty,iv=Rt.unstable_scheduleCallback,Xm=Rt.unstable_cancelCallback,oD=Rt.unstable_shouldYield,lD=Rt.unstable_requestPaint,Sr=Rt.unstable_now,cD=Rt.unstable_getCurrentPriorityLevel,Bx=Rt.unstable_ImmediatePriority,Fx=Rt.unstable_UserBlockingPriority,Sf=Rt.unstable_NormalPriority,uD=Rt.unstable_LowPriority,Hx=Rt.unstable_IdlePriority,dD=Rt.log,fD=Rt.unstable_setDisableYieldValue,bu=null,Nn=null;function ns(t){if(typeof dD=="function"&&fD(t),Nn&&typeof Nn.setStrictMode=="function")try{Nn.setStrictMode(bu,t)}catch{}}var Mn=Math.clz32?Math.clz32:pD,hD=Math.log,mD=Math.LN2;function pD(t){return t>>>=0,t===0?32:31-(hD(t)/mD|0)|0}var vd=256,_d=4194304;function Ks(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Mh(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var i=0,s=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var o=r&134217727;return o!==0?(r=o&~s,r!==0?i=Ks(r):(a&=o,a!==0?i=Ks(a):n||(n=o&~t,n!==0&&(i=Ks(n))))):(o=r&~s,o!==0?i=Ks(o):a!==0?i=Ks(a):n||(n=r&~t,n!==0&&(i=Ks(n)))),i===0?0:e!==0&&e!==i&&!(e&s)&&(s=i&-i,n=e&-e,s>=n||s===32&&(n&4194048)!==0)?e:i}function wu(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function gD(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qx(){var t=vd;return vd<<=1,!(vd&4194048)&&(vd=256),t}function Gx(){var t=_d;return _d<<=1,!(_d&62914560)&&(_d=4194304),t}function Wm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Eu(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function yD(t,e,n,r,i,s){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,l=t.expirationTimes,u=t.hiddenUpdates;for(n=a&~n;0<n;){var d=31-Mn(n),f=1<<d;o[d]=0,l[d]=-1;var m=u[d];if(m!==null)for(u[d]=null,d=0;d<m.length;d++){var h=m[d];h!==null&&(h.lane&=-536870913)}n&=~f}r!==0&&$x(t,r,0),s!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=s&~(a&~e))}function $x(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-Mn(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&4194090}function Kx(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Mn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function sv(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function av(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function Qx(){var t=ke.p;return t!==0?t:(t=window.event,t===void 0?32:hA(t.type))}function vD(t,e){var n=ke.p;try{return ke.p=t,e()}finally{ke.p=n}}var Os=Math.random().toString(36).slice(2),en="__reactFiber$"+Os,bn="__reactProps$"+Os,gl="__reactContainer$"+Os,dg="__reactEvents$"+Os,_D="__reactListeners$"+Os,bD="__reactHandles$"+Os,yb="__reactResources$"+Os,Tu="__reactMarker$"+Os;function ov(t){delete t[en],delete t[bn],delete t[dg],delete t[_D],delete t[bD]}function oo(t){var e=t[en];if(e)return e;for(var n=t.parentNode;n;){if(e=n[gl]||n[en]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=xw(t);t!==null;){if(n=t[en])return n;t=xw(t)}return e}t=n,n=t.parentNode}return null}function yl(t){if(t=t[en]||t[gl]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function ac(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(H(33))}function _o(t){var e=t[yb];return e||(e=t[yb]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Ot(t){t[Tu]=!0}var Yx=new Set,Xx={};function Ca(t,e){Ko(t,e),Ko(t+"Capture",e)}function Ko(t,e){for(Xx[t]=e,t=0;t<e.length;t++)Yx.add(e[t])}var wD=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vb={},_b={};function ED(t){return ug.call(_b,t)?!0:ug.call(vb,t)?!1:wD.test(t)?_b[t]=!0:(vb[t]=!0,!1)}function Gd(t,e,n){if(ED(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function bd(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function $r(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}var Zm,bb;function Za(t){if(Zm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Zm=e&&e[1]||"",bb=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zm+t+bb}var Jm=!1;function ep(t,e){if(!t||Jm)return"";Jm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(h){var m=h}Reflect.construct(t,[],f)}else{try{f.call()}catch(h){m=h}t.call(f.prototype)}}else{try{throw Error()}catch(h){m=h}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(h){if(h&&m&&typeof h.stack=="string")return[h.stack,m.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var l=a.split(`
`),u=o.split(`
`);for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(r!==1||i!==1)do if(r--,i--,0>i||l[r]!==u[i]){var d=`
`+l[r].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=r&&0<=i);break}}}finally{Jm=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Za(n):""}function TD(t){switch(t.tag){case 26:case 27:case 5:return Za(t.type);case 16:return Za("Lazy");case 13:return Za("Suspense");case 19:return Za("SuspenseList");case 0:case 15:return ep(t.type,!1);case 11:return ep(t.type.render,!1);case 1:return ep(t.type,!0);case 31:return Za("Activity");default:return""}}function wb(t){try{var e="";do e+=TD(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Un(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Wx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function xD(t){var e=Wx(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Af(t){t._valueTracker||(t._valueTracker=xD(t))}function Zx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Wx(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Rf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var SD=/[\n"\\]/g;function Fn(t){return t.replace(SD,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function fg(t,e,n,r,i,s,a,o){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Un(e)):t.value!==""+Un(e)&&(t.value=""+Un(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?hg(t,a,Un(e)):n!=null?hg(t,a,Un(n)):r!=null&&t.removeAttribute("value"),i==null&&s!=null&&(t.defaultChecked=!!s),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+Un(o):t.removeAttribute("name")}function Jx(t,e,n,r,i,s,a,o){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null))return;n=n!=null?""+Un(n):"",e=e!=null?""+Un(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=o?t.checked:!!r,t.defaultChecked=!!r,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a)}function hg(t,e,n){e==="number"&&Rf(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function bo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Un(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function eS(t,e,n){if(e!=null&&(e=""+Un(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Un(n):""}function tS(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(H(92));if(sc(r)){if(1<r.length)throw Error(H(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=Un(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r)}function Qo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var AD=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eb(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||AD.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function nS(t,e,n){if(e!=null&&typeof e!="object")throw Error(H(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&Eb(t,i,r)}else for(var s in e)e.hasOwnProperty(s)&&Eb(t,s,e[s])}function lv(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var RD=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),CD=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $d(t){return CD.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var mg=null;function cv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var lo=null,wo=null;function Tb(t){var e=yl(t);if(e&&(t=e.stateNode)){var n=t[bn]||null;e:switch(t=e.stateNode,e.type){case"input":if(fg(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Fn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[bn]||null;if(!i)throw Error(H(90));fg(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&Zx(r)}break e;case"textarea":eS(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&bo(t,!!n.multiple,e,!1)}}}var tp=!1;function rS(t,e,n){if(tp)return t(e,n);tp=!0;try{var r=t(e);return r}finally{if(tp=!1,(lo!==null||wo!==null)&&(Bh(),lo&&(e=lo,t=wo,wo=lo=null,Tb(e),t)))for(e=0;e<t.length;e++)Tb(t[e])}}function Bc(t,e){var n=t.stateNode;if(n===null)return null;var r=n[bn]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pg=!1;if(ci)try{var Ql={};Object.defineProperty(Ql,"passive",{get:function(){pg=!0}}),window.addEventListener("test",Ql,Ql),window.removeEventListener("test",Ql,Ql)}catch{pg=!1}var rs=null,uv=null,Kd=null;function iS(){if(Kd)return Kd;var t,e=uv,n=e.length,r,i="value"in rs?rs.value:rs.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Kd=i.slice(t,1<r?1-r:void 0)}function Qd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function wd(){return!0}function xb(){return!1}function En(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?wd:xb,this.isPropagationStopped=xb,this}return Ze(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wd)},persist:function(){},isPersistent:wd}),e}var Ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dh=En(Ia),xu=Ze({},Ia,{view:0,detail:0}),ID=En(xu),np,rp,Yl,Oh=Ze({},xu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Yl&&(Yl&&t.type==="mousemove"?(np=t.screenX-Yl.screenX,rp=t.screenY-Yl.screenY):rp=np=0,Yl=t),np)},movementY:function(t){return"movementY"in t?t.movementY:rp}}),Sb=En(Oh),ND=Ze({},Oh,{dataTransfer:0}),MD=En(ND),DD=Ze({},xu,{relatedTarget:0}),ip=En(DD),OD=Ze({},Ia,{animationName:0,elapsedTime:0,pseudoElement:0}),PD=En(OD),kD=Ze({},Ia,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),VD=En(kD),jD=Ze({},Ia,{data:0}),Ab=En(jD),LD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=zD[t])?!!e[t]:!1}function dv(){return BD}var FD=Ze({},xu,{key:function(t){if(t.key){var e=LD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?UD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dv,charCode:function(t){return t.type==="keypress"?Qd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),HD=En(FD),qD=Ze({},Oh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rb=En(qD),GD=Ze({},xu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dv}),$D=En(GD),KD=Ze({},Ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),QD=En(KD),YD=Ze({},Oh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),XD=En(YD),WD=Ze({},Ia,{newState:0,oldState:0}),ZD=En(WD),JD=[9,13,27,32],fv=ci&&"CompositionEvent"in window,yc=null;ci&&"documentMode"in document&&(yc=document.documentMode);var eO=ci&&"TextEvent"in window&&!yc,sS=ci&&(!fv||yc&&8<yc&&11>=yc),Cb=" ",Ib=!1;function aS(t,e){switch(t){case"keyup":return JD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var co=!1;function tO(t,e){switch(t){case"compositionend":return oS(e);case"keypress":return e.which!==32?null:(Ib=!0,Cb);case"textInput":return t=e.data,t===Cb&&Ib?null:t;default:return null}}function nO(t,e){if(co)return t==="compositionend"||!fv&&aS(t,e)?(t=iS(),Kd=uv=rs=null,co=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return sS&&e.locale!=="ko"?null:e.data;default:return null}}var rO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!rO[t.type]:e==="textarea"}function lS(t,e,n,r){lo?wo?wo.push(r):wo=[r]:lo=r,e=Gf(e,"onChange"),0<e.length&&(n=new Dh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var vc=null,Fc=null;function iO(t){eA(t,0)}function Ph(t){var e=ac(t);if(Zx(e))return t}function Mb(t,e){if(t==="change")return e}var cS=!1;if(ci){var sp;if(ci){var ap="oninput"in document;if(!ap){var Db=document.createElement("div");Db.setAttribute("oninput","return;"),ap=typeof Db.oninput=="function"}sp=ap}else sp=!1;cS=sp&&(!document.documentMode||9<document.documentMode)}function Ob(){vc&&(vc.detachEvent("onpropertychange",uS),Fc=vc=null)}function uS(t){if(t.propertyName==="value"&&Ph(Fc)){var e=[];lS(e,Fc,t,cv(t)),rS(iO,e)}}function sO(t,e,n){t==="focusin"?(Ob(),vc=e,Fc=n,vc.attachEvent("onpropertychange",uS)):t==="focusout"&&Ob()}function aO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ph(Fc)}function oO(t,e){if(t==="click")return Ph(e)}function lO(t,e){if(t==="input"||t==="change")return Ph(e)}function cO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kn=typeof Object.is=="function"?Object.is:cO;function Hc(t,e){if(kn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ug.call(e,i)||!kn(t[i],e[i]))return!1}return!0}function Pb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kb(t,e){var n=Pb(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Pb(n)}}function dS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?dS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function fS(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Rf(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Rf(t.document)}return e}function hv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var uO=ci&&"documentMode"in document&&11>=document.documentMode,uo=null,gg=null,_c=null,yg=!1;function Vb(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yg||uo==null||uo!==Rf(r)||(r=uo,"selectionStart"in r&&hv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_c&&Hc(_c,r)||(_c=r,r=Gf(gg,"onSelect"),0<r.length&&(e=new Dh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=uo)))}function $s(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var fo={animationend:$s("Animation","AnimationEnd"),animationiteration:$s("Animation","AnimationIteration"),animationstart:$s("Animation","AnimationStart"),transitionrun:$s("Transition","TransitionRun"),transitionstart:$s("Transition","TransitionStart"),transitioncancel:$s("Transition","TransitionCancel"),transitionend:$s("Transition","TransitionEnd")},op={},hS={};ci&&(hS=document.createElement("div").style,"AnimationEvent"in window||(delete fo.animationend.animation,delete fo.animationiteration.animation,delete fo.animationstart.animation),"TransitionEvent"in window||delete fo.transitionend.transition);function Na(t){if(op[t])return op[t];if(!fo[t])return t;var e=fo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in hS)return op[t]=e[n];return t}var mS=Na("animationend"),pS=Na("animationiteration"),gS=Na("animationstart"),dO=Na("transitionrun"),fO=Na("transitionstart"),hO=Na("transitioncancel"),yS=Na("transitionend"),vS=new Map,vg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vg.push("scrollEnd");function fr(t,e){vS.set(t,e),Ca(e,[t])}var jb=new WeakMap;function Hn(t,e){if(typeof t=="object"&&t!==null){var n=jb.get(t);return n!==void 0?n:(e={value:t,source:e,stack:wb(e)},jb.set(t,e),e)}return{value:t,source:e,stack:wb(e)}}var Ln=[],ho=0,mv=0;function kh(){for(var t=ho,e=mv=ho=0;e<t;){var n=Ln[e];Ln[e++]=null;var r=Ln[e];Ln[e++]=null;var i=Ln[e];Ln[e++]=null;var s=Ln[e];if(Ln[e++]=null,r!==null&&i!==null){var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}s!==0&&_S(n,i,s)}}function Vh(t,e,n,r){Ln[ho++]=t,Ln[ho++]=e,Ln[ho++]=n,Ln[ho++]=r,mv|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function pv(t,e,n,r){return Vh(t,e,n,r),Cf(t)}function vl(t,e){return Vh(t,null,null,e),Cf(t)}function _S(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,s=t.return;s!==null;)s.childLanes|=n,r=s.alternate,r!==null&&(r.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(i=!0)),t=s,s=s.return;return t.tag===3?(s=t.stateNode,i&&e!==null&&(i=31-Mn(n),t=s.hiddenUpdates,r=t[i],r===null?t[i]=[e]:r.push(e),e.lane=n|536870912),s):null}function Cf(t){if(50<Ic)throw Ic=0,Ug=null,Error(H(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var mo={};function mO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(t,e,n,r){return new mO(t,e,n,r)}function gv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ai(t,e){var n=t.alternate;return n===null?(n=Cn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function bS(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Yd(t,e,n,r,i,s){var a=0;if(r=t,typeof t=="function")gv(t)&&(a=1);else if(typeof t=="string")a=gP(t,n,xr.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ag:return t=Cn(31,n,e,i),t.elementType=ag,t.lanes=s,t;case so:return oa(n.children,i,s,e);case Ux:a=8,i|=24;break;case rg:return t=Cn(12,n,e,i|2),t.elementType=rg,t.lanes=s,t;case ig:return t=Cn(13,n,e,i),t.elementType=ig,t.lanes=s,t;case sg:return t=Cn(19,n,e,i),t.elementType=sg,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case iD:case Jr:a=10;break e;case zx:a=9;break e;case nv:a=11;break e;case rv:a=14;break e;case zi:a=16,r=null;break e}a=29,n=Error(H(130,t===null?"null":typeof t,"")),r=null}return e=Cn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function oa(t,e,n,r){return t=Cn(7,t,r,e),t.lanes=n,t}function lp(t,e,n){return t=Cn(6,t,null,e),t.lanes=n,t}function cp(t,e,n){return e=Cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var po=[],go=0,If=null,Nf=0,zn=[],Bn=0,la=null,ei=1,ti="";function Qs(t,e){po[go++]=Nf,po[go++]=If,If=t,Nf=e}function wS(t,e,n){zn[Bn++]=ei,zn[Bn++]=ti,zn[Bn++]=la,la=t;var r=ei;t=ti;var i=32-Mn(r)-1;r&=~(1<<i),n+=1;var s=32-Mn(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ei=1<<32-Mn(e)+i|n<<i|r,ti=s+t}else ei=1<<s|n<<i|r,ti=t}function yv(t){t.return!==null&&(Qs(t,1),wS(t,1,0))}function vv(t){for(;t===If;)If=po[--go],po[go]=null,Nf=po[--go],po[go]=null;for(;t===la;)la=zn[--Bn],zn[Bn]=null,ti=zn[--Bn],zn[Bn]=null,ei=zn[--Bn],zn[Bn]=null}var ln=null,ct=null,Pe=!1,ca=null,br=!1,_g=Error(H(519));function pa(t){var e=Error(H(418,""));throw qc(Hn(e,t)),_g}function Lb(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[en]=t,e[bn]=r,n){case"dialog":_e("cancel",e),_e("close",e);break;case"iframe":case"object":case"embed":_e("load",e);break;case"video":case"audio":for(n=0;n<Kc.length;n++)_e(Kc[n],e);break;case"source":_e("error",e);break;case"img":case"image":case"link":_e("error",e),_e("load",e);break;case"details":_e("toggle",e);break;case"input":_e("invalid",e),Jx(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),Af(e);break;case"select":_e("invalid",e);break;case"textarea":_e("invalid",e),tS(e,r.value,r.defaultValue,r.children),Af(e)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||nA(e.textContent,n)?(r.popover!=null&&(_e("beforetoggle",e),_e("toggle",e)),r.onScroll!=null&&_e("scroll",e),r.onScrollEnd!=null&&_e("scrollend",e),r.onClick!=null&&(e.onclick=qh),e=!0):e=!1,e||pa(t)}function Ub(t){for(ln=t.return;ln;)switch(ln.tag){case 5:case 13:br=!1;return;case 27:case 3:br=!0;return;default:ln=ln.return}}function Xl(t){if(t!==ln)return!1;if(!Pe)return Ub(t),Pe=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Gg(t.type,t.memoizedProps)),n=!n),n&&ct&&pa(t),Ub(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){ct=or(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}ct=null}}else e===27?(e=ct,Ps(t.type)?(t=Qg,Qg=null,ct=t):ct=e):ct=ln?or(t.stateNode.nextSibling):null;return!0}function Su(){ct=ln=null,Pe=!1}function zb(){var t=ca;return t!==null&&(gn===null?gn=t:gn.push.apply(gn,t),ca=null),t}function qc(t){ca===null?ca=[t]:ca.push(t)}var bg=jr(null),Ma=null,ni=null;function Hi(t,e,n){nt(bg,e._currentValue),e._currentValue=n}function oi(t){t._currentValue=bg.current,kt(bg)}function wg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Eg(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){var a=i.child;s=s.firstContext;e:for(;s!==null;){var o=s;s=i;for(var l=0;l<e.length;l++)if(o.context===e[l]){s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),wg(s.return,n,t),r||(a=null);break e}s=o.next}}else if(i.tag===18){if(a=i.return,a===null)throw Error(H(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),wg(a,n,t),a=null}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}}function Au(t,e,n,r){t=null;for(var i=e,s=!1;i!==null;){if(!s){if(i.flags&524288)s=!0;else if(i.flags&262144)break}if(i.tag===10){var a=i.alternate;if(a===null)throw Error(H(387));if(a=a.memoizedProps,a!==null){var o=i.type;kn(i.pendingProps.value,a.value)||(t!==null?t.push(o):t=[o])}}else if(i===Ef.current){if(a=i.alternate,a===null)throw Error(H(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(Xc):t=[Xc])}i=i.return}t!==null&&Eg(e,t,n,r),e.flags|=262144}function Mf(t){for(t=t.firstContext;t!==null;){if(!kn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ga(t){Ma=t,ni=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function tn(t){return ES(Ma,t)}function Ed(t,e){return Ma===null&&ga(t),ES(t,e)}function ES(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},ni===null){if(t===null)throw Error(H(308));ni=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else ni=ni.next=e;return n}var pO=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},gO=Rt.unstable_scheduleCallback,yO=Rt.unstable_NormalPriority,xt={$$typeof:Jr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _v(){return{controller:new pO,data:new Map,refCount:0}}function Ru(t){t.refCount--,t.refCount===0&&gO(yO,function(){t.controller.abort()})}var bc=null,Tg=0,Yo=0,Eo=null;function vO(t,e){if(bc===null){var n=bc=[];Tg=0,Yo=Fv(),Eo={status:"pending",value:void 0,then:function(r){n.push(r)}}}return Tg++,e.then(Bb,Bb),e}function Bb(){if(--Tg===0&&bc!==null){Eo!==null&&(Eo.status="fulfilled");var t=bc;bc=null,Yo=0,Eo=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function _O(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var Fb=ie.S;ie.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&vO(t,e),Fb!==null&&Fb(t,e)};var ua=jr(null);function bv(){var t=ua.current;return t!==null?t:Ke.pooledCache}function Xd(t,e){e===null?nt(ua,ua.current):nt(ua,e.pool)}function TS(){var t=bv();return t===null?null:{parent:xt._currentValue,pool:t}}var Cu=Error(H(460)),xS=Error(H(474)),jh=Error(H(542)),xg={then:function(){}};function Hb(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Td(){}function SS(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Td,Td),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Gb(t),t;default:if(typeof e.status=="string")e.then(Td,Td);else{if(t=Ke,t!==null&&100<t.shellSuspendCounter)throw Error(H(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Gb(t),t}throw wc=e,Cu}}var wc=null;function qb(){if(wc===null)throw Error(H(459));var t=wc;return wc=null,t}function Gb(t){if(t===Cu||t===jh)throw Error(H(483))}var Bi=!1;function wv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function cs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function us(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ue&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=Cf(t),_S(t,null,n),e}return Vh(t,r,e,n),Cf(t)}function Ec(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Kx(t,n)}}function up(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Ag=!1;function Tc(){if(Ag){var t=Eo;if(t!==null)throw t}}function xc(t,e,n,r){Ag=!1;var i=t.updateQueue;Bi=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;a=0,d=u=l=null,o=s;do{var m=o.lane&-536870913,h=m!==o.lane;if(h?(Ie&m)===m:(r&m)===m){m!==0&&m===Yo&&(Ag=!0),d!==null&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var x=t,y=o;m=e;var E=n;switch(y.tag){case 1:if(x=y.payload,typeof x=="function"){f=x.call(E,f,m);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,m=typeof x=="function"?x.call(E,f,m):x,m==null)break e;f=Ze({},f,m);break e;case 2:Bi=!0}}m=o.callback,m!==null&&(t.flags|=64,h&&(t.flags|=8192),h=i.callbacks,h===null?i.callbacks=[m]:h.push(m))}else h={lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=h,l=f):d=d.next=h,a|=m;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,s===null&&(i.shared.lanes=0),xs|=a,t.lanes=a,t.memoizedState=f}}function AS(t,e){if(typeof t!="function")throw Error(H(191,t));t.call(e)}function RS(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)AS(n[t],e)}var Xo=jr(null),Df=jr(0);function $b(t,e){t=fi,nt(Df,t),nt(Xo,e),fi=t|e.baseLanes}function Rg(){nt(Df,fi),nt(Xo,Xo.current)}function Ev(){fi=Df.current,kt(Xo),kt(Df)}var Es=0,ye=null,Be=null,yt=null,Of=!1,To=!1,ya=!1,Pf=0,Gc=0,xo=null,bO=0;function dt(){throw Error(H(321))}function Tv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!kn(t[n],e[n]))return!1;return!0}function xv(t,e,n,r,i,s){return Es=s,ye=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ie.H=t===null||t.memoizedState===null?i1:s1,ya=!1,s=n(r,i),ya=!1,To&&(s=IS(e,n,r,i)),CS(t),s}function CS(t){ie.H=kf;var e=Be!==null&&Be.next!==null;if(Es=0,yt=Be=ye=null,Of=!1,Gc=0,xo=null,e)throw Error(H(300));t===null||Pt||(t=t.dependencies,t!==null&&Mf(t)&&(Pt=!0))}function IS(t,e,n,r){ye=t;var i=0;do{if(To&&(xo=null),Gc=0,To=!1,25<=i)throw Error(H(301));if(i+=1,yt=Be=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}ie.H=RO,s=e(n,r)}while(To);return s}function wO(){var t=ie.H,e=t.useState()[0];return e=typeof e.then=="function"?Iu(e):e,t=t.useState()[0],(Be!==null?Be.memoizedState:null)!==t&&(ye.flags|=1024),e}function Sv(){var t=Pf!==0;return Pf=0,t}function Av(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Rv(t){if(Of){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Of=!1}Es=0,yt=Be=ye=null,To=!1,Gc=Pf=0,xo=null}function mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?ye.memoizedState=yt=t:yt=yt.next=t,yt}function wt(){if(Be===null){var t=ye.alternate;t=t!==null?t.memoizedState:null}else t=Be.next;var e=yt===null?ye.memoizedState:yt.next;if(e!==null)yt=e,Be=t;else{if(t===null)throw ye.alternate===null?Error(H(467)):Error(H(310));Be=t,t={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},yt===null?ye.memoizedState=yt=t:yt=yt.next=t}return yt}function Cv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Iu(t){var e=Gc;return Gc+=1,xo===null&&(xo=[]),t=SS(xo,t,e),e=ye,(yt===null?e.memoizedState:yt.next)===null&&(e=e.alternate,ie.H=e===null||e.memoizedState===null?i1:s1),t}function Lh(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Iu(t);if(t.$$typeof===Jr)return tn(t)}throw Error(H(438,String(t)))}function Iv(t){var e=null,n=ye.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=ye.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Cv(),ye.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=sD;return e.index++,n}function ui(t,e){return typeof e=="function"?e(t):e}function Wd(t){var e=wt();return Nv(e,Be,t)}function Nv(t,e,n){var r=t.queue;if(r===null)throw Error(H(311));r.lastRenderedReducer=n;var i=t.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}e.baseQueue=i=s,r.pending=null}if(s=t.baseState,i===null)t.memoizedState=s;else{e=i.next;var o=a=null,l=null,u=e,d=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(Ie&f)===f:(Es&f)===f){var m=u.revertLane;if(m===0)l!==null&&(l=l.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Yo&&(d=!0);else if((Es&m)===m){u=u.next,m===Yo&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(o=l=f,a=s):l=l.next=f,ye.lanes|=m,xs|=m;f=u.action,ya&&n(s,f),s=u.hasEagerState?u.eagerState:n(s,f)}else m={lane:f,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(o=l=m,a=s):l=l.next=m,ye.lanes|=f,xs|=f;u=u.next}while(u!==null&&u!==e);if(l===null?a=s:l.next=o,!kn(s,t.memoizedState)&&(Pt=!0,d&&(n=Eo,n!==null)))throw n;t.memoizedState=s,t.baseState=a,t.baseQueue=l,r.lastRenderedState=s}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function dp(t){var e=wt(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);kn(s,e.memoizedState)||(Pt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function NS(t,e,n){var r=ye,i=wt(),s=Pe;if(s){if(n===void 0)throw Error(H(407));n=n()}else n=e();var a=!kn((Be||i).memoizedState,n);a&&(i.memoizedState=n,Pt=!0),i=i.queue;var o=OS.bind(null,r,i,t);if(Nu(2048,8,o,[t]),i.getSnapshot!==e||a||yt!==null&&yt.memoizedState.tag&1){if(r.flags|=2048,Wo(9,Uh(),DS.bind(null,r,i,n,e),null),Ke===null)throw Error(H(349));s||Es&124||MS(r,e,n)}return n}function MS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ye.updateQueue,e===null?(e=Cv(),ye.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function DS(t,e,n,r){e.value=n,e.getSnapshot=r,PS(e)&&kS(t)}function OS(t,e,n){return n(function(){PS(e)&&kS(t)})}function PS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!kn(t,n)}catch{return!0}}function kS(t){var e=vl(t,2);e!==null&&On(e,t,2)}function Cg(t){var e=mn();if(typeof t=="function"){var n=t;if(t=n(),ya){ns(!0);try{n()}finally{ns(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:t},e}function VS(t,e,n,r){return t.baseState=n,Nv(t,Be,typeof r=="function"?r:ui)}function EO(t,e,n,r,i){if(zh(t))throw Error(H(485));if(t=e.action,t!==null){var s={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};ie.T!==null?n(!0):s.isTransition=!1,r(s),n=e.pending,n===null?(s.next=e.pending=s,jS(e,s)):(s.next=n.next,e.pending=n.next=s)}}function jS(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var s=ie.T,a={};ie.T=a;try{var o=n(i,r),l=ie.S;l!==null&&l(a,o),Kb(t,e,o)}catch(u){Ig(t,e,u)}finally{ie.T=s}}else try{s=n(i,r),Kb(t,e,s)}catch(u){Ig(t,e,u)}}function Kb(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){Qb(t,e,r)},function(r){return Ig(t,e,r)}):Qb(t,e,n)}function Qb(t,e,n){e.status="fulfilled",e.value=n,LS(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,jS(t,n)))}function Ig(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,LS(e),e=e.next;while(e!==r)}t.action=null}function LS(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function US(t,e){return e}function Yb(t,e){if(Pe){var n=Ke.formState;if(n!==null){e:{var r=ye;if(Pe){if(ct){t:{for(var i=ct,s=br;i.nodeType!==8;){if(!s){i=null;break t}if(i=or(i.nextSibling),i===null){i=null;break t}}s=i.data,i=s==="F!"||s==="F"?i:null}if(i){ct=or(i.nextSibling),r=i.data==="F!";break e}}pa(r)}r=!1}r&&(e=n[0])}}return n=mn(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:US,lastRenderedState:e},n.queue=r,n=t1.bind(null,ye,r),r.dispatch=n,r=Cg(!1),s=Pv.bind(null,ye,!1,r.queue),r=mn(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=EO.bind(null,ye,i,s,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function Xb(t){var e=wt();return zS(e,Be,t)}function zS(t,e,n){if(e=Nv(t,e,US)[0],t=Wd(ui)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=Iu(e)}catch(a){throw a===Cu?jh:a}else r=e;e=wt();var i=e.queue,s=i.dispatch;return n!==e.memoizedState&&(ye.flags|=2048,Wo(9,Uh(),TO.bind(null,i,n),null)),[r,s,t]}function TO(t,e){t.action=e}function Wb(t){var e=wt(),n=Be;if(n!==null)return zS(e,n,t);wt(),e=e.memoizedState,n=wt();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function Wo(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=ye.updateQueue,e===null&&(e=Cv(),ye.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function Uh(){return{destroy:void 0,resource:void 0}}function BS(){return wt().memoizedState}function Zd(t,e,n,r){var i=mn();r=r===void 0?null:r,ye.flags|=t,i.memoizedState=Wo(1|e,Uh(),n,r)}function Nu(t,e,n,r){var i=wt();r=r===void 0?null:r;var s=i.memoizedState.inst;Be!==null&&r!==null&&Tv(r,Be.memoizedState.deps)?i.memoizedState=Wo(e,s,n,r):(ye.flags|=t,i.memoizedState=Wo(1|e,s,n,r))}function Zb(t,e){Zd(8390656,8,t,e)}function FS(t,e){Nu(2048,8,t,e)}function HS(t,e){return Nu(4,2,t,e)}function qS(t,e){return Nu(4,4,t,e)}function GS(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $S(t,e,n){n=n!=null?n.concat([t]):null,Nu(4,4,GS.bind(null,e,t),n)}function Mv(){}function KS(t,e){var n=wt();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&Tv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function QS(t,e){var n=wt();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&Tv(e,r[1]))return r[0];if(r=t(),ya){ns(!0);try{t()}finally{ns(!1)}}return n.memoizedState=[r,e],r}function Dv(t,e,n){return n===void 0||Es&1073741824?t.memoizedState=e:(t.memoizedState=n,t=L1(),ye.lanes|=t,xs|=t,n)}function YS(t,e,n,r){return kn(n,e)?n:Xo.current!==null?(t=Dv(t,n,r),kn(t,e)||(Pt=!0),t):Es&42?(t=L1(),ye.lanes|=t,xs|=t,e):(Pt=!0,t.memoizedState=n)}function XS(t,e,n,r,i){var s=ke.p;ke.p=s!==0&&8>s?s:8;var a=ie.T,o={};ie.T=o,Pv(t,!1,e,n);try{var l=i(),u=ie.S;if(u!==null&&u(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=_O(l,r);Sc(t,e,d,Dn(t))}else Sc(t,e,r,Dn(t))}catch(f){Sc(t,e,{then:function(){},status:"rejected",reason:f},Dn())}finally{ke.p=s,ie.T=a}}function xO(){}function Ng(t,e,n,r){if(t.tag!==5)throw Error(H(476));var i=WS(t).queue;XS(t,i,e,aa,n===null?xO:function(){return ZS(t),n(r)})}function WS(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:aa,baseState:aa,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:aa},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function ZS(t){var e=WS(t).next.queue;Sc(t,e,{},Dn())}function Ov(){return tn(Xc)}function JS(){return wt().memoizedState}function e1(){return wt().memoizedState}function SO(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Dn();t=cs(n);var r=us(e,t,n);r!==null&&(On(r,e,n),Ec(r,e,n)),e={cache:_v()},t.payload=e;return}e=e.return}}function AO(t,e,n){var r=Dn();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},zh(t)?n1(e,n):(n=pv(t,e,n,r),n!==null&&(On(n,t,r),r1(n,e,r)))}function t1(t,e,n){var r=Dn();Sc(t,e,n,r)}function Sc(t,e,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(zh(t))n1(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,kn(o,a))return Vh(t,e,i,0),Ke===null&&kh(),!1}catch{}finally{}if(n=pv(t,e,i,r),n!==null)return On(n,t,r),r1(n,e,r),!0}return!1}function Pv(t,e,n,r){if(r={lane:2,revertLane:Fv(),action:r,hasEagerState:!1,eagerState:null,next:null},zh(t)){if(e)throw Error(H(479))}else e=pv(t,n,r,2),e!==null&&On(e,t,2)}function zh(t){var e=t.alternate;return t===ye||e!==null&&e===ye}function n1(t,e){To=Of=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function r1(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Kx(t,n)}}var kf={readContext:tn,use:Lh,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt},i1={readContext:tn,use:Lh,useCallback:function(t,e){return mn().memoizedState=[t,e===void 0?null:e],t},useContext:tn,useEffect:Zb,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Zd(4194308,4,GS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Zd(4194308,4,t,e)},useInsertionEffect:function(t,e){Zd(4,2,t,e)},useMemo:function(t,e){var n=mn();e=e===void 0?null:e;var r=t();if(ya){ns(!0);try{t()}finally{ns(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=mn();if(n!==void 0){var i=n(e);if(ya){ns(!0);try{n(e)}finally{ns(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=AO.bind(null,ye,t),[r.memoizedState,t]},useRef:function(t){var e=mn();return t={current:t},e.memoizedState=t},useState:function(t){t=Cg(t);var e=t.queue,n=t1.bind(null,ye,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Mv,useDeferredValue:function(t,e){var n=mn();return Dv(n,t,e)},useTransition:function(){var t=Cg(!1);return t=XS.bind(null,ye,t.queue,!0,!1),mn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=ye,i=mn();if(Pe){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),Ke===null)throw Error(H(349));Ie&124||MS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Zb(OS.bind(null,r,s,t),[t]),r.flags|=2048,Wo(9,Uh(),DS.bind(null,r,s,n,e),null),n},useId:function(){var t=mn(),e=Ke.identifierPrefix;if(Pe){var n=ti,r=ei;n=(r&~(1<<32-Mn(r)-1)).toString(32)+n,e="«"+e+"R"+n,n=Pf++,0<n&&(e+="H"+n.toString(32)),e+="»"}else n=bO++,e="«"+e+"r"+n.toString(32)+"»";return t.memoizedState=e},useHostTransitionStatus:Ov,useFormState:Yb,useActionState:Yb,useOptimistic:function(t){var e=mn();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Pv.bind(null,ye,!0,n),n.dispatch=e,[t,e]},useMemoCache:Iv,useCacheRefresh:function(){return mn().memoizedState=SO.bind(null,ye)}},s1={readContext:tn,use:Lh,useCallback:KS,useContext:tn,useEffect:FS,useImperativeHandle:$S,useInsertionEffect:HS,useLayoutEffect:qS,useMemo:QS,useReducer:Wd,useRef:BS,useState:function(){return Wd(ui)},useDebugValue:Mv,useDeferredValue:function(t,e){var n=wt();return YS(n,Be.memoizedState,t,e)},useTransition:function(){var t=Wd(ui)[0],e=wt().memoizedState;return[typeof t=="boolean"?t:Iu(t),e]},useSyncExternalStore:NS,useId:JS,useHostTransitionStatus:Ov,useFormState:Xb,useActionState:Xb,useOptimistic:function(t,e){var n=wt();return VS(n,Be,t,e)},useMemoCache:Iv,useCacheRefresh:e1},RO={readContext:tn,use:Lh,useCallback:KS,useContext:tn,useEffect:FS,useImperativeHandle:$S,useInsertionEffect:HS,useLayoutEffect:qS,useMemo:QS,useReducer:dp,useRef:BS,useState:function(){return dp(ui)},useDebugValue:Mv,useDeferredValue:function(t,e){var n=wt();return Be===null?Dv(n,t,e):YS(n,Be.memoizedState,t,e)},useTransition:function(){var t=dp(ui)[0],e=wt().memoizedState;return[typeof t=="boolean"?t:Iu(t),e]},useSyncExternalStore:NS,useId:JS,useHostTransitionStatus:Ov,useFormState:Wb,useActionState:Wb,useOptimistic:function(t,e){var n=wt();return Be!==null?VS(n,Be,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Iv,useCacheRefresh:e1},So=null,$c=0;function xd(t){var e=$c;return $c+=1,So===null&&(So=[]),SS(So,t,e)}function Wl(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Sd(t,e){throw e.$$typeof===rD?Error(H(525)):(t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Jb(t){var e=t._init;return e(t._payload)}function a1(t){function e(_,b){if(t){var T=_.deletions;T===null?(_.deletions=[b],_.flags|=16):T.push(b)}}function n(_,b){if(!t)return null;for(;b!==null;)e(_,b),b=b.sibling;return null}function r(_){for(var b=new Map;_!==null;)_.key!==null?b.set(_.key,_):b.set(_.index,_),_=_.sibling;return b}function i(_,b){return _=ai(_,b),_.index=0,_.sibling=null,_}function s(_,b,T){return _.index=T,t?(T=_.alternate,T!==null?(T=T.index,T<b?(_.flags|=67108866,b):T):(_.flags|=67108866,b)):(_.flags|=1048576,b)}function a(_){return t&&_.alternate===null&&(_.flags|=67108866),_}function o(_,b,T,N){return b===null||b.tag!==6?(b=lp(T,_.mode,N),b.return=_,b):(b=i(b,T),b.return=_,b)}function l(_,b,T,N){var P=T.type;return P===so?d(_,b,T.props.children,N,T.key):b!==null&&(b.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===zi&&Jb(P)===b.type)?(b=i(b,T.props),Wl(b,T),b.return=_,b):(b=Yd(T.type,T.key,T.props,null,_.mode,N),Wl(b,T),b.return=_,b)}function u(_,b,T,N){return b===null||b.tag!==4||b.stateNode.containerInfo!==T.containerInfo||b.stateNode.implementation!==T.implementation?(b=cp(T,_.mode,N),b.return=_,b):(b=i(b,T.children||[]),b.return=_,b)}function d(_,b,T,N,P){return b===null||b.tag!==7?(b=oa(T,_.mode,N,P),b.return=_,b):(b=i(b,T),b.return=_,b)}function f(_,b,T){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=lp(""+b,_.mode,T),b.return=_,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case yd:return T=Yd(b.type,b.key,b.props,null,_.mode,T),Wl(T,b),T.return=_,T;case ic:return b=cp(b,_.mode,T),b.return=_,b;case zi:var N=b._init;return b=N(b._payload),f(_,b,T)}if(sc(b)||Kl(b))return b=oa(b,_.mode,T,null),b.return=_,b;if(typeof b.then=="function")return f(_,xd(b),T);if(b.$$typeof===Jr)return f(_,Ed(_,b),T);Sd(_,b)}return null}function m(_,b,T,N){var P=b!==null?b.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return P!==null?null:o(_,b,""+T,N);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case yd:return T.key===P?l(_,b,T,N):null;case ic:return T.key===P?u(_,b,T,N):null;case zi:return P=T._init,T=P(T._payload),m(_,b,T,N)}if(sc(T)||Kl(T))return P!==null?null:d(_,b,T,N,null);if(typeof T.then=="function")return m(_,b,xd(T),N);if(T.$$typeof===Jr)return m(_,b,Ed(_,T),N);Sd(_,T)}return null}function h(_,b,T,N,P){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return _=_.get(T)||null,o(b,_,""+N,P);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case yd:return _=_.get(N.key===null?T:N.key)||null,l(b,_,N,P);case ic:return _=_.get(N.key===null?T:N.key)||null,u(b,_,N,P);case zi:var V=N._init;return N=V(N._payload),h(_,b,T,N,P)}if(sc(N)||Kl(N))return _=_.get(T)||null,d(b,_,N,P,null);if(typeof N.then=="function")return h(_,b,T,xd(N),P);if(N.$$typeof===Jr)return h(_,b,T,Ed(b,N),P);Sd(b,N)}return null}function x(_,b,T,N){for(var P=null,V=null,A=b,S=b=0,C=null;A!==null&&S<T.length;S++){A.index>S?(C=A,A=null):C=A.sibling;var I=m(_,A,T[S],N);if(I===null){A===null&&(A=C);break}t&&A&&I.alternate===null&&e(_,A),b=s(I,b,S),V===null?P=I:V.sibling=I,V=I,A=C}if(S===T.length)return n(_,A),Pe&&Qs(_,S),P;if(A===null){for(;S<T.length;S++)A=f(_,T[S],N),A!==null&&(b=s(A,b,S),V===null?P=A:V.sibling=A,V=A);return Pe&&Qs(_,S),P}for(A=r(A);S<T.length;S++)C=h(A,_,S,T[S],N),C!==null&&(t&&C.alternate!==null&&A.delete(C.key===null?S:C.key),b=s(C,b,S),V===null?P=C:V.sibling=C,V=C);return t&&A.forEach(function(O){return e(_,O)}),Pe&&Qs(_,S),P}function y(_,b,T,N){if(T==null)throw Error(H(151));for(var P=null,V=null,A=b,S=b=0,C=null,I=T.next();A!==null&&!I.done;S++,I=T.next()){A.index>S?(C=A,A=null):C=A.sibling;var O=m(_,A,I.value,N);if(O===null){A===null&&(A=C);break}t&&A&&O.alternate===null&&e(_,A),b=s(O,b,S),V===null?P=O:V.sibling=O,V=O,A=C}if(I.done)return n(_,A),Pe&&Qs(_,S),P;if(A===null){for(;!I.done;S++,I=T.next())I=f(_,I.value,N),I!==null&&(b=s(I,b,S),V===null?P=I:V.sibling=I,V=I);return Pe&&Qs(_,S),P}for(A=r(A);!I.done;S++,I=T.next())I=h(A,_,S,I.value,N),I!==null&&(t&&I.alternate!==null&&A.delete(I.key===null?S:I.key),b=s(I,b,S),V===null?P=I:V.sibling=I,V=I);return t&&A.forEach(function(M){return e(_,M)}),Pe&&Qs(_,S),P}function E(_,b,T,N){if(typeof T=="object"&&T!==null&&T.type===so&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case yd:e:{for(var P=T.key;b!==null;){if(b.key===P){if(P=T.type,P===so){if(b.tag===7){n(_,b.sibling),N=i(b,T.props.children),N.return=_,_=N;break e}}else if(b.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===zi&&Jb(P)===b.type){n(_,b.sibling),N=i(b,T.props),Wl(N,T),N.return=_,_=N;break e}n(_,b);break}else e(_,b);b=b.sibling}T.type===so?(N=oa(T.props.children,_.mode,N,T.key),N.return=_,_=N):(N=Yd(T.type,T.key,T.props,null,_.mode,N),Wl(N,T),N.return=_,_=N)}return a(_);case ic:e:{for(P=T.key;b!==null;){if(b.key===P)if(b.tag===4&&b.stateNode.containerInfo===T.containerInfo&&b.stateNode.implementation===T.implementation){n(_,b.sibling),N=i(b,T.children||[]),N.return=_,_=N;break e}else{n(_,b);break}else e(_,b);b=b.sibling}N=cp(T,_.mode,N),N.return=_,_=N}return a(_);case zi:return P=T._init,T=P(T._payload),E(_,b,T,N)}if(sc(T))return x(_,b,T,N);if(Kl(T)){if(P=Kl(T),typeof P!="function")throw Error(H(150));return T=P.call(T),y(_,b,T,N)}if(typeof T.then=="function")return E(_,b,xd(T),N);if(T.$$typeof===Jr)return E(_,b,Ed(_,T),N);Sd(_,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,b!==null&&b.tag===6?(n(_,b.sibling),N=i(b,T),N.return=_,_=N):(n(_,b),N=lp(T,_.mode,N),N.return=_,_=N),a(_)):n(_,b)}return function(_,b,T,N){try{$c=0;var P=E(_,b,T,N);return So=null,P}catch(A){if(A===Cu||A===jh)throw A;var V=Cn(29,A,null,_.mode);return V.lanes=N,V.return=_,V}finally{}}}var Zo=a1(!0),o1=a1(!1),Qn=jr(null),Ar=null;function qi(t){var e=t.alternate;nt(St,St.current&1),nt(Qn,t),Ar===null&&(e===null||Xo.current!==null||e.memoizedState!==null)&&(Ar=t)}function l1(t){if(t.tag===22){if(nt(St,St.current),nt(Qn,t),Ar===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Ar=t)}}else Gi()}function Gi(){nt(St,St.current),nt(Qn,Qn.current)}function ri(t){kt(Qn),Ar===t&&(Ar=null),kt(St)}var St=jr(0);function Vf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Kg(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function fp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ze({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Mg={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Dn(),i=cs(r);i.payload=e,n!=null&&(i.callback=n),e=us(t,i,r),e!==null&&(On(e,t,r),Ec(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Dn(),i=cs(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=us(t,i,r),e!==null&&(On(e,t,r),Ec(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Dn(),r=cs(n);r.tag=2,e!=null&&(r.callback=e),e=us(t,r,n),e!==null&&(On(e,t,n),Ec(e,t,n))}};function ew(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Hc(n,r)||!Hc(i,s):!0}function tw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Mg.enqueueReplaceState(e,e.state,null)}function va(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=Ze({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}var jf=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function c1(t){jf(t)}function u1(t){console.error(t)}function d1(t){jf(t)}function Lf(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function nw(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Dg(t,e,n){return n=cs(n),n.tag=3,n.payload={element:null},n.callback=function(){Lf(t,e)},n}function f1(t){return t=cs(t),t.tag=3,t}function h1(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=r.value;t.payload=function(){return i(s)},t.callback=function(){nw(e,n,r)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){nw(e,n,r),typeof i!="function"&&(ds===null?ds=new Set([this]):ds.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})})}function CO(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&Au(e,n,i,!0),n=Qn.current,n!==null){switch(n.tag){case 13:return Ar===null?zg():n.alternate===null&&ut===0&&(ut=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===xg?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),Tp(t,r,i)),!1;case 22:return n.flags|=65536,r===xg?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),Tp(t,r,i)),!1}throw Error(H(435,n.tag))}return Tp(t,r,i),zg(),!1}if(Pe)return e=Qn.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==_g&&(t=Error(H(422),{cause:r}),qc(Hn(t,n)))):(r!==_g&&(e=Error(H(423),{cause:r}),qc(Hn(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=Hn(r,n),i=Dg(t.stateNode,r,i),up(t,i),ut!==4&&(ut=2)),!1;var s=Error(H(520),{cause:r});if(s=Hn(s,n),Cc===null?Cc=[s]:Cc.push(s),ut!==4&&(ut=2),e===null)return!0;r=Hn(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=Dg(n.stateNode,r,t),up(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(ds===null||!ds.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,i=f1(i),h1(i,t,n,r),up(n,i),!1}n=n.return}while(n!==null);return!1}var m1=Error(H(461)),Pt=!1;function Ut(t,e,n,r){e.child=t===null?o1(e,null,n,r):Zo(e,t.child,n,r)}function rw(t,e,n,r,i){n=n.render;var s=e.ref;if("ref"in r){var a={};for(var o in r)o!=="ref"&&(a[o]=r[o])}else a=r;return ga(e),r=xv(t,e,n,a,s,i),o=Sv(),t!==null&&!Pt?(Av(t,e,i),di(t,e,i)):(Pe&&o&&yv(e),e.flags|=1,Ut(t,e,r,i),e.child)}function iw(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!gv(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,p1(t,e,s,r,i)):(t=Yd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!kv(t,i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Hc,n(a,r)&&t.ref===e.ref)return di(t,e,i)}return e.flags|=1,t=ai(s,r),t.ref=e.ref,t.return=e,e.child=t}function p1(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Hc(s,r)&&t.ref===e.ref)if(Pt=!1,e.pendingProps=r=s,kv(t,i))t.flags&131072&&(Pt=!0);else return e.lanes=t.lanes,di(t,e,i)}return Og(t,e,n,r,i)}function g1(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden"){if(e.flags&128){if(r=s!==null?s.baseLanes|n:n,t!==null){for(i=e.child=t.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;e.childLanes=s&~r}else e.childLanes=0,e.child=null;return sw(t,e,r,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Xd(e,s!==null?s.cachePool:null),s!==null?$b(e,s):Rg(),l1(e);else return e.lanes=e.childLanes=536870912,sw(t,e,s!==null?s.baseLanes|n:n,n)}else s!==null?(Xd(e,s.cachePool),$b(e,s),Gi(),e.memoizedState=null):(t!==null&&Xd(e,null),Rg(),Gi());return Ut(t,e,i,n),e.child}function sw(t,e,n,r){var i=bv();return i=i===null?null:{parent:xt._currentValue,pool:i},e.memoizedState={baseLanes:n,cachePool:i},t!==null&&Xd(e,null),Rg(),l1(e),t!==null&&Au(t,e,r,!0),null}function Jd(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(H(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Og(t,e,n,r,i){return ga(e),n=xv(t,e,n,r,void 0,i),r=Sv(),t!==null&&!Pt?(Av(t,e,i),di(t,e,i)):(Pe&&r&&yv(e),e.flags|=1,Ut(t,e,n,i),e.child)}function aw(t,e,n,r,i,s){return ga(e),e.updateQueue=null,n=IS(e,r,n,i),CS(t),r=Sv(),t!==null&&!Pt?(Av(t,e,s),di(t,e,s)):(Pe&&r&&yv(e),e.flags|=1,Ut(t,e,n,s),e.child)}function ow(t,e,n,r,i){if(ga(e),e.stateNode===null){var s=mo,a=n.contextType;typeof a=="object"&&a!==null&&(s=tn(a)),s=new n(r,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Mg,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=r,s.state=e.memoizedState,s.refs={},wv(e),a=n.contextType,s.context=typeof a=="object"&&a!==null?tn(a):mo,s.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(fp(e,n,a,r),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&Mg.enqueueReplaceState(s,s.state,null),xc(e,r,s,i),Tc(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){s=e.stateNode;var o=e.memoizedProps,l=va(n,o);s.props=l;var u=s.context,d=n.contextType;a=mo,typeof d=="object"&&d!==null&&(a=tn(d));var f=n.getDerivedStateFromProps;d=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o||u!==a)&&tw(e,s,r,a),Bi=!1;var m=e.memoizedState;s.state=m,xc(e,r,s,i),Tc(),u=e.memoizedState,o||m!==u||Bi?(typeof f=="function"&&(fp(e,n,f,r),u=e.memoizedState),(l=Bi||ew(e,n,l,r,m,u,a))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=a,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Sg(t,e),a=e.memoizedProps,d=va(n,a),s.props=d,f=e.pendingProps,m=s.context,u=n.contextType,l=mo,typeof u=="object"&&u!==null&&(l=tn(u)),o=n.getDerivedStateFromProps,(u=typeof o=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||m!==l)&&tw(e,s,r,l),Bi=!1,m=e.memoizedState,s.state=m,xc(e,r,s,i),Tc();var h=e.memoizedState;a!==f||m!==h||Bi||t!==null&&t.dependencies!==null&&Mf(t.dependencies)?(typeof o=="function"&&(fp(e,n,o,r),h=e.memoizedState),(d=Bi||ew(e,n,d,r,m,h,l)||t!==null&&t.dependencies!==null&&Mf(t.dependencies))?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,h,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,h,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=h),s.props=r,s.state=h,s.context=l,r=d):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return s=r,Jd(t,e),r=(e.flags&128)!==0,s||r?(s=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&r?(e.child=Zo(e,t.child,null,i),e.child=Zo(e,null,n,i)):Ut(t,e,n,i),e.memoizedState=s.state,t=e.child):t=di(t,e,i),t}function lw(t,e,n,r){return Su(),e.flags|=256,Ut(t,e,n,r),e.child}var hp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mp(t){return{baseLanes:t,cachePool:TS()}}function pp(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=$n),t}function y1(t,e,n){var r=e.pendingProps,i=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(St.current&2)!==0),a&&(i=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(Pe){if(i?qi(e):Gi(),Pe){var o=ct,l;if(l=o){e:{for(l=o,o=br;l.nodeType!==8;){if(!o){o=null;break e}if(l=or(l.nextSibling),l===null){o=null;break e}}o=l}o!==null?(e.memoizedState={dehydrated:o,treeContext:la!==null?{id:ei,overflow:ti}:null,retryLane:536870912,hydrationErrors:null},l=Cn(18,null,null,0),l.stateNode=o,l.return=e,e.child=l,ln=e,ct=null,l=!0):l=!1}l||pa(e)}if(o=e.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return Kg(o)?e.lanes=32:e.lanes=536870912,null;ri(e)}return o=r.children,r=r.fallback,i?(Gi(),i=e.mode,o=Uf({mode:"hidden",children:o},i),r=oa(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,i=e.child,i.memoizedState=mp(n),i.childLanes=pp(t,a,n),e.memoizedState=hp,r):(qi(e),Pg(e,o))}if(l=t.memoizedState,l!==null&&(o=l.dehydrated,o!==null)){if(s)e.flags&256?(qi(e),e.flags&=-257,e=gp(t,e,n)):e.memoizedState!==null?(Gi(),e.child=t.child,e.flags|=128,e=null):(Gi(),i=r.fallback,o=e.mode,r=Uf({mode:"visible",children:r.children},o),i=oa(i,o,n,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,Zo(e,t.child,null,n),r=e.child,r.memoizedState=mp(n),r.childLanes=pp(t,a,n),e.memoizedState=hp,e=i);else if(qi(e),Kg(o)){if(a=o.nextSibling&&o.nextSibling.dataset,a)var u=a.dgst;a=u,r=Error(H(419)),r.stack="",r.digest=a,qc({value:r,source:null,stack:null}),e=gp(t,e,n)}else if(Pt||Au(t,e,n,!1),a=(n&t.childLanes)!==0,Pt||a){if(a=Ke,a!==null&&(r=n&-n,r=r&42?1:sv(r),r=r&(a.suspendedLanes|n)?0:r,r!==0&&r!==l.retryLane))throw l.retryLane=r,vl(t,r),On(a,t,r),m1;o.data==="$?"||zg(),e=gp(t,e,n)}else o.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,ct=or(o.nextSibling),ln=e,Pe=!0,ca=null,br=!1,t!==null&&(zn[Bn++]=ei,zn[Bn++]=ti,zn[Bn++]=la,ei=t.id,ti=t.overflow,la=e),e=Pg(e,r.children),e.flags|=4096);return e}return i?(Gi(),i=r.fallback,o=e.mode,l=t.child,u=l.sibling,r=ai(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u!==null?i=ai(u,i):(i=oa(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o===null?o=mp(n):(l=o.cachePool,l!==null?(u=xt._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=TS(),o={baseLanes:o.baseLanes|n,cachePool:l}),i.memoizedState=o,i.childLanes=pp(t,a,n),e.memoizedState=hp,r):(qi(e),n=t.child,t=n.sibling,n=ai(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function Pg(t,e){return e=Uf({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Uf(t,e){return t=Cn(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function gp(t,e,n){return Zo(e,t.child,null,n),t=Pg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function cw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),wg(t.return,e,n)}function yp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function v1(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ut(t,e,r.children,n),r=St.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cw(t,n,e);else if(t.tag===19)cw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(nt(St,r),i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Vf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),yp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Vf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}yp(e,!0,n,null,s);break;case"together":yp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function di(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),xs|=e.lanes,!(n&e.childLanes))if(t!==null){if(Au(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=ai(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ai(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function kv(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Mf(t)))}function IO(t,e,n){switch(e.tag){case 3:Tf(e,e.stateNode.containerInfo),Hi(e,xt,t.memoizedState.cache),Su();break;case 27:case 5:cg(e);break;case 4:Tf(e,e.stateNode.containerInfo);break;case 10:Hi(e,e.type,e.memoizedProps.value);break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(qi(e),e.flags|=128,null):n&e.child.childLanes?y1(t,e,n):(qi(e),t=di(t,e,n),t!==null?t.sibling:null);qi(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(Au(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return v1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),nt(St,St.current),r)break;return null;case 22:case 23:return e.lanes=0,g1(t,e,n);case 24:Hi(e,xt,t.memoizedState.cache)}return di(t,e,n)}function _1(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Pt=!0;else{if(!kv(t,n)&&!(e.flags&128))return Pt=!1,IO(t,e,n);Pt=!!(t.flags&131072)}else Pt=!1,Pe&&e.flags&1048576&&wS(e,Nf,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var r=e.elementType,i=r._init;if(r=i(r._payload),e.type=r,typeof r=="function")gv(r)?(t=va(r,t),e.tag=1,e=ow(null,e,r,t,n)):(e.tag=0,e=Og(null,e,r,t,n));else{if(r!=null){if(i=r.$$typeof,i===nv){e.tag=11,e=rw(null,e,r,t,n);break e}else if(i===rv){e.tag=14,e=iw(null,e,r,t,n);break e}}throw e=og(r)||r,Error(H(306,e,""))}}return e;case 0:return Og(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=va(r,e.pendingProps),ow(t,e,r,i,n);case 3:e:{if(Tf(e,e.stateNode.containerInfo),t===null)throw Error(H(387));r=e.pendingProps;var s=e.memoizedState;i=s.element,Sg(t,e),xc(e,r,null,n);var a=e.memoizedState;if(r=a.cache,Hi(e,xt,r),r!==s.cache&&Eg(e,[xt],n,!0),Tc(),r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=lw(t,e,r,n);break e}else if(r!==i){i=Hn(Error(H(424)),e),qc(i),e=lw(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ct=or(t.firstChild),ln=e,Pe=!0,ca=null,br=!0,n=o1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Su(),r===i){e=di(t,e,n);break e}Ut(t,e,r,n)}e=e.child}return e;case 26:return Jd(t,e),t===null?(n=Aw(e.type,null,e.pendingProps,null))?e.memoizedState=n:Pe||(n=e.type,t=e.pendingProps,r=$f(ls.current).createElement(n),r[en]=e,r[bn]=t,Ht(r,n,t),Ot(r),e.stateNode=r):e.memoizedState=Aw(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return cg(e),t===null&&Pe&&(r=e.stateNode=sA(e.type,e.pendingProps,ls.current),ln=e,br=!0,i=ct,Ps(e.type)?(Qg=i,ct=or(r.firstChild)):ct=i),Ut(t,e,e.pendingProps.children,n),Jd(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Pe&&((i=r=ct)&&(r=rP(r,e.type,e.pendingProps,br),r!==null?(e.stateNode=r,ln=e,ct=or(r.firstChild),br=!1,i=!0):i=!1),i||pa(e)),cg(e),i=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,r=s.children,Gg(i,s)?r=null:a!==null&&Gg(i,a)&&(e.flags|=32),e.memoizedState!==null&&(i=xv(t,e,wO,null,null,n),Xc._currentValue=i),Jd(t,e),Ut(t,e,r,n),e.child;case 6:return t===null&&Pe&&((t=n=ct)&&(n=iP(n,e.pendingProps,br),n!==null?(e.stateNode=n,ln=e,ct=null,t=!0):t=!1),t||pa(e)),null;case 13:return y1(t,e,n);case 4:return Tf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Zo(e,null,r,n):Ut(t,e,r,n),e.child;case 11:return rw(t,e,e.type,e.pendingProps,n);case 7:return Ut(t,e,e.pendingProps,n),e.child;case 8:return Ut(t,e,e.pendingProps.children,n),e.child;case 12:return Ut(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,Hi(e,e.type,r.value),Ut(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,ga(e),i=tn(i),r=r(i),e.flags|=1,Ut(t,e,r,n),e.child;case 14:return iw(t,e,e.type,e.pendingProps,n);case 15:return p1(t,e,e.type,e.pendingProps,n);case 19:return v1(t,e,n);case 31:return r=e.pendingProps,n=e.mode,r={mode:r.mode,children:r.children},t===null?(n=Uf(r,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=ai(t.child,r),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return g1(t,e,n);case 24:return ga(e),r=tn(xt),t===null?(i=bv(),i===null&&(i=Ke,s=_v(),i.pooledCache=s,s.refCount++,s!==null&&(i.pooledCacheLanes|=n),i=s),e.memoizedState={parent:r,cache:i},wv(e),Hi(e,xt,i)):(t.lanes&n&&(Sg(t,e),xc(e,null,null,n),Tc()),i=t.memoizedState,s=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),Hi(e,xt,r)):(r=s.cache,Hi(e,xt,r),r!==i.cache&&Eg(e,[xt],n,!0))),Ut(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(H(156,e.tag))}function Kr(t){t.flags|=4}function uw(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!lA(e)){if(e=Qn.current,e!==null&&((Ie&4194048)===Ie?Ar!==null:(Ie&62914560)!==Ie&&!(Ie&536870912)||e!==Ar))throw wc=xg,xS;t.flags|=8192}}function Ad(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Gx():536870912,t.lanes|=e,Jo|=e)}function Zl(t,e){if(!Pe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function rt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function NO(t,e,n){var r=e.pendingProps;switch(vv(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(e),null;case 1:return rt(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),oi(xt),$o(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Xl(e)?Kr(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zb())),rt(e),null;case 26:return n=e.memoizedState,t===null?(Kr(e),n!==null?(rt(e),uw(e,n)):(rt(e),e.flags&=-16777217)):n?n!==t.memoizedState?(Kr(e),rt(e),uw(e,n)):(rt(e),e.flags&=-16777217):(t.memoizedProps!==r&&Kr(e),rt(e),e.flags&=-16777217),null;case 27:xf(e),n=ls.current;var i=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Kr(e);else{if(!r){if(e.stateNode===null)throw Error(H(166));return rt(e),null}t=xr.current,Xl(e)?Lb(e):(t=sA(i,r,n),e.stateNode=t,Kr(e))}return rt(e),null;case 5:if(xf(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Kr(e);else{if(!r){if(e.stateNode===null)throw Error(H(166));return rt(e),null}if(t=xr.current,Xl(e))Lb(e);else{switch(i=$f(ls.current),t){case 1:t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?i.createElement(n,{is:r.is}):i.createElement(n)}}t[en]=e,t[bn]=r;e:for(i=e.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}e.stateNode=t;e:switch(Ht(t,n,r),n){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Kr(e)}}return rt(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&Kr(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(t=ls.current,Xl(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=ln,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[en]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||nA(t.nodeValue,n)),t||pa(e)}else t=$f(t).createTextNode(r),t[en]=e,e.stateNode=t}return rt(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=Xl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(H(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(H(317));i[en]=e}else Su(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;rt(e),i=!1}else i=zb(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(ri(e),e):(ri(e),null)}if(ri(e),e.flags&128)return e.lanes=n,e;if(n=r!==null,t=t!==null&&t.memoizedState!==null,n){r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool);var s=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),Ad(e,e.updateQueue),rt(e),null;case 4:return $o(),t===null&&Hv(e.stateNode.containerInfo),rt(e),null;case 10:return oi(e.type),rt(e),null;case 19:if(kt(St),i=e.memoizedState,i===null)return rt(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)Zl(i,!1);else{if(ut!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Vf(t),s!==null){for(e.flags|=128,Zl(i,!1),t=s.updateQueue,e.updateQueue=t,Ad(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)bS(n,t),n=n.sibling;return nt(St,St.current&1|2),e.child}t=t.sibling}i.tail!==null&&Sr()>Bf&&(e.flags|=128,r=!0,Zl(i,!1),e.lanes=4194304)}else{if(!r)if(t=Vf(s),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,Ad(e,t),Zl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Pe)return rt(e),null}else 2*Sr()-i.renderingStartTime>Bf&&n!==536870912&&(e.flags|=128,r=!0,Zl(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(t=i.last,t!==null?t.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Sr(),e.sibling=null,t=St.current,nt(St,r?t&1|2:t&1),e):(rt(e),null);case 22:case 23:return ri(e),Ev(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(rt(e),e.subtreeFlags&6&&(e.flags|=8192)):rt(e),n=e.updateQueue,n!==null&&Ad(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&kt(ua),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),oi(xt),rt(e),null;case 25:return null;case 30:return null}throw Error(H(156,e.tag))}function MO(t,e){switch(vv(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return oi(xt),$o(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return xf(e),null;case 13:if(ri(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));Su()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return kt(St),null;case 4:return $o(),null;case 10:return oi(e.type),null;case 22:case 23:return ri(e),Ev(),t!==null&&kt(ua),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return oi(xt),null;case 25:return null;default:return null}}function b1(t,e){switch(vv(e),e.tag){case 3:oi(xt),$o();break;case 26:case 27:case 5:xf(e);break;case 4:$o();break;case 13:ri(e);break;case 19:kt(St);break;case 10:oi(e.type);break;case 22:case 23:ri(e),Ev(),t!==null&&kt(ua);break;case 24:oi(xt)}}function Mu(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var s=n.create,a=n.inst;r=s(),a.destroy=r}n=n.next}while(n!==i)}}catch(o){qe(e,e.return,o)}}function Ts(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var s=i.next;r=s;do{if((r.tag&t)===t){var a=r.inst,o=a.destroy;if(o!==void 0){a.destroy=void 0,i=e;var l=n,u=o;try{u()}catch(d){qe(i,l,d)}}}r=r.next}while(r!==s)}}catch(d){qe(e,e.return,d)}}function w1(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{RS(e,n)}catch(r){qe(t,t.return,r)}}}function E1(t,e,n){n.props=va(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){qe(t,e,r)}}function Ac(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(i){qe(t,e,i)}}function Er(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){qe(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){qe(t,e,i)}else n.current=null}function T1(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){qe(t,t.return,i)}}function vp(t,e,n){try{var r=t.stateNode;ZO(r,t.type,n,e),r[bn]=e}catch(i){qe(t,t.return,i)}}function x1(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ps(t.type)||t.tag===4}function _p(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||x1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ps(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=qh));else if(r!==4&&(r===27&&Ps(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(kg(t,e,n),t=t.sibling;t!==null;)kg(t,e,n),t=t.sibling}function zf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&Ps(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(zf(t,e,n),t=t.sibling;t!==null;)zf(t,e,n),t=t.sibling}function S1(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Ht(e,r,n),e[en]=t,e[bn]=n}catch(s){qe(t,t.return,s)}}var Zr=!1,ht=!1,bp=!1,dw=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function DO(t,e){if(t=t.containerInfo,Hg=Xf,t=fS(t),hv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,d=0,f=t,m=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(o=a+i),f!==s||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(h=f.firstChild)!==null;)m=f,f=h;for(;;){if(f===t)break t;if(m===n&&++u===i&&(o=a),m===s&&++d===r&&(l=a),(h=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=h}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(qg={focusedElem:t,selectionRange:n},Xf=!1,Mt=e;Mt!==null;)if(e=Mt,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,Mt=t;else for(;Mt!==null;){switch(e=Mt,s=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&s!==null){t=void 0,n=e,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var x=va(n.type,i,n.elementType===n.type);t=r.getSnapshotBeforeUpdate(x,s),r.__reactInternalSnapshotBeforeUpdate=t}catch(y){qe(n,n.return,y)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)$g(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":$g(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(H(163))}if(t=e.sibling,t!==null){t.return=e.return,Mt=t;break}Mt=e.return}}function A1(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Mi(t,n),r&4&&Mu(5,n);break;case 1:if(Mi(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){qe(n,n.return,a)}else{var i=va(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){qe(n,n.return,a)}}r&64&&w1(n),r&512&&Ac(n,n.return);break;case 3:if(Mi(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{RS(t,e)}catch(a){qe(n,n.return,a)}}break;case 27:e===null&&r&4&&S1(n);case 26:case 5:Mi(t,n),e===null&&r&4&&T1(n),r&512&&Ac(n,n.return);break;case 12:Mi(t,n);break;case 13:Mi(t,n),r&4&&I1(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=BO.bind(null,n),sP(t,n))));break;case 22:if(r=n.memoizedState!==null||Zr,!r){e=e!==null&&e.memoizedState!==null||ht,i=Zr;var s=ht;Zr=r,(ht=e)&&!s?Vi(t,n,(n.subtreeFlags&8772)!==0):Mi(t,n),Zr=i,ht=s}break;case 30:break;default:Mi(t,n)}}function R1(t){var e=t.alternate;e!==null&&(t.alternate=null,R1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&ov(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var et=null,pn=!1;function Qr(t,e,n){for(n=n.child;n!==null;)C1(t,e,n),n=n.sibling}function C1(t,e,n){if(Nn&&typeof Nn.onCommitFiberUnmount=="function")try{Nn.onCommitFiberUnmount(bu,n)}catch{}switch(n.tag){case 26:ht||Er(n,e),Qr(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ht||Er(n,e);var r=et,i=pn;Ps(n.type)&&(et=n.stateNode,pn=!1),Qr(t,e,n),Nc(n.stateNode),et=r,pn=i;break;case 5:ht||Er(n,e);case 6:if(r=et,i=pn,et=null,Qr(t,e,n),et=r,pn=i,et!==null)if(pn)try{(et.nodeType===9?et.body:et.nodeName==="HTML"?et.ownerDocument.body:et).removeChild(n.stateNode)}catch(s){qe(n,e,s)}else try{et.removeChild(n.stateNode)}catch(s){qe(n,e,s)}break;case 18:et!==null&&(pn?(t=et,Tw(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Jc(t)):Tw(et,n.stateNode));break;case 4:r=et,i=pn,et=n.stateNode.containerInfo,pn=!0,Qr(t,e,n),et=r,pn=i;break;case 0:case 11:case 14:case 15:ht||Ts(2,n,e),ht||Ts(4,n,e),Qr(t,e,n);break;case 1:ht||(Er(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&E1(n,e,r)),Qr(t,e,n);break;case 21:Qr(t,e,n);break;case 22:ht=(r=ht)||n.memoizedState!==null,Qr(t,e,n),ht=r;break;default:Qr(t,e,n)}}function I1(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Jc(t)}catch(n){qe(e,e.return,n)}}function OO(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new dw),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new dw),e;default:throw Error(H(435,t.tag))}}function wp(t,e){var n=OO(t);e.forEach(function(r){var i=FO.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}function xn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 27:if(Ps(o.type)){et=o.stateNode,pn=!1;break e}break;case 5:et=o.stateNode,pn=!1;break e;case 3:case 4:et=o.stateNode.containerInfo,pn=!0;break e}o=o.return}if(et===null)throw Error(H(160));C1(s,a,i),et=null,pn=!1,s=i.alternate,s!==null&&(s.return=null),i.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)N1(e,t),e=e.sibling}var sr=null;function N1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:xn(e,t),Sn(t),r&4&&(Ts(3,t,t.return),Mu(3,t),Ts(5,t,t.return));break;case 1:xn(e,t),Sn(t),r&512&&(ht||n===null||Er(n,n.return)),r&64&&Zr&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=sr;if(xn(e,t),Sn(t),r&512&&(ht||n===null||Er(n,n.return)),r&4){var s=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":s=i.getElementsByTagName("title")[0],(!s||s[Tu]||s[en]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),Ht(s,r,n),s[en]=t,Ot(s),r=s;break e;case"link":var a=Cw("link","href",i).get(r+(n.href||""));if(a){for(var o=0;o<a.length;o++)if(s=a[o],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(o,1);break t}}s=i.createElement(r),Ht(s,r,n),i.head.appendChild(s);break;case"meta":if(a=Cw("meta","content",i).get(r+(n.content||""))){for(o=0;o<a.length;o++)if(s=a[o],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(o,1);break t}}s=i.createElement(r),Ht(s,r,n),i.head.appendChild(s);break;default:throw Error(H(468,r))}s[en]=t,Ot(s),r=s}t.stateNode=r}else Iw(i,t.type,t.stateNode);else t.stateNode=Rw(i,r,t.memoizedProps);else s!==r?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,r===null?Iw(i,t.type,t.stateNode):Rw(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&vp(t,t.memoizedProps,n.memoizedProps)}break;case 27:xn(e,t),Sn(t),r&512&&(ht||n===null||Er(n,n.return)),n!==null&&r&4&&vp(t,t.memoizedProps,n.memoizedProps);break;case 5:if(xn(e,t),Sn(t),r&512&&(ht||n===null||Er(n,n.return)),t.flags&32){i=t.stateNode;try{Qo(i,"")}catch(h){qe(t,t.return,h)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,vp(t,i,n!==null?n.memoizedProps:i)),r&1024&&(bp=!0);break;case 6:if(xn(e,t),Sn(t),r&4){if(t.stateNode===null)throw Error(H(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(h){qe(t,t.return,h)}}break;case 3:if(nf=null,i=sr,sr=Kf(e.containerInfo),xn(e,t),sr=i,Sn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Jc(e.containerInfo)}catch(h){qe(t,t.return,h)}bp&&(bp=!1,M1(t));break;case 4:r=sr,sr=Kf(t.stateNode.containerInfo),xn(e,t),Sn(t),sr=r;break;case 12:xn(e,t),Sn(t);break;case 13:xn(e,t),Sn(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(zv=Sr()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,wp(t,r)));break;case 22:i=t.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=Zr,d=ht;if(Zr=u||i,ht=d||l,xn(e,t),ht=d,Zr=u,Sn(t),r&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||l||Zr||ht||Ys(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){l=n=e;try{if(s=l.stateNode,i)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{o=l.stateNode;var f=l.memoizedProps.style,m=f!=null&&f.hasOwnProperty("display")?f.display:null;o.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(h){qe(l,l.return,h)}}}else if(e.tag===6){if(n===null){l=e;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(h){qe(l,l.return,h)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,wp(t,n))));break;case 19:xn(e,t),Sn(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,wp(t,r)));break;case 30:break;case 21:break;default:xn(e,t),Sn(t)}}function Sn(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(x1(r)){n=r;break}r=r.return}if(n==null)throw Error(H(160));switch(n.tag){case 27:var i=n.stateNode,s=_p(t);zf(t,s,i);break;case 5:var a=n.stateNode;n.flags&32&&(Qo(a,""),n.flags&=-33);var o=_p(t);zf(t,o,a);break;case 3:case 4:var l=n.stateNode.containerInfo,u=_p(t);kg(t,u,l);break;default:throw Error(H(161))}}catch(d){qe(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function M1(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;M1(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Mi(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)A1(t,e.alternate,e),e=e.sibling}function Ys(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Ts(4,e,e.return),Ys(e);break;case 1:Er(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&E1(e,e.return,n),Ys(e);break;case 27:Nc(e.stateNode);case 26:case 5:Er(e,e.return),Ys(e);break;case 22:e.memoizedState===null&&Ys(e);break;case 30:Ys(e);break;default:Ys(e)}t=t.sibling}}function Vi(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,s=e,a=s.flags;switch(s.tag){case 0:case 11:case 15:Vi(i,s,n),Mu(4,s);break;case 1:if(Vi(i,s,n),r=s,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){qe(r,r.return,u)}if(r=s,i=r.updateQueue,i!==null){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)AS(l[i],o)}catch(u){qe(r,r.return,u)}}n&&a&64&&w1(s),Ac(s,s.return);break;case 27:S1(s);case 26:case 5:Vi(i,s,n),n&&r===null&&a&4&&T1(s),Ac(s,s.return);break;case 12:Vi(i,s,n);break;case 13:Vi(i,s,n),n&&a&4&&I1(i,s);break;case 22:s.memoizedState===null&&Vi(i,s,n),Ac(s,s.return);break;case 30:break;default:Vi(i,s,n)}e=e.sibling}}function Vv(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Ru(n))}function jv(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ru(t))}function mr(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)D1(t,e,n,r),e=e.sibling}function D1(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:mr(t,e,n,r),i&2048&&Mu(9,e);break;case 1:mr(t,e,n,r);break;case 3:mr(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ru(t)));break;case 12:if(i&2048){mr(t,e,n,r),t=e.stateNode;try{var s=e.memoizedProps,a=s.id,o=s.onPostCommit;typeof o=="function"&&o(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){qe(e,e.return,l)}}else mr(t,e,n,r);break;case 13:mr(t,e,n,r);break;case 23:break;case 22:s=e.stateNode,a=e.alternate,e.memoizedState!==null?s._visibility&2?mr(t,e,n,r):Rc(t,e):s._visibility&2?mr(t,e,n,r):(s._visibility|=2,Ja(t,e,n,r,(e.subtreeFlags&10256)!==0)),i&2048&&Vv(a,e);break;case 24:mr(t,e,n,r),i&2048&&jv(e.alternate,e);break;default:mr(t,e,n,r)}}function Ja(t,e,n,r,i){for(i=i&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var s=t,a=e,o=n,l=r,u=a.flags;switch(a.tag){case 0:case 11:case 15:Ja(s,a,o,l,i),Mu(8,a);break;case 23:break;case 22:var d=a.stateNode;a.memoizedState!==null?d._visibility&2?Ja(s,a,o,l,i):Rc(s,a):(d._visibility|=2,Ja(s,a,o,l,i)),i&&u&2048&&Vv(a.alternate,a);break;case 24:Ja(s,a,o,l,i),i&&u&2048&&jv(a.alternate,a);break;default:Ja(s,a,o,l,i)}e=e.sibling}}function Rc(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:Rc(n,r),i&2048&&Vv(r.alternate,r);break;case 24:Rc(n,r),i&2048&&jv(r.alternate,r);break;default:Rc(n,r)}e=e.sibling}}var oc=8192;function $a(t){if(t.subtreeFlags&oc)for(t=t.child;t!==null;)O1(t),t=t.sibling}function O1(t){switch(t.tag){case 26:$a(t),t.flags&oc&&t.memoizedState!==null&&vP(sr,t.memoizedState,t.memoizedProps);break;case 5:$a(t);break;case 3:case 4:var e=sr;sr=Kf(t.stateNode.containerInfo),$a(t),sr=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=oc,oc=16777216,$a(t),oc=e):$a(t));break;default:$a(t)}}function P1(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Jl(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];Mt=r,V1(r,t)}P1(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)k1(t),t=t.sibling}function k1(t){switch(t.tag){case 0:case 11:case 15:Jl(t),t.flags&2048&&Ts(9,t,t.return);break;case 3:Jl(t);break;case 12:Jl(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,ef(t)):Jl(t);break;default:Jl(t)}}function ef(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];Mt=r,V1(r,t)}P1(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Ts(8,e,e.return),ef(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,ef(e));break;default:ef(e)}t=t.sibling}}function V1(t,e){for(;Mt!==null;){var n=Mt;switch(n.tag){case 0:case 11:case 15:Ts(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Ru(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,Mt=r;else e:for(n=t;Mt!==null;){r=Mt;var i=r.sibling,s=r.return;if(R1(r),r===n){Mt=null;break e}if(i!==null){i.return=s,Mt=i;break e}Mt=s}}}var PO={getCacheForType:function(t){var e=tn(xt),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},kO=typeof WeakMap=="function"?WeakMap:Map,Ue=0,Ke=null,be=null,Ie=0,Le=0,An=null,is=!1,_l=!1,Lv=!1,fi=0,ut=0,xs=0,da=0,Uv=0,$n=0,Jo=0,Cc=null,gn=null,Vg=!1,zv=0,Bf=1/0,Ff=null,ds=null,Bt=0,fs=null,el=null,Ao=0,jg=0,Lg=null,j1=null,Ic=0,Ug=null;function Dn(){if(Ue&2&&Ie!==0)return Ie&-Ie;if(ie.T!==null){var t=Yo;return t!==0?t:Fv()}return Qx()}function L1(){$n===0&&($n=!(Ie&536870912)||Pe?qx():536870912);var t=Qn.current;return t!==null&&(t.flags|=32),$n}function On(t,e,n){(t===Ke&&(Le===2||Le===9)||t.cancelPendingCommit!==null)&&(tl(t,0),ss(t,Ie,$n,!1)),Eu(t,n),(!(Ue&2)||t!==Ke)&&(t===Ke&&(!(Ue&2)&&(da|=n),ut===4&&ss(t,Ie,$n,!1)),Lr(t))}function U1(t,e,n){if(Ue&6)throw Error(H(327));var r=!n&&(e&124)===0&&(e&t.expiredLanes)===0||wu(t,e),i=r?LO(t,e):Ep(t,e,!0),s=r;do{if(i===0){_l&&!r&&ss(t,e,0,!1);break}else{if(n=t.current.alternate,s&&!VO(n)){i=Ep(t,e,!1),s=!1;continue}if(i===2){if(s=e,t.errorRecoveryDisabledLanes&s)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var o=t;i=Cc;var l=o.current.memoizedState.isDehydrated;if(l&&(tl(o,a).flags|=256),a=Ep(o,a,!1),a!==2){if(Lv&&!l){o.errorRecoveryDisabledLanes|=s,da|=s,i=4;break e}s=gn,gn=i,s!==null&&(gn===null?gn=s:gn.push.apply(gn,s))}i=a}if(s=!1,i!==2)continue}}if(i===1){tl(t,0),ss(t,e,0,!0);break}e:{switch(r=t,s=i,s){case 0:case 1:throw Error(H(345));case 4:if((e&4194048)!==e)break;case 6:ss(r,e,$n,!is);break e;case 2:gn=null;break;case 3:case 5:break;default:throw Error(H(329))}if((e&62914560)===e&&(i=zv+300-Sr(),10<i)){if(ss(r,e,$n,!is),Mh(r,0,!0)!==0)break e;r.timeoutHandle=iA(fw.bind(null,r,n,gn,Ff,Vg,e,$n,da,Jo,is,s,2,-0,0),i);break e}fw(r,n,gn,Ff,Vg,e,$n,da,Jo,is,s,0,-0,0)}}break}while(!0);Lr(t)}function fw(t,e,n,r,i,s,a,o,l,u,d,f,m,h){if(t.timeoutHandle=-1,f=e.subtreeFlags,(f&8192||(f&16785408)===16785408)&&(Yc={stylesheets:null,count:0,unsuspend:yP},O1(e),f=_P(),f!==null)){t.cancelPendingCommit=f(mw.bind(null,t,e,s,n,r,i,a,o,l,d,1,m,h)),ss(t,s,a,!u);return}mw(t,e,s,n,r,i,a,o,l)}function VO(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!kn(s(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ss(t,e,n,r){e&=~Uv,e&=~da,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var s=31-Mn(i),a=1<<s;r[s]=-1,i&=~a}n!==0&&$x(t,n,e)}function Bh(){return Ue&6?!0:(Du(0),!1)}function Bv(){if(be!==null){if(Le===0)var t=be.return;else t=be,ni=Ma=null,Rv(t),So=null,$c=0,t=be;for(;t!==null;)b1(t.alternate,t),t=t.return;be=null}}function tl(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,eP(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Bv(),Ke=t,be=n=ai(t.current,null),Ie=e,Le=0,An=null,is=!1,_l=wu(t,e),Lv=!1,Jo=$n=Uv=da=xs=ut=0,gn=Cc=null,Vg=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-Mn(r),s=1<<i;e|=t[i],r&=~s}return fi=e,kh(),n}function z1(t,e){ye=null,ie.H=kf,e===Cu||e===jh?(e=qb(),Le=3):e===xS?(e=qb(),Le=4):Le=e===m1?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,An=e,be===null&&(ut=1,Lf(t,Hn(e,t.current)))}function B1(){var t=ie.H;return ie.H=kf,t===null?kf:t}function F1(){var t=ie.A;return ie.A=PO,t}function zg(){ut=4,is||(Ie&4194048)!==Ie&&Qn.current!==null||(_l=!0),!(xs&134217727)&&!(da&134217727)||Ke===null||ss(Ke,Ie,$n,!1)}function Ep(t,e,n){var r=Ue;Ue|=2;var i=B1(),s=F1();(Ke!==t||Ie!==e)&&(Ff=null,tl(t,e)),e=!1;var a=ut;e:do try{if(Le!==0&&be!==null){var o=be,l=An;switch(Le){case 8:Bv(),a=6;break e;case 3:case 2:case 9:case 6:Qn.current===null&&(e=!0);var u=Le;if(Le=0,An=null,yo(t,o,l,u),n&&_l){a=0;break e}break;default:u=Le,Le=0,An=null,yo(t,o,l,u)}}jO(),a=ut;break}catch(d){z1(t,d)}while(!0);return e&&t.shellSuspendCounter++,ni=Ma=null,Ue=r,ie.H=i,ie.A=s,be===null&&(Ke=null,Ie=0,kh()),a}function jO(){for(;be!==null;)H1(be)}function LO(t,e){var n=Ue;Ue|=2;var r=B1(),i=F1();Ke!==t||Ie!==e?(Ff=null,Bf=Sr()+500,tl(t,e)):_l=wu(t,e);e:do try{if(Le!==0&&be!==null){e=be;var s=An;t:switch(Le){case 1:Le=0,An=null,yo(t,e,s,1);break;case 2:case 9:if(Hb(s)){Le=0,An=null,hw(e);break}e=function(){Le!==2&&Le!==9||Ke!==t||(Le=7),Lr(t)},s.then(e,e);break e;case 3:Le=7;break e;case 4:Le=5;break e;case 7:Hb(s)?(Le=0,An=null,hw(e)):(Le=0,An=null,yo(t,e,s,7));break;case 5:var a=null;switch(be.tag){case 26:a=be.memoizedState;case 5:case 27:var o=be;if(!a||lA(a)){Le=0,An=null;var l=o.sibling;if(l!==null)be=l;else{var u=o.return;u!==null?(be=u,Fh(u)):be=null}break t}}Le=0,An=null,yo(t,e,s,5);break;case 6:Le=0,An=null,yo(t,e,s,6);break;case 8:Bv(),ut=6;break e;default:throw Error(H(462))}}UO();break}catch(d){z1(t,d)}while(!0);return ni=Ma=null,ie.H=r,ie.A=i,Ue=n,be!==null?0:(Ke=null,Ie=0,kh(),ut)}function UO(){for(;be!==null&&!oD();)H1(be)}function H1(t){var e=_1(t.alternate,t,fi);t.memoizedProps=t.pendingProps,e===null?Fh(t):be=e}function hw(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=aw(n,e,e.pendingProps,e.type,void 0,Ie);break;case 11:e=aw(n,e,e.pendingProps,e.type.render,e.ref,Ie);break;case 5:Rv(e);default:b1(n,e),e=be=bS(e,fi),e=_1(n,e,fi)}t.memoizedProps=t.pendingProps,e===null?Fh(t):be=e}function yo(t,e,n,r){ni=Ma=null,Rv(e),So=null,$c=0;var i=e.return;try{if(CO(t,i,e,n,Ie)){ut=1,Lf(t,Hn(n,t.current)),be=null;return}}catch(s){if(i!==null)throw be=i,s;ut=1,Lf(t,Hn(n,t.current)),be=null;return}e.flags&32768?(Pe||r===1?t=!0:_l||Ie&536870912?t=!1:(is=t=!0,(r===2||r===9||r===3||r===6)&&(r=Qn.current,r!==null&&r.tag===13&&(r.flags|=16384))),q1(e,t)):Fh(e)}function Fh(t){var e=t;do{if(e.flags&32768){q1(e,is);return}t=e.return;var n=NO(e.alternate,e,fi);if(n!==null){be=n;return}if(e=e.sibling,e!==null){be=e;return}be=e=t}while(e!==null);ut===0&&(ut=5)}function q1(t,e){do{var n=MO(t.alternate,t);if(n!==null){n.flags&=32767,be=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){be=t;return}be=t=n}while(t!==null);ut=6,be=null}function mw(t,e,n,r,i,s,a,o,l){t.cancelPendingCommit=null;do Hh();while(Bt!==0);if(Ue&6)throw Error(H(327));if(e!==null){if(e===t.current)throw Error(H(177));if(s=e.lanes|e.childLanes,s|=mv,yD(t,n,s,a,o,l),t===Ke&&(be=Ke=null,Ie=0),el=e,fs=t,Ao=n,jg=s,Lg=i,j1=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,HO(Sf,function(){return Y1(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=ie.T,ie.T=null,i=ke.p,ke.p=2,a=Ue,Ue|=4;try{DO(t,e,n)}finally{Ue=a,ke.p=i,ie.T=r}}Bt=1,G1(),$1(),K1()}}function G1(){if(Bt===1){Bt=0;var t=fs,e=el,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=ie.T,ie.T=null;var r=ke.p;ke.p=2;var i=Ue;Ue|=4;try{N1(e,t);var s=qg,a=fS(t.containerInfo),o=s.focusedElem,l=s.selectionRange;if(a!==o&&o&&o.ownerDocument&&dS(o.ownerDocument.documentElement,o)){if(l!==null&&hv(o)){var u=l.start,d=l.end;if(d===void 0&&(d=u),"selectionStart"in o)o.selectionStart=u,o.selectionEnd=Math.min(d,o.value.length);else{var f=o.ownerDocument||document,m=f&&f.defaultView||window;if(m.getSelection){var h=m.getSelection(),x=o.textContent.length,y=Math.min(l.start,x),E=l.end===void 0?y:Math.min(l.end,x);!h.extend&&y>E&&(a=E,E=y,y=a);var _=kb(o,y),b=kb(o,E);if(_&&b&&(h.rangeCount!==1||h.anchorNode!==_.node||h.anchorOffset!==_.offset||h.focusNode!==b.node||h.focusOffset!==b.offset)){var T=f.createRange();T.setStart(_.node,_.offset),h.removeAllRanges(),y>E?(h.addRange(T),h.extend(b.node,b.offset)):(T.setEnd(b.node,b.offset),h.addRange(T))}}}}for(f=[],h=o;h=h.parentNode;)h.nodeType===1&&f.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<f.length;o++){var N=f[o];N.element.scrollLeft=N.left,N.element.scrollTop=N.top}}Xf=!!Hg,qg=Hg=null}finally{Ue=i,ke.p=r,ie.T=n}}t.current=e,Bt=2}}function $1(){if(Bt===2){Bt=0;var t=fs,e=el,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=ie.T,ie.T=null;var r=ke.p;ke.p=2;var i=Ue;Ue|=4;try{A1(t,e.alternate,e)}finally{Ue=i,ke.p=r,ie.T=n}}Bt=3}}function K1(){if(Bt===4||Bt===3){Bt=0,lD();var t=fs,e=el,n=Ao,r=j1;e.subtreeFlags&10256||e.flags&10256?Bt=5:(Bt=0,el=fs=null,Q1(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(ds=null),av(n),e=e.stateNode,Nn&&typeof Nn.onCommitFiberRoot=="function")try{Nn.onCommitFiberRoot(bu,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=ie.T,i=ke.p,ke.p=2,ie.T=null;try{for(var s=t.onRecoverableError,a=0;a<r.length;a++){var o=r[a];s(o.value,{componentStack:o.stack})}}finally{ie.T=e,ke.p=i}}Ao&3&&Hh(),Lr(t),i=t.pendingLanes,n&4194090&&i&42?t===Ug?Ic++:(Ic=0,Ug=t):Ic=0,Du(0)}}function Q1(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Ru(e)))}function Hh(t){return G1(),$1(),K1(),Y1()}function Y1(){if(Bt!==5)return!1;var t=fs,e=jg;jg=0;var n=av(Ao),r=ie.T,i=ke.p;try{ke.p=32>n?32:n,ie.T=null,n=Lg,Lg=null;var s=fs,a=Ao;if(Bt=0,el=fs=null,Ao=0,Ue&6)throw Error(H(331));var o=Ue;if(Ue|=4,k1(s.current),D1(s,s.current,a,n),Ue=o,Du(0,!1),Nn&&typeof Nn.onPostCommitFiberRoot=="function")try{Nn.onPostCommitFiberRoot(bu,s)}catch{}return!0}finally{ke.p=i,ie.T=r,Q1(t,e)}}function pw(t,e,n){e=Hn(n,e),e=Dg(t.stateNode,e,2),t=us(t,e,2),t!==null&&(Eu(t,2),Lr(t))}function qe(t,e,n){if(t.tag===3)pw(t,t,n);else for(;e!==null;){if(e.tag===3){pw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ds===null||!ds.has(r))){t=Hn(n,t),n=f1(2),r=us(e,n,2),r!==null&&(h1(n,r,e,t),Eu(r,2),Lr(r));break}}e=e.return}}function Tp(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new kO;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(Lv=!0,i.add(n),t=zO.bind(null,t,e,n),e.then(t,t))}function zO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Ke===t&&(Ie&n)===n&&(ut===4||ut===3&&(Ie&62914560)===Ie&&300>Sr()-zv?!(Ue&2)&&tl(t,0):Uv|=n,Jo===Ie&&(Jo=0)),Lr(t)}function X1(t,e){e===0&&(e=Gx()),t=vl(t,e),t!==null&&(Eu(t,e),Lr(t))}function BO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),X1(t,n)}function FO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(H(314))}r!==null&&r.delete(e),X1(t,n)}function HO(t,e){return iv(t,e)}var Hf=null,eo=null,Bg=!1,qf=!1,xp=!1,fa=0;function Lr(t){t!==eo&&t.next===null&&(eo===null?Hf=eo=t:eo=eo.next=t),qf=!0,Bg||(Bg=!0,GO())}function Du(t,e){if(!xp&&qf){xp=!0;do for(var n=!1,r=Hf;r!==null;){if(t!==0){var i=r.pendingLanes;if(i===0)var s=0;else{var a=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-Mn(42|t)+1)-1,s&=i&~(a&~o),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,gw(r,s))}else s=Ie,s=Mh(r,r===Ke?s:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(s&3)||wu(r,s)||(n=!0,gw(r,s));r=r.next}while(n);xp=!1}}function qO(){W1()}function W1(){qf=Bg=!1;var t=0;fa!==0&&(JO()&&(t=fa),fa=0);for(var e=Sr(),n=null,r=Hf;r!==null;){var i=r.next,s=Z1(r,e);s===0?(r.next=null,n===null?Hf=i:n.next=i,i===null&&(eo=n)):(n=r,(t!==0||s&3)&&(qf=!0)),r=i}Du(t)}function Z1(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var a=31-Mn(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=gD(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}if(e=Ke,n=Ie,n=Mh(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(Le===2||Le===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Xm(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||wu(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&Xm(r),av(n)){case 2:case 8:n=Fx;break;case 32:n=Sf;break;case 268435456:n=Hx;break;default:n=Sf}return r=J1.bind(null,t),n=iv(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&Xm(r),t.callbackPriority=2,t.callbackNode=null,2}function J1(t,e){if(Bt!==0&&Bt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Hh()&&t.callbackNode!==n)return null;var r=Ie;return r=Mh(t,t===Ke?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(U1(t,r,e),Z1(t,Sr()),t.callbackNode!=null&&t.callbackNode===n?J1.bind(null,t):null)}function gw(t,e){if(Hh())return null;U1(t,e,!0)}function GO(){tP(function(){Ue&6?iv(Bx,qO):W1()})}function Fv(){return fa===0&&(fa=qx()),fa}function yw(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:$d(""+t)}function vw(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function $O(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var s=yw((i[bn]||null).action),a=r.submitter;a&&(e=(e=a[bn]||null)?yw(e.formAction):a.getAttribute("formAction"),e!==null&&(s=e,a=null));var o=new Dh("action","action",null,r,i);t.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(fa!==0){var l=a?vw(i,a):new FormData(i);Ng(n,{pending:!0,data:l,method:i.method,action:s},null,l)}}else typeof s=="function"&&(o.preventDefault(),l=a?vw(i,a):new FormData(i),Ng(n,{pending:!0,data:l,method:i.method,action:s},s,l))},currentTarget:i}]})}}for(var Sp=0;Sp<vg.length;Sp++){var Ap=vg[Sp],KO=Ap.toLowerCase(),QO=Ap[0].toUpperCase()+Ap.slice(1);fr(KO,"on"+QO)}fr(mS,"onAnimationEnd");fr(pS,"onAnimationIteration");fr(gS,"onAnimationStart");fr("dblclick","onDoubleClick");fr("focusin","onFocus");fr("focusout","onBlur");fr(dO,"onTransitionRun");fr(fO,"onTransitionStart");fr(hO,"onTransitionCancel");fr(yS,"onTransitionEnd");Ko("onMouseEnter",["mouseout","mouseover"]);Ko("onMouseLeave",["mouseout","mouseover"]);Ko("onPointerEnter",["pointerout","pointerover"]);Ko("onPointerLeave",["pointerout","pointerover"]);Ca("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ca("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ca("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ca("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ca("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ca("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kc));function eA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=u;try{s(i)}catch(d){jf(d)}i.currentTarget=null,s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=u;try{s(i)}catch(d){jf(d)}i.currentTarget=null,s=l}}}}function _e(t,e){var n=e[dg];n===void 0&&(n=e[dg]=new Set);var r=t+"__bubble";n.has(r)||(tA(e,t,2,!1),n.add(r))}function Rp(t,e,n){var r=0;e&&(r|=4),tA(n,t,r,e)}var Rd="_reactListening"+Math.random().toString(36).slice(2);function Hv(t){if(!t[Rd]){t[Rd]=!0,Yx.forEach(function(n){n!=="selectionchange"&&(YO.has(n)||Rp(n,!1,t),Rp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Rd]||(e[Rd]=!0,Rp("selectionchange",!1,e))}}function tA(t,e,n,r){switch(hA(e)){case 2:var i=EP;break;case 8:i=TP;break;default:i=Kv}n=i.bind(null,e,n,t),i=void 0,!pg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Cp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&a.stateNode.containerInfo===i)return;a=a.return}for(;o!==null;){if(a=oo(o),a===null)return;if(l=a.tag,l===5||l===6||l===26||l===27){r=s=a;continue e}o=o.parentNode}}r=r.return}rS(function(){var u=s,d=cv(n),f=[];e:{var m=vS.get(t);if(m!==void 0){var h=Dh,x=t;switch(t){case"keypress":if(Qd(n)===0)break e;case"keydown":case"keyup":h=HD;break;case"focusin":x="focus",h=ip;break;case"focusout":x="blur",h=ip;break;case"beforeblur":case"afterblur":h=ip;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Sb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=MD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=$D;break;case mS:case pS:case gS:h=PD;break;case yS:h=QD;break;case"scroll":case"scrollend":h=ID;break;case"wheel":h=XD;break;case"copy":case"cut":case"paste":h=VD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Rb;break;case"toggle":case"beforetoggle":h=ZD}var y=(e&4)!==0,E=!y&&(t==="scroll"||t==="scrollend"),_=y?m!==null?m+"Capture":null:m;y=[];for(var b=u,T;b!==null;){var N=b;if(T=N.stateNode,N=N.tag,N!==5&&N!==26&&N!==27||T===null||_===null||(N=Bc(b,_),N!=null&&y.push(Qc(b,N,T))),E)break;b=b.return}0<y.length&&(m=new h(m,x,null,n,d),f.push({event:m,listeners:y}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",m&&n!==mg&&(x=n.relatedTarget||n.fromElement)&&(oo(x)||x[gl]))break e;if((h||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,h?(x=n.relatedTarget||n.toElement,h=u,x=x?oo(x):null,x!==null&&(E=_u(x),y=x.tag,x!==E||y!==5&&y!==27&&y!==6)&&(x=null)):(h=null,x=u),h!==x)){if(y=Sb,N="onMouseLeave",_="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(y=Rb,N="onPointerLeave",_="onPointerEnter",b="pointer"),E=h==null?m:ac(h),T=x==null?m:ac(x),m=new y(N,b+"leave",h,n,d),m.target=E,m.relatedTarget=T,N=null,oo(d)===u&&(y=new y(_,b+"enter",x,n,d),y.target=T,y.relatedTarget=E,N=y),E=N,h&&x)t:{for(y=h,_=x,b=0,T=y;T;T=Ka(T))b++;for(T=0,N=_;N;N=Ka(N))T++;for(;0<b-T;)y=Ka(y),b--;for(;0<T-b;)_=Ka(_),T--;for(;b--;){if(y===_||_!==null&&y===_.alternate)break t;y=Ka(y),_=Ka(_)}y=null}else y=null;h!==null&&_w(f,m,h,y,!1),x!==null&&E!==null&&_w(f,E,x,y,!0)}}e:{if(m=u?ac(u):window,h=m.nodeName&&m.nodeName.toLowerCase(),h==="select"||h==="input"&&m.type==="file")var P=Mb;else if(Nb(m))if(cS)P=lO;else{P=aO;var V=sO}else h=m.nodeName,!h||h.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?u&&lv(u.elementType)&&(P=Mb):P=oO;if(P&&(P=P(t,u))){lS(f,P,n,d);break e}V&&V(t,m,u),t==="focusout"&&u&&m.type==="number"&&u.memoizedProps.value!=null&&hg(m,"number",m.value)}switch(V=u?ac(u):window,t){case"focusin":(Nb(V)||V.contentEditable==="true")&&(uo=V,gg=u,_c=null);break;case"focusout":_c=gg=uo=null;break;case"mousedown":yg=!0;break;case"contextmenu":case"mouseup":case"dragend":yg=!1,Vb(f,n,d);break;case"selectionchange":if(uO)break;case"keydown":case"keyup":Vb(f,n,d)}var A;if(fv)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else co?aS(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(sS&&n.locale!=="ko"&&(co||S!=="onCompositionStart"?S==="onCompositionEnd"&&co&&(A=iS()):(rs=d,uv="value"in rs?rs.value:rs.textContent,co=!0)),V=Gf(u,S),0<V.length&&(S=new Ab(S,t,null,n,d),f.push({event:S,listeners:V}),A?S.data=A:(A=oS(n),A!==null&&(S.data=A)))),(A=eO?tO(t,n):nO(t,n))&&(S=Gf(u,"onBeforeInput"),0<S.length&&(V=new Ab("onBeforeInput","beforeinput",null,n,d),f.push({event:V,listeners:S}),V.data=A)),$O(f,t,u,n,d)}eA(f,e)})}function Qc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Gf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||s===null||(i=Bc(t,n),i!=null&&r.unshift(Qc(t,i,s)),i=Bc(t,e),i!=null&&r.push(Qc(t,i,s))),t.tag===3)return r;t=t.return}return[]}function Ka(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function _w(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(o=o.tag,l!==null&&l===r)break;o!==5&&o!==26&&o!==27||u===null||(l=u,i?(u=Bc(n,s),u!=null&&a.unshift(Qc(n,u,l))):i||(u=Bc(n,s),u!=null&&a.push(Qc(n,u,l)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var XO=/\r\n?/g,WO=/\u0000|\uFFFD/g;function bw(t){return(typeof t=="string"?t:""+t).replace(XO,`
`).replace(WO,"")}function nA(t,e){return e=bw(e),bw(t)===e}function qh(){}function ze(t,e,n,r,i,s){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||Qo(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&Qo(t,""+r);break;case"className":bd(t,"class",r);break;case"tabIndex":bd(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":bd(t,n,r);break;case"style":nS(t,r,s);break;case"data":if(e!=="object"){bd(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=$d(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&ze(t,e,"name",i.name,i,null),ze(t,e,"formEncType",i.formEncType,i,null),ze(t,e,"formMethod",i.formMethod,i,null),ze(t,e,"formTarget",i.formTarget,i,null)):(ze(t,e,"encType",i.encType,i,null),ze(t,e,"method",i.method,i,null),ze(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=$d(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=qh);break;case"onScroll":r!=null&&_e("scroll",t);break;case"onScrollEnd":r!=null&&_e("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(H(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(H(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=$d(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":_e("beforetoggle",t),_e("toggle",t),Gd(t,"popover",r);break;case"xlinkActuate":$r(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":$r(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":$r(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":$r(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":$r(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":$r(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":$r(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":$r(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":$r(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Gd(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=RD.get(n)||n,Gd(t,n,r))}}function Fg(t,e,n,r,i,s){switch(n){case"style":nS(t,r,s);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(H(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(H(60));t.innerHTML=n}}break;case"children":typeof r=="string"?Qo(t,r):(typeof r=="number"||typeof r=="bigint")&&Qo(t,""+r);break;case"onScroll":r!=null&&_e("scroll",t);break;case"onScrollEnd":r!=null&&_e("scrollend",t);break;case"onClick":r!=null&&(t.onclick=qh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xx.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),s=t[bn]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,i),typeof r=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):Gd(t,n,r)}}}function Ht(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",t),_e("load",t);var r=!1,i=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(H(137,e));default:ze(t,e,s,a,n,null)}}i&&ze(t,e,"srcSet",n.srcSet,n,null),r&&ze(t,e,"src",n.src,n,null);return;case"input":_e("invalid",t);var o=s=a=i=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case"name":i=d;break;case"type":a=d;break;case"checked":l=d;break;case"defaultChecked":u=d;break;case"value":s=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(H(137,e));break;default:ze(t,e,r,d,n,null)}}Jx(t,s,o,l,u,a,i,!1),Af(t);return;case"select":_e("invalid",t),r=a=s=null;for(i in n)if(n.hasOwnProperty(i)&&(o=n[i],o!=null))switch(i){case"value":s=o;break;case"defaultValue":a=o;break;case"multiple":r=o;default:ze(t,e,i,o,n,null)}e=s,n=a,t.multiple=!!r,e!=null?bo(t,!!r,e,!1):n!=null&&bo(t,!!r,n,!0);return;case"textarea":_e("invalid",t),s=i=r=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":r=o;break;case"defaultValue":i=o;break;case"children":s=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(H(91));break;default:ze(t,e,a,o,n,null)}tS(t,r,i,s),Af(t);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:ze(t,e,l,r,n,null)}return;case"dialog":_e("beforetoggle",t),_e("toggle",t),_e("cancel",t),_e("close",t);break;case"iframe":case"object":_e("load",t);break;case"video":case"audio":for(r=0;r<Kc.length;r++)_e(Kc[r],t);break;case"image":_e("error",t),_e("load",t);break;case"details":_e("toggle",t);break;case"embed":case"source":case"link":_e("error",t),_e("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(H(137,e));default:ze(t,e,u,r,n,null)}return;default:if(lv(e)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&Fg(t,e,d,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(r=n[o],r!=null&&ze(t,e,o,r,n,null))}function ZO(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,a=null,o=null,l=null,u=null,d=null;for(h in n){var f=n[h];if(n.hasOwnProperty(h)&&f!=null)switch(h){case"checked":break;case"value":break;case"defaultValue":l=f;default:r.hasOwnProperty(h)||ze(t,e,h,null,r,f)}}for(var m in r){var h=r[m];if(f=n[m],r.hasOwnProperty(m)&&(h!=null||f!=null))switch(m){case"type":s=h;break;case"name":i=h;break;case"checked":u=h;break;case"defaultChecked":d=h;break;case"value":a=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(H(137,e));break;default:h!==f&&ze(t,e,m,h,r,f)}}fg(t,a,o,l,u,d,s,i);return;case"select":h=a=o=m=null;for(s in n)if(l=n[s],n.hasOwnProperty(s)&&l!=null)switch(s){case"value":break;case"multiple":h=l;default:r.hasOwnProperty(s)||ze(t,e,s,null,r,l)}for(i in r)if(s=r[i],l=n[i],r.hasOwnProperty(i)&&(s!=null||l!=null))switch(i){case"value":m=s;break;case"defaultValue":o=s;break;case"multiple":a=s;default:s!==l&&ze(t,e,i,s,r,l)}e=o,n=a,r=h,m!=null?bo(t,!!n,m,!1):!!r!=!!n&&(e!=null?bo(t,!!n,e,!0):bo(t,!!n,n?[]:"",!1));return;case"textarea":h=m=null;for(o in n)if(i=n[o],n.hasOwnProperty(o)&&i!=null&&!r.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:ze(t,e,o,null,r,i)}for(a in r)if(i=r[a],s=n[a],r.hasOwnProperty(a)&&(i!=null||s!=null))switch(a){case"value":m=i;break;case"defaultValue":h=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(H(91));break;default:i!==s&&ze(t,e,a,i,r,s)}eS(t,m,h);return;case"option":for(var x in n)if(m=n[x],n.hasOwnProperty(x)&&m!=null&&!r.hasOwnProperty(x))switch(x){case"selected":t.selected=!1;break;default:ze(t,e,x,null,r,m)}for(l in r)if(m=r[l],h=n[l],r.hasOwnProperty(l)&&m!==h&&(m!=null||h!=null))switch(l){case"selected":t.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:ze(t,e,l,m,r,h)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var y in n)m=n[y],n.hasOwnProperty(y)&&m!=null&&!r.hasOwnProperty(y)&&ze(t,e,y,null,r,m);for(u in r)if(m=r[u],h=n[u],r.hasOwnProperty(u)&&m!==h&&(m!=null||h!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(H(137,e));break;default:ze(t,e,u,m,r,h)}return;default:if(lv(e)){for(var E in n)m=n[E],n.hasOwnProperty(E)&&m!==void 0&&!r.hasOwnProperty(E)&&Fg(t,e,E,void 0,r,m);for(d in r)m=r[d],h=n[d],!r.hasOwnProperty(d)||m===h||m===void 0&&h===void 0||Fg(t,e,d,m,r,h);return}}for(var _ in n)m=n[_],n.hasOwnProperty(_)&&m!=null&&!r.hasOwnProperty(_)&&ze(t,e,_,null,r,m);for(f in r)m=r[f],h=n[f],!r.hasOwnProperty(f)||m===h||m==null&&h==null||ze(t,e,f,m,r,h)}var Hg=null,qg=null;function $f(t){return t.nodeType===9?t:t.ownerDocument}function ww(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rA(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Gg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ip=null;function JO(){var t=window.event;return t&&t.type==="popstate"?t===Ip?!1:(Ip=t,!0):(Ip=null,!1)}var iA=typeof setTimeout=="function"?setTimeout:void 0,eP=typeof clearTimeout=="function"?clearTimeout:void 0,Ew=typeof Promise=="function"?Promise:void 0,tP=typeof queueMicrotask=="function"?queueMicrotask:typeof Ew<"u"?function(t){return Ew.resolve(null).then(t).catch(nP)}:iA;function nP(t){setTimeout(function(){throw t})}function Ps(t){return t==="head"}function Tw(t,e){var n=e,r=0,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(0<r&&8>r){n=r;var a=t.ownerDocument;if(n&1&&Nc(a.documentElement),n&2&&Nc(a.body),n&4)for(n=a.head,Nc(n),a=n.firstChild;a;){var o=a.nextSibling,l=a.nodeName;a[Tu]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=o}}if(i===0){t.removeChild(s),Jc(e);return}i--}else n==="$"||n==="$?"||n==="$!"?i++:r=n.charCodeAt(0)-48;else r=0;n=s}while(n);Jc(e)}function $g(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":$g(n),ov(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function rP(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Tu])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=or(t.nextSibling),t===null)break}return null}function iP(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=or(t.nextSibling),t===null))return null;return t}function Kg(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function sP(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function or(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var Qg=null;function xw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function sA(t,e,n){switch(e=$f(n),t){case"html":if(t=e.documentElement,!t)throw Error(H(452));return t;case"head":if(t=e.head,!t)throw Error(H(453));return t;case"body":if(t=e.body,!t)throw Error(H(454));return t;default:throw Error(H(451))}}function Nc(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);ov(t)}var Yn=new Map,Sw=new Set;function Kf(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var wi=ke.d;ke.d={f:aP,r:oP,D:lP,C:cP,L:uP,m:dP,X:hP,S:fP,M:mP};function aP(){var t=wi.f(),e=Bh();return t||e}function oP(t){var e=yl(t);e!==null&&e.tag===5&&e.type==="form"?ZS(e):wi.r(t)}var bl=typeof document>"u"?null:document;function aA(t,e,n){var r=bl;if(r&&typeof e=="string"&&e){var i=Fn(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),Sw.has(i)||(Sw.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),Ht(e,"link",t),Ot(e),r.head.appendChild(e)))}}function lP(t){wi.D(t),aA("dns-prefetch",t,null)}function cP(t,e){wi.C(t,e),aA("preconnect",t,e)}function uP(t,e,n){wi.L(t,e,n);var r=bl;if(r&&t&&e){var i='link[rel="preload"][as="'+Fn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Fn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Fn(n.imageSizes)+'"]')):i+='[href="'+Fn(t)+'"]';var s=i;switch(e){case"style":s=nl(t);break;case"script":s=wl(t)}Yn.has(s)||(t=Ze({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Yn.set(s,t),r.querySelector(i)!==null||e==="style"&&r.querySelector(Ou(s))||e==="script"&&r.querySelector(Pu(s))||(e=r.createElement("link"),Ht(e,"link",t),Ot(e),r.head.appendChild(e)))}}function dP(t,e){wi.m(t,e);var n=bl;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+Fn(r)+'"][href="'+Fn(t)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=wl(t)}if(!Yn.has(s)&&(t=Ze({rel:"modulepreload",href:t},e),Yn.set(s,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Pu(s)))return}r=n.createElement("link"),Ht(r,"link",t),Ot(r),n.head.appendChild(r)}}}function fP(t,e,n){wi.S(t,e,n);var r=bl;if(r&&t){var i=_o(r).hoistableStyles,s=nl(t);e=e||"default";var a=i.get(s);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(Ou(s)))o.loading=5;else{t=Ze({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Yn.get(s))&&qv(t,n);var l=a=r.createElement("link");Ot(l),Ht(l,"link",t),l._p=new Promise(function(u,d){l.onload=u,l.onerror=d}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,tf(a,e,r)}a={type:"stylesheet",instance:a,count:1,state:o},i.set(s,a)}}}function hP(t,e){wi.X(t,e);var n=bl;if(n&&t){var r=_o(n).hoistableScripts,i=wl(t),s=r.get(i);s||(s=n.querySelector(Pu(i)),s||(t=Ze({src:t,async:!0},e),(e=Yn.get(i))&&Gv(t,e),s=n.createElement("script"),Ot(s),Ht(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}function mP(t,e){wi.M(t,e);var n=bl;if(n&&t){var r=_o(n).hoistableScripts,i=wl(t),s=r.get(i);s||(s=n.querySelector(Pu(i)),s||(t=Ze({src:t,async:!0,type:"module"},e),(e=Yn.get(i))&&Gv(t,e),s=n.createElement("script"),Ot(s),Ht(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}function Aw(t,e,n,r){var i=(i=ls.current)?Kf(i):null;if(!i)throw Error(H(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=nl(n.href),n=_o(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=nl(n.href);var s=_o(i).hoistableStyles,a=s.get(t);if(a||(i=i.ownerDocument||i,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,a),(s=i.querySelector(Ou(t)))&&!s._p&&(a.instance=s,a.state.loading=5),Yn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Yn.set(t,n),s||pP(i,t,n,a.state))),e&&r===null)throw Error(H(528,""));return a}if(e&&r!==null)throw Error(H(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=wl(n),n=_o(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(H(444,t))}}function nl(t){return'href="'+Fn(t)+'"'}function Ou(t){return'link[rel="stylesheet"]['+t+"]"}function oA(t){return Ze({},t,{"data-precedence":t.precedence,precedence:null})}function pP(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Ht(e,"link",n),Ot(e),t.head.appendChild(e))}function wl(t){return'[src="'+Fn(t)+'"]'}function Pu(t){return"script[async]"+t}function Rw(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+Fn(n.href)+'"]');if(r)return e.instance=r,Ot(r),r;var i=Ze({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),Ot(r),Ht(r,"style",i),tf(r,n.precedence,t),e.instance=r;case"stylesheet":i=nl(n.href);var s=t.querySelector(Ou(i));if(s)return e.state.loading|=4,e.instance=s,Ot(s),s;r=oA(n),(i=Yn.get(i))&&qv(r,i),s=(t.ownerDocument||t).createElement("link"),Ot(s);var a=s;return a._p=new Promise(function(o,l){a.onload=o,a.onerror=l}),Ht(s,"link",r),e.state.loading|=4,tf(s,n.precedence,t),e.instance=s;case"script":return s=wl(n.src),(i=t.querySelector(Pu(s)))?(e.instance=i,Ot(i),i):(r=n,(i=Yn.get(s))&&(r=Ze({},n),Gv(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),Ot(i),Ht(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(H(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,tf(r,n.precedence,t));return e.instance}function tf(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===e)s=o;else if(s!==i)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function qv(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Gv(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var nf=null;function Cw(t,e,n){if(nf===null){var r=new Map,i=nf=new Map;i.set(n,r)}else i=nf,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var s=n[i];if(!(s[Tu]||s[en]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(e)||"";a=t+a;var o=r.get(a);o?o.push(s):r.set(a,[s])}}return r}function Iw(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function gP(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function lA(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Yc=null;function yP(){}function vP(t,e,n){if(Yc===null)throw Error(H(475));var r=Yc;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var i=nl(n.href),s=t.querySelector(Ou(i));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=Qf.bind(r),t.then(r,r)),e.state.loading|=4,e.instance=s,Ot(s);return}s=t.ownerDocument||t,n=oA(n),(i=Yn.get(i))&&qv(n,i),s=s.createElement("link"),Ot(s);var a=s;a._p=new Promise(function(o,l){a.onload=o,a.onerror=l}),Ht(s,"link",n),e.instance=s}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(r.count++,e=Qf.bind(r),t.addEventListener("load",e),t.addEventListener("error",e))}}function _P(){if(Yc===null)throw Error(H(475));var t=Yc;return t.stylesheets&&t.count===0&&Yg(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&Yg(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function Qf(){if(this.count--,this.count===0){if(this.stylesheets)Yg(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Yf=null;function Yg(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Yf=new Map,e.forEach(bP,t),Yf=null,Qf.call(t))}function bP(t,e){if(!(e.state.loading&4)){var n=Yf.get(t);if(n)var r=n.get(null);else{n=new Map,Yf.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var a=i[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}i=e.instance,a=i.getAttribute("data-precedence"),s=n.get(a)||r,s===r&&n.set(null,i),n.set(a,i),this.count++,r=Qf.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var Xc={$$typeof:Jr,Provider:null,Consumer:null,_currentValue:aa,_currentValue2:aa,_threadCount:0};function wP(t,e,n,r,i,s,a,o){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wm(0),this.hiddenUpdates=Wm(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function cA(t,e,n,r,i,s,a,o,l,u,d,f){return t=new wP(t,e,n,a,o,l,u,f),e=1,s===!0&&(e|=24),s=Cn(3,null,null,e),t.current=s,s.stateNode=t,e=_v(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:e},wv(s),t}function uA(t){return t?(t=mo,t):mo}function dA(t,e,n,r,i,s){i=uA(i),r.context===null?r.context=i:r.pendingContext=i,r=cs(e),r.payload={element:n},s=s===void 0?null:s,s!==null&&(r.callback=s),n=us(t,r,e),n!==null&&(On(n,t,e),Ec(n,t,e))}function Nw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function $v(t,e){Nw(t,e),(t=t.alternate)&&Nw(t,e)}function fA(t){if(t.tag===13){var e=vl(t,67108864);e!==null&&On(e,t,67108864),$v(t,67108864)}}var Xf=!0;function EP(t,e,n,r){var i=ie.T;ie.T=null;var s=ke.p;try{ke.p=2,Kv(t,e,n,r)}finally{ke.p=s,ie.T=i}}function TP(t,e,n,r){var i=ie.T;ie.T=null;var s=ke.p;try{ke.p=8,Kv(t,e,n,r)}finally{ke.p=s,ie.T=i}}function Kv(t,e,n,r){if(Xf){var i=Xg(r);if(i===null)Cp(t,e,r,Wf,n),Mw(t,r);else if(SP(i,t,e,n,r))r.stopPropagation();else if(Mw(t,r),e&4&&-1<xP.indexOf(t)){for(;i!==null;){var s=yl(i);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=Ks(s.pendingLanes);if(a!==0){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-Mn(a);o.entanglements[1]|=l,a&=~l}Lr(s),!(Ue&6)&&(Bf=Sr()+500,Du(0))}}break;case 13:o=vl(s,2),o!==null&&On(o,s,2),Bh(),$v(s,2)}if(s=Xg(r),s===null&&Cp(t,e,r,Wf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Cp(t,e,r,null,n)}}function Xg(t){return t=cv(t),Qv(t)}var Wf=null;function Qv(t){if(Wf=null,t=oo(t),t!==null){var e=_u(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=jx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Wf=t,null}function hA(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cD()){case Bx:return 2;case Fx:return 8;case Sf:case uD:return 32;case Hx:return 268435456;default:return 32}default:return 32}}var Wg=!1,hs=null,ms=null,ps=null,Wc=new Map,Zc=new Map,$i=[],xP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Mw(t,e){switch(t){case"focusin":case"focusout":hs=null;break;case"dragenter":case"dragleave":ms=null;break;case"mouseover":case"mouseout":ps=null;break;case"pointerover":case"pointerout":Wc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zc.delete(e.pointerId)}}function ec(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=yl(e),e!==null&&fA(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function SP(t,e,n,r,i){switch(e){case"focusin":return hs=ec(hs,t,e,n,r,i),!0;case"dragenter":return ms=ec(ms,t,e,n,r,i),!0;case"mouseover":return ps=ec(ps,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Wc.set(s,ec(Wc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Zc.set(s,ec(Zc.get(s)||null,t,e,n,r,i)),!0}return!1}function mA(t){var e=oo(t.target);if(e!==null){var n=_u(e);if(n!==null){if(e=n.tag,e===13){if(e=jx(n),e!==null){t.blockedOn=e,vD(t.priority,function(){if(n.tag===13){var r=Dn();r=sv(r);var i=vl(n,r);i!==null&&On(i,n,r),$v(n,r)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Xg(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);mg=r,n.target.dispatchEvent(r),mg=null}else return e=yl(n),e!==null&&fA(e),t.blockedOn=n,!1;e.shift()}return!0}function Dw(t,e,n){rf(t)&&n.delete(e)}function AP(){Wg=!1,hs!==null&&rf(hs)&&(hs=null),ms!==null&&rf(ms)&&(ms=null),ps!==null&&rf(ps)&&(ps=null),Wc.forEach(Dw),Zc.forEach(Dw)}function Cd(t,e){t.blockedOn===e&&(t.blockedOn=null,Wg||(Wg=!0,Rt.unstable_scheduleCallback(Rt.unstable_NormalPriority,AP)))}var Id=null;function Ow(t){Id!==t&&(Id=t,Rt.unstable_scheduleCallback(Rt.unstable_NormalPriority,function(){Id===t&&(Id=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(Qv(r||n)===null)continue;break}var s=yl(n);s!==null&&(t.splice(e,3),e-=3,Ng(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Jc(t){function e(l){return Cd(l,t)}hs!==null&&Cd(hs,t),ms!==null&&Cd(ms,t),ps!==null&&Cd(ps,t),Wc.forEach(e),Zc.forEach(e);for(var n=0;n<$i.length;n++){var r=$i[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<$i.length&&(n=$i[0],n.blockedOn===null);)mA(n),n.blockedOn===null&&$i.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],a=i[bn]||null;if(typeof s=="function")a||Ow(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(i=s,a=s[bn]||null)o=a.formAction;else if(Qv(i)!==null)continue}else o=a.action;typeof o=="function"?n[r+1]=o:(n.splice(r,3),r-=3),Ow(n)}}}function Yv(t){this._internalRoot=t}Gh.prototype.render=Yv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));var n=e.current,r=Dn();dA(n,r,t,e,null,null)};Gh.prototype.unmount=Yv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;dA(t.current,2,null,t,null,null),Bh(),e[gl]=null}};function Gh(t){this._internalRoot=t}Gh.prototype.unstable_scheduleHydration=function(t){if(t){var e=Qx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<$i.length&&e!==0&&e<$i[n].priority;n++);$i.splice(n,0,t),n===0&&mA(t)}};var Pw=kx.version;if(Pw!=="19.1.1")throw Error(H(527,Pw,"19.1.1"));ke.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=nD(e),t=t!==null?Lx(t):null,t=t===null?null:t.stateNode,t};var RP={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:ie,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nd.isDisabled&&Nd.supportsFiber)try{bu=Nd.inject(RP),Nn=Nd}catch{}}Ih.createRoot=function(t,e){if(!Vx(t))throw Error(H(299));var n=!1,r="",i=c1,s=u1,a=d1,o=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(o=e.unstable_transitionCallbacks)),e=cA(t,1,!1,null,null,n,r,i,s,a,o,null),t[gl]=e.current,Hv(t),new Yv(e)};Ih.hydrateRoot=function(t,e,n){if(!Vx(t))throw Error(H(299));var r=!1,i="",s=c1,a=u1,o=d1,l=null,u=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(l=n.unstable_transitionCallbacks),n.formState!==void 0&&(u=n.formState)),e=cA(t,1,!0,e,n??null,r,i,s,a,o,l,u),e.context=uA(null),n=e.current,r=Dn(),r=sv(r),i=cs(r),i.callback=null,us(n,i,r),n=r,e.current.lanes=n,Eu(e,n),Lr(e),t[gl]=e.current,Hv(t),new Gh(e)};Ih.version="19.1.1";function pA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pA)}catch(t){console.error(t)}}pA(),wx.exports=Ih;var CP=wx.exports,IP=(t,e,n,r,i,s,a,o)=>{let l=document.documentElement,u=["light","dark"];function d(h){(Array.isArray(t)?t:[t]).forEach(x=>{let y=x==="class",E=y&&s?i.map(_=>s[_]||_):i;y?(l.classList.remove(...E),l.classList.add(s&&s[h]?s[h]:h)):l.setAttribute(x,h)}),f(h)}function f(h){o&&u.includes(h)&&(l.style.colorScheme=h)}function m(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)d(r);else try{let h=localStorage.getItem(e)||n,x=a&&h==="system"?m():h;d(x)}catch{}},NP=w.createContext(void 0),MP={setTheme:t=>{},themes:[]},DP=()=>{var t;return(t=w.useContext(NP))!=null?t:MP};w.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:a,themes:o,nonce:l,scriptProps:u})=>{let d=JSON.stringify([n,e,s,t,o,a,r,i]).slice(1,-1);return w.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${IP.toString()})(${d})`}})});var OP=t=>{switch(t){case"success":return VP;case"info":return LP;case"warning":return jP;case"error":return UP;default:return null}},PP=Array(12).fill(0),kP=({visible:t,className:e})=>$.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},$.createElement("div",{className:"sonner-spinner"},PP.map((n,r)=>$.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),VP=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),jP=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),LP=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),UP=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),zP=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},$.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),$.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),BP=()=>{let[t,e]=$.useState(document.hidden);return $.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Zg=1,FP=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Zg++,a=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...i,dismissible:o,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let i=e instanceof Promise?e:e(),s=r!==void 0,a,o=i.then(async u=>{if(a=["resolve",u],$.isValidElement(u))s=!1,this.create({id:r,type:"default",message:u});else if(qP(u)&&!u.ok){s=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description;this.create({id:r,type:"error",message:d,description:f})}else if(n.success!==void 0){s=!1;let d=typeof n.success=="function"?await n.success(u):n.success,f=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"success",message:d,description:f})}}).catch(async u=>{if(a=["reject",u],n.error!==void 0){s=!1;let d=typeof n.error=="function"?await n.error(u):n.error,f=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"error",message:d,description:f})}}).finally(()=>{var u;s&&(this.dismiss(r),r=void 0),(u=n.finally)==null||u.call(n)}),l=()=>new Promise((u,d)=>o.then(()=>a[0]==="reject"?d(a[1]):u(a[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||Zg++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},yn=new FP,HP=(t,e)=>{let n=(e==null?void 0:e.id)||Zg++;return yn.addToast({title:t,...e,id:n}),n},qP=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",GP=HP,$P=()=>yn.toasts,KP=()=>yn.getActiveToasts();Object.assign(GP,{success:yn.success,info:yn.info,warning:yn.warning,error:yn.error,custom:yn.custom,message:yn.message,promise:yn.promise,dismiss:yn.dismiss,loading:yn.loading},{getHistory:$P,getToasts:KP});function QP(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}QP(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Md(t){return t.label!==void 0}var YP=3,XP="32px",WP="16px",kw=4e3,ZP=356,JP=14,ek=20,tk=200;function er(...t){return t.filter(Boolean).join(" ")}function nk(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var rk=t=>{var e,n,r,i,s,a,o,l,u,d,f;let{invert:m,toast:h,unstyled:x,interacting:y,setHeights:E,visibleToasts:_,heights:b,index:T,toasts:N,expanded:P,removeToast:V,defaultRichColors:A,closeButton:S,style:C,cancelButtonStyle:I,actionButtonStyle:O,className:M="",descriptionClassName:D="",duration:Z,position:le,gap:U,loadingIcon:G,expandByDefault:q,classNames:L,icons:W,closeButtonAriaLabel:fe="Close toast",pauseWhenPageIsHidden:ee}=t,[te,ae]=$.useState(null),[Se,st]=$.useState(null),[Q,Ae]=$.useState(!1),[Re,pe]=$.useState(!1),[ge,we]=$.useState(!1),[pt,$t]=$.useState(!1),[Xn,Wn]=$.useState(!1),[zr,Us]=$.useState(0),[Br,La]=$.useState(0),xi=$.useRef(h.duration||Z||kw),Zu=$.useRef(null),Zn=$.useRef(null),kl=T===0,Ju=T+1<=_,je=h.type,at=h.dismissible!==!1,Ua=h.className||"",ed=h.descriptionClassName||"",zs=$.useMemo(()=>b.findIndex(oe=>oe.toastId===h.id)||0,[b,h.id]),Pm=$.useMemo(()=>{var oe;return(oe=h.closeButton)!=null?oe:S},[h.closeButton,S]),Si=$.useMemo(()=>h.duration||Z||kw,[h.duration,Z]),za=$.useRef(0),Fr=$.useRef(0),Ba=$.useRef(0),Ai=$.useRef(null),[km,Vl]=le.split("-"),jl=$.useMemo(()=>b.reduce((oe,Ne,Fe)=>Fe>=zs?oe:oe+Ne.height,0),[b,zs]),Ll=BP(),Bs=h.invert||m,Fs=je==="loading";Fr.current=$.useMemo(()=>zs*U+jl,[zs,jl]),$.useEffect(()=>{xi.current=Si},[Si]),$.useEffect(()=>{Ae(!0)},[]),$.useEffect(()=>{let oe=Zn.current;if(oe){let Ne=oe.getBoundingClientRect().height;return La(Ne),E(Fe=>[{toastId:h.id,height:Ne,position:h.position},...Fe]),()=>E(Fe=>Fe.filter(Vt=>Vt.toastId!==h.id))}},[E,h.id]),$.useLayoutEffect(()=>{if(!Q)return;let oe=Zn.current,Ne=oe.style.height;oe.style.height="auto";let Fe=oe.getBoundingClientRect().height;oe.style.height=Ne,La(Fe),E(Vt=>Vt.find(fn=>fn.toastId===h.id)?Vt.map(fn=>fn.toastId===h.id?{...fn,height:Fe}:fn):[{toastId:h.id,height:Fe,position:h.position},...Vt])},[Q,h.title,h.description,E,h.id]);let Vn=$.useCallback(()=>{pe(!0),Us(Fr.current),E(oe=>oe.filter(Ne=>Ne.toastId!==h.id)),setTimeout(()=>{V(h)},tk)},[h,V,E,Fr]);$.useEffect(()=>{if(h.promise&&je==="loading"||h.duration===1/0||h.type==="loading")return;let oe;return P||y||ee&&Ll?(()=>{if(Ba.current<za.current){let Ne=new Date().getTime()-za.current;xi.current=xi.current-Ne}Ba.current=new Date().getTime()})():xi.current!==1/0&&(za.current=new Date().getTime(),oe=setTimeout(()=>{var Ne;(Ne=h.onAutoClose)==null||Ne.call(h,h),Vn()},xi.current)),()=>clearTimeout(oe)},[P,y,h,je,ee,Ll,Vn]),$.useEffect(()=>{h.delete&&Vn()},[Vn,h.delete]);function Hr(){var oe,Ne,Fe;return W!=null&&W.loading?$.createElement("div",{className:er(L==null?void 0:L.loader,(oe=h==null?void 0:h.classNames)==null?void 0:oe.loader,"sonner-loader"),"data-visible":je==="loading"},W.loading):G?$.createElement("div",{className:er(L==null?void 0:L.loader,(Ne=h==null?void 0:h.classNames)==null?void 0:Ne.loader,"sonner-loader"),"data-visible":je==="loading"},G):$.createElement(kP,{className:er(L==null?void 0:L.loader,(Fe=h==null?void 0:h.classNames)==null?void 0:Fe.loader),visible:je==="loading"})}return $.createElement("li",{tabIndex:0,ref:Zn,className:er(M,Ua,L==null?void 0:L.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,L==null?void 0:L.default,L==null?void 0:L[je],(n=h==null?void 0:h.classNames)==null?void 0:n[je]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:A,"data-styled":!(h.jsx||h.unstyled||x),"data-mounted":Q,"data-promise":!!h.promise,"data-swiped":Xn,"data-removed":Re,"data-visible":Ju,"data-y-position":km,"data-x-position":Vl,"data-index":T,"data-front":kl,"data-swiping":ge,"data-dismissible":at,"data-type":je,"data-invert":Bs,"data-swipe-out":pt,"data-swipe-direction":Se,"data-expanded":!!(P||q&&Q),style:{"--index":T,"--toasts-before":T,"--z-index":N.length-T,"--offset":`${Re?zr:Fr.current}px`,"--initial-height":q?"auto":`${Br}px`,...C,...h.style},onDragEnd:()=>{we(!1),ae(null),Ai.current=null},onPointerDown:oe=>{Fs||!at||(Zu.current=new Date,Us(Fr.current),oe.target.setPointerCapture(oe.pointerId),oe.target.tagName!=="BUTTON"&&(we(!0),Ai.current={x:oe.clientX,y:oe.clientY}))},onPointerUp:()=>{var oe,Ne,Fe,Vt;if(pt||!at)return;Ai.current=null;let fn=Number(((oe=Zn.current)==null?void 0:oe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Je=Number(((Ne=Zn.current)==null?void 0:Ne.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),hr=new Date().getTime()-((Fe=Zu.current)==null?void 0:Fe.getTime()),jt=te==="x"?fn:Je,hn=Math.abs(jt)/hr;if(Math.abs(jt)>=ek||hn>.11){Us(Fr.current),(Vt=h.onDismiss)==null||Vt.call(h,h),st(te==="x"?fn>0?"right":"left":Je>0?"down":"up"),Vn(),$t(!0),Wn(!1);return}we(!1),ae(null)},onPointerMove:oe=>{var Ne,Fe,Vt,fn;if(!Ai.current||!at||((Ne=window.getSelection())==null?void 0:Ne.toString().length)>0)return;let Je=oe.clientY-Ai.current.y,hr=oe.clientX-Ai.current.x,jt=(Fe=t.swipeDirections)!=null?Fe:nk(le);!te&&(Math.abs(hr)>1||Math.abs(Je)>1)&&ae(Math.abs(hr)>Math.abs(Je)?"x":"y");let hn={x:0,y:0};te==="y"?(jt.includes("top")||jt.includes("bottom"))&&(jt.includes("top")&&Je<0||jt.includes("bottom")&&Je>0)&&(hn.y=Je):te==="x"&&(jt.includes("left")||jt.includes("right"))&&(jt.includes("left")&&hr<0||jt.includes("right")&&hr>0)&&(hn.x=hr),(Math.abs(hn.x)>0||Math.abs(hn.y)>0)&&Wn(!0),(Vt=Zn.current)==null||Vt.style.setProperty("--swipe-amount-x",`${hn.x}px`),(fn=Zn.current)==null||fn.style.setProperty("--swipe-amount-y",`${hn.y}px`)}},Pm&&!h.jsx?$.createElement("button",{"aria-label":fe,"data-disabled":Fs,"data-close-button":!0,onClick:Fs||!at?()=>{}:()=>{var oe;Vn(),(oe=h.onDismiss)==null||oe.call(h,h)},className:er(L==null?void 0:L.closeButton,(i=h==null?void 0:h.classNames)==null?void 0:i.closeButton)},(s=W==null?void 0:W.close)!=null?s:zP):null,h.jsx||w.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:$.createElement($.Fragment,null,je||h.icon||h.promise?$.createElement("div",{"data-icon":"",className:er(L==null?void 0:L.icon,(a=h==null?void 0:h.classNames)==null?void 0:a.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Hr():null,h.type!=="loading"?h.icon||(W==null?void 0:W[je])||OP(je):null):null,$.createElement("div",{"data-content":"",className:er(L==null?void 0:L.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},$.createElement("div",{"data-title":"",className:er(L==null?void 0:L.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},typeof h.title=="function"?h.title():h.title),h.description?$.createElement("div",{"data-description":"",className:er(D,ed,L==null?void 0:L.description,(u=h==null?void 0:h.classNames)==null?void 0:u.description)},typeof h.description=="function"?h.description():h.description):null),w.isValidElement(h.cancel)?h.cancel:h.cancel&&Md(h.cancel)?$.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||I,onClick:oe=>{var Ne,Fe;Md(h.cancel)&&at&&((Fe=(Ne=h.cancel).onClick)==null||Fe.call(Ne,oe),Vn())},className:er(L==null?void 0:L.cancelButton,(d=h==null?void 0:h.classNames)==null?void 0:d.cancelButton)},h.cancel.label):null,w.isValidElement(h.action)?h.action:h.action&&Md(h.action)?$.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||O,onClick:oe=>{var Ne,Fe;Md(h.action)&&((Fe=(Ne=h.action).onClick)==null||Fe.call(Ne,oe),!oe.defaultPrevented&&Vn())},className:er(L==null?void 0:L.actionButton,(f=h==null?void 0:h.classNames)==null?void 0:f.actionButton)},h.action.label):null))};function Vw(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function ik(t,e){let n={};return[t,e].forEach((r,i)=>{let s=i===1,a=s?"--mobile-offset":"--offset",o=s?WP:XP;function l(u){["top","right","bottom","left"].forEach(d=>{n[`${a}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${a}-${u}`]=o:n[`${a}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):l(o)}),n}var sk=w.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:a,className:o,offset:l,mobileOffset:u,theme:d="light",richColors:f,duration:m,style:h,visibleToasts:x=YP,toastOptions:y,dir:E=Vw(),gap:_=JP,loadingIcon:b,icons:T,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:P}=t,[V,A]=$.useState([]),S=$.useMemo(()=>Array.from(new Set([r].concat(V.filter(ee=>ee.position).map(ee=>ee.position)))),[V,r]),[C,I]=$.useState([]),[O,M]=$.useState(!1),[D,Z]=$.useState(!1),[le,U]=$.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),G=$.useRef(null),q=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=$.useRef(null),W=$.useRef(!1),fe=$.useCallback(ee=>{A(te=>{var ae;return(ae=te.find(Se=>Se.id===ee.id))!=null&&ae.delete||yn.dismiss(ee.id),te.filter(({id:Se})=>Se!==ee.id)})},[]);return $.useEffect(()=>yn.subscribe(ee=>{if(ee.dismiss){A(te=>te.map(ae=>ae.id===ee.id?{...ae,delete:!0}:ae));return}setTimeout(()=>{Px.flushSync(()=>{A(te=>{let ae=te.findIndex(Se=>Se.id===ee.id);return ae!==-1?[...te.slice(0,ae),{...te[ae],...ee},...te.slice(ae+1)]:[ee,...te]})})})}),[]),$.useEffect(()=>{if(d!=="system"){U(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),typeof window>"u")return;let ee=window.matchMedia("(prefers-color-scheme: dark)");try{ee.addEventListener("change",({matches:te})=>{U(te?"dark":"light")})}catch{ee.addListener(({matches:ae})=>{try{U(ae?"dark":"light")}catch(Se){console.error(Se)}})}},[d]),$.useEffect(()=>{V.length<=1&&M(!1)},[V]),$.useEffect(()=>{let ee=te=>{var ae,Se;i.every(st=>te[st]||te.code===st)&&(M(!0),(ae=G.current)==null||ae.focus()),te.code==="Escape"&&(document.activeElement===G.current||(Se=G.current)!=null&&Se.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",ee),()=>document.removeEventListener("keydown",ee)},[i]),$.useEffect(()=>{if(G.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,W.current=!1)}},[G.current]),$.createElement("section",{ref:e,"aria-label":`${N} ${q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},S.map((ee,te)=>{var ae;let[Se,st]=ee.split("-");return V.length?$.createElement("ol",{key:ee,dir:E==="auto"?Vw():E,tabIndex:-1,ref:G,className:o,"data-sonner-toaster":!0,"data-theme":le,"data-y-position":Se,"data-lifted":O&&V.length>1&&!s,"data-x-position":st,style:{"--front-toast-height":`${((ae=C[0])==null?void 0:ae.height)||0}px`,"--width":`${ZP}px`,"--gap":`${_}px`,...h,...ik(l,u)},onBlur:Q=>{W.current&&!Q.currentTarget.contains(Q.relatedTarget)&&(W.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||W.current||(W.current=!0,L.current=Q.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{D||M(!1)},onDragEnd:()=>M(!1),onPointerDown:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||Z(!0)},onPointerUp:()=>Z(!1)},V.filter(Q=>!Q.position&&te===0||Q.position===ee).map((Q,Ae)=>{var Re,pe;return $.createElement(rk,{key:Q.id,icons:T,index:Ae,toast:Q,defaultRichColors:f,duration:(Re=y==null?void 0:y.duration)!=null?Re:m,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:n,visibleToasts:x,closeButton:(pe=y==null?void 0:y.closeButton)!=null?pe:a,interacting:D,position:ee,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:fe,toasts:V.filter(ge=>ge.position==Q.position),heights:C.filter(ge=>ge.position==Q.position),setHeights:I,expandByDefault:s,gap:_,loadingIcon:b,expanded:O,pauseWhenPageIsHidden:P,swipeDirections:t.swipeDirections})})):null}))});const ak=({...t})=>{const{theme:e="system"}=DP();return p.jsx(sk,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};function J(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function jw(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function $h(...t){return e=>{let n=!1;const r=t.map(i=>{const s=jw(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():jw(t[i],null)}}}}function Qe(...t){return w.useCallback($h(...t),t)}function Ei(t,e=[]){let n=[];function r(s,a){const o=w.createContext(a),l=n.length;n=[...n,a];const u=f=>{var _;const{scope:m,children:h,...x}=f,y=((_=m==null?void 0:m[t])==null?void 0:_[l])||o,E=w.useMemo(()=>x,Object.values(x));return p.jsx(y.Provider,{value:E,children:h})};u.displayName=s+"Provider";function d(f,m){var y;const h=((y=m==null?void 0:m[t])==null?void 0:y[l])||o,x=w.useContext(h);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=n.map(a=>w.createContext(a));return function(o){const l=(o==null?void 0:o[t])||s;return w.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[r,ok(i,...e)]}function ok(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:l,scopeName:u})=>{const f=l(s)[`__scope${u}`];return{...o,...f}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function rl(t){const e=ck(t),n=w.forwardRef((r,i)=>{const{children:s,...a}=r,o=w.Children.toArray(s),l=o.find(dk);if(l){const u=l.props.children,d=o.map(f=>f===l?w.Children.count(u)>1?w.Children.only(null):w.isValidElement(u)?u.props.children:null:f);return p.jsx(e,{...a,ref:i,children:w.isValidElement(u)?w.cloneElement(u,void 0,d):null})}return p.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var lk=rl("Slot");function ck(t){const e=w.forwardRef((n,r)=>{const{children:i,...s}=n;if(w.isValidElement(i)){const a=hk(i),o=fk(s,i.props);return i.type!==w.Fragment&&(o.ref=r?$h(r,a):a),w.cloneElement(i,o)}return w.Children.count(i)>1?w.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var gA=Symbol("radix.slottable");function uk(t){const e=({children:n})=>p.jsx(p.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=gA,e}function dk(t){return w.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===gA}function fk(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function hk(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var mk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ve=mk.reduce((t,e)=>{const n=rl(`Primitive.${e}`),r=w.forwardRef((i,s)=>{const{asChild:a,...o}=i,l=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function yA(t,e){t&&pl.flushSync(()=>t.dispatchEvent(e))}function Pr(t){const e=w.useRef(t);return w.useEffect(()=>{e.current=t}),w.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function pk(t,e=globalThis==null?void 0:globalThis.document){const n=Pr(t);w.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var gk="DismissableLayer",Jg="dismissableLayer.update",yk="dismissableLayer.pointerDownOutside",vk="dismissableLayer.focusOutside",Lw,vA=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Kh=w.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...l}=t,u=w.useContext(vA),[d,f]=w.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=w.useState({}),x=Qe(e,A=>f(A)),y=Array.from(u.layers),[E]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=y.indexOf(E),b=d?y.indexOf(d):-1,T=u.layersWithOutsidePointerEventsDisabled.size>0,N=b>=_,P=wk(A=>{const S=A.target,C=[...u.branches].some(I=>I.contains(S));!N||C||(i==null||i(A),a==null||a(A),A.defaultPrevented||o==null||o())},m),V=Ek(A=>{const S=A.target;[...u.branches].some(I=>I.contains(S))||(s==null||s(A),a==null||a(A),A.defaultPrevented||o==null||o())},m);return pk(A=>{b===u.layers.size-1&&(r==null||r(A),!A.defaultPrevented&&o&&(A.preventDefault(),o()))},m),w.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Lw=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Uw(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=Lw)}},[d,m,n,u]),w.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Uw())},[d,u]),w.useEffect(()=>{const A=()=>h({});return document.addEventListener(Jg,A),()=>document.removeEventListener(Jg,A)},[]),p.jsx(ve.div,{...l,ref:x,style:{pointerEvents:T?N?"auto":"none":void 0,...t.style},onFocusCapture:J(t.onFocusCapture,V.onFocusCapture),onBlurCapture:J(t.onBlurCapture,V.onBlurCapture),onPointerDownCapture:J(t.onPointerDownCapture,P.onPointerDownCapture)})});Kh.displayName=gk;var _k="DismissableLayerBranch",bk=w.forwardRef((t,e)=>{const n=w.useContext(vA),r=w.useRef(null),i=Qe(e,r);return w.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),p.jsx(ve.div,{...t,ref:i})});bk.displayName=_k;function wk(t,e=globalThis==null?void 0:globalThis.document){const n=Pr(t),r=w.useRef(!1),i=w.useRef(()=>{});return w.useEffect(()=>{const s=o=>{if(o.target&&!r.current){let l=function(){_A(yk,n,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Ek(t,e=globalThis==null?void 0:globalThis.document){const n=Pr(t),r=w.useRef(!1);return w.useEffect(()=>{const i=s=>{s.target&&!r.current&&_A(vk,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Uw(){const t=new CustomEvent(Jg);document.dispatchEvent(t)}function _A(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?yA(i,s):i.dispatchEvent(s)}var nn=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},Tk=tv[" useId ".trim().toString()]||(()=>{}),xk=0;function _a(t){const[e,n]=w.useState(Tk());return nn(()=>{n(r=>r??String(xk++))},[t]),e?`radix-${e}`:""}const Sk=["top","right","bottom","left"],Ss=Math.min,Rn=Math.max,Zf=Math.round,Dd=Math.floor,Rr=t=>({x:t,y:t}),Ak={left:"right",right:"left",bottom:"top",top:"bottom"},Rk={start:"end",end:"start"};function ey(t,e,n){return Rn(t,Ss(e,n))}function hi(t,e){return typeof t=="function"?t(e):t}function mi(t){return t.split("-")[0]}function El(t){return t.split("-")[1]}function Xv(t){return t==="x"?"y":"x"}function Wv(t){return t==="y"?"height":"width"}const Ck=new Set(["top","bottom"]);function Tr(t){return Ck.has(mi(t))?"y":"x"}function Zv(t){return Xv(Tr(t))}function Ik(t,e,n){n===void 0&&(n=!1);const r=El(t),i=Zv(t),s=Wv(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=Jf(a)),[a,Jf(a)]}function Nk(t){const e=Jf(t);return[ty(t),e,ty(e)]}function ty(t){return t.replace(/start|end/g,e=>Rk[e])}const zw=["left","right"],Bw=["right","left"],Mk=["top","bottom"],Dk=["bottom","top"];function Ok(t,e,n){switch(t){case"top":case"bottom":return n?e?Bw:zw:e?zw:Bw;case"left":case"right":return e?Mk:Dk;default:return[]}}function Pk(t,e,n,r){const i=El(t);let s=Ok(mi(t),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(ty)))),s}function Jf(t){return t.replace(/left|right|bottom|top/g,e=>Ak[e])}function kk(t){return{top:0,right:0,bottom:0,left:0,...t}}function bA(t){return typeof t!="number"?kk(t):{top:t,right:t,bottom:t,left:t}}function eh(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function Fw(t,e,n){let{reference:r,floating:i}=t;const s=Tr(e),a=Zv(e),o=Wv(a),l=mi(e),u=s==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,m=r[o]/2-i[o]/2;let h;switch(l){case"top":h={x:d,y:r.y-i.height};break;case"bottom":h={x:d,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-i.width,y:f};break;default:h={x:r.x,y:r.y}}switch(El(e)){case"start":h[a]-=m*(n&&u?-1:1);break;case"end":h[a]+=m*(n&&u?-1:1);break}return h}const Vk=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,o=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=Fw(u,r,l),m=r,h={},x=0;for(let y=0;y<o.length;y++){const{name:E,fn:_}=o[y],{x:b,y:T,data:N,reset:P}=await _({x:d,y:f,initialPlacement:r,placement:m,strategy:i,middlewareData:h,rects:u,platform:a,elements:{reference:t,floating:e}});d=b??d,f=T??f,h={...h,[E]:{...h[E],...N}},P&&x<=50&&(x++,typeof P=="object"&&(P.placement&&(m=P.placement),P.rects&&(u=P.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):P.rects),{x:d,y:f}=Fw(u,m,l)),y=-1)}return{x:d,y:f,placement:m,strategy:i,middlewareData:h}};async function eu(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:h=0}=hi(e,t),x=bA(h),E=o[m?f==="floating"?"reference":"floating":f],_=eh(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(E)))==null||n?E:E.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:l})),b=f==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),N=await(s.isElement==null?void 0:s.isElement(T))?await(s.getScale==null?void 0:s.getScale(T))||{x:1,y:1}:{x:1,y:1},P=eh(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:b,offsetParent:T,strategy:l}):b);return{top:(_.top-P.top+x.top)/N.y,bottom:(P.bottom-_.bottom+x.bottom)/N.y,left:(_.left-P.left+x.left)/N.x,right:(P.right-_.right+x.right)/N.x}}const jk=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:a,elements:o,middlewareData:l}=e,{element:u,padding:d=0}=hi(t,e)||{};if(u==null)return{};const f=bA(d),m={x:n,y:r},h=Zv(i),x=Wv(h),y=await a.getDimensions(u),E=h==="y",_=E?"top":"left",b=E?"bottom":"right",T=E?"clientHeight":"clientWidth",N=s.reference[x]+s.reference[h]-m[h]-s.floating[x],P=m[h]-s.reference[h],V=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let A=V?V[T]:0;(!A||!await(a.isElement==null?void 0:a.isElement(V)))&&(A=o.floating[T]||s.floating[x]);const S=N/2-P/2,C=A/2-y[x]/2-1,I=Ss(f[_],C),O=Ss(f[b],C),M=I,D=A-y[x]-O,Z=A/2-y[x]/2+S,le=ey(M,Z,D),U=!l.arrow&&El(i)!=null&&Z!==le&&s.reference[x]/2-(Z<M?I:O)-y[x]/2<0,G=U?Z<M?Z-M:Z-D:0;return{[h]:m[h]+G,data:{[h]:le,centerOffset:Z-le-G,...U&&{alignmentOffset:G}},reset:U}}}),Lk=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:y=!0,...E}=hi(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const _=mi(i),b=Tr(o),T=mi(o)===o,N=await(l.isRTL==null?void 0:l.isRTL(u.floating)),P=m||(T||!y?[Jf(o)]:Nk(o)),V=x!=="none";!m&&V&&P.push(...Pk(o,y,x,N));const A=[o,...P],S=await eu(e,E),C=[];let I=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&C.push(S[_]),f){const Z=Ik(i,a,N);C.push(S[Z[0]],S[Z[1]])}if(I=[...I,{placement:i,overflows:C}],!C.every(Z=>Z<=0)){var O,M;const Z=(((O=s.flip)==null?void 0:O.index)||0)+1,le=A[Z];if(le&&(!(f==="alignment"?b!==Tr(le):!1)||I.every(q=>q.overflows[0]>0&&Tr(q.placement)===b)))return{data:{index:Z,overflows:I},reset:{placement:le}};let U=(M=I.filter(G=>G.overflows[0]<=0).sort((G,q)=>G.overflows[1]-q.overflows[1])[0])==null?void 0:M.placement;if(!U)switch(h){case"bestFit":{var D;const G=(D=I.filter(q=>{if(V){const L=Tr(q.placement);return L===b||L==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(L=>L>0).reduce((L,W)=>L+W,0)]).sort((q,L)=>q[1]-L[1])[0])==null?void 0:D[0];G&&(U=G);break}case"initialPlacement":U=o;break}if(i!==U)return{reset:{placement:U}}}return{}}}};function Hw(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function qw(t){return Sk.some(e=>t[e]>=0)}const Uk=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=hi(t,e);switch(r){case"referenceHidden":{const s=await eu(e,{...i,elementContext:"reference"}),a=Hw(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:qw(a)}}}case"escaped":{const s=await eu(e,{...i,altBoundary:!0}),a=Hw(s,n.floating);return{data:{escapedOffsets:a,escaped:qw(a)}}}default:return{}}}}},wA=new Set(["left","top"]);async function zk(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=mi(n),o=El(n),l=Tr(n)==="y",u=wA.has(a)?-1:1,d=s&&l?-1:1,f=hi(e,t);let{mainAxis:m,crossAxis:h,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof x=="number"&&(h=o==="end"?x*-1:x),l?{x:h*d,y:m*u}:{x:m*u,y:h*d}}const Bk=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:a,middlewareData:o}=e,l=await zk(e,t);return a===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:a}}}}},Fk=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:E=>{let{x:_,y:b}=E;return{x:_,y:b}}},...l}=hi(t,e),u={x:n,y:r},d=await eu(e,l),f=Tr(mi(i)),m=Xv(f);let h=u[m],x=u[f];if(s){const E=m==="y"?"top":"left",_=m==="y"?"bottom":"right",b=h+d[E],T=h-d[_];h=ey(b,h,T)}if(a){const E=f==="y"?"top":"left",_=f==="y"?"bottom":"right",b=x+d[E],T=x-d[_];x=ey(b,x,T)}const y=o.fn({...e,[m]:h,[f]:x});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[m]:s,[f]:a}}}}}},Hk=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=e,{offset:o=0,mainAxis:l=!0,crossAxis:u=!0}=hi(t,e),d={x:n,y:r},f=Tr(i),m=Xv(f);let h=d[m],x=d[f];const y=hi(o,e),E=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const T=m==="y"?"height":"width",N=s.reference[m]-s.floating[T]+E.mainAxis,P=s.reference[m]+s.reference[T]-E.mainAxis;h<N?h=N:h>P&&(h=P)}if(u){var _,b;const T=m==="y"?"width":"height",N=wA.has(mi(i)),P=s.reference[f]-s.floating[T]+(N&&((_=a.offset)==null?void 0:_[f])||0)+(N?0:E.crossAxis),V=s.reference[f]+s.reference[T]+(N?0:((b=a.offset)==null?void 0:b[f])||0)-(N?E.crossAxis:0);x<P?x=P:x>V&&(x=V)}return{[m]:h,[f]:x}}}},qk=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:a,elements:o}=e,{apply:l=()=>{},...u}=hi(t,e),d=await eu(e,u),f=mi(i),m=El(i),h=Tr(i)==="y",{width:x,height:y}=s.floating;let E,_;f==="top"||f==="bottom"?(E=f,_=m===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(_=f,E=m==="end"?"top":"bottom");const b=y-d.top-d.bottom,T=x-d.left-d.right,N=Ss(y-d[E],b),P=Ss(x-d[_],T),V=!e.middlewareData.shift;let A=N,S=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(A=b),V&&!m){const I=Rn(d.left,0),O=Rn(d.right,0),M=Rn(d.top,0),D=Rn(d.bottom,0);h?S=x-2*(I!==0||O!==0?I+O:Rn(d.left,d.right)):A=y-2*(M!==0||D!==0?M+D:Rn(d.top,d.bottom))}await l({...e,availableWidth:S,availableHeight:A});const C=await a.getDimensions(o.floating);return x!==C.width||y!==C.height?{reset:{rects:!0}}:{}}}};function Qh(){return typeof window<"u"}function Tl(t){return EA(t)?(t.nodeName||"").toLowerCase():"#document"}function Pn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ur(t){var e;return(e=(EA(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function EA(t){return Qh()?t instanceof Node||t instanceof Pn(t).Node:!1}function cr(t){return Qh()?t instanceof Element||t instanceof Pn(t).Element:!1}function kr(t){return Qh()?t instanceof HTMLElement||t instanceof Pn(t).HTMLElement:!1}function Gw(t){return!Qh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Pn(t).ShadowRoot}const Gk=new Set(["inline","contents"]);function ku(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=ur(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!Gk.has(i)}const $k=new Set(["table","td","th"]);function Kk(t){return $k.has(Tl(t))}const Qk=[":popover-open",":modal"];function Yh(t){return Qk.some(e=>{try{return t.matches(e)}catch{return!1}})}const Yk=["transform","translate","scale","rotate","perspective"],Xk=["transform","translate","scale","rotate","perspective","filter"],Wk=["paint","layout","strict","content"];function Jv(t){const e=e_(),n=cr(t)?ur(t):t;return Yk.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Xk.some(r=>(n.willChange||"").includes(r))||Wk.some(r=>(n.contain||"").includes(r))}function Zk(t){let e=As(t);for(;kr(e)&&!il(e);){if(Jv(e))return e;if(Yh(e))return null;e=As(e)}return null}function e_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Jk=new Set(["html","body","#document"]);function il(t){return Jk.has(Tl(t))}function ur(t){return Pn(t).getComputedStyle(t)}function Xh(t){return cr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function As(t){if(Tl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Gw(t)&&t.host||Ur(t);return Gw(e)?e.host:e}function TA(t){const e=As(t);return il(e)?t.ownerDocument?t.ownerDocument.body:t.body:kr(e)&&ku(e)?e:TA(e)}function tu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=TA(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),a=Pn(i);if(s){const o=ny(a);return e.concat(a,a.visualViewport||[],ku(i)?i:[],o&&n?tu(o):[])}return e.concat(i,tu(i,[],n))}function ny(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function xA(t){const e=ur(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=kr(t),s=i?t.offsetWidth:n,a=i?t.offsetHeight:r,o=Zf(n)!==s||Zf(r)!==a;return o&&(n=s,r=a),{width:n,height:r,$:o}}function t_(t){return cr(t)?t:t.contextElement}function Ro(t){const e=t_(t);if(!kr(e))return Rr(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=xA(e);let a=(s?Zf(n.width):n.width)/r,o=(s?Zf(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const e4=Rr(0);function SA(t){const e=Pn(t);return!e_()||!e.visualViewport?e4:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function t4(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Pn(t)?!1:e}function ba(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=t_(t);let a=Rr(1);e&&(r?cr(r)&&(a=Ro(r)):a=Ro(t));const o=t4(s,n,r)?SA(s):Rr(0);let l=(i.left+o.x)/a.x,u=(i.top+o.y)/a.y,d=i.width/a.x,f=i.height/a.y;if(s){const m=Pn(s),h=r&&cr(r)?Pn(r):r;let x=m,y=ny(x);for(;y&&r&&h!==x;){const E=Ro(y),_=y.getBoundingClientRect(),b=ur(y),T=_.left+(y.clientLeft+parseFloat(b.paddingLeft))*E.x,N=_.top+(y.clientTop+parseFloat(b.paddingTop))*E.y;l*=E.x,u*=E.y,d*=E.x,f*=E.y,l+=T,u+=N,x=Pn(y),y=ny(x)}}return eh({width:d,height:f,x:l,y:u})}function n_(t,e){const n=Xh(t).scrollLeft;return e?e.left+n:ba(Ur(t)).left+n}function AA(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:n_(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function n4(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",a=Ur(r),o=e?Yh(e.floating):!1;if(r===a||o&&s)return n;let l={scrollLeft:0,scrollTop:0},u=Rr(1);const d=Rr(0),f=kr(r);if((f||!f&&!s)&&((Tl(r)!=="body"||ku(a))&&(l=Xh(r)),kr(r))){const h=ba(r);u=Ro(r),d.x=h.x+r.clientLeft,d.y=h.y+r.clientTop}const m=a&&!f&&!s?AA(a,l,!0):Rr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+m.x,y:n.y*u.y-l.scrollTop*u.y+d.y+m.y}}function r4(t){return Array.from(t.getClientRects())}function i4(t){const e=Ur(t),n=Xh(t),r=t.ownerDocument.body,i=Rn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Rn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+n_(t);const o=-n.scrollTop;return ur(r).direction==="rtl"&&(a+=Rn(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}function s4(t,e){const n=Pn(t),r=Ur(t),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;const u=e_();(!u||u&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:s,height:a,x:o,y:l}}const a4=new Set(["absolute","fixed"]);function o4(t,e){const n=ba(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=kr(t)?Ro(t):Rr(1),a=t.clientWidth*s.x,o=t.clientHeight*s.y,l=i*s.x,u=r*s.y;return{width:a,height:o,x:l,y:u}}function $w(t,e,n){let r;if(e==="viewport")r=s4(t,n);else if(e==="document")r=i4(Ur(t));else if(cr(e))r=o4(e,n);else{const i=SA(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return eh(r)}function RA(t,e){const n=As(t);return n===e||!cr(n)||il(n)?!1:ur(n).position==="fixed"||RA(n,e)}function l4(t,e){const n=e.get(t);if(n)return n;let r=tu(t,[],!1).filter(o=>cr(o)&&Tl(o)!=="body"),i=null;const s=ur(t).position==="fixed";let a=s?As(t):t;for(;cr(a)&&!il(a);){const o=ur(a),l=Jv(a);!l&&o.position==="fixed"&&(i=null),(s?!l&&!i:!l&&o.position==="static"&&!!i&&a4.has(i.position)||ku(a)&&!l&&RA(t,a))?r=r.filter(d=>d!==a):i=o,a=As(a)}return e.set(t,r),r}function c4(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?Yh(e)?[]:l4(e,this._c):[].concat(n),r],o=a[0],l=a.reduce((u,d)=>{const f=$w(e,d,i);return u.top=Rn(f.top,u.top),u.right=Ss(f.right,u.right),u.bottom=Ss(f.bottom,u.bottom),u.left=Rn(f.left,u.left),u},$w(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function u4(t){const{width:e,height:n}=xA(t);return{width:e,height:n}}function d4(t,e,n){const r=kr(e),i=Ur(e),s=n==="fixed",a=ba(t,!0,s,e);let o={scrollLeft:0,scrollTop:0};const l=Rr(0);function u(){l.x=n_(i)}if(r||!r&&!s)if((Tl(e)!=="body"||ku(i))&&(o=Xh(e)),r){const h=ba(e,!0,s,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&u();s&&!r&&i&&u();const d=i&&!r&&!s?AA(i,o):Rr(0),f=a.left+o.scrollLeft-l.x-d.x,m=a.top+o.scrollTop-l.y-d.y;return{x:f,y:m,width:a.width,height:a.height}}function Np(t){return ur(t).position==="static"}function Kw(t,e){if(!kr(t)||ur(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ur(t)===n&&(n=n.ownerDocument.body),n}function CA(t,e){const n=Pn(t);if(Yh(t))return n;if(!kr(t)){let i=As(t);for(;i&&!il(i);){if(cr(i)&&!Np(i))return i;i=As(i)}return n}let r=Kw(t,e);for(;r&&Kk(r)&&Np(r);)r=Kw(r,e);return r&&il(r)&&Np(r)&&!Jv(r)?n:r||Zk(t)||n}const f4=async function(t){const e=this.getOffsetParent||CA,n=this.getDimensions,r=await n(t.floating);return{reference:d4(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function h4(t){return ur(t).direction==="rtl"}const m4={convertOffsetParentRelativeRectToViewportRelativeRect:n4,getDocumentElement:Ur,getClippingRect:c4,getOffsetParent:CA,getElementRects:f4,getClientRects:r4,getDimensions:u4,getScale:Ro,isElement:cr,isRTL:h4};function IA(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function p4(t,e){let n=null,r;const i=Ur(t);function s(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const u=t.getBoundingClientRect(),{left:d,top:f,width:m,height:h}=u;if(o||e(),!m||!h)return;const x=Dd(f),y=Dd(i.clientWidth-(d+m)),E=Dd(i.clientHeight-(f+h)),_=Dd(d),T={rootMargin:-x+"px "+-y+"px "+-E+"px "+-_+"px",threshold:Rn(0,Ss(1,l))||1};let N=!0;function P(V){const A=V[0].intersectionRatio;if(A!==l){if(!N)return a();A?a(!1,A):r=setTimeout(()=>{a(!1,1e-7)},1e3)}A===1&&!IA(u,t.getBoundingClientRect())&&a(),N=!1}try{n=new IntersectionObserver(P,{...T,root:i.ownerDocument})}catch{n=new IntersectionObserver(P,T)}n.observe(t)}return a(!0),s}function g4(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=t_(t),d=i||s?[...u?tu(u):[],...tu(e)]:[];d.forEach(_=>{i&&_.addEventListener("scroll",n,{passive:!0}),s&&_.addEventListener("resize",n)});const f=u&&o?p4(u,n):null;let m=-1,h=null;a&&(h=new ResizeObserver(_=>{let[b]=_;b&&b.target===u&&h&&(h.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var T;(T=h)==null||T.observe(e)})),n()}),u&&!l&&h.observe(u),h.observe(e));let x,y=l?ba(t):null;l&&E();function E(){const _=ba(t);y&&!IA(y,_)&&n(),y=_,x=requestAnimationFrame(E)}return n(),()=>{var _;d.forEach(b=>{i&&b.removeEventListener("scroll",n),s&&b.removeEventListener("resize",n)}),f==null||f(),(_=h)==null||_.disconnect(),h=null,l&&cancelAnimationFrame(x)}}const y4=Bk,v4=Fk,_4=Lk,b4=qk,w4=Uk,Qw=jk,E4=Hk,T4=(t,e,n)=>{const r=new Map,i={platform:m4,...n},s={...i.platform,_c:r};return Vk(t,e,{...i,platform:s})};var x4=typeof document<"u",S4=function(){},sf=x4?w.useLayoutEffect:S4;function th(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!th(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!th(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function NA(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Yw(t,e){const n=NA(t);return Math.round(e*n)/n}function Mp(t){const e=w.useRef(t);return sf(()=>{e.current=t}),e}function A4(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:l,open:u}=t,[d,f]=w.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,h]=w.useState(r);th(m,r)||h(r);const[x,y]=w.useState(null),[E,_]=w.useState(null),b=w.useCallback(q=>{q!==V.current&&(V.current=q,y(q))},[]),T=w.useCallback(q=>{q!==A.current&&(A.current=q,_(q))},[]),N=s||x,P=a||E,V=w.useRef(null),A=w.useRef(null),S=w.useRef(d),C=l!=null,I=Mp(l),O=Mp(i),M=Mp(u),D=w.useCallback(()=>{if(!V.current||!A.current)return;const q={placement:e,strategy:n,middleware:m};O.current&&(q.platform=O.current),T4(V.current,A.current,q).then(L=>{const W={...L,isPositioned:M.current!==!1};Z.current&&!th(S.current,W)&&(S.current=W,pl.flushSync(()=>{f(W)}))})},[m,e,n,O,M]);sf(()=>{u===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(q=>({...q,isPositioned:!1})))},[u]);const Z=w.useRef(!1);sf(()=>(Z.current=!0,()=>{Z.current=!1}),[]),sf(()=>{if(N&&(V.current=N),P&&(A.current=P),N&&P){if(I.current)return I.current(N,P,D);D()}},[N,P,D,I,C]);const le=w.useMemo(()=>({reference:V,floating:A,setReference:b,setFloating:T}),[b,T]),U=w.useMemo(()=>({reference:N,floating:P}),[N,P]),G=w.useMemo(()=>{const q={position:n,left:0,top:0};if(!U.floating)return q;const L=Yw(U.floating,d.x),W=Yw(U.floating,d.y);return o?{...q,transform:"translate("+L+"px, "+W+"px)",...NA(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:W}},[n,o,U.floating,d.x,d.y]);return w.useMemo(()=>({...d,update:D,refs:le,elements:U,floatingStyles:G}),[d,D,le,U,G])}const R4=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Qw({element:r.current,padding:i}).fn(n):{}:r?Qw({element:r,padding:i}).fn(n):{}}}},C4=(t,e)=>({...y4(t),options:[t,e]}),I4=(t,e)=>({...v4(t),options:[t,e]}),N4=(t,e)=>({...E4(t),options:[t,e]}),M4=(t,e)=>({..._4(t),options:[t,e]}),D4=(t,e)=>({...b4(t),options:[t,e]}),O4=(t,e)=>({...w4(t),options:[t,e]}),P4=(t,e)=>({...R4(t),options:[t,e]});var k4="Arrow",MA=w.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return p.jsx(ve.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});MA.displayName=k4;var V4=MA;function j4(t){const[e,n]=w.useState(void 0);return nn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,o;if("borderBoxSize"in s){const l=s.borderBoxSize,u=Array.isArray(l)?l[0]:l;a=u.inlineSize,o=u.blockSize}else a=t.offsetWidth,o=t.offsetHeight;n({width:a,height:o})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var r_="Popper",[DA,xl]=Ei(r_),[L4,OA]=DA(r_),PA=t=>{const{__scopePopper:e,children:n}=t,[r,i]=w.useState(null);return p.jsx(L4,{scope:e,anchor:r,onAnchorChange:i,children:n})};PA.displayName=r_;var kA="PopperAnchor",VA=w.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=OA(kA,n),a=w.useRef(null),o=Qe(e,a);return w.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:p.jsx(ve.div,{...i,ref:o})});VA.displayName=kA;var i_="PopperContent",[U4,z4]=DA(i_),jA=w.forwardRef((t,e)=>{var Q,Ae,Re,pe,ge,we;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:h="optimized",onPlaced:x,...y}=t,E=OA(i_,n),[_,b]=w.useState(null),T=Qe(e,pt=>b(pt)),[N,P]=w.useState(null),V=j4(N),A=(V==null?void 0:V.width)??0,S=(V==null?void 0:V.height)??0,C=r+(s!=="center"?"-"+s:""),I=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},O=Array.isArray(u)?u:[u],M=O.length>0,D={padding:I,boundary:O.filter(F4),altBoundary:M},{refs:Z,floatingStyles:le,placement:U,isPositioned:G,middlewareData:q}=A4({strategy:"fixed",placement:C,whileElementsMounted:(...pt)=>g4(...pt,{animationFrame:h==="always"}),elements:{reference:E.anchor},middleware:[C4({mainAxis:i+S,alignmentAxis:a}),l&&I4({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?N4():void 0,...D}),l&&M4({...D}),D4({...D,apply:({elements:pt,rects:$t,availableWidth:Xn,availableHeight:Wn})=>{const{width:zr,height:Us}=$t.reference,Br=pt.floating.style;Br.setProperty("--radix-popper-available-width",`${Xn}px`),Br.setProperty("--radix-popper-available-height",`${Wn}px`),Br.setProperty("--radix-popper-anchor-width",`${zr}px`),Br.setProperty("--radix-popper-anchor-height",`${Us}px`)}}),N&&P4({element:N,padding:o}),H4({arrowWidth:A,arrowHeight:S}),m&&O4({strategy:"referenceHidden",...D})]}),[L,W]=zA(U),fe=Pr(x);nn(()=>{G&&(fe==null||fe())},[G,fe]);const ee=(Q=q.arrow)==null?void 0:Q.x,te=(Ae=q.arrow)==null?void 0:Ae.y,ae=((Re=q.arrow)==null?void 0:Re.centerOffset)!==0,[Se,st]=w.useState();return nn(()=>{_&&st(window.getComputedStyle(_).zIndex)},[_]),p.jsx("div",{ref:Z.setFloating,"data-radix-popper-content-wrapper":"",style:{...le,transform:G?le.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Se,"--radix-popper-transform-origin":[(pe=q.transformOrigin)==null?void 0:pe.x,(ge=q.transformOrigin)==null?void 0:ge.y].join(" "),...((we=q.hide)==null?void 0:we.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:p.jsx(U4,{scope:n,placedSide:L,onArrowChange:P,arrowX:ee,arrowY:te,shouldHideArrow:ae,children:p.jsx(ve.div,{"data-side":L,"data-align":W,...y,ref:T,style:{...y.style,animation:G?void 0:"none"}})})})});jA.displayName=i_;var LA="PopperArrow",B4={top:"bottom",right:"left",bottom:"top",left:"right"},UA=w.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=z4(LA,r),a=B4[s.placedSide];return p.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:p.jsx(V4,{...i,ref:n,style:{...i.style,display:"block"}})})});UA.displayName=LA;function F4(t){return t!==null}var H4=t=>({name:"transformOrigin",options:t,fn(e){var E,_,b;const{placement:n,rects:r,middlewareData:i}=e,a=((E=i.arrow)==null?void 0:E.centerOffset)!==0,o=a?0:t.arrowWidth,l=a?0:t.arrowHeight,[u,d]=zA(n),f={start:"0%",center:"50%",end:"100%"}[d],m=(((_=i.arrow)==null?void 0:_.x)??0)+o/2,h=(((b=i.arrow)==null?void 0:b.y)??0)+l/2;let x="",y="";return u==="bottom"?(x=a?f:`${m}px`,y=`${-l}px`):u==="top"?(x=a?f:`${m}px`,y=`${r.floating.height+l}px`):u==="right"?(x=`${-l}px`,y=a?f:`${h}px`):u==="left"&&(x=`${r.floating.width+l}px`,y=a?f:`${h}px`),{data:{x,y}}}});function zA(t){const[e,n="center"]=t.split("-");return[e,n]}var BA=PA,s_=VA,a_=jA,o_=UA,q4="Portal",l_=w.forwardRef((t,e)=>{var o;const{container:n,...r}=t,[i,s]=w.useState(!1);nn(()=>s(!0),[]);const a=n||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?Px.createPortal(p.jsx(ve.div,{...r,ref:e}),a):null});l_.displayName=q4;function G4(t,e){return w.useReducer((n,r)=>e[n][r]??n,t)}var Da=t=>{const{present:e,children:n}=t,r=$4(e),i=typeof n=="function"?n({present:r.isPresent}):w.Children.only(n),s=Qe(r.ref,K4(i));return typeof n=="function"||r.isPresent?w.cloneElement(i,{ref:s}):null};Da.displayName="Presence";function $4(t){const[e,n]=w.useState(),r=w.useRef(null),i=w.useRef(t),s=w.useRef("none"),a=t?"mounted":"unmounted",[o,l]=G4(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const u=Od(r.current);s.current=o==="mounted"?u:"none"},[o]),nn(()=>{const u=r.current,d=i.current;if(d!==t){const m=s.current,h=Od(u);t?l("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&m!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),nn(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=h=>{const y=Od(r.current).includes(h.animationName);if(h.target===e&&y&&(l("ANIMATION_END"),!i.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},m=h=>{h.target===e&&(s.current=Od(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:w.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function Od(t){return(t==null?void 0:t.animationName)||"none"}function K4(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Q4=tv[" useInsertionEffect ".trim().toString()]||nn;function nu({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,a]=Y4({defaultProp:e,onChange:n}),o=t!==void 0,l=o?t:i;{const d=w.useRef(t!==void 0);w.useEffect(()=>{const f=d.current;f!==o&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,r])}const u=w.useCallback(d=>{var f;if(o){const m=X4(d)?d(t):d;m!==t&&((f=a.current)==null||f.call(a,m))}else s(d)},[o,t,s,a]);return[l,u]}function Y4({defaultProp:t,onChange:e}){const[n,r]=w.useState(t),i=w.useRef(n),s=w.useRef(e);return Q4(()=>{s.current=e},[e]),w.useEffect(()=>{var a;i.current!==n&&((a=s.current)==null||a.call(s,n),i.current=n)},[n,i]),[n,r,s]}function X4(t){return typeof t=="function"}var FA=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),W4="VisuallyHidden",HA=w.forwardRef((t,e)=>p.jsx(ve.span,{...t,ref:e,style:{...FA,...t.style}}));HA.displayName=W4;var Z4=HA,[Wh,dH]=Ei("Tooltip",[xl]),c_=xl(),qA="TooltipProvider",J4=700,Xw="tooltip.open",[eV,GA]=Wh(qA),$A=t=>{const{__scopeTooltip:e,delayDuration:n=J4,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,a=w.useRef(!0),o=w.useRef(!1),l=w.useRef(0);return w.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),p.jsx(eV,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:w.useCallback(()=>{window.clearTimeout(l.current),a.current=!1},[]),onClose:w.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:o,onPointerInTransitChange:w.useCallback(u=>{o.current=u},[]),disableHoverableContent:i,children:s})};$A.displayName=qA;var KA="Tooltip",[fH,Zh]=Wh(KA),ry="TooltipTrigger",tV=w.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Zh(ry,n),s=GA(ry,n),a=c_(n),o=w.useRef(null),l=Qe(e,o,i.onTriggerChange),u=w.useRef(!1),d=w.useRef(!1),f=w.useCallback(()=>u.current=!1,[]);return w.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),p.jsx(s_,{asChild:!0,...a,children:p.jsx(ve.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:J(t.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:J(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:J(t.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:J(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:J(t.onBlur,i.onClose),onClick:J(t.onClick,i.onClose)})})});tV.displayName=ry;var nV="TooltipPortal",[hH,rV]=Wh(nV,{forceMount:void 0}),sl="TooltipContent",QA=w.forwardRef((t,e)=>{const n=rV(sl,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,a=Zh(sl,t.__scopeTooltip);return p.jsx(Da,{present:r||a.open,children:a.disableHoverableContent?p.jsx(YA,{side:i,...s,ref:e}):p.jsx(iV,{side:i,...s,ref:e})})}),iV=w.forwardRef((t,e)=>{const n=Zh(sl,t.__scopeTooltip),r=GA(sl,t.__scopeTooltip),i=w.useRef(null),s=Qe(e,i),[a,o]=w.useState(null),{trigger:l,onClose:u}=n,d=i.current,{onPointerInTransitChange:f}=r,m=w.useCallback(()=>{o(null),f(!1)},[f]),h=w.useCallback((x,y)=>{const E=x.currentTarget,_={x:x.clientX,y:x.clientY},b=cV(_,E.getBoundingClientRect()),T=uV(_,b),N=dV(y.getBoundingClientRect()),P=hV([...T,...N]);o(P),f(!0)},[f]);return w.useEffect(()=>()=>m(),[m]),w.useEffect(()=>{if(l&&d){const x=E=>h(E,d),y=E=>h(E,l);return l.addEventListener("pointerleave",x),d.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",x),d.removeEventListener("pointerleave",y)}}},[l,d,h,m]),w.useEffect(()=>{if(a){const x=y=>{const E=y.target,_={x:y.clientX,y:y.clientY},b=(l==null?void 0:l.contains(E))||(d==null?void 0:d.contains(E)),T=!fV(_,a);b?m():T&&(m(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[l,d,a,u,m]),p.jsx(YA,{...t,ref:s})}),[sV,aV]=Wh(KA,{isInside:!1}),oV=uk("TooltipContent"),YA=w.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...o}=t,l=Zh(sl,n),u=c_(n),{onClose:d}=l;return w.useEffect(()=>(document.addEventListener(Xw,d),()=>document.removeEventListener(Xw,d)),[d]),w.useEffect(()=>{if(l.trigger){const f=m=>{const h=m.target;h!=null&&h.contains(l.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,d]),p.jsx(Kh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:p.jsxs(a_,{"data-state":l.stateAttribute,...u,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx(oV,{children:r}),p.jsx(sV,{scope:n,isInside:!0,children:p.jsx(Z4,{id:l.contentId,role:"tooltip",children:i||r})})]})})});QA.displayName=sl;var XA="TooltipArrow",lV=w.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=c_(n);return aV(XA,n).isInside?null:p.jsx(o_,{...i,...r,ref:e})});lV.displayName=XA;function cV(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function uV(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function dV(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function fV(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const o=e[s],l=e[a],u=o.x,d=o.y,f=l.x,m=l.y;d>r!=m>r&&n<(f-u)*(r-d)/(m-d)+u&&(i=!i)}return i}function hV(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),mV(e)}function mV(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],a=e[e.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],a=n[n.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var pV=$A,WA=QA;function ZA(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=ZA(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function JA(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=ZA(t))&&(r&&(r+=" "),r+=e);return r}const u_="-",gV=t=>{const e=vV(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const o=a.split(u_);return o[0]===""&&o.length!==1&&o.shift(),eR(o,e)||yV(a)},getConflictingClassGroupIds:(a,o)=>{const l=n[a]||[];return o&&r[a]?[...l,...r[a]]:l}}},eR=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?eR(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(u_);return(a=e.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},Ww=/^\[(.+)\]$/,yV=t=>{if(Ww.test(t)){const e=Ww.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},vV=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return bV(Object.entries(t.classGroups),n).forEach(([s,a])=>{iy(a,r,s,e)}),r},iy=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:Zw(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(_V(i)){iy(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{iy(a,Zw(e,s),n,r)})})},Zw=(t,e)=>{let n=t;return e.split(u_).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},_V=t=>t.isThemeGetter,bV=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[e+a,o])):s);return[n,i]}):t,wV=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,a)=>{n.set(s,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},tR="!",EV=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,a=o=>{const l=[];let u=0,d=0,f;for(let E=0;E<o.length;E++){let _=o[E];if(u===0){if(_===i&&(r||o.slice(E,E+s)===e)){l.push(o.slice(d,E)),d=E+s;continue}if(_==="/"){f=E;continue}}_==="["?u++:_==="]"&&u--}const m=l.length===0?o:o.substring(d),h=m.startsWith(tR),x=h?m.substring(1):m,y=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:x,maybePostfixModifierPosition:y}};return n?o=>n({className:o,parseClassName:a}):a},TV=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},xV=t=>({cache:wV(t.cacheSize),parseClassName:EV(t),...gV(t)}),SV=/\s+/,AV=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],a=t.trim().split(SV);let o="";for(let l=a.length-1;l>=0;l-=1){const u=a[l],{modifiers:d,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:h}=n(u);let x=!!h,y=r(x?m.substring(0,h):m);if(!y){if(!x){o=u+(o.length>0?" "+o:o);continue}if(y=r(m),!y){o=u+(o.length>0?" "+o:o);continue}x=!1}const E=TV(d).join(":"),_=f?E+tR:E,b=_+y;if(s.includes(b))continue;s.push(b);const T=i(y,x);for(let N=0;N<T.length;++N){const P=T[N];s.push(_+P)}o=u+(o.length>0?" "+o:o)}return o};function RV(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=nR(e))&&(r&&(r+=" "),r+=n);return r}const nR=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=nR(t[r]))&&(n&&(n+=" "),n+=e);return n};function CV(t,...e){let n,r,i,s=a;function a(l){const u=e.reduce((d,f)=>f(d),t());return n=xV(u),r=n.cache.get,i=n.cache.set,s=o,o(l)}function o(l){const u=r(l);if(u)return u;const d=AV(l,n);return i(l,d),d}return function(){return s(RV.apply(null,arguments))}}const Xe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},rR=/^\[(?:([a-z-]+):)?(.+)\]$/i,IV=/^\d+\/\d+$/,NV=new Set(["px","full","screen"]),MV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,DV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,OV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,PV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,kV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yr=t=>Co(t)||NV.has(t)||IV.test(t),Di=t=>Sl(t,"length",HV),Co=t=>!!t&&!Number.isNaN(Number(t)),Dp=t=>Sl(t,"number",Co),tc=t=>!!t&&Number.isInteger(Number(t)),VV=t=>t.endsWith("%")&&Co(t.slice(0,-1)),he=t=>rR.test(t),Oi=t=>MV.test(t),jV=new Set(["length","size","percentage"]),LV=t=>Sl(t,jV,iR),UV=t=>Sl(t,"position",iR),zV=new Set(["image","url"]),BV=t=>Sl(t,zV,GV),FV=t=>Sl(t,"",qV),nc=()=>!0,Sl=(t,e,n)=>{const r=rR.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},HV=t=>DV.test(t)&&!OV.test(t),iR=()=>!1,qV=t=>PV.test(t),GV=t=>kV.test(t),$V=()=>{const t=Xe("colors"),e=Xe("spacing"),n=Xe("blur"),r=Xe("brightness"),i=Xe("borderColor"),s=Xe("borderRadius"),a=Xe("borderSpacing"),o=Xe("borderWidth"),l=Xe("contrast"),u=Xe("grayscale"),d=Xe("hueRotate"),f=Xe("invert"),m=Xe("gap"),h=Xe("gradientColorStops"),x=Xe("gradientColorStopPositions"),y=Xe("inset"),E=Xe("margin"),_=Xe("opacity"),b=Xe("padding"),T=Xe("saturate"),N=Xe("scale"),P=Xe("sepia"),V=Xe("skew"),A=Xe("space"),S=Xe("translate"),C=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",he,e],M=()=>[he,e],D=()=>["",Yr,Di],Z=()=>["auto",Co,he],le=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",he],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],fe=()=>[Co,he];return{cacheSize:500,separator:":",theme:{colors:[nc],spacing:[Yr,Di],blur:["none","",Oi,he],brightness:fe(),borderColor:[t],borderRadius:["none","","full",Oi,he],borderSpacing:M(),borderWidth:D(),contrast:fe(),grayscale:L(),hueRotate:fe(),invert:L(),gap:M(),gradientColorStops:[t],gradientColorStopPositions:[VV,Di],inset:O(),margin:O(),opacity:fe(),padding:M(),saturate:fe(),scale:fe(),sepia:L(),skew:fe(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",he]}],container:["container"],columns:[{columns:[Oi]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...le(),he]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",tc,he]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",he]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",tc,he]}],"grid-cols":[{"grid-cols":[nc]}],"col-start-end":[{col:["auto",{span:["full",tc,he]},he]}],"col-start":[{"col-start":Z()}],"col-end":[{"col-end":Z()}],"grid-rows":[{"grid-rows":[nc]}],"row-start-end":[{row:["auto",{span:[tc,he]},he]}],"row-start":[{"row-start":Z()}],"row-end":[{"row-end":Z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",he]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",he]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",he,e]}],"min-w":[{"min-w":[he,e,"min","max","fit"]}],"max-w":[{"max-w":[he,e,"none","full","min","max","fit","prose",{screen:[Oi]},Oi]}],h:[{h:[he,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[he,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[he,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[he,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Oi,Di]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Dp]}],"font-family":[{font:[nc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",he]}],"line-clamp":[{"line-clamp":["none",Co,Dp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Yr,he]}],"list-image":[{"list-image":["none",he]}],"list-style-type":[{list:["none","disc","decimal",he]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Yr,Di]}],"underline-offset":[{"underline-offset":["auto",Yr,he]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",he]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",he]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...le(),UV]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",LV]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},BV]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:U()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[Yr,he]}],"outline-w":[{outline:[Yr,Di]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Yr,Di]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Oi,FV]}],"shadow-color":[{shadow:[nc]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Oi,he]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[T]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",he]}],duration:[{duration:fe()}],ease:[{ease:["linear","in","out","in-out",he]}],delay:[{delay:fe()}],animate:[{animate:["none","spin","ping","pulse","bounce",he]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[tc,he]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[V]}],"skew-y":[{"skew-y":[V]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",he]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",he]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",he]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Yr,Di,Dp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},KV=CV($V);function Me(...t){return KV(JA(t))}const QV=pV,YV=w.forwardRef(({className:t,sideOffset:e=4,...n},r)=>p.jsx(WA,{ref:r,sideOffset:e,className:Me("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));YV.displayName=WA.displayName;var Jh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},em=typeof window>"u"||"Deno"in globalThis;function nr(){}function XV(t,e){return typeof t=="function"?t(e):t}function WV(t){return typeof t=="number"&&t>=0&&t!==1/0}function ZV(t,e){return Math.max(t+(e||0)-Date.now(),0)}function sy(t,e){return typeof t=="function"?t(e):t}function JV(t,e){return typeof t=="function"?t(e):t}function Jw(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:o}=t;if(a){if(r){if(e.queryHash!==d_(a,e.options))return!1}else if(!iu(e.queryKey,a))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||s&&!s(e))}function eE(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(ru(e.options.mutationKey)!==ru(s))return!1}else if(!iu(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function d_(t,e){return((e==null?void 0:e.queryKeyHashFn)||ru)(t)}function ru(t){return JSON.stringify(t,(e,n)=>ay(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function iu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>iu(t[n],e[n])):!1}function sR(t,e){if(t===e)return t;const n=tE(t)&&tE(e);if(n||ay(t)&&ay(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),a=s.length,o=n?[]:{},l=new Set(r);let u=0;for(let d=0;d<a;d++){const f=n?d:s[d];(!n&&l.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(o[f]=void 0,u++):(o[f]=sR(t[f],e[f]),o[f]===t[f]&&t[f]!==void 0&&u++)}return i===a&&u===i?t:o}return e}function tE(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ay(t){if(!nE(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!nE(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function nE(t){return Object.prototype.toString.call(t)==="[object Object]"}function ej(t){return new Promise(e=>{setTimeout(e,t)})}function tj(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?sR(t,e):e}function nj(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function rj(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var f_=Symbol();function aR(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===f_?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var ea,Wi,Lo,ux,ij=(ux=class extends Jh{constructor(){super();Oe(this,ea);Oe(this,Wi);Oe(this,Lo);de(this,Lo,e=>{if(!em&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){z(this,Wi)||this.setEventListener(z(this,Lo))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,Wi))==null||e.call(this),de(this,Wi,void 0))}setEventListener(e){var n;de(this,Lo,e),(n=z(this,Wi))==null||n.call(this),de(this,Wi,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){z(this,ea)!==e&&(de(this,ea,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof z(this,ea)=="boolean"?z(this,ea):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ea=new WeakMap,Wi=new WeakMap,Lo=new WeakMap,ux),oR=new ij,Uo,Zi,zo,dx,sj=(dx=class extends Jh{constructor(){super();Oe(this,Uo,!0);Oe(this,Zi);Oe(this,zo);de(this,zo,e=>{if(!em&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){z(this,Zi)||this.setEventListener(z(this,zo))}onUnsubscribe(){var e;this.hasListeners()||((e=z(this,Zi))==null||e.call(this),de(this,Zi,void 0))}setEventListener(e){var n;de(this,zo,e),(n=z(this,Zi))==null||n.call(this),de(this,Zi,e(this.setOnline.bind(this)))}setOnline(e){z(this,Uo)!==e&&(de(this,Uo,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return z(this,Uo)}},Uo=new WeakMap,Zi=new WeakMap,zo=new WeakMap,dx),nh=new sj;function aj(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function oj(t){return Math.min(1e3*2**t,3e4)}function lR(t){return(t??"online")==="online"?nh.isOnline():!0}var cR=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Op(t){return t instanceof cR}function uR(t){let e=!1,n=0,r=!1,i;const s=aj(),a=y=>{var E;r||(m(new cR(y)),(E=t.abort)==null||E.call(t))},o=()=>{e=!0},l=()=>{e=!1},u=()=>oR.isFocused()&&(t.networkMode==="always"||nh.isOnline())&&t.canRun(),d=()=>lR(t.networkMode)&&t.canRun(),f=y=>{var E;r||(r=!0,(E=t.onSuccess)==null||E.call(t,y),i==null||i(),s.resolve(y))},m=y=>{var E;r||(r=!0,(E=t.onError)==null||E.call(t,y),i==null||i(),s.reject(y))},h=()=>new Promise(y=>{var E;i=_=>{(r||u())&&y(_)},(E=t.onPause)==null||E.call(t)}).then(()=>{var y;i=void 0,r||(y=t.onContinue)==null||y.call(t)}),x=()=>{if(r)return;let y;const E=n===0?t.initialPromise:void 0;try{y=E??t.fn()}catch(_){y=Promise.reject(_)}Promise.resolve(y).then(f).catch(_=>{var V;if(r)return;const b=t.retry??(em?0:3),T=t.retryDelay??oj,N=typeof T=="function"?T(n,_):T,P=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,_);if(e||!P){m(_);return}n++,(V=t.onFail)==null||V.call(t,n,_),ej(N).then(()=>u()?void 0:h()).then(()=>{e?m(_):x()})})};return{promise:s,cancel:a,continue:()=>(i==null||i(),s),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?x():h().then(x),s)}}var lj=t=>setTimeout(t,0);function cj(){let t=[],e=0,n=o=>{o()},r=o=>{o()},i=lj;const s=o=>{e?t.push(o):i(()=>{n(o)})},a=()=>{const o=t;t=[],o.length&&i(()=>{r(()=>{o.forEach(l=>{n(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{s(()=>{o(...l)})},schedule:s,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{i=o}}}var on=cj(),ta,fx,dR=(fx=class{constructor(){Oe(this,ta)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),WV(this.gcTime)&&de(this,ta,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(em?1/0:5*60*1e3))}clearGcTimeout(){z(this,ta)&&(clearTimeout(z(this,ta)),de(this,ta,void 0))}},ta=new WeakMap,fx),Bo,na,jn,ra,Wt,yu,ia,rr,Xr,hx,uj=(hx=class extends dR{constructor(n){super();Oe(this,rr);Oe(this,Bo);Oe(this,na);Oe(this,jn);Oe(this,ra);Oe(this,Wt);Oe(this,yu);Oe(this,ia);de(this,ia,!1),de(this,yu,n.defaultOptions),this.setOptions(n.options),this.observers=[],de(this,ra,n.client),de(this,jn,z(this,ra).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,de(this,Bo,fj(this.options)),this.state=n.state??z(this,Bo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=z(this,Wt))==null?void 0:n.promise}setOptions(n){this.options={...z(this,yu),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&z(this,jn).remove(this)}setData(n,r){const i=tj(this.state.data,n,this.options);return Yt(this,rr,Xr).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){Yt(this,rr,Xr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=z(this,Wt))==null?void 0:i.promise;return(s=z(this,Wt))==null||s.cancel(n),r?r.then(nr).catch(nr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(z(this,Bo))}isActive(){return this.observers.some(n=>JV(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===f_||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>sy(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!ZV(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,Wt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=z(this,Wt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),z(this,jn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(z(this,Wt)&&(z(this,ia)?z(this,Wt).cancel({revert:!0}):z(this,Wt).cancelRetry()),this.scheduleGc()),z(this,jn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Yt(this,rr,Xr).call(this,{type:"invalidate"})}fetch(n,r){var d,f,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(z(this,Wt))return z(this,Wt).continueRetry(),z(this,Wt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const h=this.observers.find(x=>x.options.queryFn);h&&this.setOptions(h.options)}const i=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(de(this,ia,!0),i.signal)})},a=()=>{const h=aR(this.options,r),y=(()=>{const E={client:z(this,ra),queryKey:this.queryKey,meta:this.meta};return s(E),E})();return de(this,ia,!1),this.options.persister?this.options.persister(h,y,this):h(y)},l=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:z(this,ra),state:this.state,fetchFn:a};return s(h),h})();(d=this.options.behavior)==null||d.onFetch(l,this),de(this,na,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&Yt(this,rr,Xr).call(this,{type:"fetch",meta:(m=l.fetchOptions)==null?void 0:m.meta});const u=h=>{var x,y,E,_;Op(h)&&h.silent||Yt(this,rr,Xr).call(this,{type:"error",error:h}),Op(h)||((y=(x=z(this,jn).config).onError)==null||y.call(x,h,this),(_=(E=z(this,jn).config).onSettled)==null||_.call(E,this.state.data,h,this)),this.scheduleGc()};return de(this,Wt,uR({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:i.abort.bind(i),onSuccess:h=>{var x,y,E,_;if(h===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(b){u(b);return}(y=(x=z(this,jn).config).onSuccess)==null||y.call(x,h,this),(_=(E=z(this,jn).config).onSettled)==null||_.call(E,h,this.state.error,this),this.scheduleGc()},onError:u,onFail:(h,x)=>{Yt(this,rr,Xr).call(this,{type:"failed",failureCount:h,error:x})},onPause:()=>{Yt(this,rr,Xr).call(this,{type:"pause"})},onContinue:()=>{Yt(this,rr,Xr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),z(this,Wt).start()}},Bo=new WeakMap,na=new WeakMap,jn=new WeakMap,ra=new WeakMap,Wt=new WeakMap,yu=new WeakMap,ia=new WeakMap,rr=new WeakSet,Xr=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...dj(i.data,this.options),fetchMeta:n.meta??null};case"success":return de(this,na,void 0),{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return Op(s)&&s.revert&&z(this,na)?{...z(this,na),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),on.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),z(this,jn).notify({query:this,type:"updated",action:n})})},hx);function dj(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:lR(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function fj(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var yr,mx,hj=(mx=class extends Jh{constructor(e={}){super();Oe(this,yr);this.config=e,de(this,yr,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??d_(i,n);let a=this.get(s);return a||(a=new uj({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){z(this,yr).has(e.queryHash)||(z(this,yr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=z(this,yr).get(e.queryHash);n&&(e.destroy(),n===e&&z(this,yr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){on.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return z(this,yr).get(e)}getAll(){return[...z(this,yr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Jw(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Jw(e,r)):n}notify(e){on.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){on.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){on.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},yr=new WeakMap,mx),vr,sn,sa,_r,ji,px,mj=(px=class extends dR{constructor(n){super();Oe(this,_r);Oe(this,vr);Oe(this,sn);Oe(this,sa);this.mutationId=n.mutationId,de(this,sn,n.mutationCache),de(this,vr,[]),this.state=n.state||pj(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){z(this,vr).includes(n)||(z(this,vr).push(n),this.clearGcTimeout(),z(this,sn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){de(this,vr,z(this,vr).filter(r=>r!==n)),this.scheduleGc(),z(this,sn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){z(this,vr).length||(this.state.status==="pending"?this.scheduleGc():z(this,sn).remove(this))}continue(){var n;return((n=z(this,sa))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var a,o,l,u,d,f,m,h,x,y,E,_,b,T,N,P,V,A,S,C;const r=()=>{Yt(this,_r,ji).call(this,{type:"continue"})};de(this,sa,uR({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(I,O)=>{Yt(this,_r,ji).call(this,{type:"failed",failureCount:I,error:O})},onPause:()=>{Yt(this,_r,ji).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>z(this,sn).canRun(this)}));const i=this.state.status==="pending",s=!z(this,sa).canStart();try{if(i)r();else{Yt(this,_r,ji).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(a=z(this,sn).config).onMutate)==null?void 0:o.call(a,n,this));const O=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,n));O!==this.state.context&&Yt(this,_r,ji).call(this,{type:"pending",context:O,variables:n,isPaused:s})}const I=await z(this,sa).start();return await((f=(d=z(this,sn).config).onSuccess)==null?void 0:f.call(d,I,n,this.state.context,this)),await((h=(m=this.options).onSuccess)==null?void 0:h.call(m,I,n,this.state.context)),await((y=(x=z(this,sn).config).onSettled)==null?void 0:y.call(x,I,null,this.state.variables,this.state.context,this)),await((_=(E=this.options).onSettled)==null?void 0:_.call(E,I,null,n,this.state.context)),Yt(this,_r,ji).call(this,{type:"success",data:I}),I}catch(I){try{throw await((T=(b=z(this,sn).config).onError)==null?void 0:T.call(b,I,n,this.state.context,this)),await((P=(N=this.options).onError)==null?void 0:P.call(N,I,n,this.state.context)),await((A=(V=z(this,sn).config).onSettled)==null?void 0:A.call(V,void 0,I,this.state.variables,this.state.context,this)),await((C=(S=this.options).onSettled)==null?void 0:C.call(S,void 0,I,n,this.state.context)),I}finally{Yt(this,_r,ji).call(this,{type:"error",error:I})}}finally{z(this,sn).runNext(this)}}},vr=new WeakMap,sn=new WeakMap,sa=new WeakMap,_r=new WeakSet,ji=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),on.batch(()=>{z(this,vr).forEach(i=>{i.onMutationUpdate(n)}),z(this,sn).notify({mutation:this,type:"updated",action:n})})},px);function pj(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Wr,ir,vu,gx,gj=(gx=class extends Jh{constructor(e={}){super();Oe(this,Wr);Oe(this,ir);Oe(this,vu);this.config=e,de(this,Wr,new Set),de(this,ir,new Map),de(this,vu,0)}build(e,n,r){const i=new mj({mutationCache:this,mutationId:++pd(this,vu)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){z(this,Wr).add(e);const n=Pd(e);if(typeof n=="string"){const r=z(this,ir).get(n);r?r.push(e):z(this,ir).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(z(this,Wr).delete(e)){const n=Pd(e);if(typeof n=="string"){const r=z(this,ir).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&z(this,ir).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Pd(e);if(typeof n=="string"){const r=z(this,ir).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=Pd(e);if(typeof n=="string"){const i=(r=z(this,ir).get(n))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){on.batch(()=>{z(this,Wr).forEach(e=>{this.notify({type:"removed",mutation:e})}),z(this,Wr).clear(),z(this,ir).clear()})}getAll(){return Array.from(z(this,Wr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>eE(n,r))}findAll(e={}){return this.getAll().filter(n=>eE(e,n))}notify(e){on.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return on.batch(()=>Promise.all(e.map(n=>n.continue().catch(nr))))}},Wr=new WeakMap,ir=new WeakMap,vu=new WeakMap,gx);function Pd(t){var e;return(e=t.options.scope)==null?void 0:e.id}function rE(t){return{onFetch:(e,n)=>{var d,f,m,h,x;const r=e.options,i=(m=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,s=((h=e.state.data)==null?void 0:h.pages)||[],a=((x=e.state.data)==null?void 0:x.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let y=!1;const E=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},_=aR(e.options,e.fetchOptions),b=async(T,N,P)=>{if(y)return Promise.reject();if(N==null&&T.pages.length)return Promise.resolve(T);const A=(()=>{const O={client:e.client,queryKey:e.queryKey,pageParam:N,direction:P?"backward":"forward",meta:e.options.meta};return E(O),O})(),S=await _(A),{maxPages:C}=e.options,I=P?rj:nj;return{pages:I(T.pages,S,C),pageParams:I(T.pageParams,N,C)}};if(i&&s.length){const T=i==="backward",N=T?yj:iE,P={pages:s,pageParams:a},V=N(r,P);o=await b(P,V,T)}else{const T=t??s.length;do{const N=l===0?a[0]??r.initialPageParam:iE(r,o);if(l>0&&N==null)break;o=await b(o,N),l++}while(l<T)}return o};e.options.persister?e.fetchFn=()=>{var y,E;return(E=(y=e.options).persister)==null?void 0:E.call(y,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function iE(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function yj(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var lt,Ji,es,Fo,Ho,ts,qo,Go,yx,vj=(yx=class{constructor(t={}){Oe(this,lt);Oe(this,Ji);Oe(this,es);Oe(this,Fo);Oe(this,Ho);Oe(this,ts);Oe(this,qo);Oe(this,Go);de(this,lt,t.queryCache||new hj),de(this,Ji,t.mutationCache||new gj),de(this,es,t.defaultOptions||{}),de(this,Fo,new Map),de(this,Ho,new Map),de(this,ts,0)}mount(){pd(this,ts)._++,z(this,ts)===1&&(de(this,qo,oR.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,lt).onFocus())})),de(this,Go,nh.subscribe(async t=>{t&&(await this.resumePausedMutations(),z(this,lt).onOnline())})))}unmount(){var t,e;pd(this,ts)._--,z(this,ts)===0&&((t=z(this,qo))==null||t.call(this),de(this,qo,void 0),(e=z(this,Go))==null||e.call(this),de(this,Go,void 0))}isFetching(t){return z(this,lt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return z(this,Ji).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,lt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=z(this,lt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(sy(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return z(this,lt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=z(this,lt).get(r.queryHash),s=i==null?void 0:i.state.data,a=XV(e,s);if(a!==void 0)return z(this,lt).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return on.batch(()=>z(this,lt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=z(this,lt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=z(this,lt);on.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=z(this,lt);return on.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=on.batch(()=>z(this,lt).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(nr).catch(nr)}invalidateQueries(t,e={}){return on.batch(()=>(z(this,lt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=on.batch(()=>z(this,lt).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(nr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(nr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=z(this,lt).build(this,e);return n.isStaleByTime(sy(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(nr).catch(nr)}fetchInfiniteQuery(t){return t.behavior=rE(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(nr).catch(nr)}ensureInfiniteQueryData(t){return t.behavior=rE(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return nh.isOnline()?z(this,Ji).resumePausedMutations():Promise.resolve()}getQueryCache(){return z(this,lt)}getMutationCache(){return z(this,Ji)}getDefaultOptions(){return z(this,es)}setDefaultOptions(t){de(this,es,t)}setQueryDefaults(t,e){z(this,Fo).set(ru(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...z(this,Fo).values()],n={};return e.forEach(r=>{iu(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){z(this,Ho).set(ru(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...z(this,Ho).values()],n={};return e.forEach(r=>{iu(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...z(this,es).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=d_(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===f_&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...z(this,es).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){z(this,lt).clear(),z(this,Ji).clear()}},lt=new WeakMap,Ji=new WeakMap,es=new WeakMap,Fo=new WeakMap,Ho=new WeakMap,ts=new WeakMap,qo=new WeakMap,Go=new WeakMap,yx),_j=w.createContext(void 0),bj=({client:t,children:e})=>(w.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),p.jsx(_j.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rh(){return rh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rh.apply(this,arguments)}var as;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(as||(as={}));const sE="popstate";function wj(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return oy("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:hR(i)}return Tj(e,n,null,t)}function wn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fR(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ej(){return Math.random().toString(36).substr(2,8)}function aE(t,e){return{usr:t.state,key:t.key,idx:e}}function oy(t,e,n,r){return n===void 0&&(n=null),rh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?tm(e):e,{state:n,key:e&&e.key||r||Ej()})}function hR(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function tm(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Tj(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=as.Pop,l=null,u=d();u==null&&(u=0,a.replaceState(rh({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){o=as.Pop;let E=d(),_=E==null?null:E-u;u=E,l&&l({action:o,location:y.location,delta:_})}function m(E,_){o=as.Push;let b=oy(y.location,E,_);u=d()+1;let T=aE(b,u),N=y.createHref(b);try{a.pushState(T,"",N)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(N)}s&&l&&l({action:o,location:y.location,delta:1})}function h(E,_){o=as.Replace;let b=oy(y.location,E,_);u=d();let T=aE(b,u),N=y.createHref(b);a.replaceState(T,"",N),s&&l&&l({action:o,location:y.location,delta:0})}function x(E){let _=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof E=="string"?E:hR(E);return b=b.replace(/ $/,"%20"),wn(_,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,_)}let y={get action(){return o},get location(){return t(i,a)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(sE,f),l=E,()=>{i.removeEventListener(sE,f),l=null}},createHref(E){return e(i,E)},createURL:x,encodeLocation(E){let _=x(E);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:m,replace:h,go(E){return a.go(E)}};return y}var oE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(oE||(oE={}));function xj(t,e,n){return n===void 0&&(n="/"),Sj(t,e,n)}function Sj(t,e,n,r){let i=typeof e=="string"?tm(e):e,s=gR(i.pathname||"/",n);if(s==null)return null;let a=mR(t);Aj(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=Lj(s);o=kj(a[l],u)}return o}function mR(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(wn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Io([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(wn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),mR(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:Oj(u,s.index),routesMeta:d})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of pR(s.path))i(s,a,l)}),e}function pR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=pR(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function Aj(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Pj(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Rj=/^:[\w-]+$/,Cj=3,Ij=2,Nj=1,Mj=10,Dj=-2,lE=t=>t==="*";function Oj(t,e){let n=t.split("/"),r=n.length;return n.some(lE)&&(r+=Dj),e&&(r+=Ij),n.filter(i=>!lE(i)).reduce((i,s)=>i+(Rj.test(s)?Cj:s===""?Nj:Mj),r)}function Pj(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function kj(t,e,n){let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],u=o===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=Vj({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),m=l.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:Io([s,f.pathname]),pathnameBase:Uj(Io([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=Io([s,f.pathnameBase]))}return a}function Vj(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=jj(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:m,isOptional:h}=d;if(m==="*"){let y=o[f]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const x=o[f];return h&&!x?u[m]=void 0:u[m]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function jj(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),fR(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Lj(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fR(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function gR(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const Io=t=>t.join("/").replace(/\/\/+/g,"/"),Uj=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function zj(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const yR=["post","put","patch","delete"];new Set(yR);const Bj=["get",...yR];new Set(Bj);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ih(){return ih=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ih.apply(this,arguments)}const Fj=w.createContext(null),Hj=w.createContext(null),vR=w.createContext(null),nm=w.createContext(null),rm=w.createContext({outlet:null,matches:[],isDataRoute:!1}),_R=w.createContext(null);function h_(){return w.useContext(nm)!=null}function qj(){return h_()||wn(!1),w.useContext(nm).location}function Gj(t,e){return $j(t,e)}function $j(t,e,n,r){h_()||wn(!1);let{navigator:i}=w.useContext(vR),{matches:s}=w.useContext(rm),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=qj(),d;if(e){var f;let E=typeof e=="string"?tm(e):e;l==="/"||(f=E.pathname)!=null&&f.startsWith(l)||wn(!1),d=E}else d=u;let m=d.pathname||"/",h=m;if(l!=="/"){let E=l.replace(/^\//,"").split("/");h="/"+m.replace(/^\//,"").split("/").slice(E.length).join("/")}let x=xj(t,{pathname:h}),y=Wj(x&&x.map(E=>Object.assign({},E,{params:Object.assign({},o,E.params),pathname:Io([l,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:Io([l,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,r);return e&&y?w.createElement(nm.Provider,{value:{location:ih({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:as.Pop}},y):y}function Kj(){let t=tL(),e=zj(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:i},n):null,null)}const Qj=w.createElement(Kj,null);class Yj extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?w.createElement(rm.Provider,{value:this.props.routeContext},w.createElement(_R.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Xj(t){let{routeContext:e,match:n,children:r}=t,i=w.useContext(Fj);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(rm.Provider,{value:e},r)}function Wj(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||wn(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:m,errors:h}=n,x=f.route.loader&&m[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||x){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,m)=>{let h,x=!1,y=null,E=null;n&&(h=o&&f.route.id?o[f.route.id]:void 0,y=f.route.errorElement||Qj,l&&(u<0&&m===0?(nL("route-fallback"),x=!0,E=null):u===m&&(x=!0,E=f.route.hydrateFallbackElement||null)));let _=e.concat(a.slice(0,m+1)),b=()=>{let T;return h?T=y:x?T=E:f.route.Component?T=w.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=d,w.createElement(Xj,{match:f,routeContext:{outlet:d,matches:_,isDataRoute:n!=null},children:T})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?w.createElement(Yj,{location:n.location,revalidation:n.revalidation,component:y,error:h,children:b(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):b()},null)}var bR=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(bR||{});function Zj(t){let e=w.useContext(Hj);return e||wn(!1),e}function Jj(t){let e=w.useContext(rm);return e||wn(!1),e}function eL(t){let e=Jj(),n=e.matches[e.matches.length-1];return n.route.id||wn(!1),n.route.id}function tL(){var t;let e=w.useContext(_R),n=Zj(bR.UseRouteError),r=eL();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}const cE={};function nL(t,e,n){cE[t]||(cE[t]=!0)}function rL(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function ly(t){wn(!1)}function iL(t){let{basename:e="/",children:n=null,location:r,navigationType:i=as.Pop,navigator:s,static:a=!1,future:o}=t;h_()&&wn(!1);let l=e.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:l,navigator:s,static:a,future:ih({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof r=="string"&&(r=tm(r));let{pathname:d="/",search:f="",hash:m="",state:h=null,key:x="default"}=r,y=w.useMemo(()=>{let E=gR(d,l);return E==null?null:{location:{pathname:E,search:f,hash:m,state:h,key:x},navigationType:i}},[l,d,f,m,h,x,i]);return y==null?null:w.createElement(vR.Provider,{value:u},w.createElement(nm.Provider,{children:n,value:y}))}function sL(t){let{children:e,location:n}=t;return Gj(cy(e),n)}new Promise(()=>{});function cy(t,e){e===void 0&&(e=[]);let n=[];return w.Children.forEach(t,(r,i)=>{if(!w.isValidElement(r))return;let s=[...e,i];if(r.type===w.Fragment){n.push.apply(n,cy(r.props.children,s));return}r.type!==ly&&wn(!1),!r.props.index||!r.props.children||wn(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=cy(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const aL="6";try{window.__reactRouterVersion=aL}catch{}const oL="startTransition",uE=tv[oL];function lL(t){let{basename:e,children:n,future:r,window:i}=t,s=w.useRef();s.current==null&&(s.current=wj({window:i,v5Compat:!0}));let a=s.current,[o,l]=w.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},d=w.useCallback(f=>{u&&uE?uE(()=>l(f)):l(f)},[l,u]);return w.useLayoutEffect(()=>a.listen(d),[a,d]),w.useEffect(()=>rL(r),[r]),w.createElement(iL,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}var dE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(dE||(dE={}));var fE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(fE||(fE={}));const cL=()=>{};var hE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},uL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],o=t[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},ER={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,f=(s&3)<<4|o>>4;let m=(o&15)<<2|u>>6,h=u&63;l||(h=64,a||(m=64)),r.push(n[d],n[f],n[m],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):uL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||u==null||f==null)throw new dL;const m=s<<2|o>>4;if(r.push(m),u!==64){const h=o<<4&240|u>>2;if(r.push(h),f!==64){const x=u<<6&192|f;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class dL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fL=function(t){const e=wR(t);return ER.encodeByteArray(e,!0)},sh=function(t){return fL(t).replace(/\./g,"")},TR=function(t){try{return ER.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL=()=>hL().__FIREBASE_DEFAULTS__,pL=()=>{if(typeof process>"u"||typeof hE>"u")return;const t=hE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},gL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&TR(t[1]);return e&&JSON.parse(e)},im=()=>{try{return cL()||mL()||pL()||gL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},xR=t=>{var e,n;return(n=(e=im())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},yL=t=>{const e=xR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},SR=()=>{var t;return(t=im())==null?void 0:t.config},AR=t=>{var e;return(e=im())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function RR(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _L(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[sh(JSON.stringify(n)),sh(JSON.stringify(a)),""].join(".")}const Mc={};function bL(){const t={prod:[],emulator:[]};for(const e of Object.keys(Mc))Mc[e]?t.emulator.push(e):t.prod.push(e);return t}function wL(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let mE=!1;function CR(t,e){if(typeof window>"u"||typeof document>"u"||!Al(window.location.host)||Mc[t]===e||Mc[t]||mE)return;Mc[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",s=bL().prod.length>0;function a(){const m=document.getElementById(r);m&&m.remove()}function o(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,h){m.setAttribute("width","24"),m.setAttribute("id",h),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{mE=!0,a()},m}function d(m,h){m.setAttribute("id",h),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=wL(r),h=n("text"),x=document.getElementById(h)||document.createElement("span"),y=n("learnmore"),E=document.getElementById(y)||document.createElement("a"),_=n("preprendIcon"),b=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const T=m.element;o(T),d(E,y);const N=u();l(b,_),T.append(b,x,E,N),document.body.appendChild(T)}s?(x.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",h)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function EL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function TL(){var e;const t=(e=im())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function AL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RL(){const t=rn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function CL(){return!TL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function IL(){try{return typeof indexedDB=="object"}catch{return!1}}function NL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML="FirebaseError";class Ti extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ML,Object.setPrototypeOf(this,Ti.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vu.prototype.create)}}class Vu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?DL(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new Ti(i,o,r)}}function DL(t,e){return t.replace(OL,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const OL=/\{\$([^}]+)}/g;function PL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function wa(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(pE(s)&&pE(a)){if(!wa(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function pE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function kL(t,e){const n=new VL(t,e);return n.subscribe.bind(n)}class VL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");jL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Pp),i.error===void 0&&(i.error=Pp),i.complete===void 0&&(i.complete=Pp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Pp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(t){return t&&t._delegate?t._delegate:t}class Ea{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new vL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zL(e))try{this.getOrInitializeService({instanceIdentifier:Xs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xs){return this.instances.has(e)}getOptions(e=Xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:UL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xs){return this.component?this.component.multipleInstances?e:Xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function UL(t){return t===Xs?void 0:t}function zL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new LL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ee||(Ee={}));const FL={debug:Ee.DEBUG,verbose:Ee.VERBOSE,info:Ee.INFO,warn:Ee.WARN,error:Ee.ERROR,silent:Ee.SILENT},HL=Ee.INFO,qL={[Ee.DEBUG]:"log",[Ee.VERBOSE]:"log",[Ee.INFO]:"info",[Ee.WARN]:"warn",[Ee.ERROR]:"error"},GL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=qL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class m_{constructor(e){this.name=e,this._logLevel=HL,this._logHandler=GL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ee.DEBUG,...e),this._logHandler(this,Ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ee.VERBOSE,...e),this._logHandler(this,Ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ee.INFO,...e),this._logHandler(this,Ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ee.WARN,...e),this._logHandler(this,Ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ee.ERROR,...e),this._logHandler(this,Ee.ERROR,...e)}}const $L=(t,e)=>e.some(n=>t instanceof n);let gE,yE;function KL(){return gE||(gE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QL(){return yE||(yE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IR=new WeakMap,uy=new WeakMap,NR=new WeakMap,kp=new WeakMap,p_=new WeakMap;function YL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(gs(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&IR.set(n,t)}).catch(()=>{}),p_.set(e,t),e}function XL(t){if(uy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});uy.set(t,e)}let dy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return uy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||NR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function WL(t){dy=t(dy)}function ZL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Vp(this),e,...n);return NR.set(r,e.sort?e.sort():[e]),gs(r)}:QL().includes(t)?function(...e){return t.apply(Vp(this),e),gs(IR.get(this))}:function(...e){return gs(t.apply(Vp(this),e))}}function JL(t){return typeof t=="function"?ZL(t):(t instanceof IDBTransaction&&XL(t),$L(t,KL())?new Proxy(t,dy):t)}function gs(t){if(t instanceof IDBRequest)return YL(t);if(kp.has(t))return kp.get(t);const e=JL(t);return e!==t&&(kp.set(t,e),p_.set(e,t)),e}const Vp=t=>p_.get(t);function e3(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=gs(a);return r&&a.addEventListener("upgradeneeded",l=>{r(gs(a.result),l.oldVersion,l.newVersion,gs(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const t3=["get","getKey","getAll","getAllKeys","count"],n3=["put","add","delete","clear"],jp=new Map;function vE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jp.get(e))return jp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=n3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||t3.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),i&&l.done]))[0]};return jp.set(e,s),s}WL(t=>({...t,get:(e,n,r)=>vE(e,n)||t.get(e,n,r),has:(e,n)=>!!vE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(i3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function i3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fy="@firebase/app",_E="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi=new m_("@firebase/app"),s3="@firebase/app-compat",a3="@firebase/analytics-compat",o3="@firebase/analytics",l3="@firebase/app-check-compat",c3="@firebase/app-check",u3="@firebase/auth",d3="@firebase/auth-compat",f3="@firebase/database",h3="@firebase/data-connect",m3="@firebase/database-compat",p3="@firebase/functions",g3="@firebase/functions-compat",y3="@firebase/installations",v3="@firebase/installations-compat",_3="@firebase/messaging",b3="@firebase/messaging-compat",w3="@firebase/performance",E3="@firebase/performance-compat",T3="@firebase/remote-config",x3="@firebase/remote-config-compat",S3="@firebase/storage",A3="@firebase/storage-compat",R3="@firebase/firestore",C3="@firebase/ai",I3="@firebase/firestore-compat",N3="firebase",M3="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy="[DEFAULT]",D3={[fy]:"fire-core",[s3]:"fire-core-compat",[o3]:"fire-analytics",[a3]:"fire-analytics-compat",[c3]:"fire-app-check",[l3]:"fire-app-check-compat",[u3]:"fire-auth",[d3]:"fire-auth-compat",[f3]:"fire-rtdb",[h3]:"fire-data-connect",[m3]:"fire-rtdb-compat",[p3]:"fire-fn",[g3]:"fire-fn-compat",[y3]:"fire-iid",[v3]:"fire-iid-compat",[_3]:"fire-fcm",[b3]:"fire-fcm-compat",[w3]:"fire-perf",[E3]:"fire-perf-compat",[T3]:"fire-rc",[x3]:"fire-rc-compat",[S3]:"fire-gcs",[A3]:"fire-gcs-compat",[R3]:"fire-fst",[I3]:"fire-fst-compat",[C3]:"fire-vertex","fire-js":"fire-js",[N3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=new Map,O3=new Map,my=new Map;function bE(t,e){try{t.container.addComponent(e)}catch(n){pi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function al(t){const e=t.name;if(my.has(e))return pi.debug(`There were multiple attempts to register component ${e}.`),!1;my.set(e,t);for(const n of ah.values())bE(n,t);for(const n of O3.values())bE(n,t);return!0}function g_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ys=new Vu("app","Firebase",P3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k3{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ea("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ys.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl=M3;function y_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:hy,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ys.create("bad-app-name",{appName:String(i)});if(n||(n=SR()),!n)throw ys.create("no-options");const s=ah.get(i);if(s){if(wa(n,s.options)&&wa(r,s.config))return s;throw ys.create("duplicate-app",{appName:i})}const a=new BL(i);for(const l of my.values())a.addComponent(l);const o=new k3(n,r,a);return ah.set(i,o),o}function MR(t=hy){const e=ah.get(t);if(!e&&t===hy&&SR())return y_();if(!e)throw ys.create("no-app",{appName:t});return e}function vs(t,e,n){let r=D3[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),pi.warn(a.join(" "));return}al(new Ea(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3="firebase-heartbeat-database",j3=1,su="firebase-heartbeat-store";let Lp=null;function DR(){return Lp||(Lp=e3(V3,j3,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(su)}catch(n){console.warn(n)}}}}).catch(t=>{throw ys.create("idb-open",{originalErrorMessage:t.message})})),Lp}async function L3(t){try{const n=(await DR()).transaction(su),r=await n.objectStore(su).get(OR(t));return await n.done,r}catch(e){if(e instanceof Ti)pi.warn(e.message);else{const n=ys.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});pi.warn(n.message)}}}async function wE(t,e){try{const r=(await DR()).transaction(su,"readwrite");await r.objectStore(su).put(e,OR(t)),await r.done}catch(n){if(n instanceof Ti)pi.warn(n.message);else{const r=ys.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});pi.warn(r.message)}}}function OR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U3=1024,z3=30;class B3{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new H3(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=EE();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>z3){const a=q3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){pi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=EE(),{heartbeatsToSend:r,unsentEntries:i}=F3(this._heartbeatsCache.heartbeats),s=sh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return pi.warn(n),""}}}function EE(){return new Date().toISOString().substring(0,10)}function F3(t,e=U3){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),TE(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),TE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class H3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return IL()?NL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await L3(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return wE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function TE(t){return sh(JSON.stringify({version:2,heartbeats:t})).length}function q3(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G3(t){al(new Ea("platform-logger",e=>new r3(e),"PRIVATE")),al(new Ea("heartbeat",e=>new B3(e),"PRIVATE")),vs(fy,_E,t),vs(fy,_E,"esm2020"),vs("fire-js","")}G3("");var $3="firebase",K3="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vs($3,K3,"app");function PR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Q3=PR,kR=new Vu("auth","Firebase",PR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=new m_("@firebase/auth");function Y3(t,...e){oh.logLevel<=Ee.WARN&&oh.warn(`Auth (${Rl}): ${t}`,...e)}function af(t,...e){oh.logLevel<=Ee.ERROR&&oh.error(`Auth (${Rl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(t,...e){throw v_(t,...e)}function Cr(t,...e){return v_(t,...e)}function VR(t,e,n){const r={...Q3(),[e]:n};return new Vu("auth","Firebase",r).create(e,{appName:t.name})}function li(t){return VR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function v_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return kR.create(t,...e)}function se(t,e,...n){if(!t)throw v_(e,...n)}function ii(t){const e="INTERNAL ASSERTION FAILED: "+t;throw af(e),new Error(e)}function yi(t,e){t||ii(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function X3(){return xE()==="http:"||xE()==="https:"}function xE(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(X3()||SL()||"connection"in navigator)?navigator.onLine:!0}function Z3(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,n){this.shortDelay=e,this.longDelay=n,yi(n>e,"Short delay should be less than long delay!"),this.isMobile=EL()||AL()}get(){return W3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(t,e){yi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],t6=new Lu(3e4,6e4);function Uu(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Cl(t,e,n,r,i={}){return LR(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const o=ju({key:t.config.apiKey,...a}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...s};return xL()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Al(t.emulatorConfig.host)&&(u.credentials="include"),jR.fetch()(await UR(t,t.config.apiHost,n,o),u)})}async function LR(t,e,n){t._canInitEmulator=!1;const r={...J3,...e};try{const i=new n6(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw kd(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw kd(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw kd(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw kd(t,"user-disabled",a);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw VR(t,d,u);gi(t,d)}}catch(i){if(i instanceof Ti)throw i;gi(t,"network-request-failed",{message:String(i)})}}async function b_(t,e,n,r,i={}){const s=await Cl(t,e,n,r,i);return"mfaPendingCredential"in s&&gi(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function UR(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?__(t.config,i):`${t.config.apiScheme}://${i}`;return e6.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}class n6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Cr(this.auth,"network-request-failed")),t6.get())})}}function kd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Cr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r6(t,e){return Cl(t,"POST","/v1/accounts:delete",e)}async function lh(t,e){return Cl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function i6(t,e=!1){const n=qt(t),r=await n.getIdToken(e),i=w_(r);se(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Dc(Up(i.auth_time)),issuedAtTime:Dc(Up(i.iat)),expirationTime:Dc(Up(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Up(t){return Number(t)*1e3}function w_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return af("JWT malformed, contained fewer than 3 sections"),null;try{const i=TR(n);return i?JSON.parse(i):(af("Failed to decode base64 JWT payload"),null)}catch(i){return af("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function SE(t){const e=w_(t);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function au(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ti&&s6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function s6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dc(this.lastLoginAt),this.creationTime=Dc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ch(t){var f;const e=t.auth,n=await t.getIdToken(),r=await au(t,lh(e,{idToken:n}));se(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(f=i.providerUserInfo)!=null&&f.length?zR(i.providerUserInfo):[],a=l6(t.providerData,s),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=o?l:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new gy(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function o6(t){const e=qt(t);await ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function l6(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function zR(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c6(t,e){const n=await LR(t,{},async()=>{const r=ju({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await UR(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return t.emulatorConfig&&Al(t.emulatorConfig.host)&&(l.credentials="include"),jR.fetch()(a,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function u6(t,e){return Cl(t,"POST","/v2/accounts:revokeToken",Uu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):SE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){se(e.length!==0,"internal-error");const n=SE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await c6(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new No;return r&&(se(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(se(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(se(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new No,this.toJSON())}_performRefresh(){return ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(t,e){se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ar{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new a6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new gy(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await au(this,this.stsTokenManager.getToken(this.auth,e));return se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return i6(this,e)}reload(){return o6(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ar({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ch(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(li(this.auth));const e=await this.getIdToken();return await au(this,r6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,o=n.tenantId??void 0,l=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:h,providerData:x,stsTokenManager:y}=n;se(f&&y,e,"internal-error");const E=No.fromJSON(this.name,y);se(typeof f=="string",e,"internal-error"),Pi(r,e.name),Pi(i,e.name),se(typeof m=="boolean",e,"internal-error"),se(typeof h=="boolean",e,"internal-error"),Pi(s,e.name),Pi(a,e.name),Pi(o,e.name),Pi(l,e.name),Pi(u,e.name),Pi(d,e.name);const _=new ar({uid:f,auth:e,email:i,emailVerified:m,displayName:r,isAnonymous:h,photoURL:a,phoneNumber:s,tenantId:o,stsTokenManager:E,createdAt:u,lastLoginAt:d});return x&&Array.isArray(x)&&(_.providerData=x.map(b=>({...b}))),l&&(_._redirectEventId=l),_}static async _fromIdTokenResponse(e,n,r=!1){const i=new No;i.updateFromServerResponse(n);const s=new ar({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ch(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];se(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?zR(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new No;o.updateFromIdToken(r);const l=new ar({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new gy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE=new Map;function si(t){yi(t instanceof Function,"Expected a class definition");let e=AE.get(t);return e?(yi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,AE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}BR.type="NONE";const RE=BR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(t,e,n){return`firebase:${t}:${e}:${n}`}class Mo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=of(this.userKey,i.apiKey,s),this.fullPersistenceKey=of("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await lh(this.auth,{idToken:e}).catch(()=>{});return n?ar._fromGetAccountInfoResponse(this.auth,n,e):null}return ar._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Mo(si(RE),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||si(RE);const a=of(r,e.config.apiKey,e.name);let o=null;for(const u of n)try{const d=await u._get(a);if(d){let f;if(typeof d=="string"){const m=await lh(e,{idToken:d}).catch(()=>{});if(!m)break;f=await ar._fromGetAccountInfoResponse(e,m,d)}else f=ar._fromJSON(e,d);u!==s&&(o=f),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Mo(s,e,r):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(a)}catch{}})),new Mo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(GR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(FR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KR(e))return"Blackberry";if(QR(e))return"Webos";if(HR(e))return"Safari";if((e.includes("chrome/")||qR(e))&&!e.includes("edge/"))return"Chrome";if($R(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function FR(t=rn()){return/firefox\//i.test(t)}function HR(t=rn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qR(t=rn()){return/crios\//i.test(t)}function GR(t=rn()){return/iemobile/i.test(t)}function $R(t=rn()){return/android/i.test(t)}function KR(t=rn()){return/blackberry/i.test(t)}function QR(t=rn()){return/webos/i.test(t)}function E_(t=rn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function d6(t=rn()){var e;return E_(t)&&!!((e=window.navigator)!=null&&e.standalone)}function f6(){return RL()&&document.documentMode===10}function YR(t=rn()){return E_(t)||$R(t)||QR(t)||KR(t)||/windows phone/i.test(t)||GR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(t,e=[]){let n;switch(t){case"Browser":n=CE(rn());break;case"Worker":n=`${CE(rn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Rl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m6(t,e={}){return Cl(t,"GET","/v2/passwordPolicy",Uu(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6=6;class g6{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??p6,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new IE(this),this.idTokenSubscription=new IE(this),this.beforeStateQueue=new h6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=si(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Mo.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await lh(this,{idToken:e}),r=await ar._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(qn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,o=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ch(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Z3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qn(this.app))return Promise.reject(li(this));const n=e?qt(e):null;return n&&se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(li(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qn(this.app)?Promise.reject(li(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(si(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await m6(this),n=new g6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await u6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&si(e)||this._popupRedirectResolver;se(n,this,"argument-error"),this.redirectPersistenceManager=await Mo.create(this,[si(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&Y3(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function zu(t){return qt(t)}class IE{constructor(e){this.auth=e,this.observer=null,this.addObserver=kL(n=>this.observer=n)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let T_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function v6(t){T_=t}function _6(t){return T_.loadJS(t)}function b6(){return T_.gapiScript}function w6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E6(t,e){const n=g_(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(wa(s,e??{}))return i;gi(i,"already-initialized")}return n.initialize({options:e})}function T6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(si);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function x6(t,e,n){const r=zu(t);se(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=WR(e),{host:a,port:o}=S6(e),l=o===null?"":`:${o}`,u={url:`${s}//${a}${l}/`},d=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){se(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),se(wa(u,r.config.emulator)&&wa(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Al(a)?(RR(`${s}//${a}${l}`),CR("Auth",!0)):A6()}function WR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function S6(t){const e=WR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:NE(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:NE(a)}}}function NE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function A6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ii("not implemented")}_getIdTokenResponse(e){return ii("not implemented")}_linkToIdToken(e,n){return ii("not implemented")}_getReauthenticationResolver(e){return ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(t,e){return b_(t,"POST","/v1/accounts:signInWithIdp",Uu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6="http://localhost";class Ta extends ZR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ta(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):gi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const a=new Ta(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Do(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Do(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Do(e,n)}buildRequest(){const e={requestUri:R6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ju(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu extends JR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Bu{constructor(){super("facebook.com")}static credential(e){return Ta._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ki.credential(e.oauthAccessToken)}catch{return null}}}Ki.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ki.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends Bu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ta._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Qi.credential(n,r)}catch{return null}}}Qi.GOOGLE_SIGN_IN_METHOD="google.com";Qi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends Bu{constructor(){super("github.com")}static credential(e){return Ta._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yi.credential(e.oauthAccessToken)}catch{return null}}}Yi.GITHUB_SIGN_IN_METHOD="github.com";Yi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends Bu{constructor(){super("twitter.com")}static credential(e,n){return Ta._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Xi.credential(n,r)}catch{return null}}}Xi.TWITTER_SIGN_IN_METHOD="twitter.com";Xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C6(t,e){return b_(t,"POST","/v1/accounts:signUp",Uu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ar._fromIdTokenResponse(e,r,i),a=ME(r);return new vi({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=ME(r);return new vi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function ME(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DE(t){var i;if(qn(t.app))return Promise.reject(li(t));const e=zu(t);if(await e._initializationPromise,(i=e.currentUser)!=null&&i.isAnonymous)return new vi({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await C6(e,{returnSecureToken:!0}),r=await vi._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh extends Ti{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,uh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new uh(e,n,r,i)}}function eC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?uh._fromErrorAndOperation(t,s,e,r):s})}async function I6(t,e,n=!1){const r=await au(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return vi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N6(t,e,n=!1){const{auth:r}=t;if(qn(r.app))return Promise.reject(li(r));const i="reauthenticate";try{const s=await au(t,eC(r,i,e,t),n);se(s.idToken,r,"internal-error");const a=w_(s.idToken);se(a,r,"internal-error");const{sub:o}=a;return se(t.uid===o,r,"user-mismatch"),vi._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&gi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M6(t,e,n=!1){if(qn(t.app))return Promise.reject(li(t));const r="signIn",i=await eC(t,r,e),s=await vi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D6(t,e){return b_(t,"POST","/v1/accounts:signInWithCustomToken",Uu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O6(t,e){if(qn(t.app))return Promise.reject(li(t));const n=zu(t),r=await D6(n,{token:e,returnSecureToken:!0}),i=await vi._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}function P6(t,e,n,r){return qt(t).onIdTokenChanged(e,n,r)}function k6(t,e,n){return qt(t).beforeAuthStateChanged(e,n)}function V6(t,e,n,r){return qt(t).onAuthStateChanged(e,n,r)}const dh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dh,"1"),this.storage.removeItem(dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6=1e3,L6=10;class nC extends tC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);f6()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,L6):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},j6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}nC.type="LOCAL";const U6=nC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC extends tC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}rC.type="SESSION";const iC=rC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z6(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new sm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async u=>u(n.origin,s)),l=await z6(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const u=x_("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(f){const m=f;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(m.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(){return window}function F6(t){Ir().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(){return typeof Ir().WorkerGlobalScope<"u"&&typeof Ir().importScripts=="function"}async function H6(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function q6(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function G6(){return sC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="firebaseLocalStorageDb",$6=1,fh="firebaseLocalStorage",oC="fbase_key";class Fu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function am(t,e){return t.transaction([fh],e?"readwrite":"readonly").objectStore(fh)}function K6(){const t=indexedDB.deleteDatabase(aC);return new Fu(t).toPromise()}function yy(){const t=indexedDB.open(aC,$6);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(fh,{keyPath:oC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(fh)?e(r):(r.close(),await K6(),e(await yy()))})})}async function OE(t,e,n){const r=am(t,!0).put({[oC]:e,value:n});return new Fu(r).toPromise()}async function Q6(t,e){const n=am(t,!1).get(e),r=await new Fu(n).toPromise();return r===void 0?null:r.value}function PE(t,e){const n=am(t,!0).delete(e);return new Fu(n).toPromise()}const Y6=800,X6=3;class lC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>X6)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sm._getInstance(G6()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await H6(),!this.activeServiceWorker)return;this.sender=new B6(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||q6()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yy();return await OE(e,dh,"1"),await PE(e,dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>OE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Q6(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>PE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=am(i,!1).getAll();return new Fu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Y6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lC.type="LOCAL";const W6=lC;new Lu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z6(t,e){return e?si(e):(se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_ extends ZR{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Do(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Do(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Do(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function J6(t){return M6(t.auth,new S_(t),t.bypassAuthState)}function e5(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),N6(n,new S_(t),t.bypassAuthState)}async function t5(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),I6(n,new S_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return J6;case"linkViaPopup":case"linkViaRedirect":return t5;case"reauthViaPopup":case"reauthViaRedirect":return e5;default:gi(this.auth,"internal-error")}}resolve(e){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5=new Lu(2e3,1e4);class vo extends cC{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,vo.currentPopupAction&&vo.currentPopupAction.cancel(),vo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return se(e,this.auth,"internal-error"),e}async onExecution(){yi(this.filter.length===1,"Popup operations only handle one event");const e=x_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Cr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Cr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,vo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,n5.get())};e()}}vo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5="pendingRedirect",lf=new Map;class i5 extends cC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=lf.get(this.auth._key());if(!e){try{const r=await s5(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}lf.set(this.auth._key(),e)}return this.bypassAuthState||lf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function s5(t,e){const n=l5(e),r=o5(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function a5(t,e){lf.set(t._key(),e)}function o5(t){return si(t._redirectPersistence)}function l5(t){return of(r5,t.config.apiKey,t.name)}async function c5(t,e,n=!1){if(qn(t.app))return Promise.reject(li(t));const r=zu(t),i=Z6(r,e),a=await new i5(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u5=10*60*1e3;class d5{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!f5(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!uC(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Cr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=u5&&this.cachedEventUids.clear(),this.cachedEventUids.has(kE(e))}saveEventToCache(e){this.cachedEventUids.add(kE(e)),this.lastProcessedEventTime=Date.now()}}function kE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function uC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function f5(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h5(t,e={}){return Cl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m5=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,p5=/^https?/;async function g5(t){if(t.config.emulator)return;const{authorizedDomains:e}=await h5(t);for(const n of e)try{if(y5(n))return}catch{}gi(t,"unauthorized-domain")}function y5(t){const e=py(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!p5.test(n))return!1;if(m5.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5=new Lu(3e4,6e4);function VE(){const t=Ir().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function _5(t){return new Promise((e,n)=>{var i,s,a;function r(){VE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{VE(),n(Cr(t,"network-request-failed"))},timeout:v5.get()})}if((s=(i=Ir().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((a=Ir().gapi)!=null&&a.load)r();else{const o=w6("iframefcb");return Ir()[o]=()=>{gapi.load?r():n(Cr(t,"network-request-failed"))},_6(`${b6()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw cf=null,e})}let cf=null;function b5(t){return cf=cf||_5(t),cf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5=new Lu(5e3,15e3),E5="__/auth/iframe",T5="emulator/auth/iframe",x5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},S5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function A5(t){const e=t.config;se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?__(e,T5):`https://${t.config.authDomain}/${E5}`,r={apiKey:e.apiKey,appName:t.name,v:Rl},i=S5.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ju(r).slice(1)}`}async function R5(t){const e=await b5(t),n=Ir().gapi;return se(n,t,"internal-error"),e.open({where:document.body,url:A5(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:x5,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Cr(t,"network-request-failed"),o=Ir().setTimeout(()=>{s(a)},w5.get());function l(){Ir().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},I5=500,N5=600,M5="_blank",D5="http://localhost";class jE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function O5(t,e,n,r=I5,i=N5){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l={...C5,width:r.toString(),height:i.toString(),top:s,left:a},u=rn().toLowerCase();n&&(o=qR(u)?M5:n),FR(u)&&(e=e||D5,l.scrollbars="yes");const d=Object.entries(l).reduce((m,[h,x])=>`${m}${h}=${x},`,"");if(d6(u)&&o!=="_self")return P5(e||"",o),new jE(null);const f=window.open(e||"",o,d);se(f,t,"popup-blocked");try{f.focus()}catch{}return new jE(f)}function P5(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5="__/auth/handler",V5="emulator/auth/handler",j5=encodeURIComponent("fac");async function LE(t,e,n,r,i,s){se(t.config.authDomain,t,"auth-domain-config-required"),se(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Rl,eventId:i};if(e instanceof JR){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",PL(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))a[d]=f}if(e instanceof Bu){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const l=await t._getAppCheckToken(),u=l?`#${j5}=${encodeURIComponent(l)}`:"";return`${L5(t)}?${ju(o).slice(1)}${u}`}function L5({config:t}){return t.emulator?__(t,V5):`https://${t.authDomain}/${k5}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp="webStorageSupport";class U5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iC,this._completeRedirectFn=c5,this._overrideRedirectResult=a5}async _openPopup(e,n,r,i){var a;yi((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await LE(e,n,r,py(),i);return O5(e,s,x_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await LE(e,n,r,py(),i);return F6(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(yi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await R5(e),r=new d5(e);return n.register("authEvent",i=>(se(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(zp,{type:zp},i=>{var a;const s=(a=i==null?void 0:i[0])==null?void 0:a[zp];s!==void 0&&n(!!s),gi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=g5(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return YR()||HR()||E_()}}const z5=U5;var UE="@firebase/auth",zE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F5(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function H5(t){al(new Ea("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;se(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XR(t)},u=new y6(r,i,s,l);return T6(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),al(new Ea("auth-internal",e=>{const n=zu(e.getProvider("auth").getImmediate());return(r=>new B5(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vs(UE,zE,F5(t)),vs(UE,zE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5=5*60,G5=AR("authIdTokenMaxAge")||q5;let BE=null;const $5=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>G5)return;const i=n==null?void 0:n.token;BE!==i&&(BE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function K5(t=MR()){const e=g_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=E6(t,{popupRedirectResolver:z5,persistence:[W6,U6,iC]}),r=AR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=$5(s.toString());k6(n,a,()=>a(n.currentUser)),P6(n,o=>a(o))}}const i=xR("auth");return i&&x6(n,`http://${i}`),n}function Q5(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}v6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Cr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Q5().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});H5("Browser");let Bp=null,FE=null;const HE=()=>(!Bp&&window.__firebase_config&&(Bp=y_(window.__firebase_config),FE=K5(Bp)),FE),Y5=()=>{const[t,e]=w.useState(null),[n,r]=w.useState(!0),[i,s]=w.useState(null);w.useEffect(()=>{console.log("Starting Firebase Auth initialization...");const l=setTimeout(()=>{console.warn("Auth check timed out after 5 seconds"),r(!1),t||(console.log("Auto-signing in anonymously after timeout"),a())},5e3),u=()=>{if(!window.__firebase_config){setTimeout(()=>{if(!window.__firebase_config){console.log("No Firebase config found, using demo mode"),clearTimeout(l),e({uid:"demo-user-"+Date.now(),isAnonymous:!0,email:null,displayName:"Demo User"}),r(!1);return}},2e3),setTimeout(u,100);return}const d=HE();if(!d){console.error("Firebase Auth initialization failed, using demo mode"),clearTimeout(l),e({uid:"demo-user-"+Date.now(),isAnonymous:!0,email:null,displayName:"Demo User"}),r(!1);return}console.log("Firebase Auth initialized, setting up listener...");const f=V6(d,h=>{clearTimeout(l),console.log("Auth state changed:",h?`User signed in: ${h.uid}`:"No user"),e(h),r(!1),s(null)},h=>{clearTimeout(l),console.error("Auth state change error:",h),e({uid:"demo-user-"+Date.now(),isAnonymous:!0,email:null,displayName:"Demo User"}),r(!1)});return(async()=>{try{window.__initial_auth_token?(console.log("Attempting sign-in with custom token..."),await O6(d,window.__initial_auth_token)):(console.log("Attempting anonymous sign-in..."),await DE(d))}catch(h){console.error("Auto sign-in error:",h),clearTimeout(l),e({uid:"demo-user-"+Date.now(),isAnonymous:!0,email:null,displayName:"Demo User"}),r(!1)}})(),()=>{console.log("Cleaning up auth listener"),clearTimeout(l),f()}};u()},[]);const a=async()=>{try{console.log("Manual anonymous sign-in attempt..."),r(!0),s(null);const l=HE();if(!l)throw new Error("Firebase Auth not initialized");const u=await DE(l);return console.log("Manual anonymous sign-in successful:",u.user.uid),u.user}catch(l){console.error("Manual anonymous sign-in error:",l),e({uid:"demo-user-"+Date.now(),isAnonymous:!0,email:null,displayName:"Demo User"}),r(!1)}};return{user:t,loading:n,error:i,signInAnonymous:a,forceSkipAuth:()=>{console.log("Forcing skip of authentication - demo mode"),r(!1),s(null),e({uid:"demo-user-"+Date.now(),isAnonymous:!0,email:null,displayName:"Demo User"})}}};var qE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _s,dC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,S){function C(){}C.prototype=S.prototype,A.D=S.prototype,A.prototype=new C,A.prototype.constructor=A,A.C=function(I,O,M){for(var D=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)D[Z-2]=arguments[Z];return S.prototype[O].apply(I,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,S,C){C||(C=0);var I=Array(16);if(typeof S=="string")for(var O=0;16>O;++O)I[O]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(O=0;16>O;++O)I[O]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=A.g[0],C=A.g[1],O=A.g[2];var M=A.g[3],D=S+(M^C&(O^M))+I[0]+3614090360&4294967295;S=C+(D<<7&4294967295|D>>>25),D=M+(O^S&(C^O))+I[1]+3905402710&4294967295,M=S+(D<<12&4294967295|D>>>20),D=O+(C^M&(S^C))+I[2]+606105819&4294967295,O=M+(D<<17&4294967295|D>>>15),D=C+(S^O&(M^S))+I[3]+3250441966&4294967295,C=O+(D<<22&4294967295|D>>>10),D=S+(M^C&(O^M))+I[4]+4118548399&4294967295,S=C+(D<<7&4294967295|D>>>25),D=M+(O^S&(C^O))+I[5]+1200080426&4294967295,M=S+(D<<12&4294967295|D>>>20),D=O+(C^M&(S^C))+I[6]+2821735955&4294967295,O=M+(D<<17&4294967295|D>>>15),D=C+(S^O&(M^S))+I[7]+4249261313&4294967295,C=O+(D<<22&4294967295|D>>>10),D=S+(M^C&(O^M))+I[8]+1770035416&4294967295,S=C+(D<<7&4294967295|D>>>25),D=M+(O^S&(C^O))+I[9]+2336552879&4294967295,M=S+(D<<12&4294967295|D>>>20),D=O+(C^M&(S^C))+I[10]+4294925233&4294967295,O=M+(D<<17&4294967295|D>>>15),D=C+(S^O&(M^S))+I[11]+2304563134&4294967295,C=O+(D<<22&4294967295|D>>>10),D=S+(M^C&(O^M))+I[12]+1804603682&4294967295,S=C+(D<<7&4294967295|D>>>25),D=M+(O^S&(C^O))+I[13]+4254626195&4294967295,M=S+(D<<12&4294967295|D>>>20),D=O+(C^M&(S^C))+I[14]+2792965006&4294967295,O=M+(D<<17&4294967295|D>>>15),D=C+(S^O&(M^S))+I[15]+1236535329&4294967295,C=O+(D<<22&4294967295|D>>>10),D=S+(O^M&(C^O))+I[1]+4129170786&4294967295,S=C+(D<<5&4294967295|D>>>27),D=M+(C^O&(S^C))+I[6]+3225465664&4294967295,M=S+(D<<9&4294967295|D>>>23),D=O+(S^C&(M^S))+I[11]+643717713&4294967295,O=M+(D<<14&4294967295|D>>>18),D=C+(M^S&(O^M))+I[0]+3921069994&4294967295,C=O+(D<<20&4294967295|D>>>12),D=S+(O^M&(C^O))+I[5]+3593408605&4294967295,S=C+(D<<5&4294967295|D>>>27),D=M+(C^O&(S^C))+I[10]+38016083&4294967295,M=S+(D<<9&4294967295|D>>>23),D=O+(S^C&(M^S))+I[15]+3634488961&4294967295,O=M+(D<<14&4294967295|D>>>18),D=C+(M^S&(O^M))+I[4]+3889429448&4294967295,C=O+(D<<20&4294967295|D>>>12),D=S+(O^M&(C^O))+I[9]+568446438&4294967295,S=C+(D<<5&4294967295|D>>>27),D=M+(C^O&(S^C))+I[14]+3275163606&4294967295,M=S+(D<<9&4294967295|D>>>23),D=O+(S^C&(M^S))+I[3]+4107603335&4294967295,O=M+(D<<14&4294967295|D>>>18),D=C+(M^S&(O^M))+I[8]+1163531501&4294967295,C=O+(D<<20&4294967295|D>>>12),D=S+(O^M&(C^O))+I[13]+2850285829&4294967295,S=C+(D<<5&4294967295|D>>>27),D=M+(C^O&(S^C))+I[2]+4243563512&4294967295,M=S+(D<<9&4294967295|D>>>23),D=O+(S^C&(M^S))+I[7]+1735328473&4294967295,O=M+(D<<14&4294967295|D>>>18),D=C+(M^S&(O^M))+I[12]+2368359562&4294967295,C=O+(D<<20&4294967295|D>>>12),D=S+(C^O^M)+I[5]+4294588738&4294967295,S=C+(D<<4&4294967295|D>>>28),D=M+(S^C^O)+I[8]+2272392833&4294967295,M=S+(D<<11&4294967295|D>>>21),D=O+(M^S^C)+I[11]+1839030562&4294967295,O=M+(D<<16&4294967295|D>>>16),D=C+(O^M^S)+I[14]+4259657740&4294967295,C=O+(D<<23&4294967295|D>>>9),D=S+(C^O^M)+I[1]+2763975236&4294967295,S=C+(D<<4&4294967295|D>>>28),D=M+(S^C^O)+I[4]+1272893353&4294967295,M=S+(D<<11&4294967295|D>>>21),D=O+(M^S^C)+I[7]+4139469664&4294967295,O=M+(D<<16&4294967295|D>>>16),D=C+(O^M^S)+I[10]+3200236656&4294967295,C=O+(D<<23&4294967295|D>>>9),D=S+(C^O^M)+I[13]+681279174&4294967295,S=C+(D<<4&4294967295|D>>>28),D=M+(S^C^O)+I[0]+3936430074&4294967295,M=S+(D<<11&4294967295|D>>>21),D=O+(M^S^C)+I[3]+3572445317&4294967295,O=M+(D<<16&4294967295|D>>>16),D=C+(O^M^S)+I[6]+76029189&4294967295,C=O+(D<<23&4294967295|D>>>9),D=S+(C^O^M)+I[9]+3654602809&4294967295,S=C+(D<<4&4294967295|D>>>28),D=M+(S^C^O)+I[12]+3873151461&4294967295,M=S+(D<<11&4294967295|D>>>21),D=O+(M^S^C)+I[15]+530742520&4294967295,O=M+(D<<16&4294967295|D>>>16),D=C+(O^M^S)+I[2]+3299628645&4294967295,C=O+(D<<23&4294967295|D>>>9),D=S+(O^(C|~M))+I[0]+4096336452&4294967295,S=C+(D<<6&4294967295|D>>>26),D=M+(C^(S|~O))+I[7]+1126891415&4294967295,M=S+(D<<10&4294967295|D>>>22),D=O+(S^(M|~C))+I[14]+2878612391&4294967295,O=M+(D<<15&4294967295|D>>>17),D=C+(M^(O|~S))+I[5]+4237533241&4294967295,C=O+(D<<21&4294967295|D>>>11),D=S+(O^(C|~M))+I[12]+1700485571&4294967295,S=C+(D<<6&4294967295|D>>>26),D=M+(C^(S|~O))+I[3]+2399980690&4294967295,M=S+(D<<10&4294967295|D>>>22),D=O+(S^(M|~C))+I[10]+4293915773&4294967295,O=M+(D<<15&4294967295|D>>>17),D=C+(M^(O|~S))+I[1]+2240044497&4294967295,C=O+(D<<21&4294967295|D>>>11),D=S+(O^(C|~M))+I[8]+1873313359&4294967295,S=C+(D<<6&4294967295|D>>>26),D=M+(C^(S|~O))+I[15]+4264355552&4294967295,M=S+(D<<10&4294967295|D>>>22),D=O+(S^(M|~C))+I[6]+2734768916&4294967295,O=M+(D<<15&4294967295|D>>>17),D=C+(M^(O|~S))+I[13]+1309151649&4294967295,C=O+(D<<21&4294967295|D>>>11),D=S+(O^(C|~M))+I[4]+4149444226&4294967295,S=C+(D<<6&4294967295|D>>>26),D=M+(C^(S|~O))+I[11]+3174756917&4294967295,M=S+(D<<10&4294967295|D>>>22),D=O+(S^(M|~C))+I[2]+718787259&4294967295,O=M+(D<<15&4294967295|D>>>17),D=C+(M^(O|~S))+I[9]+3951481745&4294967295,A.g[0]=A.g[0]+S&4294967295,A.g[1]=A.g[1]+(O+(D<<21&4294967295|D>>>11))&4294967295,A.g[2]=A.g[2]+O&4294967295,A.g[3]=A.g[3]+M&4294967295}r.prototype.u=function(A,S){S===void 0&&(S=A.length);for(var C=S-this.blockSize,I=this.B,O=this.h,M=0;M<S;){if(O==0)for(;M<=C;)i(this,A,M),M+=this.blockSize;if(typeof A=="string"){for(;M<S;)if(I[O++]=A.charCodeAt(M++),O==this.blockSize){i(this,I),O=0;break}}else for(;M<S;)if(I[O++]=A[M++],O==this.blockSize){i(this,I),O=0;break}}this.h=O,this.o+=S},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var S=1;S<A.length-8;++S)A[S]=0;var C=8*this.o;for(S=A.length-8;S<A.length;++S)A[S]=C&255,C/=256;for(this.u(A),A=Array(16),S=C=0;4>S;++S)for(var I=0;32>I;I+=8)A[C++]=this.g[S]>>>I&255;return A};function s(A,S){var C=o;return Object.prototype.hasOwnProperty.call(C,A)?C[A]:C[A]=S(A)}function a(A,S){this.h=S;for(var C=[],I=!0,O=A.length-1;0<=O;O--){var M=A[O]|0;I&&M==S||(C[O]=M,I=!1)}this.g=C}var o={};function l(A){return-128<=A&&128>A?s(A,function(S){return new a([S|0],0>S?-1:0)}):new a([A|0],0>A?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return f;if(0>A)return E(u(-A));for(var S=[],C=1,I=0;A>=C;I++)S[I]=A/C|0,C*=4294967296;return new a(S,0)}function d(A,S){if(A.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(A.charAt(0)=="-")return E(d(A.substring(1),S));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=u(Math.pow(S,8)),I=f,O=0;O<A.length;O+=8){var M=Math.min(8,A.length-O),D=parseInt(A.substring(O,O+M),S);8>M?(M=u(Math.pow(S,M)),I=I.j(M).add(u(D))):(I=I.j(C),I=I.add(u(D)))}return I}var f=l(0),m=l(1),h=l(16777216);t=a.prototype,t.m=function(){if(y(this))return-E(this).m();for(var A=0,S=1,C=0;C<this.g.length;C++){var I=this.i(C);A+=(0<=I?I:4294967296+I)*S,S*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(x(this))return"0";if(y(this))return"-"+E(this).toString(A);for(var S=u(Math.pow(A,6)),C=this,I="";;){var O=N(C,S).g;C=_(C,O.j(S));var M=((0<C.g.length?C.g[0]:C.h)>>>0).toString(A);if(C=O,x(C))return M+I;for(;6>M.length;)M="0"+M;I=M+I}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function x(A){if(A.h!=0)return!1;for(var S=0;S<A.g.length;S++)if(A.g[S]!=0)return!1;return!0}function y(A){return A.h==-1}t.l=function(A){return A=_(this,A),y(A)?-1:x(A)?0:1};function E(A){for(var S=A.g.length,C=[],I=0;I<S;I++)C[I]=~A.g[I];return new a(C,~A.h).add(m)}t.abs=function(){return y(this)?E(this):this},t.add=function(A){for(var S=Math.max(this.g.length,A.g.length),C=[],I=0,O=0;O<=S;O++){var M=I+(this.i(O)&65535)+(A.i(O)&65535),D=(M>>>16)+(this.i(O)>>>16)+(A.i(O)>>>16);I=D>>>16,M&=65535,D&=65535,C[O]=D<<16|M}return new a(C,C[C.length-1]&-2147483648?-1:0)};function _(A,S){return A.add(E(S))}t.j=function(A){if(x(this)||x(A))return f;if(y(this))return y(A)?E(this).j(E(A)):E(E(this).j(A));if(y(A))return E(this.j(E(A)));if(0>this.l(h)&&0>A.l(h))return u(this.m()*A.m());for(var S=this.g.length+A.g.length,C=[],I=0;I<2*S;I++)C[I]=0;for(I=0;I<this.g.length;I++)for(var O=0;O<A.g.length;O++){var M=this.i(I)>>>16,D=this.i(I)&65535,Z=A.i(O)>>>16,le=A.i(O)&65535;C[2*I+2*O]+=D*le,b(C,2*I+2*O),C[2*I+2*O+1]+=M*le,b(C,2*I+2*O+1),C[2*I+2*O+1]+=D*Z,b(C,2*I+2*O+1),C[2*I+2*O+2]+=M*Z,b(C,2*I+2*O+2)}for(I=0;I<S;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=S;I<2*S;I++)C[I]=0;return new a(C,0)};function b(A,S){for(;(A[S]&65535)!=A[S];)A[S+1]+=A[S]>>>16,A[S]&=65535,S++}function T(A,S){this.g=A,this.h=S}function N(A,S){if(x(S))throw Error("division by zero");if(x(A))return new T(f,f);if(y(A))return S=N(E(A),S),new T(E(S.g),E(S.h));if(y(S))return S=N(A,E(S)),new T(E(S.g),S.h);if(30<A.g.length){if(y(A)||y(S))throw Error("slowDivide_ only works with positive integers.");for(var C=m,I=S;0>=I.l(A);)C=P(C),I=P(I);var O=V(C,1),M=V(I,1);for(I=V(I,2),C=V(C,2);!x(I);){var D=M.add(I);0>=D.l(A)&&(O=O.add(C),M=D),I=V(I,1),C=V(C,1)}return S=_(A,O.j(S)),new T(O,S)}for(O=f;0<=A.l(S);){for(C=Math.max(1,Math.floor(A.m()/S.m())),I=Math.ceil(Math.log(C)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),M=u(C),D=M.j(S);y(D)||0<D.l(A);)C-=I,M=u(C),D=M.j(S);x(M)&&(M=m),O=O.add(M),A=_(A,D)}return new T(O,A)}t.A=function(A){return N(this,A).h},t.and=function(A){for(var S=Math.max(this.g.length,A.g.length),C=[],I=0;I<S;I++)C[I]=this.i(I)&A.i(I);return new a(C,this.h&A.h)},t.or=function(A){for(var S=Math.max(this.g.length,A.g.length),C=[],I=0;I<S;I++)C[I]=this.i(I)|A.i(I);return new a(C,this.h|A.h)},t.xor=function(A){for(var S=Math.max(this.g.length,A.g.length),C=[],I=0;I<S;I++)C[I]=this.i(I)^A.i(I);return new a(C,this.h^A.h)};function P(A){for(var S=A.g.length+1,C=[],I=0;I<S;I++)C[I]=A.i(I)<<1|A.i(I-1)>>>31;return new a(C,A.h)}function V(A,S){var C=S>>5;S%=32;for(var I=A.g.length-C,O=[],M=0;M<I;M++)O[M]=0<S?A.i(M+C)>>>S|A.i(M+C+1)<<32-S:A.i(M+C);return new a(O,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,dC=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=d,_s=a}).apply(typeof qE<"u"?qE:typeof self<"u"?self:typeof window<"u"?window:{});var Vd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fC,lc,hC,uf,vy,mC,pC,gC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,v){return c==Array.prototype||c==Object.prototype||(c[g]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vd=="object"&&Vd];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function i(c,g){if(g)e:{var v=r;c=c.split(".");for(var R=0;R<c.length-1;R++){var k=c[R];if(!(k in v))break e;v=v[k]}c=c[c.length-1],R=v[c],g=g(R),g!=R&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}function s(c,g){c instanceof String&&(c+="");var v=0,R=!1,k={next:function(){if(!R&&v<c.length){var j=v++;return{value:g(j,c[j]),done:!1}}return R=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}i("Array.prototype.values",function(c){return c||function(){return s(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function u(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function d(c,g,v){return c.call.apply(c.bind,arguments)}function f(c,g,v){if(!c)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,R),c.apply(g,k)}}return function(){return c.apply(g,arguments)}}function m(c,g,v){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,m.apply(null,arguments)}function h(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var R=v.slice();return R.push.apply(R,arguments),c.apply(this,R)}}function x(c,g){function v(){}v.prototype=g.prototype,c.aa=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(R,k,j){for(var K=Array(arguments.length-2),He=2;He<arguments.length;He++)K[He-2]=arguments[He];return g.prototype[k].apply(R,K)}}function y(c){const g=c.length;if(0<g){const v=Array(g);for(let R=0;R<g;R++)v[R]=c[R];return v}return[]}function E(c,g){for(let v=1;v<arguments.length;v++){const R=arguments[v];if(l(R)){const k=c.length||0,j=R.length||0;c.length=k+j;for(let K=0;K<j;K++)c[k+K]=R[K]}else c.push(R)}}class _{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function b(c){return/^[\s\xa0]*$/.test(c)}function T(){var c=o.navigator;return c&&(c=c.userAgent)?c:""}function N(c){return N[" "](c),c}N[" "]=function(){};var P=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function V(c,g,v){for(const R in c)g.call(v,c[R],R,c)}function A(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function S(c){const g={};for(const v in c)g[v]=c[v];return g}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,g){let v,R;for(let k=1;k<arguments.length;k++){R=arguments[k];for(v in R)c[v]=R[v];for(let j=0;j<C.length;j++)v=C[j],Object.prototype.hasOwnProperty.call(R,v)&&(c[v]=R[v])}}function O(c){var g=1;c=c.split(":");const v=[];for(;0<g&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function M(c){o.setTimeout(()=>{throw c},0)}function D(){var c=L;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Z{constructor(){this.h=this.g=null}add(g,v){const R=le.get();R.set(g,v),this.h?this.h.next=R:this.g=R,this.h=R}}var le=new _(()=>new U,c=>c.reset());class U{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let G,q=!1,L=new Z,W=()=>{const c=o.Promise.resolve(void 0);G=()=>{c.then(fe)}};var fe=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(v){M(v)}var g=le;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}q=!1};function ee(){this.s=this.s,this.C=this.C}ee.prototype.s=!1,ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var ae=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};o.addEventListener("test",v,g),o.removeEventListener("test",v,g)}catch{}return c}();function Se(c,g){if(te.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,R=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(P){e:{try{N(g.nodeName);var k=!0;break e}catch{}k=!1}k||(g=null)}}else v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement);this.relatedTarget=g,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:st[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Se.aa.h.call(this)}}x(Se,te);var st={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Q="closure_listenable_"+(1e6*Math.random()|0),Ae=0;function Re(c,g,v,R,k){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!R,this.ha=k,this.key=++Ae,this.da=this.fa=!1}function pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ge(c){this.src=c,this.g={},this.h=0}ge.prototype.add=function(c,g,v,R,k){var j=c.toString();c=this.g[j],c||(c=this.g[j]=[],this.h++);var K=pt(c,g,R,k);return-1<K?(g=c[K],v||(g.fa=!1)):(g=new Re(g,this.src,j,!!R,k),g.fa=v,c.push(g)),g};function we(c,g){var v=g.type;if(v in c.g){var R=c.g[v],k=Array.prototype.indexOf.call(R,g,void 0),j;(j=0<=k)&&Array.prototype.splice.call(R,k,1),j&&(pe(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function pt(c,g,v,R){for(var k=0;k<c.length;++k){var j=c[k];if(!j.da&&j.listener==g&&j.capture==!!v&&j.ha==R)return k}return-1}var $t="closure_lm_"+(1e6*Math.random()|0),Xn={};function Wn(c,g,v,R,k){if(Array.isArray(g)){for(var j=0;j<g.length;j++)Wn(c,g[j],v,R,k);return null}return v=Ju(v),c&&c[Q]?c.K(g,v,u(R)?!!R.capture:!1,k):zr(c,g,v,!1,R,k)}function zr(c,g,v,R,k,j){if(!g)throw Error("Invalid event type");var K=u(k)?!!k.capture:!!k,He=Zn(c);if(He||(c[$t]=He=new ge(c)),v=He.add(g,v,R,K,j),v.proxy)return v;if(R=Us(),v.proxy=R,R.src=c,R.listener=v,c.addEventListener)ae||(k=K),k===void 0&&(k=!1),c.addEventListener(g.toString(),R,k);else if(c.attachEvent)c.attachEvent(xi(g.toString()),R);else if(c.addListener&&c.removeListener)c.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Us(){function c(v){return g.call(c.src,c.listener,v)}const g=Zu;return c}function Br(c,g,v,R,k){if(Array.isArray(g))for(var j=0;j<g.length;j++)Br(c,g[j],v,R,k);else R=u(R)?!!R.capture:!!R,v=Ju(v),c&&c[Q]?(c=c.i,g=String(g).toString(),g in c.g&&(j=c.g[g],v=pt(j,v,R,k),-1<v&&(pe(j[v]),Array.prototype.splice.call(j,v,1),j.length==0&&(delete c.g[g],c.h--)))):c&&(c=Zn(c))&&(g=c.g[g.toString()],c=-1,g&&(c=pt(g,v,R,k)),(v=-1<c?g[c]:null)&&La(v))}function La(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Q])we(g.i,c);else{var v=c.type,R=c.proxy;g.removeEventListener?g.removeEventListener(v,R,c.capture):g.detachEvent?g.detachEvent(xi(v),R):g.addListener&&g.removeListener&&g.removeListener(R),(v=Zn(g))?(we(v,c),v.h==0&&(v.src=null,g[$t]=null)):pe(c)}}}function xi(c){return c in Xn?Xn[c]:Xn[c]="on"+c}function Zu(c,g){if(c.da)c=!0;else{g=new Se(g,this);var v=c.listener,R=c.ha||c.src;c.fa&&La(c),c=v.call(R,g)}return c}function Zn(c){return c=c[$t],c instanceof ge?c:null}var kl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ju(c){return typeof c=="function"?c:(c[kl]||(c[kl]=function(g){return c.handleEvent(g)}),c[kl])}function je(){ee.call(this),this.i=new ge(this),this.M=this,this.F=null}x(je,ee),je.prototype[Q]=!0,je.prototype.removeEventListener=function(c,g,v,R){Br(this,c,g,v,R)};function at(c,g){var v,R=c.F;if(R)for(v=[];R;R=R.F)v.push(R);if(c=c.M,R=g.type||g,typeof g=="string")g=new te(g,c);else if(g instanceof te)g.target=g.target||c;else{var k=g;g=new te(R,c),I(g,k)}if(k=!0,v)for(var j=v.length-1;0<=j;j--){var K=g.g=v[j];k=Ua(K,R,!0,g)&&k}if(K=g.g=c,k=Ua(K,R,!0,g)&&k,k=Ua(K,R,!1,g)&&k,v)for(j=0;j<v.length;j++)K=g.g=v[j],k=Ua(K,R,!1,g)&&k}je.prototype.N=function(){if(je.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var v=c.g[g],R=0;R<v.length;R++)pe(v[R]);delete c.g[g],c.h--}}this.F=null},je.prototype.K=function(c,g,v,R){return this.i.add(String(c),g,!1,v,R)},je.prototype.L=function(c,g,v,R){return this.i.add(String(c),g,!0,v,R)};function Ua(c,g,v,R){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var k=!0,j=0;j<g.length;++j){var K=g[j];if(K&&!K.da&&K.capture==v){var He=K.listener,Lt=K.ha||K.src;K.fa&&we(c.i,K),k=He.call(Lt,R)!==!1&&k}}return k&&!R.defaultPrevented}function ed(c,g,v){if(typeof c=="function")v&&(c=m(c,v));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:o.setTimeout(c,g||0)}function zs(c){c.g=ed(()=>{c.g=null,c.i&&(c.i=!1,zs(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Pm extends ee{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:zs(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Si(c){ee.call(this),this.h=c,this.g={}}x(Si,ee);var za=[];function Fr(c){V(c.g,function(g,v){this.g.hasOwnProperty(v)&&La(g)},c),c.g={}}Si.prototype.N=function(){Si.aa.N.call(this),Fr(this)},Si.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ba=o.JSON.stringify,Ai=o.JSON.parse,km=class{stringify(c){return o.JSON.stringify(c,void 0)}parse(c){return o.JSON.parse(c,void 0)}};function Vl(){}Vl.prototype.h=null;function jl(c){return c.h||(c.h=c.i())}function Ll(){}var Bs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fs(){te.call(this,"d")}x(Fs,te);function Vn(){te.call(this,"c")}x(Vn,te);var Hr={},oe=null;function Ne(){return oe=oe||new je}Hr.La="serverreachability";function Fe(c){te.call(this,Hr.La,c)}x(Fe,te);function Vt(c){const g=Ne();at(g,new Fe(g))}Hr.STAT_EVENT="statevent";function fn(c,g){te.call(this,Hr.STAT_EVENT,c),this.stat=g}x(fn,te);function Je(c){const g=Ne();at(g,new fn(g,c))}Hr.Ma="timingevent";function hr(c,g){te.call(this,Hr.Ma,c),this.size=g}x(hr,te);function jt(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){c()},g)}function hn(){this.g=!0}hn.prototype.xa=function(){this.g=!1};function uM(c,g,v,R,k,j){c.info(function(){if(c.g)if(j)for(var K="",He=j.split("&"),Lt=0;Lt<He.length;Lt++){var De=He[Lt].split("=");if(1<De.length){var Kt=De[0];De=De[1];var Qt=Kt.split("_");K=2<=Qt.length&&Qt[1]=="type"?K+(Kt+"="+De+"&"):K+(Kt+"=redacted&")}}else K=null;else K=j;return"XMLHTTP REQ ("+R+") [attempt "+k+"]: "+g+`
`+v+`
`+K})}function dM(c,g,v,R,k,j,K){c.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+k+"]: "+g+`
`+v+`
`+j+" "+K})}function Fa(c,g,v,R){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+hM(c,v)+(R?" "+R:"")})}function fM(c,g){c.info(function(){return"TIMEOUT: "+g})}hn.prototype.info=function(){};function hM(c,g){if(!c.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var R=v[c];if(!(2>R.length)){var k=R[1];if(Array.isArray(k)&&!(1>k.length)){var j=k[0];if(j!="noop"&&j!="stop"&&j!="close")for(var K=1;K<k.length;K++)k[K]=""}}}}return Ba(v)}catch{return g}}var td={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},x0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Vm;function nd(){}x(nd,Vl),nd.prototype.g=function(){return new XMLHttpRequest},nd.prototype.i=function(){return{}},Vm=new nd;function Ri(c,g,v,R){this.j=c,this.i=g,this.l=v,this.R=R||1,this.U=new Si(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new S0}function S0(){this.i=null,this.g="",this.h=!1}var A0={},jm={};function Lm(c,g,v){c.L=1,c.v=ad(qr(g)),c.m=v,c.P=!0,R0(c,null)}function R0(c,g){c.F=Date.now(),rd(c),c.A=qr(c.v);var v=c.A,R=c.R;Array.isArray(R)||(R=[String(R)]),B0(v.i,"t",R),c.C=0,v=c.j.J,c.h=new S0,c.g=sb(c.j,v?g:null,!c.m),0<c.O&&(c.M=new Pm(m(c.Y,c,c.g),c.O)),g=c.U,v=c.g,R=c.ca;var k="readystatechange";Array.isArray(k)||(k&&(za[0]=k.toString()),k=za);for(var j=0;j<k.length;j++){var K=Wn(v,k[j],R||g.handleEvent,!1,g.h||g);if(!K)break;g.g[K.key]=K}g=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Vt(),uM(c.i,c.u,c.A,c.l,c.R,c.m)}Ri.prototype.ca=function(c){c=c.target;const g=this.M;g&&Gr(c)==3?g.j():this.Y(c)},Ri.prototype.Y=function(c){try{if(c==this.g)e:{const Qt=Gr(this.g);var g=this.g.Ba();const Ga=this.g.Z();if(!(3>Qt)&&(Qt!=3||this.g&&(this.h.h||this.g.oa()||Q0(this.g)))){this.J||Qt!=4||g==7||(g==8||0>=Ga?Vt(3):Vt(2)),Um(this);var v=this.g.Z();this.X=v;t:if(C0(this)){var R=Q0(this.g);c="";var k=R.length,j=Gr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Hs(this),Ul(this);var K="";break t}this.h.i=new o.TextDecoder}for(g=0;g<k;g++)this.h.h=!0,c+=this.h.i.decode(R[g],{stream:!(j&&g==k-1)});R.length=0,this.h.g+=c,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=v==200,dM(this.i,this.u,this.A,this.l,this.R,Qt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var He,Lt=this.g;if((He=Lt.g?Lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(He)){var De=He;break t}}De=null}if(v=De)Fa(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,zm(this,v);else{this.o=!1,this.s=3,Je(12),Hs(this),Ul(this);break e}}if(this.P){v=!0;let Jn;for(;!this.J&&this.C<K.length;)if(Jn=mM(this,K),Jn==jm){Qt==4&&(this.s=4,Je(14),v=!1),Fa(this.i,this.l,null,"[Incomplete Response]");break}else if(Jn==A0){this.s=4,Je(15),Fa(this.i,this.l,K,"[Invalid Chunk]"),v=!1;break}else Fa(this.i,this.l,Jn,null),zm(this,Jn);if(C0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qt!=4||K.length!=0||this.h.h||(this.s=1,Je(16),v=!1),this.o=this.o&&v,!v)Fa(this.i,this.l,K,"[Invalid Chunked Response]"),Hs(this),Ul(this);else if(0<K.length&&!this.W){this.W=!0;var Kt=this.j;Kt.g==this&&Kt.ba&&!Kt.M&&(Kt.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),$m(Kt),Kt.M=!0,Je(11))}}else Fa(this.i,this.l,K,null),zm(this,K);Qt==4&&Hs(this),this.o&&!this.J&&(Qt==4?tb(this.j,this):(this.o=!1,rd(this)))}else MM(this.g),v==400&&0<K.indexOf("Unknown SID")?(this.s=3,Je(12)):(this.s=0,Je(13)),Hs(this),Ul(this)}}}catch{}finally{}};function C0(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function mM(c,g){var v=c.C,R=g.indexOf(`
`,v);return R==-1?jm:(v=Number(g.substring(v,R)),isNaN(v)?A0:(R+=1,R+v>g.length?jm:(g=g.slice(R,R+v),c.C=R+v,g)))}Ri.prototype.cancel=function(){this.J=!0,Hs(this)};function rd(c){c.S=Date.now()+c.I,I0(c,c.I)}function I0(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=jt(m(c.ba,c),g)}function Um(c){c.B&&(o.clearTimeout(c.B),c.B=null)}Ri.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(fM(this.i,this.A),this.L!=2&&(Vt(),Je(17)),Hs(this),this.s=2,Ul(this)):I0(this,this.S-c)};function Ul(c){c.j.G==0||c.J||tb(c.j,c)}function Hs(c){Um(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Fr(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function zm(c,g){try{var v=c.j;if(v.G!=0&&(v.g==c||Bm(v.h,c))){if(!c.K&&Bm(v.h,c)&&v.G==3){try{var R=v.Da.g.parse(g)}catch{R=null}if(Array.isArray(R)&&R.length==3){var k=R;if(k[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)fd(v),ud(v);else break e;Gm(v),Je(18)}}else v.za=k[1],0<v.za-v.T&&37500>k[2]&&v.F&&v.v==0&&!v.C&&(v.C=jt(m(v.Za,v),6e3));if(1>=D0(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Gs(v,11)}else if((c.K||v.g==c)&&fd(v),!b(g))for(k=v.Da.g.parse(g),g=0;g<k.length;g++){let De=k[g];if(v.T=De[0],De=De[1],v.G==2)if(De[0]=="c"){v.K=De[1],v.ia=De[2];const Kt=De[3];Kt!=null&&(v.la=Kt,v.j.info("VER="+v.la));const Qt=De[4];Qt!=null&&(v.Aa=Qt,v.j.info("SVER="+v.Aa));const Ga=De[5];Ga!=null&&typeof Ga=="number"&&0<Ga&&(R=1.5*Ga,v.L=R,v.j.info("backChannelRequestTimeoutMs_="+R)),R=v;const Jn=c.g;if(Jn){const md=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(md){var j=R.h;j.g||md.indexOf("spdy")==-1&&md.indexOf("quic")==-1&&md.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Fm(j,j.h),j.h=null))}if(R.D){const Km=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Km&&(R.ya=Km,Ye(R.I,R.D,Km))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),R=v;var K=c;if(R.qa=ib(R,R.J?R.ia:null,R.W),K.K){O0(R.h,K);var He=K,Lt=R.L;Lt&&(He.I=Lt),He.B&&(Um(He),rd(He)),R.g=K}else J0(R);0<v.i.length&&dd(v)}else De[0]!="stop"&&De[0]!="close"||Gs(v,7);else v.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?Gs(v,7):qm(v):De[0]!="noop"&&v.l&&v.l.ta(De),v.v=0)}}Vt(4)}catch{}}var pM=class{constructor(c,g){this.g=c,this.map=g}};function N0(c){this.l=c||10,o.PerformanceNavigationTiming?(c=o.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function M0(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function D0(c){return c.h?1:c.g?c.g.size:0}function Bm(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Fm(c,g){c.g?c.g.add(g):c.h=g}function O0(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}N0.prototype.cancel=function(){if(this.i=P0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function P0(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.D);return g}return y(c.i)}function gM(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var g=[],v=c.length,R=0;R<v;R++)g.push(c[R]);return g}g=[],v=0;for(R in c)g[v++]=c[R];return g}function yM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var g=[];c=c.length;for(var v=0;v<c;v++)g.push(v);return g}g=[],v=0;for(const R in c)g[v++]=R;return g}}}function k0(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var v=yM(c),R=gM(c),k=R.length,j=0;j<k;j++)g.call(void 0,R[j],v&&v[j],c)}var V0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vM(c,g){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var R=c[v].indexOf("="),k=null;if(0<=R){var j=c[v].substring(0,R);k=c[v].substring(R+1)}else j=c[v];g(j,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function qs(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof qs){this.h=c.h,id(this,c.j),this.o=c.o,this.g=c.g,sd(this,c.s),this.l=c.l;var g=c.i,v=new Fl;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),j0(this,v),this.m=c.m}else c&&(g=String(c).match(V0))?(this.h=!1,id(this,g[1]||"",!0),this.o=zl(g[2]||""),this.g=zl(g[3]||"",!0),sd(this,g[4]),this.l=zl(g[5]||"",!0),j0(this,g[6]||"",!0),this.m=zl(g[7]||"")):(this.h=!1,this.i=new Fl(null,this.h))}qs.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Bl(g,L0,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Bl(g,L0,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Bl(v,v.charAt(0)=="/"?wM:bM,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Bl(v,TM)),c.join("")};function qr(c){return new qs(c)}function id(c,g,v){c.j=v?zl(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function sd(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function j0(c,g,v){g instanceof Fl?(c.i=g,xM(c.i,c.h)):(v||(g=Bl(g,EM)),c.i=new Fl(g,c.h))}function Ye(c,g,v){c.i.set(g,v)}function ad(c){return Ye(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function zl(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Bl(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,_M),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function _M(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var L0=/[#\/\?@]/g,bM=/[#\?:]/g,wM=/[#\?]/g,EM=/[#\?@]/g,TM=/#/g;function Fl(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Ci(c){c.g||(c.g=new Map,c.h=0,c.i&&vM(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}t=Fl.prototype,t.add=function(c,g){Ci(this),this.i=null,c=Ha(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function U0(c,g){Ci(c),g=Ha(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function z0(c,g){return Ci(c),g=Ha(c,g),c.g.has(g)}t.forEach=function(c,g){Ci(this),this.g.forEach(function(v,R){v.forEach(function(k){c.call(g,k,R,this)},this)},this)},t.na=function(){Ci(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let R=0;R<g.length;R++){const k=c[R];for(let j=0;j<k.length;j++)v.push(g[R])}return v},t.V=function(c){Ci(this);let g=[];if(typeof c=="string")z0(this,c)&&(g=g.concat(this.g.get(Ha(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)g=g.concat(c[v])}return g},t.set=function(c,g){return Ci(this),this.i=null,c=Ha(this,c),z0(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},t.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function B0(c,g,v){U0(c,g),0<v.length&&(c.i=null,c.g.set(Ha(c,g),y(v)),c.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var R=g[v];const j=encodeURIComponent(String(R)),K=this.V(R);for(R=0;R<K.length;R++){var k=j;K[R]!==""&&(k+="="+encodeURIComponent(String(K[R]))),c.push(k)}}return this.i=c.join("&")};function Ha(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function xM(c,g){g&&!c.j&&(Ci(c),c.i=null,c.g.forEach(function(v,R){var k=R.toLowerCase();R!=k&&(U0(this,R),B0(this,k,v))},c)),c.j=g}function SM(c,g){const v=new hn;if(o.Image){const R=new Image;R.onload=h(Ii,v,"TestLoadImage: loaded",!0,g,R),R.onerror=h(Ii,v,"TestLoadImage: error",!1,g,R),R.onabort=h(Ii,v,"TestLoadImage: abort",!1,g,R),R.ontimeout=h(Ii,v,"TestLoadImage: timeout",!1,g,R),o.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=c}else g(!1)}function AM(c,g){const v=new hn,R=new AbortController,k=setTimeout(()=>{R.abort(),Ii(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:R.signal}).then(j=>{clearTimeout(k),j.ok?Ii(v,"TestPingServer: ok",!0,g):Ii(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(k),Ii(v,"TestPingServer: error",!1,g)})}function Ii(c,g,v,R,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),R(v)}catch{}}function RM(){this.g=new km}function CM(c,g,v){const R=v||"";try{k0(c,function(k,j){let K=k;u(k)&&(K=Ba(k)),g.push(R+j+"="+encodeURIComponent(K))})}catch(k){throw g.push(R+"type="+encodeURIComponent("_badmap")),k}}function od(c){this.l=c.Ub||null,this.j=c.eb||!1}x(od,Vl),od.prototype.g=function(){return new ld(this.l,this.j)},od.prototype.i=function(c){return function(){return c}}({});function ld(c,g){je.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(ld,je),t=ld.prototype,t.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,ql(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||o).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hl(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ql(this)),this.g&&(this.readyState=3,ql(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;F0(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function F0(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Hl(this):ql(this),this.readyState==3&&F0(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Hl(this))},t.Qa=function(c){this.g&&(this.response=c,Hl(this))},t.ga=function(){this.g&&Hl(this)};function Hl(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ql(c)}t.setRequestHeader=function(c,g){this.u.append(c,g)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function ql(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ld.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function H0(c){let g="";return V(c,function(v,R){g+=R,g+=":",g+=v,g+=`\r
`}),g}function Hm(c,g,v){e:{for(R in v){var R=!1;break e}R=!0}R||(v=H0(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Ye(c,g,v))}function ot(c){je.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(ot,je);var IM=/^https?$/i,NM=["POST","PUT"];t=ot.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,g,v,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Vm.g(),this.v=this.o?jl(this.o):jl(Vm),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(j){q0(this,j);return}if(c=v||"",v=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var k in R)v.set(k,R[k]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const j of R.keys())v.set(j,R.get(j));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(v.keys()).find(j=>j.toLowerCase()=="content-type"),k=o.FormData&&c instanceof o.FormData,!(0<=Array.prototype.indexOf.call(NM,g,void 0))||R||k||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,K]of v)this.g.setRequestHeader(j,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{K0(this),this.u=!0,this.g.send(c),this.u=!1}catch(j){q0(this,j)}};function q0(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,G0(c),cd(c)}function G0(c){c.A||(c.A=!0,at(c,"complete"),at(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,at(this,"complete"),at(this,"abort"),cd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cd(this,!0)),ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?$0(this):this.bb())},t.bb=function(){$0(this)};function $0(c){if(c.h&&typeof a<"u"&&(!c.v[1]||Gr(c)!=4||c.Z()!=2)){if(c.u&&Gr(c)==4)ed(c.Ea,0,c);else if(at(c,"readystatechange"),Gr(c)==4){c.h=!1;try{const K=c.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var R;if(R=K===0){var k=String(c.D).match(V0)[1]||null;!k&&o.self&&o.self.location&&(k=o.self.location.protocol.slice(0,-1)),R=!IM.test(k?k.toLowerCase():"")}v=R}if(v)at(c,"complete"),at(c,"success");else{c.m=6;try{var j=2<Gr(c)?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.Z()+"]",G0(c)}}finally{cd(c)}}}}function cd(c,g){if(c.g){K0(c);const v=c.g,R=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||at(c,"ready");try{v.onreadystatechange=R}catch{}}}function K0(c){c.I&&(o.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Gr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Gr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Ai(g)}};function Q0(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function MM(c){const g={};c=(c.g&&2<=Gr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<c.length;R++){if(b(c[R]))continue;var v=O(c[R]);const k=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const j=g[k]||[];g[k]=j,j.push(v)}A(g,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gl(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function Y0(c){this.Aa=0,this.i=[],this.j=new hn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gl("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gl("baseRetryDelayMs",5e3,c),this.cb=Gl("retryDelaySeedMs",1e4,c),this.Wa=Gl("forwardChannelMaxRetries",2,c),this.wa=Gl("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new N0(c&&c.concurrentRequestLimit),this.Da=new RM,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Y0.prototype,t.la=8,t.G=1,t.connect=function(c,g,v,R){Je(0),this.W=c,this.H=g||{},v&&R!==void 0&&(this.H.OSID=v,this.H.OAID=R),this.F=this.X,this.I=ib(this,null,this.W),dd(this)};function qm(c){if(X0(c),c.G==3){var g=c.U++,v=qr(c.I);if(Ye(v,"SID",c.K),Ye(v,"RID",g),Ye(v,"TYPE","terminate"),$l(c,v),g=new Ri(c,c.j,g),g.L=2,g.v=ad(qr(v)),v=!1,o.navigator&&o.navigator.sendBeacon)try{v=o.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&o.Image&&(new Image().src=g.v,v=!0),v||(g.g=sb(g.j,null),g.g.ea(g.v)),g.F=Date.now(),rd(g)}rb(c)}function ud(c){c.g&&($m(c),c.g.cancel(),c.g=null)}function X0(c){ud(c),c.u&&(o.clearTimeout(c.u),c.u=null),fd(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&o.clearTimeout(c.s),c.s=null)}function dd(c){if(!M0(c.h)&&!c.s){c.s=!0;var g=c.Ga;G||W(),q||(G(),q=!0),L.add(g,c),c.B=0}}function DM(c,g){return D0(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=jt(m(c.Ga,c,g),nb(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const k=new Ri(this,this.j,c);let j=this.o;if(this.S&&(j?(j=S(j),I(j,this.S)):j=this.S),this.m!==null||this.O||(k.H=j,j=null),this.P)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var R=this.i[v];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(g+=R,4096<g){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=Z0(this,k,g),v=qr(this.I),Ye(v,"RID",c),Ye(v,"CVER",22),this.D&&Ye(v,"X-HTTP-Session-Id",this.D),$l(this,v),j&&(this.O?g="headers="+encodeURIComponent(String(H0(j)))+"&"+g:this.m&&Hm(v,this.m,j)),Fm(this.h,k),this.Ua&&Ye(v,"TYPE","init"),this.P?(Ye(v,"$req",g),Ye(v,"SID","null"),k.T=!0,Lm(k,v,null)):Lm(k,v,g),this.G=2}}else this.G==3&&(c?W0(this,c):this.i.length==0||M0(this.h)||W0(this))};function W0(c,g){var v;g?v=g.l:v=c.U++;const R=qr(c.I);Ye(R,"SID",c.K),Ye(R,"RID",v),Ye(R,"AID",c.T),$l(c,R),c.m&&c.o&&Hm(R,c.m,c.o),v=new Ri(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Z0(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Fm(c.h,v),Lm(v,R,g)}function $l(c,g){c.H&&V(c.H,function(v,R){Ye(g,R,v)}),c.l&&k0({},function(v,R){Ye(g,R,v)})}function Z0(c,g,v){v=Math.min(c.i.length,v);var R=c.l?m(c.l.Na,c.l,c):null;e:{var k=c.i;let j=-1;for(;;){const K=["count="+v];j==-1?0<v?(j=k[0].g,K.push("ofs="+j)):j=0:K.push("ofs="+j);let He=!0;for(let Lt=0;Lt<v;Lt++){let De=k[Lt].g;const Kt=k[Lt].map;if(De-=j,0>De)j=Math.max(0,k[Lt].g-100),He=!1;else try{CM(Kt,K,"req"+De+"_")}catch{R&&R(Kt)}}if(He){R=K.join("&");break e}}}return c=c.i.splice(0,v),g.D=c,R}function J0(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;G||W(),q||(G(),q=!0),L.add(g,c),c.v=0}}function Gm(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=jt(m(c.Fa,c),nb(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,eb(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=jt(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Je(10),ud(this),eb(this))};function $m(c){c.A!=null&&(o.clearTimeout(c.A),c.A=null)}function eb(c){c.g=new Ri(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=qr(c.qa);Ye(g,"RID","rpc"),Ye(g,"SID",c.K),Ye(g,"AID",c.T),Ye(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ye(g,"TO",c.ja),Ye(g,"TYPE","xmlhttp"),$l(c,g),c.m&&c.o&&Hm(g,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=ad(qr(g)),v.m=null,v.P=!0,R0(v,c)}t.Za=function(){this.C!=null&&(this.C=null,ud(this),Gm(this),Je(19))};function fd(c){c.C!=null&&(o.clearTimeout(c.C),c.C=null)}function tb(c,g){var v=null;if(c.g==g){fd(c),$m(c),c.g=null;var R=2}else if(Bm(c.h,g))v=g.D,O0(c.h,g),R=1;else return;if(c.G!=0){if(g.o)if(R==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var k=c.B;R=Ne(),at(R,new hr(R,v)),dd(c)}else J0(c);else if(k=g.s,k==3||k==0&&0<g.X||!(R==1&&DM(c,g)||R==2&&Gm(c)))switch(v&&0<v.length&&(g=c.h,g.i=g.i.concat(v)),k){case 1:Gs(c,5);break;case 4:Gs(c,10);break;case 3:Gs(c,6);break;default:Gs(c,2)}}}function nb(c,g){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*g}function Gs(c,g){if(c.j.info("Error code "+g),g==2){var v=m(c.fb,c),R=c.Xa;const k=!R;R=new qs(R||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||id(R,"https"),ad(R),k?SM(R.toString(),v):AM(R.toString(),v)}else Je(2);c.G=0,c.l&&c.l.sa(g),rb(c),X0(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Je(2)):(this.j.info("Failed to ping google.com"),Je(1))};function rb(c){if(c.G=0,c.ka=[],c.l){const g=P0(c.h);(g.length!=0||c.i.length!=0)&&(E(c.ka,g),E(c.ka,c.i),c.h.i.length=0,y(c.i),c.i.length=0),c.l.ra()}}function ib(c,g,v){var R=v instanceof qs?qr(v):new qs(v);if(R.g!="")g&&(R.g=g+"."+R.g),sd(R,R.s);else{var k=o.location;R=k.protocol,g=g?g+"."+k.hostname:k.hostname,k=+k.port;var j=new qs(null);R&&id(j,R),g&&(j.g=g),k&&sd(j,k),v&&(j.l=v),R=j}return v=c.D,g=c.ya,v&&g&&Ye(R,v,g),Ye(R,"VER",c.la),$l(c,R),R}function sb(c,g,v){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new ot(new od({eb:v})):new ot(c.pa),g.Ha(c.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ab(){}t=ab.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function hd(){}hd.prototype.g=function(c,g){return new Tn(c,g)};function Tn(c,g){je.call(this),this.g=new Y0(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!b(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!b(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new qa(this)}x(Tn,je),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){qm(this.g)},Tn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Ba(c),c=v);g.i.push(new pM(g.Ya++,c)),g.G==3&&dd(g)},Tn.prototype.N=function(){this.g.l=null,delete this.j,qm(this.g),delete this.g,Tn.aa.N.call(this)};function ob(c){Fs.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}x(ob,Fs);function lb(){Vn.call(this),this.status=1}x(lb,Vn);function qa(c){this.g=c}x(qa,ab),qa.prototype.ua=function(){at(this.g,"a")},qa.prototype.ta=function(c){at(this.g,new ob(c))},qa.prototype.sa=function(c){at(this.g,new lb)},qa.prototype.ra=function(){at(this.g,"b")},hd.prototype.createWebChannel=hd.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,gC=function(){return new hd},pC=function(){return Ne()},mC=Hr,vy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},td.NO_ERROR=0,td.TIMEOUT=8,td.HTTP_ERROR=6,uf=td,x0.COMPLETE="complete",hC=x0,Ll.EventType=Bs,Bs.OPEN="a",Bs.CLOSE="b",Bs.ERROR="c",Bs.MESSAGE="d",je.prototype.listen=je.prototype.K,lc=Ll,ot.prototype.listenOnce=ot.prototype.L,ot.prototype.getLastError=ot.prototype.Ka,ot.prototype.getLastErrorCode=ot.prototype.Ba,ot.prototype.getStatus=ot.prototype.Z,ot.prototype.getResponseJson=ot.prototype.Oa,ot.prototype.getResponseText=ot.prototype.oa,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Ha,fC=ot}).apply(typeof Vd<"u"?Vd:typeof self<"u"?self:typeof window<"u"?window:{});const GE="@firebase/firestore",$E="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Il="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa=new m_("@firebase/firestore");function to(){return xa.logLevel}function X(t,...e){if(xa.logLevel<=Ee.DEBUG){const n=e.map(A_);xa.debug(`Firestore (${Il}): ${t}`,...n)}}function _i(t,...e){if(xa.logLevel<=Ee.ERROR){const n=e.map(A_);xa.error(`Firestore (${Il}): ${t}`,...n)}}function ol(t,...e){if(xa.logLevel<=Ee.WARN){const n=e.map(A_);xa.warn(`Firestore (${Il}): ${t}`,...n)}}function A_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function re(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,yC(t,r,n)}function yC(t,e,n){let r=`FIRESTORE (${Il}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw _i(r),new Error(r)}function Ve(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||yC(e,i,r)}function ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Ti{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class X5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Zt.UNAUTHENTICATED))}shutdown(){}}class W5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Z5{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ve(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ha;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ha,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ha)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ve(typeof r.accessToken=="string",31837,{l:r}),new vC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class J5{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class eU{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new J5(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class KE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tU{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ve(this.o===void 0,3512);const r=s=>{s.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,X("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new KE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ve(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new KE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nU(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=nU(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Te(t,e){return t<e?-1:t>e?1:0}function _y(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return Fp(i)===Fp(s)?Te(i,s):Fp(i)?1:-1}return Te(t.length,e.length)}const rU=55296,iU=57343;function Fp(t){const e=t.charCodeAt(0);return e>=rU&&e<=iU}function ll(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="__name__";class gr{constructor(e,n,r){n===void 0?n=0:n>e.length&&re(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&re(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return gr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof gr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=gr.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Te(e.length,n.length)}static compareSegments(e,n){const r=gr.isNumericId(e),i=gr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?gr.extractNumericId(e).compare(gr.extractNumericId(n)):_y(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return _s.fromString(e.substring(4,e.length-2))}}class $e extends gr{construct(e,n,r){return new $e(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new $e(n)}static emptyPath(){return new $e([])}}const sU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends gr{construct(e,n,r){return new Ft(e,n,r)}static isValidIdentifier(e){return sU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===QE}static keyField(){return new Ft([QE])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Y(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new Y(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Y(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new Y(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(n)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne($e.fromString(e))}static fromName(e){return new ne($e.fromString(e).popFirst(5))}static empty(){return new ne($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new $e(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(t,e,n){if(!n)throw new Y(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function aU(t,e,n,r){if(e===!0&&r===!0)throw new Y(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function YE(t){if(!ne.isDocumentKey(t))throw new Y(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function XE(t){if(ne.isDocumentKey(t))throw new Y(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function bC(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function om(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":re(12329,{type:typeof t})}function bs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=om(t);throw new Y(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(t,e){const n={typeString:t};return e&&(n.value=e),n}function Hu(t,e){if(!bC(t))throw new Y(B.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Y(B.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE=-62135596800,ZE=1e6;class We{static now(){return We.fromMillis(Date.now())}static fromDate(e){return We.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*ZE);return new We(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<WE)throw new Y(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ZE}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:We._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Hu(e,We._jsonSchema))return new We(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-WE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}We._jsonSchemaVersion="firestore/timestamp/1.0",We._jsonSchema={type:_t("string",We._jsonSchemaVersion),seconds:_t("number"),nanoseconds:_t("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{static fromTimestamp(e){return new ce(e)}static min(){return new ce(new We(0,0))}static max(){return new ce(new We(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou=-1;function oU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ce.fromTimestamp(r===1e9?new We(n+1,0):new We(n,r));return new Rs(i,ne.empty(),e)}function lU(t){return new Rs(t.readTime,t.key,ou)}class Rs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Rs(ce.min(),ne.empty(),ou)}static max(){return new Rs(ce.max(),ne.empty(),ou)}}function cU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:Te(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nl(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==uU)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&n()},l=>r(l))}),a=!0,s===i&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(i=>i?F.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new F((r,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(d=>{a[u]=d,++o,o===s&&r(a)},d=>i(d))}})}static doWhile(e,n){return new F((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function fU(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ml(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}lm.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_=-1;function cm(t){return t==null}function hh(t){return t===0&&1/t==-1/0}function hU(t){return typeof t=="number"&&Number.isInteger(t)&&!hh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC="";function mU(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=JE(e)),e=pU(t.get(n),e);return JE(e)}function pU(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case wC:n+="";break;default:n+=s}}return n}function JE(t){return t+wC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ks(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function EC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n){this.comparator=e,this.root=n||zt.EMPTY}insert(e,n){return new it(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,zt.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jd(this.root,e,this.comparator,!1)}getReverseIterator(){return new jd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jd(this.root,e,this.comparator,!0)}}class jd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class zt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??zt.RED,this.left=i??zt.EMPTY,this.right=s??zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new zt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return zt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw re(27949);return e+(this.isRed()?0:1)}}zt.EMPTY=null,zt.RED=!0,zt.BLACK=!1;zt.EMPTY=new class{constructor(){this.size=0}get key(){throw re(57766)}get value(){throw re(16141)}get color(){throw re(16727)}get left(){throw re(29726)}get right(){throw re(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new tT(this.data.getIterator())}getIteratorFrom(e){return new tT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof At)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new At(this.comparator);return n.data=e,n}}class tT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new In([])}unionWith(e){let n=new At(Ft.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ll(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new TC("Invalid base64 string: "+s):s}}(e);return new Gt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new Gt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Gt.EMPTY_BYTE_STRING=new Gt("");const gU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cs(t){if(Ve(!!t,39018),typeof t=="string"){let e=0;const n=gU.exec(t);if(Ve(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mt(t.seconds),nanos:mt(t.nanos)}}function mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Is(t){return typeof t=="string"?Gt.fromBase64String(t):Gt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="server_timestamp",SC="__type__",AC="__previous_value__",RC="__local_write_time__";function I_(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[SC])==null?void 0:r.stringValue)===xC}function um(t){const e=t.mapValue.fields[AC];return I_(e)?um(e):e}function lu(t){const e=Cs(t.mapValue.fields[RC].timestampValue);return new We(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yU{constructor(e,n,r,i,s,a,o,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const mh="(default)";class cu{constructor(e,n){this.projectId=e,this.database=n||mh}static empty(){return new cu("","")}get isDefaultDatabase(){return this.database===mh}isEqual(e){return e instanceof cu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="__type__",vU="__max__",Ld={mapValue:{}},IC="__vector__",ph="value";function Ns(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?I_(t)?4:bU(t)?9007199254740991:_U(t)?10:11:re(28295,{value:t})}function Vr(t,e){if(t===e)return!0;const n=Ns(t);if(n!==Ns(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return lu(t).isEqual(lu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Cs(i.timestampValue),o=Cs(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Is(i.bytesValue).isEqual(Is(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return mt(i.geoPointValue.latitude)===mt(s.geoPointValue.latitude)&&mt(i.geoPointValue.longitude)===mt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return mt(i.integerValue)===mt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=mt(i.doubleValue),o=mt(s.doubleValue);return a===o?hh(a)===hh(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return ll(t.arrayValue.values||[],e.arrayValue.values||[],Vr);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(eT(a)!==eT(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Vr(a[l],o[l])))return!1;return!0}(t,e);default:return re(52216,{left:t})}}function uu(t,e){return(t.values||[]).find(n=>Vr(n,e))!==void 0}function cl(t,e){if(t===e)return 0;const n=Ns(t),r=Ns(e);if(n!==r)return Te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Te(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=mt(s.integerValue||s.doubleValue),l=mt(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return nT(t.timestampValue,e.timestampValue);case 4:return nT(lu(t),lu(e));case 5:return _y(t.stringValue,e.stringValue);case 6:return function(s,a){const o=Is(s),l=Is(a);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),l=a.split("/");for(let u=0;u<o.length&&u<l.length;u++){const d=Te(o[u],l[u]);if(d!==0)return d}return Te(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=Te(mt(s.latitude),mt(a.latitude));return o!==0?o:Te(mt(s.longitude),mt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return rT(t.arrayValue,e.arrayValue);case 10:return function(s,a){var m,h,x,y;const o=s.fields||{},l=a.fields||{},u=(m=o[ph])==null?void 0:m.arrayValue,d=(h=l[ph])==null?void 0:h.arrayValue,f=Te(((x=u==null?void 0:u.values)==null?void 0:x.length)||0,((y=d==null?void 0:d.values)==null?void 0:y.length)||0);return f!==0?f:rT(u,d)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===Ld.mapValue&&a===Ld.mapValue)return 0;if(s===Ld.mapValue)return 1;if(a===Ld.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),u=a.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const m=_y(l[f],d[f]);if(m!==0)return m;const h=cl(o[l[f]],u[d[f]]);if(h!==0)return h}return Te(l.length,d.length)}(t.mapValue,e.mapValue);default:throw re(23264,{he:n})}}function nT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Te(t,e);const n=Cs(t),r=Cs(e),i=Te(n.seconds,r.seconds);return i!==0?i:Te(n.nanos,r.nanos)}function rT(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=cl(n[i],r[i]);if(s)return s}return Te(n.length,r.length)}function ul(t){return by(t)}function by(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Cs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Is(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=by(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${by(n.fields[a])}`;return i+"}"}(t.mapValue):re(61005,{value:t})}function df(t){switch(Ns(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=um(t);return e?16+df(e):16;case 5:return 2*t.stringValue.length;case 6:return Is(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+df(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ks(r.fields,(s,a)=>{i+=s.length+df(a)}),i}(t.mapValue);default:throw re(13486,{value:t})}}function iT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function wy(t){return!!t&&"integerValue"in t}function N_(t){return!!t&&"arrayValue"in t}function sT(t){return!!t&&"nullValue"in t}function aT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ff(t){return!!t&&"mapValue"in t}function _U(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[CC])==null?void 0:r.stringValue)===IC}function Oc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ks(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Oc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Oc(t.arrayValue.values[n]);return e}return{...t}}function bU(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===vU}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ff(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Oc(n)}setAll(e){let n=Ft.emptyPath(),r={},i=[];e.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}a?r[o.lastSegment()]=Oc(a):i.push(o.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());ff(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ff(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ks(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new _n(Oc(this.value))}}function NC(t){const e=[];return ks(t.fields,(n,r)=>{const i=new Ft([n]);if(ff(r)){const s=NC(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e,n,r,i,s,a,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Jt(e,0,ce.min(),ce.min(),ce.min(),_n.empty(),0)}static newFoundDocument(e,n,r,i){return new Jt(e,1,n,ce.min(),r,i,0)}static newNoDocument(e,n){return new Jt(e,2,n,ce.min(),ce.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new Jt(e,3,n,ce.min(),ce.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n){this.position=e,this.inclusive=n}}function oT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=ne.comparator(ne.fromName(a.referenceValue),n.key):r=cl(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function lT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Vr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n="asc"){this.field=e,this.dir=n}}function wU(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MC=class{};class vt extends MC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new TU(e,n,r):n==="array-contains"?new AU(e,r):n==="in"?new RU(e,r):n==="not-in"?new CU(e,r):n==="array-contains-any"?new IU(e,r):new vt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new xU(e,r):new SU(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(cl(n,this.value)):n!==null&&Ns(this.value)===Ns(n)&&this.matchesComparison(cl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dr extends MC{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new dr(e,n)}matches(e){return DC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function DC(t){return t.op==="and"}function OC(t){return EU(t)&&DC(t)}function EU(t){for(const e of t.filters)if(e instanceof dr)return!1;return!0}function Ey(t){if(t instanceof vt)return t.field.canonicalString()+t.op.toString()+ul(t.value);if(OC(t))return t.filters.map(e=>Ey(e)).join(",");{const e=t.filters.map(n=>Ey(n)).join(",");return`${t.op}(${e})`}}function PC(t,e){return t instanceof vt?function(r,i){return i instanceof vt&&r.op===i.op&&r.field.isEqual(i.field)&&Vr(r.value,i.value)}(t,e):t instanceof dr?function(r,i){return i instanceof dr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,o)=>s&&PC(a,i.filters[o]),!0):!1}(t,e):void re(19439)}function kC(t){return t instanceof vt?function(n){return`${n.field.canonicalString()} ${n.op} ${ul(n.value)}`}(t):t instanceof dr?function(n){return n.op.toString()+" {"+n.getFilters().map(kC).join(" ,")+"}"}(t):"Filter"}class TU extends vt{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class xU extends vt{constructor(e,n){super(e,"in",n),this.keys=VC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class SU extends vt{constructor(e,n){super(e,"not-in",n),this.keys=VC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function VC(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class AU extends vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return N_(n)&&uu(n.arrayValue,this.value)}}class RU extends vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&uu(this.value.arrayValue,n)}}class CU extends vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(uu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!uu(this.value.arrayValue,n)}}class IU extends vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!N_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>uu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e,n=null,r=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.Te=null}}function cT(t,e=null,n=[],r=[],i=null,s=null,a=null){return new NU(t,e,n,r,i,s,a)}function M_(t){const e=ue(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ey(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),cm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ul(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ul(r)).join(",")),e.Te=n}return e.Te}function D_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!wU(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!PC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!lT(t.startAt,e.startAt)&&lT(t.endAt,e.endAt)}function Ty(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n=null,r=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function MU(t,e,n,r,i,s,a,o){return new Dl(t,e,n,r,i,s,a,o)}function O_(t){return new Dl(t)}function uT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function jC(t){return t.collectionGroup!==null}function Pc(t){const e=ue(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new At(Ft.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new du(s,r))}),n.has(Ft.keyField().canonicalString())||e.Ie.push(new du(Ft.keyField(),r))}return e.Ie}function Nr(t){const e=ue(t);return e.Ee||(e.Ee=DU(e,Pc(t))),e.Ee}function DU(t,e){if(t.limitType==="F")return cT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new du(i.field,s)});const n=t.endAt?new gh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new gh(t.startAt.position,t.startAt.inclusive):null;return cT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function xy(t,e){const n=t.filters.concat([e]);return new Dl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Sy(t,e,n){return new Dl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dm(t,e){return D_(Nr(t),Nr(e))&&t.limitType===e.limitType}function LC(t){return`${M_(Nr(t))}|lt:${t.limitType}`}function no(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>kC(i)).join(", ")}]`),cm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ul(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ul(i)).join(",")),`Target(${r})`}(Nr(t))}; limitType=${t.limitType})`}function fm(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ne.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Pc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,o,l){const u=oT(a,o,l);return a.inclusive?u<=0:u<0}(r.startAt,Pc(r),i)||r.endAt&&!function(a,o,l){const u=oT(a,o,l);return a.inclusive?u>=0:u>0}(r.endAt,Pc(r),i))}(t,e)}function OU(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function UC(t){return(e,n)=>{let r=!1;for(const i of Pc(t)){const s=PU(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function PU(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(s,a,o){const l=a.data.field(s),u=o.data.field(s);return l!==null&&u!==null?cl(l,u):re(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return re(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ks(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return EC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU=new it(ne.comparator);function bi(){return kU}const zC=new it(ne.comparator);function cc(...t){let e=zC;for(const n of t)e=e.insert(n.key,n);return e}function BC(t){let e=zC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Zs(){return kc()}function FC(){return kc()}function kc(){return new Oa(t=>t.toString(),(t,e)=>t.isEqual(e))}const VU=new it(ne.comparator),jU=new At(ne.comparator);function xe(...t){let e=jU;for(const n of t)e=e.add(n);return e}const LU=new At(Te);function UU(){return LU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hh(e)?"-0":e}}function HC(t){return{integerValue:""+t}}function zU(t,e){return hU(e)?HC(e):P_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(){this._=void 0}}function BU(t,e,n){return t instanceof fu?function(i,s){const a={fields:{[SC]:{stringValue:xC},[RC]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&I_(s)&&(s=um(s)),s&&(a.fields[AC]=s),{mapValue:a}}(n,e):t instanceof hu?GC(t,e):t instanceof mu?$C(t,e):function(i,s){const a=qC(i,s),o=dT(a)+dT(i.Ae);return wy(a)&&wy(i.Ae)?HC(o):P_(i.serializer,o)}(t,e)}function FU(t,e,n){return t instanceof hu?GC(t,e):t instanceof mu?$C(t,e):n}function qC(t,e){return t instanceof yh?function(r){return wy(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class fu extends hm{}class hu extends hm{constructor(e){super(),this.elements=e}}function GC(t,e){const n=KC(e);for(const r of t.elements)n.some(i=>Vr(i,r))||n.push(r);return{arrayValue:{values:n}}}class mu extends hm{constructor(e){super(),this.elements=e}}function $C(t,e){let n=KC(e);for(const r of t.elements)n=n.filter(i=>!Vr(i,r));return{arrayValue:{values:n}}}class yh extends hm{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function dT(t){return mt(t.integerValue||t.doubleValue)}function KC(t){return N_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(e,n){this.field=e,this.transform=n}}function qU(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof hu&&i instanceof hu||r instanceof mu&&i instanceof mu?ll(r.elements,i.elements,Vr):r instanceof yh&&i instanceof yh?Vr(r.Ae,i.Ae):r instanceof fu&&i instanceof fu}(t.transform,e.transform)}class GU{constructor(e,n){this.version=e,this.transformResults=n}}class lr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new lr}static exists(e){return new lr(void 0,e)}static updateTime(e){return new lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class mm{}function QC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new k_(t.key,lr.none()):new qu(t.key,t.data,lr.none());{const n=t.data,r=_n.empty();let i=new At(Ft.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Vs(t.key,r,new In(i.toArray()),lr.none())}}function $U(t,e,n){t instanceof qu?function(i,s,a){const o=i.value.clone(),l=hT(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Vs?function(i,s,a){if(!hf(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=hT(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(YC(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Vc(t,e,n,r){return t instanceof qu?function(s,a,o,l){if(!hf(s.precondition,a))return o;const u=s.value.clone(),d=mT(s.fieldTransforms,l,a);return u.setAll(d),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Vs?function(s,a,o,l){if(!hf(s.precondition,a))return o;const u=mT(s.fieldTransforms,l,a),d=a.data;return d.setAll(YC(s)),d.setAll(u),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,a,o){return hf(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,n)}function KU(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=qC(r.transform,i||null);s!=null&&(n===null&&(n=_n.empty()),n.set(r.field,s))}return n||null}function fT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ll(r,i,(s,a)=>qU(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class qu extends mm{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Vs extends mm{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function YC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function hT(t,e,n){const r=new Map;Ve(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);r.set(s.field,FU(a,o,n[i]))}return r}function mT(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,BU(s,a,e))}return r}class k_ extends mm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QU extends mm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&$U(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Vc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Vc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=FC();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=n.has(i.key)?null:o;const l=QC(a,o);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xe())}isEqual(e){return this.batchId===e.batchId&&ll(this.mutations,e.mutations,(n,r)=>fT(n,r))&&ll(this.baseMutations,e.baseMutations,(n,r)=>fT(n,r))}}class V_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ve(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return VU}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new V_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,Ce;function ZU(t){switch(t){case B.OK:return re(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return re(15467,{code:t})}}function XC(t){if(t===void 0)return _i("GRPC error has no .code"),B.UNKNOWN;switch(t){case gt.OK:return B.OK;case gt.CANCELLED:return B.CANCELLED;case gt.UNKNOWN:return B.UNKNOWN;case gt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case gt.INTERNAL:return B.INTERNAL;case gt.UNAVAILABLE:return B.UNAVAILABLE;case gt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case gt.NOT_FOUND:return B.NOT_FOUND;case gt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case gt.ABORTED:return B.ABORTED;case gt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case gt.DATA_LOSS:return B.DATA_LOSS;default:return re(39323,{code:t})}}(Ce=gt||(gt={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9=new _s([4294967295,4294967295],0);function pT(t){const e=JU().encode(t),n=new dC;return n.update(e),new Uint8Array(n.digest())}function gT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new _s([n,r],0),new _s([i,s],0)]}class j_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new uc(`Invalid padding: ${n}`);if(r<0)throw new uc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new uc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new uc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=_s.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(_s.fromNumber(r)));return i.compare(e9)===1&&(i=new _s([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=pT(e),[r,i]=gT(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new j_(s,i,n);return r.forEach(o=>a.insert(o)),a}insert(e){if(this.ge===0)return;const n=pT(e),[r,i]=gT(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class uc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Gu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new pm(ce.min(),i,new it(Te),bi(),xe())}}class Gu{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Gu(r,n,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class WC{constructor(e,n){this.targetId=e,this.Ce=n}}class ZC{constructor(e,n,r=Gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class yT{constructor(){this.ve=0,this.Fe=vT(),this.Me=Gt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=xe(),n=xe(),r=xe();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:re(38017,{changeType:s})}}),new Gu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=vT()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ve(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class t9{constructor(e){this.Ge=e,this.ze=new Map,this.je=bi(),this.Je=Ud(),this.He=Ud(),this.Ye=new it(Te)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:re(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(Ty(s))if(r===0){const a=new ne(s.path);this.et(n,a,Jt.newNoDocument(a,ce.min()))}else Ve(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const o=this.ut(e),l=o?this.ct(o,e,a):1;if(l!==0){this.it(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,o;try{a=Is(r).toUint8Array()}catch(l){if(l instanceof TC)return ol("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new j_(a,i,s)}catch(l){return ol(l instanceof uc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Ge.ht(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,a)=>{const o=this.ot(a);if(o){if(s.current&&Ty(o.target)){const l=new ne(o.target.path);this.It(l).has(a)||this.Et(a,l)||this.et(a,l,Jt.newNoDocument(l,e))}s.Be&&(n.set(a,s.ke()),s.qe())}});let r=xe();this.He.forEach((s,a)=>{let o=!0;a.forEachWhile(l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(s))}),this.je.forEach((s,a)=>a.setReadTime(e));const i=new pm(e,n,this.Ye,this.je,r);return this.je=bi(),this.Je=Ud(),this.He=Ud(),this.Ye=new it(Te),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new yT,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new At(Te),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new At(Te),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new yT),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ud(){return new it(ne.comparator)}function vT(){return new it(ne.comparator)}const n9={asc:"ASCENDING",desc:"DESCENDING"},r9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},i9={and:"AND",or:"OR"};class s9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ay(t,e){return t.useProto3Json||cm(e)?e:{value:e}}function vh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function a9(t,e){return vh(t,e.toTimestamp())}function Mr(t){return Ve(!!t,49232),ce.fromTimestamp(function(n){const r=Cs(n);return new We(r.seconds,r.nanos)}(t))}function L_(t,e){return Ry(t,e).canonicalString()}function Ry(t,e){const n=function(i){return new $e(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function eI(t){const e=$e.fromString(t);return Ve(sI(e),10190,{key:e.toString()}),e}function Cy(t,e){return L_(t.databaseId,e.path)}function Hp(t,e){const n=eI(e);if(n.get(1)!==t.databaseId.projectId)throw new Y(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(nI(n))}function tI(t,e){return L_(t.databaseId,e)}function o9(t){const e=eI(t);return e.length===4?$e.emptyPath():nI(e)}function Iy(t){return new $e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function nI(t){return Ve(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function _T(t,e,n){return{name:Cy(t,e),fields:n.value.mapValue.fields}}function l9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:re(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(Ve(d===void 0||typeof d=="string",58123),Gt.fromBase64String(d||"")):(Ve(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Gt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(u){const d=u.code===void 0?B.UNKNOWN:XC(u.code);return new Y(d,u.message||"")}(a);n=new ZC(r,i,s,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Hp(t,r.document.name),s=Mr(r.document.updateTime),a=r.document.createTime?Mr(r.document.createTime):ce.min(),o=new _n({mapValue:{fields:r.document.fields}}),l=Jt.newFoundDocument(i,s,a,o),u=r.targetIds||[],d=r.removedTargetIds||[];n=new mf(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Hp(t,r.document),s=r.readTime?Mr(r.readTime):ce.min(),a=Jt.newNoDocument(i,s),o=r.removedTargetIds||[];n=new mf([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Hp(t,r.document),s=r.removedTargetIds||[];n=new mf([],s,i,null)}else{if(!("filter"in e))return re(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new WU(i,s),o=r.targetId;n=new WC(o,a)}}return n}function c9(t,e){let n;if(e instanceof qu)n={update:_T(t,e.key,e.value)};else if(e instanceof k_)n={delete:Cy(t,e.key)};else if(e instanceof Vs)n={update:_T(t,e.key,e.data),updateMask:v9(e.fieldMask)};else{if(!(e instanceof QU))return re(16599,{Vt:e.type});n={verify:Cy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const o=a.transform;if(o instanceof fu)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof hu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof mu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof yh)return{fieldPath:a.field.canonicalString(),increment:o.Ae};throw re(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:a9(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:re(27497)}(t,e.precondition)),n}function u9(t,e){return t&&t.length>0?(Ve(e!==void 0,14353),t.map(n=>function(i,s){let a=i.updateTime?Mr(i.updateTime):Mr(s);return a.isEqual(ce.min())&&(a=Mr(s)),new GU(a,i.transformResults||[])}(n,e))):[]}function d9(t,e){return{documents:[tI(t,e.path)]}}function f9(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=tI(t,i);const s=function(u){if(u.length!==0)return iI(dr.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:ro(m.field),direction:p9(m.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Ay(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function h9(t){let e=o9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ve(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const m=rI(f);return m instanceof dr&&OC(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(m=>function(x){return new du(io(x.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(m))}(n.orderBy));let o=null;n.limit&&(o=function(f){let m;return m=typeof f=="object"?f.value:f,cm(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(f){const m=!!f.before,h=f.values||[];return new gh(h,m)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const m=!f.before,h=f.values||[];return new gh(h,m)}(n.endAt)),MU(e,i,a,s,o,"F",l,u)}function m9(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return re(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function rI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=io(n.unaryFilter.field);return vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=io(n.unaryFilter.field);return vt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=io(n.unaryFilter.field);return vt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=io(n.unaryFilter.field);return vt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return re(61313);default:return re(60726)}}(t):t.fieldFilter!==void 0?function(n){return vt.create(io(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return re(58110);default:return re(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return dr.create(n.compositeFilter.filters.map(r=>rI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return re(1026)}}(n.compositeFilter.op))}(t):re(30097,{filter:t})}function p9(t){return n9[t]}function g9(t){return r9[t]}function y9(t){return i9[t]}function ro(t){return{fieldPath:t.canonicalString()}}function io(t){return Ft.fromServerFormat(t.fieldPath)}function iI(t){return t instanceof vt?function(n){if(n.op==="=="){if(aT(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NAN"}};if(sT(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(aT(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NOT_NAN"}};if(sT(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ro(n.field),op:g9(n.op),value:n.value}}}(t):t instanceof dr?function(n){const r=n.getFilters().map(i=>iI(i));return r.length===1?r[0]:{compositeFilter:{op:y9(n.op),filters:r}}}(t):re(54877,{filter:t})}function v9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function sI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,n,r,i,s=ce.min(),a=ce.min(),o=Gt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _9{constructor(e){this.yt=e}}function b9(t){const e=h9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Sy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9{constructor(){this.Cn=new E9}addToCollectionParentIndex(e,n){return this.Cn.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(Rs.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(Rs.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class E9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new At($e.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new At($e.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aI=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(aI,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new dl(0)}static cr(){return new dl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="LruGarbageCollector",T9=1048576;function ET([t,e],[n,r]){const i=Te(t,n);return i===0?Te(e,r):i}class x9{constructor(e){this.Ir=e,this.buffer=new At(ET),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();ET(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class S9{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){X(wT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ml(n)?X(wT,"Ignoring IndexedDB error during garbage collection: ",n):await Nl(n)}await this.Vr(3e5)})}}class A9{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return F.resolve(lm.ce);const r=new x9(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(bT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bT):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,a,o,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,a=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,o=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),to()<=Ee.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function R9(t,e){return new A9(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(){this.changes=new Oa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Vc(r.mutation,i,In.empty(),We.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=xe()){const i=Zs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=cc();return s.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Zs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,xe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{n.set(a,o)})})}computeViews(e,n,r,i){let s=bi();const a=kc(),o=function(){return kc()}();return n.forEach((l,u)=>{const d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Vs)?s=s.insert(u.key,u):d!==void 0?(a.set(u.key,d.mutation.getFieldMask()),Vc(d.mutation,u,d.mutation.getFieldMask(),We.now())):a.set(u.key,In.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>a.set(u,d)),n.forEach((u,d)=>o.set(u,new I9(d,a.get(u)??null))),o))}recalculateAndSaveOverlays(e,n){const r=kc();let i=new it((a,o)=>a-o),s=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const o of a)o.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let d=r.get(l)||In.empty();d=o.applyToLocalView(u,d),r.set(l,d);const f=(i.get(o.batchId)||xe()).add(l);i=i.insert(o.batchId,f)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,d=l.value,f=FC();d.forEach(m=>{if(!s.has(m)){const h=QC(n.get(m),r.get(m));h!==null&&f.set(m,h),s=s.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,f))}return F.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return ne.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):F.resolve(Zs());let o=ou,l=s;return a.next(u=>F.forEach(u,(d,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),s.get(d)?F.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{l=l.insert(d,m)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,xe())).next(d=>({batchId:o,changes:BC(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let i=cc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=cc();return this.indexManager.getCollectionParents(e,s).next(o=>F.forEach(o,l=>{const u=function(f,m){return new Dl(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,m)=>{a=a.insert(f,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((l,u)=>{const d=u.getKey();a.get(d)===null&&(a=a.insert(d,Jt.newInvalidDocument(d)))});let o=cc();return a.forEach((l,u)=>{const d=s.get(l);d!==void 0&&Vc(d.mutation,u,In.empty(),We.now()),fm(n,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return F.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Mr(i.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:b9(i.bundledQuery),readTime:Mr(i.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(){this.overlays=new it(ne.comparator),this.qr=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Zs();return F.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const i=Zs(),s=n.length+1,a=new ne(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new it((u,d)=>u-d);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=Zs(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const o=Zs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>o.set(u,d)),!(o.size()>=i)););return F.resolve(o)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new XU(n,r));let s=this.qr.get(n);s===void 0&&(s=xe(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(){this.sessionToken=Gt.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(){this.Qr=new At(Ct.$r),this.Ur=new At(Ct.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Ct(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Ct(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ne(new $e([])),r=new Ct(n,e),i=new Ct(n,e+1),s=[];return this.Ur.forEachInRange([r,i],a=>{this.Gr(a),s.push(a.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ne(new $e([])),r=new Ct(n,e),i=new Ct(n,e+1);let s=xe();return this.Ur.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new Ct(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ct{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ne.comparator(e.key,n.key)||Te(e.Yr,n.Yr)}static Kr(e,n){return Te(e.Yr,n.Yr)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new At(Ct.$r)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new YU(s,n,r,i);this.mutationQueue.push(a);for(const o of i)this.Zr=this.Zr.add(new Ct(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return F.resolve(a)}lookupMutationBatch(e,n){return F.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return F.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?C_:this.tr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ct(n,0),i=new Ct(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],a=>{const o=this.Xr(a.Yr);s.push(o)}),F.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new At(Te);return n.forEach(i=>{const s=new Ct(i,0),a=new Ct(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],o=>{r=r.add(o.Yr)})}),F.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ne.isDocumentKey(s)||(s=s.child(""));const a=new Ct(new ne(s),0);let o=new At(Te);return this.Zr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.Yr)),!0)},a),F.resolve(this.ti(o))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ve(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return F.forEach(n.mutations,i=>{const s=new Ct(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Ct(n,0),i=this.Zr.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(e){this.ri=e,this.docs=function(){return new it(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():Jt.newInvalidDocument(n))}getEntries(e,n){let r=bi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Jt.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=bi();const a=n.path,o=new ne(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||cU(lU(d),r)<=0||(i.has(d.key)||fm(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return F.resolve(s)}getAllFromCollectionGroup(e,n,r,i){re(9500)}ii(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new V9(this)}getSize(e){return F.resolve(this.size)}}class V9 extends C9{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(e){this.persistence=e,this.si=new Oa(n=>M_(n),D_),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.oi=0,this._i=new U_,this.targetCount=0,this.ai=dl.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),F.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new dl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Pr(n),F.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),F.waitFor(s).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),F.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e,n){this.ui={},this.overlays={},this.ci=new lm(0),this.li=!1,this.li=!0,this.hi=new O9,this.referenceDelegate=e(this),this.Pi=new j9(this),this.indexManager=new w9,this.remoteDocumentCache=function(i){return new k9(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new _9(n),this.Ii=new M9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new D9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new P9(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const i=new L9(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return F.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class L9 extends dU{constructor(e){super(),this.currentSequenceNumber=e}}class z_{constructor(e){this.persistence=e,this.Ri=new U_,this.Vi=null}static mi(e){return new z_(e)}get fi(){if(this.Vi)return this.Vi;throw re(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),F.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.fi,r=>{const i=ne.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,ce.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return F.or([()=>F.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class _h{constructor(e,n){this.persistence=e,this.pi=new Oa(r=>mU(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=R9(this,n)}static mi(e,n){return new _h(e,n)}Ei(){}di(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return F.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?F.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,a=>this.br(e,a,n).next(o=>{o||(r++,s.removeEntry(a,ce.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),F.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=df(e.data.value)),n}br(e,n,r){return F.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return F.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=xe(),i=xe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new B_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return CL()?8:fU(rn())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new U9;return this.Ss(e,n,a).next(o=>{if(s.result=o,this.Vs)return this.bs(e,n,a,o.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(to()<=Ee.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",no(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),F.resolve()):(to()<=Ee.DEBUG&&X("QueryEngine","Query:",no(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(to()<=Ee.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",no(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nr(n))):F.resolve())}ys(e,n){if(uT(n))return F.resolve(null);let r=Nr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Sy(n,null,"F"),r=Nr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=xe(...s);return this.ps.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Ds(n,o);return this.Cs(n,u,a,l.readTime)?this.ys(e,Sy(n,null,"F")):this.vs(e,u,n,l)}))})))}ws(e,n,r,i){return uT(n)||i.isEqual(ce.min())?F.resolve(null):this.ps.getDocuments(e,r).next(s=>{const a=this.Ds(n,s);return this.Cs(n,a,r,i)?F.resolve(null):(to()<=Ee.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),no(n)),this.vs(e,a,n,oU(i,ou)).next(o=>o))})}Ds(e,n){let r=new At(UC(e));return n.forEach((i,s)=>{fm(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return to()<=Ee.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",no(n)),this.ps.getDocumentsMatchingQuery(e,n,Rs.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="LocalStore",B9=3e8;class F9{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new it(Te),this.xs=new Oa(s=>M_(s),D_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new N9(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function H9(t,e,n,r){return new F9(t,e,n,r)}async function lI(t,e){const n=ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],o=[];let l=xe();for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ls:u,removedBatchIds:a,addedBatchIds:o}))})})}function q9(t,e){const n=ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(o,l,u,d){const f=u.batch,m=f.keys();let h=F.resolve();return m.forEach(x=>{h=h.next(()=>d.getEntry(l,x)).next(y=>{const E=u.docVersions.get(x);Ve(E!==null,48541),y.version.compareTo(E)<0&&(f.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),d.addEntry(y)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=xe();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function cI(t){const e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function G9(t,e){const n=ue(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const o=[];e.targetChanges.forEach((d,f)=>{const m=i.get(f);if(!m)return;o.push(n.Pi.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(s,d.addedDocuments,f)));let h=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?h=h.withResumeToken(Gt.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):d.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(d.resumeToken,r)),i=i.insert(f,h),function(y,E,_){return y.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=B9?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(m,h,d)&&o.push(n.Pi.updateTargetData(s,h))});let l=bi(),u=xe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),o.push($9(s,a,e.documentUpdates).next(d=>{l=d.ks,u=d.qs})),!r.isEqual(ce.min())){const d=n.Pi.getLastRemoteSnapshotVersion(s).next(f=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));o.push(d)}return F.waitFor(o).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ms=i,s))}function $9(t,e,n){let r=xe(),i=xe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=bi();return n.forEach((o,l)=>{const u=s.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(ce.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):X(F_,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{ks:a,qs:i}})}function K9(t,e){const n=ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=C_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Q9(t,e){const n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,F.resolve(i)):n.Pi.allocateTargetId(r).next(a=>(i=new os(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Ny(t,e,n){const r=ue(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Ml(a))throw a;X(F_,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function TT(t,e,n){const r=ue(t);let i=ce.min(),s=xe();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,d){const f=ue(l),m=f.xs.get(d);return m!==void 0?F.resolve(f.Ms.get(m)):f.Pi.getTargetData(u,d)}(r,a,Nr(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,o.targetId).next(l=>{s=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(a,e,n?i:ce.min(),n?s:xe())).next(o=>(Y9(r,OU(e),o),{documents:o,Qs:s})))}function Y9(t,e,n){let r=t.Os.get(e)||ce.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class xT{constructor(){this.activeTargetIds=UU()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class X9{constructor(){this.Mo=new xT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new xT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="ConnectivityMonitor";class AT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){X(ST,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){X(ST,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zd=null;function My(){return zd===null?zd=function(){return 268435456+Math.round(2147483648*Math.random())}():zd++,"0x"+zd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp="RestConnection",Z9={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class J9{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===mh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const a=My(),o=this.zo(e,n.toUriEncodedString());X(qp,`Sending RPC '${e}' ${a}:`,o,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:u}=new URL(o),d=Al(u);return this.Jo(e,o,l,r,d).then(f=>(X(qp,`Received RPC '${e}' ${a}: `,f),f),f=>{throw ol(qp,`RPC '${e}' ${a} failed with error: `,f,"url: ",o,"request:",r),f})}Ho(e,n,r,i,s,a){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Il}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=Z9[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ez{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class tz extends J9{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const a=My();return new Promise((o,l)=>{const u=new fC;u.setWithCredentials(!0),u.listenOnce(hC.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case uf.NO_ERROR:const f=u.getResponseJson();X(Xt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(f)),o(f);break;case uf.TIMEOUT:X(Xt,`RPC '${e}' ${a} timed out`),l(new Y(B.DEADLINE_EXCEEDED,"Request time out"));break;case uf.HTTP_ERROR:const m=u.getStatus();if(X(Xt,`RPC '${e}' ${a} failed with status:`,m,"response text:",u.getResponseText()),m>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const x=h==null?void 0:h.error;if(x&&x.status&&x.message){const y=function(_){const b=_.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(b)>=0?b:B.UNKNOWN}(x.status);l(new Y(y,x.message))}else l(new Y(B.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Y(B.UNAVAILABLE,"Connection failed."));break;default:re(9055,{l_:e,streamId:a,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{X(Xt,`RPC '${e}' ${a} completed.`)}});const d=JSON.stringify(i);X(Xt,`RPC '${e}' ${a} sending request:`,i),u.send(n,"POST",d,r,15)})}T_(e,n,r){const i=My(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=gC(),o=pC(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");X(Xt,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=a.createWebChannel(d,l);this.I_(f);let m=!1,h=!1;const x=new ez({Yo:E=>{h?X(Xt,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(m||(X(Xt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),X(Xt,`RPC '${e}' stream ${i} sending:`,E),f.send(E))},Zo:()=>f.close()}),y=(E,_,b)=>{E.listen(_,T=>{try{b(T)}catch(N){setTimeout(()=>{throw N},0)}})};return y(f,lc.EventType.OPEN,()=>{h||(X(Xt,`RPC '${e}' stream ${i} transport opened.`),x.o_())}),y(f,lc.EventType.CLOSE,()=>{h||(h=!0,X(Xt,`RPC '${e}' stream ${i} transport closed`),x.a_(),this.E_(f))}),y(f,lc.EventType.ERROR,E=>{h||(h=!0,ol(Xt,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),x.a_(new Y(B.UNAVAILABLE,"The operation could not be completed")))}),y(f,lc.EventType.MESSAGE,E=>{var _;if(!h){const b=E.data[0];Ve(!!b,16349);const T=b,N=(T==null?void 0:T.error)||((_=T[0])==null?void 0:_.error);if(N){X(Xt,`RPC '${e}' stream ${i} received error:`,N);const P=N.status;let V=function(C){const I=gt[C];if(I!==void 0)return XC(I)}(P),A=N.message;V===void 0&&(V=B.INTERNAL,A="Unknown error status: "+P+" with message "+N.message),h=!0,x.a_(new Y(V,A)),f.close()}else X(Xt,`RPC '${e}' stream ${i} received:`,b),x.u_(b)}}),y(o,mC.STAT_EVENT,E=>{E.stat===vy.PROXY?X(Xt,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===vy.NOPROXY&&X(Xt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.__()},0),x}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Gp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(t){return new s9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="PersistentStream";class dI{constructor(e,n,r,i,s,a,o,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new uI(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(_i(n.toString()),_i("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new Y(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return X(RT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(X(RT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nz extends dI{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=l9(this.serializer,e),r=function(s){if(!("targetChange"in s))return ce.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?ce.min():a.readTime?Mr(a.readTime):ce.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Iy(this.serializer),n.addTarget=function(s,a){let o;const l=a.target;if(o=Ty(l)?{documents:d9(s,l)}:{query:f9(s,l).ft},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=JC(s,a.resumeToken);const u=Ay(s,a.expectedCount);u!==null&&(o.expectedCount=u)}else if(a.snapshotVersion.compareTo(ce.min())>0){o.readTime=vh(s,a.snapshotVersion.toTimestamp());const u=Ay(s,a.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const r=m9(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Iy(this.serializer),n.removeTarget=e,this.q_(n)}}class rz extends dI{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=u9(e.writeResults,e.commitTime),r=Mr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Iy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>c9(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{}class sz extends iz{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Y(B.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Go(e,Ry(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y(B.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Ho(e,Ry(n,r),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Y(B.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class az{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_i(n),this.aa=!1):X("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa="RemoteStore";class oz{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(a=>{r.enqueueAndForget(async()=>{Pa(this)&&(X(Sa,"Restarting streams for network reachability change."),await async function(l){const u=ue(l);u.Ea.add(4),await $u(u),u.Ra.set("Unknown"),u.Ea.delete(4),await ym(u)}(this))})}),this.Ra=new az(r,i)}}async function ym(t){if(Pa(t))for(const e of t.da)await e(!0)}async function $u(t){for(const e of t.da)await e(!1)}function fI(t,e){const n=ue(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),$_(n)?G_(n):Ol(n).O_()&&q_(n,e))}function H_(t,e){const n=ue(t),r=Ol(n);n.Ia.delete(e),r.O_()&&hI(n,e),n.Ia.size===0&&(r.O_()?r.L_():Pa(n)&&n.Ra.set("Unknown"))}function q_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ol(t).Y_(e)}function hI(t,e){t.Va.Ue(e),Ol(t).Z_(e)}function G_(t){t.Va=new t9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ol(t).start(),t.Ra.ua()}function $_(t){return Pa(t)&&!Ol(t).x_()&&t.Ia.size>0}function Pa(t){return ue(t).Ea.size===0}function mI(t){t.Va=void 0}async function lz(t){t.Ra.set("Online")}async function cz(t){t.Ia.forEach((e,n)=>{q_(t,e)})}async function uz(t,e){mI(t),$_(t)?(t.Ra.ha(e),G_(t)):t.Ra.set("Unknown")}async function dz(t,e,n){if(t.Ra.set("Online"),e instanceof ZC&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.Ia.delete(o),i.Va.removeTarget(o))}(t,e)}catch(r){X(Sa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await bh(t,r)}else if(e instanceof mf?t.Va.Ze(e):e instanceof WC?t.Va.st(e):t.Va.tt(e),!n.isEqual(ce.min()))try{const r=await cI(t.localStore);n.compareTo(r)>=0&&await function(s,a){const o=s.Va.Tt(a);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.Ia.get(u);d&&s.Ia.set(u,d.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,u)=>{const d=s.Ia.get(l);if(!d)return;s.Ia.set(l,d.withResumeToken(Gt.EMPTY_BYTE_STRING,d.snapshotVersion)),hI(s,l);const f=new os(d.target,l,u,d.sequenceNumber);q_(s,f)}),s.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){X(Sa,"Failed to raise snapshot:",r),await bh(t,r)}}async function bh(t,e,n){if(!Ml(e))throw e;t.Ea.add(1),await $u(t),t.Ra.set("Offline"),n||(n=()=>cI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X(Sa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await ym(t)})}function pI(t,e){return e().catch(n=>bh(t,n,e))}async function vm(t){const e=ue(t),n=Ms(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:C_;for(;fz(e);)try{const i=await K9(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,hz(e,i)}catch(i){await bh(e,i)}gI(e)&&yI(e)}function fz(t){return Pa(t)&&t.Ta.length<10}function hz(t,e){t.Ta.push(e);const n=Ms(t);n.O_()&&n.X_&&n.ea(e.mutations)}function gI(t){return Pa(t)&&!Ms(t).x_()&&t.Ta.length>0}function yI(t){Ms(t).start()}async function mz(t){Ms(t).ra()}async function pz(t){const e=Ms(t);for(const n of t.Ta)e.ea(n.mutations)}async function gz(t,e,n){const r=t.Ta.shift(),i=V_.from(r,e,n);await pI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await vm(t)}async function yz(t,e){e&&Ms(t).X_&&await async function(r,i){if(function(a){return ZU(a)&&a!==B.ABORTED}(i.code)){const s=r.Ta.shift();Ms(r).B_(),await pI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await vm(r)}}(t,e),gI(t)&&yI(t)}async function CT(t,e){const n=ue(t);n.asyncQueue.verifyOperationInProgress(),X(Sa,"RemoteStore received new credentials");const r=Pa(n);n.Ea.add(3),await $u(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ym(n)}async function vz(t,e){const n=ue(t);e?(n.Ea.delete(2),await ym(n)):e||(n.Ea.add(2),await $u(n),n.Ra.set("Unknown"))}function Ol(t){return t.ma||(t.ma=function(n,r,i){const s=ue(n);return s.sa(),new nz(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:lz.bind(null,t),t_:cz.bind(null,t),r_:uz.bind(null,t),H_:dz.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),$_(t)?G_(t):t.Ra.set("Unknown")):(await t.ma.stop(),mI(t))})),t.ma}function Ms(t){return t.fa||(t.fa=function(n,r,i){const s=ue(n);return s.sa(),new rz(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:mz.bind(null,t),r_:yz.bind(null,t),ta:pz.bind(null,t),na:gz.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await vm(t)):(await t.fa.stop(),t.Ta.length>0&&(X(Sa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ha,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,o=new K_(e,n,a,i,s);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Q_(t,e){if(_i("AsyncQueue",`${e}: ${t}`),Ml(t))return new Y(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{static emptySet(e){return new Oo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=cc(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Oo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Oo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(){this.ga=new it(ne.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):re(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class fl{constructor(e,n,r,i,s,a,o,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new fl(e,n,Oo.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _z{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class bz{constructor(){this.queries=NT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ue(n),s=i.queries;i.queries=NT(),s.forEach((a,o)=>{for(const l of o.Sa)l.onError(r)})})(this,new Y(B.ABORTED,"Firestore shutting down"))}}function NT(){return new Oa(t=>LC(t),dm)}async function wz(t,e){const n=ue(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new _z,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const o=Q_(a,`Initialization of query '${no(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&Y_(n)}async function Ez(t,e){const n=ue(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Tz(t,e){const n=ue(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const o of a.Sa)o.Fa(i)&&(r=!0);a.wa=i}}r&&Y_(n)}function xz(t,e,n){const r=ue(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function Y_(t){t.Ca.forEach(e=>{e.next()})}var Dy,MT;(MT=Dy||(Dy={})).Ma="default",MT.Cache="cache";class Sz{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new fl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=fl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Dy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e){this.key=e}}class _I{constructor(e){this.key=e}}class Az{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=xe(),this.mutatedKeys=xe(),this.eu=UC(e),this.tu=new Oo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new IT,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const m=i.get(d),h=fm(this.query,f)?f:null,x=!!m&&this.mutatedKeys.has(m.key),y=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let E=!1;m&&h?m.data.isEqual(h.data)?x!==y&&(r.track({type:3,doc:h}),E=!0):this.su(m,h)||(r.track({type:2,doc:h}),E=!0,(l&&this.eu(h,l)>0||u&&this.eu(h,u)<0)&&(o=!0)):!m&&h?(r.track({type:0,doc:h}),E=!0):m&&!h&&(r.track({type:1,doc:m}),E=!0,(l||u)&&(o=!0)),E&&(h?(a=a.add(h),s=y?s.add(d):s.delete(d)):(a=a.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{tu:a,iu:r,Cs:o,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((d,f)=>function(h,x){const y=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re(20277,{Rt:E})}};return y(h)-y(x)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),i=i??!1;const o=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,a.length!==0||u?{snapshot:new fl(this.query,e.tu,s,a,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new IT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=xe(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new _I(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new vI(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=xe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return fl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const X_="SyncEngine";class Rz{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Cz{constructor(e){this.key=e,this.hu=!1}}class Iz{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Oa(o=>LC(o),dm),this.Iu=new Map,this.Eu=new Set,this.du=new it(ne.comparator),this.Au=new Map,this.Ru=new U_,this.Vu={},this.mu=new Map,this.fu=dl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Nz(t,e,n=!0){const r=SI(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await bI(r,e,n,!0),i}async function Mz(t,e){const n=SI(t);await bI(n,e,!0,!1)}async function bI(t,e,n,r){const i=await Q9(t.localStore,Nr(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await Dz(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&fI(t.remoteStore,i),o}async function Dz(t,e,n,r,i){t.pu=(f,m,h)=>async function(y,E,_,b){let T=E.view.ru(_);T.Cs&&(T=await TT(y.localStore,E.query,!1).then(({documents:A})=>E.view.ru(A,T)));const N=b&&b.targetChanges.get(E.targetId),P=b&&b.targetMismatches.get(E.targetId)!=null,V=E.view.applyChanges(T,y.isPrimaryClient,N,P);return OT(y,E.targetId,V.au),V.snapshot}(t,f,m,h);const s=await TT(t.localStore,e,!0),a=new Az(e,s.Qs),o=a.ru(s.documents),l=Gu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(o,t.isPrimaryClient,l);OT(t,n,u.au);const d=new Rz(e,n,a);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function Oz(t,e,n){const r=ue(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(a=>!dm(a,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ny(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&H_(r.remoteStore,i.targetId),Oy(r,i.targetId)}).catch(Nl)):(Oy(r,i.targetId),await Ny(r.localStore,i.targetId,!0))}async function Pz(t,e){const n=ue(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),H_(n.remoteStore,r.targetId))}async function kz(t,e,n){const r=Fz(t);try{const i=await function(a,o){const l=ue(a),u=We.now(),d=o.reduce((h,x)=>h.add(x.key),xe());let f,m;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let x=bi(),y=xe();return l.Ns.getEntries(h,d).next(E=>{x=E,x.forEach((_,b)=>{b.isValidDocument()||(y=y.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,x)).next(E=>{f=E;const _=[];for(const b of o){const T=KU(b,f.get(b.key).overlayedDocument);T!=null&&_.push(new Vs(b.key,T,NC(T.value.mapValue),lr.exists(!0)))}return l.mutationQueue.addMutationBatch(h,u,_,o)}).next(E=>{m=E;const _=E.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(h,E.batchId,_)})}).then(()=>({batchId:m.batchId,changes:BC(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,o,l){let u=a.Vu[a.currentUser.toKey()];u||(u=new it(Te)),u=u.insert(o,l),a.Vu[a.currentUser.toKey()]=u}(r,i.batchId,n),await Ku(r,i.changes),await vm(r.remoteStore)}catch(i){const s=Q_(i,"Failed to persist write");n.reject(s)}}async function wI(t,e){const n=ue(t);try{const r=await G9(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Au.get(s);a&&(Ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?Ve(a.hu,14607):i.removedDocuments.size>0&&(Ve(a.hu,42227),a.hu=!1))}),await Ku(n,r,e)}catch(r){await Nl(r)}}function DT(t,e,n){const r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,a)=>{const o=a.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const l=ue(a);l.onlineState=o;let u=!1;l.queries.forEach((d,f)=>{for(const m of f.Sa)m.va(o)&&(u=!0)}),u&&Y_(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Vz(t,e,n){const r=ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let a=new it(ne.comparator);a=a.insert(s,Jt.newNoDocument(s,ce.min()));const o=xe().add(s),l=new pm(ce.min(),new Map,new it(Te),a,o);await wI(r,l),r.du=r.du.remove(s),r.Au.delete(e),W_(r)}else await Ny(r.localStore,e,!1).then(()=>Oy(r,e,n)).catch(Nl)}async function jz(t,e){const n=ue(t),r=e.batch.batchId;try{const i=await q9(n.localStore,e);TI(n,r,null),EI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ku(n,i)}catch(i){await Nl(i)}}async function Lz(t,e,n){const r=ue(t);try{const i=await function(a,o){const l=ue(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,o).next(f=>(Ve(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);TI(r,e,n),EI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ku(r,i)}catch(i){await Nl(i)}}function EI(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function TI(t,e,n){const r=ue(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function Oy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||xI(t,r)})}function xI(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(H_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),W_(t))}function OT(t,e,n){for(const r of n)r instanceof vI?(t.Ru.addReference(r.key,e),Uz(t,r)):r instanceof _I?(X(X_,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||xI(t,r.key)):re(19791,{wu:r})}function Uz(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(X(X_,"New document in limbo: "+n),t.Eu.add(r),W_(t))}function W_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ne($e.fromString(e)),r=t.fu.next();t.Au.set(r,new Cz(n)),t.du=t.du.insert(n,r),fI(t.remoteStore,new os(Nr(O_(n.path)),r,"TargetPurposeLimboResolution",lm.ce))}}async function Ku(t,e,n){const r=ue(t),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((o,l)=>{a.push(r.pu(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=B_.As(l.targetId,u);s.push(f)}}))}),await Promise.all(a),r.Pu.H_(i),await async function(l,u){const d=ue(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>F.forEach(u,m=>F.forEach(m.Es,h=>d.persistence.referenceDelegate.addReference(f,m.targetId,h)).next(()=>F.forEach(m.ds,h=>d.persistence.referenceDelegate.removeReference(f,m.targetId,h)))))}catch(f){if(!Ml(f))throw f;X(F_,"Failed to update sequence numbers: "+f)}for(const f of u){const m=f.targetId;if(!f.fromCache){const h=d.Ms.get(m),x=h.snapshotVersion,y=h.withLastLimboFreeSnapshotVersion(x);d.Ms=d.Ms.insert(m,y)}}}(r.localStore,s))}async function zz(t,e){const n=ue(t);if(!n.currentUser.isEqual(e)){X(X_,"User change. New user:",e.toKey());const r=await lI(n.localStore,e);n.currentUser=e,function(s,a){s.mu.forEach(o=>{o.forEach(l=>{l.reject(new Y(B.CANCELLED,a))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ku(n,r.Ls)}}function Bz(t,e){const n=ue(t),r=n.Au.get(e);if(r&&r.hu)return xe().add(r.key);{let i=xe();const s=n.Iu.get(e);if(!s)return i;for(const a of s){const o=n.Tu.get(a);i=i.unionWith(o.view.nu)}return i}}function SI(t){const e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=wI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Vz.bind(null,e),e.Pu.H_=Tz.bind(null,e.eventManager),e.Pu.yu=xz.bind(null,e.eventManager),e}function Fz(t){const e=ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Lz.bind(null,e),e}class wh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return H9(this.persistence,new z9,e.initialUser,this.serializer)}Cu(e){return new oI(z_.mi,this.serializer)}Du(e){return new X9}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wh.provider={build:()=>new wh};class Hz extends wh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ve(this.persistence.referenceDelegate instanceof _h,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new S9(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new oI(r=>_h.mi(r,n),this.serializer)}}class Py{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>DT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=zz.bind(null,this.syncEngine),await vz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bz}()}createDatastore(e){const n=gm(e.databaseInfo.databaseId),r=function(s){return new tz(s)}(e.databaseInfo);return function(s,a,o,l){return new sz(s,a,o,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,o){return new oz(r,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,n=>DT(this.syncEngine,n,0),function(){return AT.v()?new AT:new W9}())}createSyncEngine(e,n){return function(i,s,a,o,l,u,d){const f=new Iz(i,s,a,o,l,u);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ue(i);X(Sa,"RemoteStore shutting down."),s.Ea.add(5),await $u(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Py.provider={build:()=>new Py};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qz{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):_i("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="FirestoreClient";class Gz{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Zt.UNAUTHENTICATED,this.clientId=R_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{X(Ds,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(X(Ds,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ha;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Q_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function $p(t,e){t.asyncQueue.verifyOperationInProgress(),X(Ds,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await lI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function PT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await $z(t);X(Ds,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>CT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>CT(e.remoteStore,i)),t._onlineComponents=e}async function $z(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X(Ds,"Using user provided OfflineComponentProvider");try{await $p(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===B.FAILED_PRECONDITION||i.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ol("Error using user provided cache. Falling back to memory cache: "+n),await $p(t,new wh)}}else X(Ds,"Using default OfflineComponentProvider"),await $p(t,new Hz(void 0));return t._offlineComponents}async function AI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X(Ds,"Using user provided OnlineComponentProvider"),await PT(t,t._uninitializedComponentsProvider._online)):(X(Ds,"Using default OnlineComponentProvider"),await PT(t,new Py))),t._onlineComponents}function Kz(t){return AI(t).then(e=>e.syncEngine)}async function kT(t){const e=await AI(t),n=e.eventManager;return n.onListen=Nz.bind(null,e.syncEngine),n.onUnlisten=Oz.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Mz.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Pz.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="firestore.googleapis.com",jT=!0;class LT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Y(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=CI,this.ssl=jT}else this.host=e.host,this.ssl=e.ssl??jT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=aI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<T9)throw new Y(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RI(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Y(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Y(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Y(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _m{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new X5;switch(r.type){case"firstParty":return new eU(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=VT.get(n);r&&(X("ComponentProvider","Removing Datastore"),VT.delete(n),r.terminate())}(this),Promise.resolve()}}function Qz(t,e,n,r={}){var u;t=bs(t,_m);const i=Al(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;i&&(RR(`https://${o}`),CR("Firestore",!0)),s.host!==CI&&s.host!==o&&ol("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:o,ssl:i,emulatorOptions:r};if(!wa(l,a)&&(t._setSettings(l),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Zt.MOCK_USER;else{d=_L(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Y(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Zt(m)}t._authCredentials=new W5(new vC(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ka(this.firestore,e,this._query)}}class bt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bt(this.firestore,e,this._key)}toJSON(){return{type:bt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Hu(n,bt._jsonSchema))return new bt(e,r||null,new ne($e.fromString(n.referencePath)))}}bt._jsonSchemaVersion="firestore/documentReference/1.0",bt._jsonSchema={type:_t("string",bt._jsonSchemaVersion),referencePath:_t("string")};class ws extends ka{constructor(e,n,r){super(e,n,O_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new ne(e))}withConverter(e){return new ws(this.firestore,e,this._path)}}function pf(t,e,...n){if(t=qt(t),_C("collection","path",e),t instanceof _m){const r=$e.fromString(e,...n);return XE(r),new ws(t,null,r)}{if(!(t instanceof bt||t instanceof ws))throw new Y(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return XE(r),new ws(t.firestore,null,r)}}function Ws(t,e,...n){if(t=qt(t),arguments.length===1&&(e=R_.newId()),_C("doc","path",e),t instanceof _m){const r=$e.fromString(e,...n);return YE(r),new bt(t,null,new ne(r))}{if(!(t instanceof bt||t instanceof ws))throw new Y(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return YE(r),new bt(t.firestore,t instanceof ws?t.converter:null,new ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="AsyncQueue";class zT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new uI(this,"async_queue_retry"),this._c=()=>{const r=Gp();r&&X(UT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Gp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Gp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ha;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ml(e))throw e;X(UT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,_i("INTERNAL UNHANDLED ERROR: ",BT(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=K_.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&re(47125,{Pc:BT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function BT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class hl extends _m{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new zT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zT(e),this._firestoreClient=void 0,await e}}}function Yz(t,e){const n=typeof t=="object"?t:MR(),r=typeof t=="string"?t:mh,i=g_(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=yL("firestore");s&&Qz(i,...s)}return i}function II(t){if(t._terminated)throw new Y(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Xz(t),t._firestoreClient}function Xz(t){var r,i,s;const e=t._freezeSettings(),n=function(o,l,u,d){return new yU(o,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,RI(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Gz(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gn(Gt.fromBase64String(e))}catch(n){throw new Y(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gn(Gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Hu(e,Gn._jsonSchema))return Gn.fromBase64String(e.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:_t("string",Gn._jsonSchemaVersion),bytes:_t("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Dr._jsonSchemaVersion}}static fromJSON(e){if(Hu(e,Dr._jsonSchema))return new Dr(e.latitude,e.longitude)}}Dr._jsonSchemaVersion="firestore/geoPoint/1.0",Dr._jsonSchema={type:_t("string",Dr._jsonSchemaVersion),latitude:_t("number"),longitude:_t("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Or._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Hu(e,Or._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Or(e.vectorValues);throw new Y(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Or._jsonSchemaVersion="firestore/vectorValue/1.0",Or._jsonSchema={type:_t("string",Or._jsonSchemaVersion),vectorValues:_t("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wz=/^__.*__$/;class Zz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Vs(e,this.data,this.fieldMask,n,this.fieldTransforms):new qu(e,this.data,n,this.fieldTransforms)}}class NI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Vs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function MI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw re(40011,{Ac:t})}}class Z_{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Z_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Eh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(MI(this.Ac)&&Wz.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Jz{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||gm(e)}Cc(e,n,r,i=!1){return new Z_({Ac:e,methodName:n,Dc:r,path:Ft.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function J_(t){const e=t._freezeSettings(),n=gm(t._databaseId);return new Jz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function eB(t,e,n,r,i,s={}){const a=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);t0("Data must be an object, but it was:",a,r);const o=DI(r,a);let l,u;if(s.merge)l=new In(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const m=ky(e,f,n);if(!a.contains(m))throw new Y(B.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);PI(d,m)||d.push(m)}l=new In(d),u=a.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=a.fieldTransforms;return new Zz(new _n(o),l,u)}class Em extends wm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Em}}class e0 extends wm{_toFieldTransform(e){return new HU(e.path,new fu)}isEqual(e){return e instanceof e0}}function tB(t,e,n,r){const i=t.Cc(1,e,n);t0("Data must be an object, but it was:",i,r);const s=[],a=_n.empty();ks(r,(l,u)=>{const d=n0(e,l,n);u=qt(u);const f=i.yc(d);if(u instanceof Em)s.push(d);else{const m=Qu(u,f);m!=null&&(s.push(d),a.set(d,m))}});const o=new In(s);return new NI(a,o,i.fieldTransforms)}function nB(t,e,n,r,i,s){const a=t.Cc(1,e,n),o=[ky(e,r,n)],l=[i];if(s.length%2!=0)throw new Y(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)o.push(ky(e,s[m])),l.push(s[m+1]);const u=[],d=_n.empty();for(let m=o.length-1;m>=0;--m)if(!PI(u,o[m])){const h=o[m];let x=l[m];x=qt(x);const y=a.yc(h);if(x instanceof Em)u.push(h);else{const E=Qu(x,y);E!=null&&(u.push(h),d.set(h,E))}}const f=new In(u);return new NI(d,f,a.fieldTransforms)}function rB(t,e,n,r=!1){return Qu(n,t.Cc(r?4:3,e))}function Qu(t,e){if(OI(t=qt(t)))return t0("Unsupported field value:",e,t),DI(t,e);if(t instanceof wm)return function(r,i){if(!MI(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const o of r){let l=Qu(o,i.wc(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=qt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return zU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=We.fromDate(r);return{timestampValue:vh(i.serializer,s)}}if(r instanceof We){const s=new We(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vh(i.serializer,s)}}if(r instanceof Dr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Gn)return{bytesValue:JC(i.serializer,r._byteString)};if(r instanceof bt){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:L_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Or)return function(a,o){return{mapValue:{fields:{[CC]:{stringValue:IC},[ph]:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw o.Sc("VectorValues must only contain numeric values.");return P_(o.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${om(r)}`)}(t,e)}function DI(t,e){const n={};return EC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ks(t,(r,i)=>{const s=Qu(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function OI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof We||t instanceof Dr||t instanceof Gn||t instanceof bt||t instanceof wm||t instanceof Or)}function t0(t,e,n){if(!OI(n)||!bC(n)){const r=om(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function ky(t,e,n){if((e=qt(e))instanceof bm)return e._internalPath;if(typeof e=="string")return n0(t,e);throw Eh("Field path arguments must be of type string or ",t,!1,void 0,n)}const iB=new RegExp("[~\\*/\\[\\]]");function n0(t,e,n){if(e.search(iB)>=0)throw Eh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new bm(...e.split("."))._internalPath}catch{throw Eh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Eh(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new Y(B.INVALID_ARGUMENT,o+t+l)}function PI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new sB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(r0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class sB extends kI{data(){return super.data()}}function r0(t,e){return typeof e=="string"?n0(t,e):e instanceof bm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class i0{}class VI extends i0{}function Vy(t,e,...n){let r=[];e instanceof i0&&r.push(e),r=r.concat(n),function(s){const a=s.filter(l=>l instanceof a0).length,o=s.filter(l=>l instanceof s0).length;if(a>1||a>0&&o>0)throw new Y(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class s0 extends VI{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new s0(e,n,r)}_apply(e){const n=this._parse(e);return jI(e._query,n),new ka(e.firestore,e.converter,xy(e._query,n))}_parse(e){const n=J_(e.firestore);return function(s,a,o,l,u,d,f){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new Y(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){GT(f,d);const x=[];for(const y of f)x.push(qT(l,s,y));m={arrayValue:{values:x}}}else m=qT(l,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||GT(f,d),m=rB(o,a,f,d==="in"||d==="not-in");return vt.create(u,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class a0 extends i0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new a0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:dr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let a=i;const o=s.getFlattenedFilters();for(const l of o)jI(a,l),a=xy(a,l)}(e._query,n),new ka(e.firestore,e.converter,xy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class o0 extends VI{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new o0(e,n)}_apply(e){const n=function(i,s,a){if(i.startAt!==null)throw new Y(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Y(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new du(s,a)}(e._query,this._field,this._direction);return new ka(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new Dl(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function HT(t,e="asc"){const n=e,r=r0("orderBy",t);return o0._create(r,n)}function qT(t,e,n){if(typeof(n=qt(n))=="string"){if(n==="")throw new Y(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jC(e)&&n.indexOf("/")!==-1)throw new Y(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child($e.fromString(n));if(!ne.isDocumentKey(r))throw new Y(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return iT(t,new ne(r))}if(n instanceof bt)return iT(t,n._key);throw new Y(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${om(n)}.`)}function GT(t,e){if(!Array.isArray(t)||t.length===0)throw new Y(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jI(t,e){const n=function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Y(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Y(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class oB{convertValue(e,n="none"){switch(Ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Is(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw re(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ks(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[ph].arrayValue)==null?void 0:i.values)==null?void 0:s.map(a=>mt(a.doubleValue));return new Or(n)}convertGeoPoint(e){return new Dr(mt(e.latitude),mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=um(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(lu(e));default:return null}}convertTimestamp(e){const n=Cs(e);return new We(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=$e.fromString(e);Ve(sI(r),9688,{name:e});const i=new cu(r.get(1),r.get(3)),s=new ne(r.popFirst(5));return i.isEqual(n)||_i(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lB(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class dc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ma extends kI{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(r0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ma._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ma._jsonSchemaVersion="firestore/documentSnapshot/1.0",ma._jsonSchema={type:_t("string",ma._jsonSchemaVersion),bundleSource:_t("string","DocumentSnapshot"),bundleName:_t("string"),bundle:_t("string")};class gf extends ma{data(e={}){return super.data(e)}}class Po{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new dc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new gf(this._firestore,this._userDataWriter,r.key,r,new dc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const l=new gf(i._firestore,i._userDataWriter,o.doc.key,o.doc,new dc(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new gf(i._firestore,i._userDataWriter,o.doc.key,o.doc,new dc(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return o.type!==0&&(u=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),d=a.indexOf(o.doc.key)),{type:cB(o.type),doc:l,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Po._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=R_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function cB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return re(61501,{type:t})}}Po._jsonSchemaVersion="firestore/querySnapshot/1.0",Po._jsonSchema={type:_t("string",Po._jsonSchemaVersion),bundleSource:_t("string","QuerySnapshot"),bundleName:_t("string"),bundle:_t("string")};class LI extends oB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,n)}}function rc(t,e,n,...r){t=bs(t,bt);const i=bs(t.firestore,hl),s=J_(i);let a;return a=typeof(e=qt(e))=="string"||e instanceof bm?nB(s,"updateDoc",t._key,e,n,r):tB(s,"updateDoc",t._key,e),l0(i,[a.toMutation(t._key,lr.exists(!0))])}function uB(t){return l0(bs(t.firestore,hl),[new k_(t._key,lr.none())])}function dB(t,e){const n=bs(t.firestore,hl),r=Ws(t),i=lB(t.converter,e);return l0(n,[eB(J_(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,lr.exists(!1))]).then(()=>r)}function UI(t,...e){var l,u,d;t=qt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||FT(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(FT(e[r])){const f=e[r];e[r]=(l=f.next)==null?void 0:l.bind(f),e[r+1]=(u=f.error)==null?void 0:u.bind(f),e[r+2]=(d=f.complete)==null?void 0:d.bind(f)}let s,a,o;if(t instanceof bt)a=bs(t.firestore,hl),o=O_(t._key.path),s={next:f=>{e[r]&&e[r](fB(a,t,f))},error:e[r+1],complete:e[r+2]};else{const f=bs(t,ka);a=bs(f.firestore,hl),o=f._query;const m=new LI(a);s={next:h=>{e[r]&&e[r](new Po(a,m,f,h))},error:e[r+1],complete:e[r+2]},aB(t._query)}return function(m,h,x,y){const E=new qz(y),_=new Sz(h,E,x);return m.asyncQueue.enqueueAndForget(async()=>wz(await kT(m),_)),()=>{E.Nu(),m.asyncQueue.enqueueAndForget(async()=>Ez(await kT(m),_))}}(II(a),o,i,s)}function l0(t,e){return function(r,i){const s=new ha;return r.asyncQueue.enqueueAndForget(async()=>kz(await Kz(r),i,s)),s.promise}(II(t),e)}function fB(t,e,n){const r=n.docs.get(e._key),i=new LI(t);return new ma(t,i,e._key,r,new dc(n.hasPendingWrites,n.fromCache),e.converter)}function ki(){return new e0("serverTimestamp")}(function(e,n=!0){(function(i){Il=i})(Rl),al(new Ea("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),o=new hl(new Z5(r.getProvider("auth-internal")),new tU(a,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Y(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cu(u.options.projectId,d)}(a,i),a);return s={useFetchStreams:n,...s},o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),vs(GE,$E,e),vs(GE,$E,"esm2020")})();const Tm="AIzaSyAIXEsy0O_sIbiRtabItJh5DIL137WW0N0",hB=async(t,e,n)=>{var r,i,s,a,o;try{const l=`
Analyze this feature request and provide a JSON response with the following structure:

{
  "category": "enhancement|bug-fix|new-feature|ui-ux|performance|integration",
  "complexity": 1-5,
  "clarityScore": 1-10,
  "sentiment": "frustrated|neutral|excited",
  "keywords": ["keyword1", "keyword2"],
  "confidence": 0.0-1.0,
  "enhancementSuggestions": ["suggestion1", "suggestion2"]
}

Feature Request:
Title: ${t}
Description: ${e}
App Context: ${n||"General application"}

Analysis Guidelines:
- Category: Classify the type of request
- Complexity: Technical implementation difficulty (1=very simple, 5=very complex)
- Clarity Score: How well-defined the request is (1=very vague, 10=crystal clear)
- Sentiment: User's emotional tone
- Keywords: Key technical terms and concepts
- Confidence: How confident you are in this analysis
- Enhancement Suggestions: Ways to improve or clarify the request

Respond with valid JSON only.
    `,u=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${Tm}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:l}]}]})});if(!u.ok)throw new Error(`Gemini API request failed: ${u.status}`);const f=(o=(a=(s=(i=(r=(await u.json()).candidates)==null?void 0:r[0])==null?void 0:i.content)==null?void 0:s.parts)==null?void 0:a[0])==null?void 0:o.text;if(!f)throw new Error("No response from AI");const m=f.replace(/```json\n?|\n?```/g,"").trim(),h=JSON.parse(m);return{category:h.category||"enhancement",complexity:Math.min(Math.max(h.complexity||3,1),5),clarityScore:Math.min(Math.max(h.clarityScore||5,1),10),sentiment:h.sentiment||"neutral",keywords:h.keywords||[],confidence:Math.min(Math.max(h.confidence||.7,0),1),enhancementSuggestions:h.enhancementSuggestions||[]}}catch(l){return console.error("AI Analysis error:",l),{category:"enhancement",complexity:3,clarityScore:5,sentiment:"neutral",keywords:jy(t+" "+e),confidence:.3,enhancementSuggestions:["Consider providing more specific details about the expected behavior","Include use cases or examples to clarify the request"]}}},mB=async(t,e,n=1)=>{var r,i,s,a,o;try{const l=`
Calculate priority scores for this feature request. Return JSON with this structure:

{
  "businessImpact": 1-10,
  "userDemand": 1-10,
  "strategicAlignment": 1-10,
  "implementationFeasibility": 1-10,
  "overall": 1-10
}

Feature Request Analysis:
- Title: ${t.title}
- Description: ${t.description}
- Category: ${e.category}
- Complexity: ${e.complexity}/5
- User Priority: ${t.userPriority}
- User Role: ${t.submitterRole}
- Sentiment: ${e.sentiment}
- Clarity: ${e.clarityScore}/10

Scoring Guidelines:
- Business Impact: Revenue, retention, competitive advantage potential
- User Demand: How many users would benefit (factor in user role importance)
- Strategic Alignment: Fits with product roadmap and company goals
- Implementation Feasibility: Considering complexity and resources
- Overall: Weighted combination of above factors

Respond with valid JSON only.
    `,u=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${Tm}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:l}]}]})});if(!u.ok)throw new Error(`Priority calculation failed: ${u.status}`);const m=((o=(a=(s=(i=(r=(await u.json()).candidates)==null?void 0:r[0])==null?void 0:i.content)==null?void 0:s.parts)==null?void 0:a[0])==null?void 0:o.text).replace(/```json\n?|\n?```/g,"").trim(),h=JSON.parse(m),x=Math.min(h.userDemand*n,10),y=h.businessImpact*.4+x*.25+h.strategicAlignment*.2+h.implementationFeasibility*.15;return{businessImpact:Math.min(Math.max(h.businessImpact||5,1),10),userDemand:Math.min(Math.max(x,1),10),strategicAlignment:Math.min(Math.max(h.strategicAlignment||5,1),10),implementationFeasibility:Math.min(Math.max(h.implementationFeasibility||5,1),10),overall:Math.min(Math.max(y,1),10)}}catch(l){console.error("Priority calculation error:",l);const d={low:3,medium:5,high:7,critical:9}[t.userPriority]||5;return{businessImpact:d,userDemand:d*n,strategicAlignment:d,implementationFeasibility:Math.max(10-e.complexity,1),overall:d}}},pB=async(t,e)=>{var n,r,i,s,a;try{const o=`
Estimate development effort for this feature request. Return JSON with this structure:

{
  "totalHours": number,
  "frontendHours": number,
  "backendHours": number,
  "designHours": number,
  "qaHours": number,
  "riskFactors": ["risk1", "risk2"],
  "dependencies": ["dependency1", "dependency2"],
  "teamMembers": ["Frontend Developer", "Backend Developer"]
}

Feature Analysis:
- Title: ${t.title}
- Description: ${t.description}
- Category: ${e.category}
- Complexity: ${e.complexity}/5

Estimation Guidelines:
- Consider all phases: design, development, testing, deployment
- Factor in complexity and category type
- Identify potential risks and blockers
- List required team members and skills
- Include time for code review and documentation

Respond with valid JSON only.
    `,l=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${Tm}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:o}]}]})});if(!l.ok)throw new Error(`Effort estimation failed: ${l.status}`);const f=((a=(s=(i=(r=(n=(await l.json()).candidates)==null?void 0:n[0])==null?void 0:r.content)==null?void 0:i.parts)==null?void 0:s[0])==null?void 0:a.text).replace(/```json\n?|\n?```/g,"").trim(),m=JSON.parse(f);return{totalHours:m.totalHours||e.complexity*8,frontendHours:m.frontendHours||0,backendHours:m.backendHours||0,designHours:m.designHours||0,qaHours:m.qaHours||0,riskFactors:m.riskFactors||[],dependencies:m.dependencies||[],teamMembers:m.teamMembers||["Developer"]}}catch(o){console.error("Effort estimation error:",o);const l=e.complexity*8;return{totalHours:l,frontendHours:Math.floor(l*.4),backendHours:Math.floor(l*.4),designHours:Math.floor(l*.1),qaHours:Math.floor(l*.1),riskFactors:["Complexity may be higher than estimated"],dependencies:["Requirements clarification needed"],teamMembers:["Frontend Developer","Backend Developer"]}}},gB=async(t,e)=>{var n,r,i,s,a;try{const o=`
Assess business impact for this feature request. Return JSON with this structure:

{
  "retentionImpact": 1-10,
  "revenueImpact": 1-10,
  "competitiveAdvantage": 1-10,
  "uxImprovement": 1-10,
  "operationalEfficiency": 1-10
}

Feature Details:
- Title: ${t.title}
- Description: ${t.description}
- Category: ${e.category}
- User Role: ${t.submitterRole}
- Sentiment: ${e.sentiment}

Assessment Guidelines:
- Retention Impact: How likely this keeps users engaged
- Revenue Impact: Potential to drive revenue growth
- Competitive Advantage: Market differentiation value
- UX Improvement: User experience enhancement
- Operational Efficiency: Internal process improvements

Respond with valid JSON only.
    `,l=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${Tm}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:o}]}]})});if(!l.ok)throw new Error(`Business impact assessment failed: ${l.status}`);const f=((a=(s=(i=(r=(n=(await l.json()).candidates)==null?void 0:n[0])==null?void 0:r.content)==null?void 0:i.parts)==null?void 0:s[0])==null?void 0:a.text).replace(/```json\n?|\n?```/g,"").trim(),m=JSON.parse(f);return{retentionImpact:Math.min(Math.max(m.retentionImpact||5,1),10),revenueImpact:Math.min(Math.max(m.revenueImpact||5,1),10),competitiveAdvantage:Math.min(Math.max(m.competitiveAdvantage||5,1),10),uxImprovement:Math.min(Math.max(m.uxImprovement||5,1),10),operationalEfficiency:Math.min(Math.max(m.operationalEfficiency||5,1),10)}}catch(o){return console.error("Business impact assessment error:",o),{retentionImpact:5,revenueImpact:5,competitiveAdvantage:5,uxImprovement:5,operationalEfficiency:5}}},yB=async(t,e)=>{var i;const n=jy(t.title+" "+t.description),r=[];for(const s of e){const a=((i=s.aiAnalysis)==null?void 0:i.keywords)||jy(s.title+" "+s.description);n.filter(u=>a.includes(u)).length/Math.max(n.length,a.length)>.6&&r.push(s.id)}return r},jy=t=>{const e=t.toLowerCase().replace(/[^\w\s]/g,"").split(/\s+/).filter(r=>r.length>3),n=["this","that","with","have","will","from","they","been","were","said","each","which","their","time","would","there","could","other"];return[...new Set(e.filter(r=>!n.includes(r)))]};let Kp=null,$T=null;const Li=()=>(!Kp&&window.__firebase_config&&(Kp=y_(window.__firebase_config),$T=Yz(Kp)),$T),vB=(t,e="external")=>{const[n,r]=w.useState([]),[i,s]=w.useState(!0),[a,o]=w.useState(null);w.useEffect(()=>{if(!t)return;(()=>{const x=Li();if(!x){console.log("Using demo data - Firestore not available"),r([]),s(!1);return}const y=window.__app_id?`artifacts/${window.__app_id}/feature-requests`:"feature-requests";let E;E=Vy(pf(x,y),HT("timestamp","desc"));const _=UI(E,b=>{const T=[];b.forEach(N=>{const P=N.data();T.push({id:N.id,...P,timestamp:P.timestamp||null,aiAnalysis:P.aiAnalysis?{...P.aiAnalysis,analysisTimestamp:P.aiAnalysis.analysisTimestamp||null}:void 0,priorityScore:P.priorityScore?{...P.priorityScore,calculatedAt:P.priorityScore.calculatedAt||null}:void 0,effortEstimate:P.effortEstimate?{...P.effortEstimate,estimatedAt:P.effortEstimate.estimatedAt||null}:void 0,businessImpact:P.businessImpact?{...P.businessImpact,assessedAt:P.businessImpact.assessedAt||null}:void 0})}),r(T),s(!1)},b=>{console.error("Firestore error:",b),o("Failed to load feature requests"),s(!1)});return()=>_()})()},[t,e]);const l=async h=>{if(!t)throw new Error("User not authenticated");const x=Li();if(!x){console.log("Creating demo request - Firestore not available");const y={id:"demo-"+Date.now(),title:h.title,description:h.description,submittedBy:t,submitterName:h.testerInfo.name,submitterRole:h.testerInfo.role,appId:h.appId,appName:h.appName,status:"submitted",userPriority:h.userPriority,timestamp:{toDate:()=>new Date},votes:0,comments:[],watchers:[t],tags:h.tags||[],aiAnalysis:{category:"enhancement",complexity:Math.floor(Math.random()*5)+1,clarityScore:Math.floor(Math.random()*10)+1,sentiment:"positive",keywords:h.tags||[],confidence:.8,duplicates:[],enhancementSuggestions:["Consider adding more specific requirements","Include user impact metrics"],analysisTimestamp:{toDate:()=>new Date}},priorityScore:{overall:Math.random()*10,businessImpact:Math.random()*10,userDemand:Math.random()*10,technicalFeasibility:Math.random()*10,strategicAlignment:Math.random()*10,calculatedAt:{toDate:()=>new Date}}};return r(E=>[y,...E]),y.id}try{const y={title:h.title,description:h.description,submittedBy:t,submitterName:h.testerInfo.name,submitterRole:h.testerInfo.role,appId:h.appId,appName:h.appName,status:"analyzing",userPriority:h.userPriority,timestamp:ki(),votes:0,comments:[],watchers:[t],tags:h.tags||[],testerEmail:h.testerInfo.email},E=window.__app_id?`artifacts/${window.__app_id}/feature-requests`:"feature-requests",_=await dB(pf(x,E),y);return u(_.id,h.title,h.description,h.appName),_.id}catch(y){throw console.error("Error submitting request:",y),new Error("Failed to submit feature request")}},u=async(h,x,y,E)=>{try{const _=Li();if(!_)return;const b=await hB(x,y,E),T=await yB({title:x,description:y},n),P=`${window.__app_id?`artifacts/${window.__app_id}/feature-requests`:"feature-requests"}/${h}`;await rc(Ws(_,P),{aiAnalysis:{...b,duplicates:T,analysisTimestamp:ki()},status:"reviewed"});const V=n.find(I=>I.id===h);if(!V)return;const A=await mB({...V,aiAnalysis:{...b,duplicates:T,analysisTimestamp:ki()}},b,1),S=await pB(V,b),C=await gB(V,b);await rc(Ws(_,P),{priorityScore:{...A,calculatedAt:ki()},effortEstimate:{...S,estimatedAt:ki()},businessImpact:{...C,assessedAt:ki()}})}catch(_){console.error("AI Analysis failed:",_);const b=Li();if(b){const N=`${window.__app_id?`artifacts/${window.__app_id}/feature-requests`:"feature-requests"}/${h}`;await rc(Ws(b,N),{status:"submitted",aiAnalysis:{category:"enhancement",complexity:3,clarityScore:5,sentiment:"neutral",keywords:[],confidence:.3,duplicates:[],enhancementSuggestions:["AI analysis failed - manual review needed"],analysisTimestamp:ki()}})}}};return{requests:n,loading:i,error:a,submitRequest:l,updateRequestStatus:async(h,x)=>{if(!t)throw new Error("User not authenticated");const y=Li();if(!y){r(E=>E.map(_=>_.id===h?{..._,status:x,...x==="completed"&&{actualCompletion:{toDate:()=>new Date}}}:_));return}try{const _=`${window.__app_id?`artifacts/${window.__app_id}/feature-requests`:"feature-requests"}/${h}`;await rc(Ws(y,_),{status:x,...x==="completed"&&{actualCompletion:ki()}})}catch(E){throw console.error("Error updating status:",E),new Error("Failed to update request status")}},voteOnRequest:async(h,x=!0)=>{if(!t)throw new Error("User not authenticated");const y=Li();if(!y){r(E=>E.map(_=>_.id===h?{..._,votes:Math.max(0,_.votes+(x?1:-1))}:_));return}try{const E=n.find(T=>T.id===h);if(!E)return;const b=`${window.__app_id?`artifacts/${window.__app_id}/feature-requests`:"feature-requests"}/${h}`;await rc(Ws(y,b),{votes:Math.max(0,E.votes+(x?1:-1))})}catch(E){throw console.error("Error voting on request:",E),new Error("Failed to vote on request")}},deleteRequest:async h=>{if(!t)throw new Error("User not authenticated");const x=Li();if(!x){r(y=>y.filter(E=>E.id!==h));return}try{const E=`${window.__app_id?`artifacts/${window.__app_id}/feature-requests`:"feature-requests"}/${h}`;await uB(Ws(x,E))}catch(y){throw console.error("Error deleting request:",y),new Error("Failed to delete request")}}}},_B=t=>{const[e,n]=w.useState(null),[r,i]=w.useState(!0);return w.useEffect(()=>{if(!t)return;(()=>{const a=Li();if(!a){n({totalRequests:0,requestsByCategory:{},requestsByStatus:{},averagePriorityScore:0,topRequestedFeatures:[],trendData:[]}),i(!1);return}const o=window.__app_id?`artifacts/${window.__app_id}/feature-requests`:"feature-requests",l=Vy(pf(a,o)),u=UI(l,d=>{const f=[];d.forEach(_=>{f.push({id:_.id,..._.data()})});const m=f.length,h=f.reduce((_,b)=>{var N;const T=((N=b.aiAnalysis)==null?void 0:N.category)||"uncategorized";return _[T]=(_[T]||0)+1,_},{}),x=f.reduce((_,b)=>(_[b.status]=(_[b.status]||0)+1,_),{}),y=f.filter(_=>_.priorityScore).reduce((_,b)=>{var T;return _+(((T=b.priorityScore)==null?void 0:T.overall)||0)},0)/Math.max(f.filter(_=>_.priorityScore).length,1),E=f.sort((_,b)=>{var T,N;return(((T=b.priorityScore)==null?void 0:T.overall)||0)-(((N=_.priorityScore)==null?void 0:N.overall)||0)}).slice(0,5);n({totalRequests:m,requestsByCategory:h,requestsByStatus:x,averagePriorityScore:y,topRequestedFeatures:E,trendData:[]}),i(!1)});return()=>u()})()},[t]),{analytics:e,loading:r}},Et=w.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Me("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Et.displayName="Card";const It=w.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Me("flex flex-col space-y-1.5 p-6",t),...e}));It.displayName="CardHeader";const Nt=w.forwardRef(({className:t,...e},n)=>p.jsx("h3",{ref:n,className:Me("text-2xl font-semibold leading-none tracking-tight",t),...e}));Nt.displayName="CardTitle";const bB=w.forwardRef(({className:t,...e},n)=>p.jsx("p",{ref:n,className:Me("text-sm text-muted-foreground",t),...e}));bB.displayName="CardDescription";const Tt=w.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Me("p-6 pt-0",t),...e}));Tt.displayName="CardContent";const wB=w.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:Me("flex items-center p-6 pt-0",t),...e}));wB.displayName="CardFooter";const KT=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,QT=JA,c0=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return QT(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(u=>{const d=n==null?void 0:n[u],f=s==null?void 0:s[u];if(d===null)return null;const m=KT(d)||KT(f);return i[u][m]}),o=n&&Object.entries(n).reduce((u,d)=>{let[f,m]=d;return m===void 0||(u[f]=m),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:m,...h}=d;return Object.entries(h).every(x=>{let[y,E]=x;return Array.isArray(E)?E.includes({...s,...o}[y]):{...s,...o}[y]===E})?[...u,f,m]:u},[]);return QT(t,a,l,n==null?void 0:n.class,n==null?void 0:n.className)},EB=c0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),an=w.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const a=r?lk:"button";return p.jsx(a,{className:Me(EB({variant:e,size:n,className:t})),ref:s,...i})});an.displayName="Button";const Fi=w.forwardRef(({className:t,type:e,...n},r)=>p.jsx("input",{type:e,className:Me("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Fi.displayName="Input";function u0(t){const e=t+"CollectionProvider",[n,r]=Ei(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=y=>{const{scope:E,children:_}=y,b=$.useRef(null),T=$.useRef(new Map).current;return p.jsx(i,{scope:E,itemMap:T,collectionRef:b,children:_})};a.displayName=e;const o=t+"CollectionSlot",l=rl(o),u=$.forwardRef((y,E)=>{const{scope:_,children:b}=y,T=s(o,_),N=Qe(E,T.collectionRef);return p.jsx(l,{ref:N,children:b})});u.displayName=o;const d=t+"CollectionItemSlot",f="data-radix-collection-item",m=rl(d),h=$.forwardRef((y,E)=>{const{scope:_,children:b,...T}=y,N=$.useRef(null),P=Qe(E,N),V=s(d,_);return $.useEffect(()=>(V.itemMap.set(N,{ref:N,...T}),()=>void V.itemMap.delete(N))),p.jsx(m,{[f]:"",ref:P,children:b})});h.displayName=d;function x(y){const E=s(t+"CollectionConsumer",y);return $.useCallback(()=>{const b=E.collectionRef.current;if(!b)return[];const T=Array.from(b.querySelectorAll(`[${f}]`));return Array.from(E.itemMap.values()).sort((V,A)=>T.indexOf(V.ref.current)-T.indexOf(A.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:a,Slot:u,ItemSlot:h},x,r]}var TB=w.createContext(void 0);function xm(t){const e=w.useContext(TB);return t||e||"ltr"}var Qp="rovingFocusGroup.onEntryFocus",xB={bubbles:!1,cancelable:!0},Yu="RovingFocusGroup",[Ly,zI,SB]=u0(Yu),[AB,Sm]=Ei(Yu,[SB]),[RB,CB]=AB(Yu),BI=w.forwardRef((t,e)=>p.jsx(Ly.Provider,{scope:t.__scopeRovingFocusGroup,children:p.jsx(Ly.Slot,{scope:t.__scopeRovingFocusGroup,children:p.jsx(IB,{...t,ref:e})})}));BI.displayName=Yu;var IB=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,m=w.useRef(null),h=Qe(e,m),x=xm(s),[y,E]=nu({prop:a,defaultProp:o??null,onChange:l,caller:Yu}),[_,b]=w.useState(!1),T=Pr(u),N=zI(n),P=w.useRef(!1),[V,A]=w.useState(0);return w.useEffect(()=>{const S=m.current;if(S)return S.addEventListener(Qp,T),()=>S.removeEventListener(Qp,T)},[T]),p.jsx(RB,{scope:n,orientation:r,dir:x,loop:i,currentTabStopId:y,onItemFocus:w.useCallback(S=>E(S),[E]),onItemShiftTab:w.useCallback(()=>b(!0),[]),onFocusableItemAdd:w.useCallback(()=>A(S=>S+1),[]),onFocusableItemRemove:w.useCallback(()=>A(S=>S-1),[]),children:p.jsx(ve.div,{tabIndex:_||V===0?-1:0,"data-orientation":r,...f,ref:h,style:{outline:"none",...t.style},onMouseDown:J(t.onMouseDown,()=>{P.current=!0}),onFocus:J(t.onFocus,S=>{const C=!P.current;if(S.target===S.currentTarget&&C&&!_){const I=new CustomEvent(Qp,xB);if(S.currentTarget.dispatchEvent(I),!I.defaultPrevented){const O=N().filter(U=>U.focusable),M=O.find(U=>U.active),D=O.find(U=>U.id===y),le=[M,D,...O].filter(Boolean).map(U=>U.ref.current);qI(le,d)}}P.current=!1}),onBlur:J(t.onBlur,()=>b(!1))})})}),FI="RovingFocusGroupItem",HI=w.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:a,...o}=t,l=_a(),u=s||l,d=CB(FI,n),f=d.currentTabStopId===u,m=zI(n),{onFocusableItemAdd:h,onFocusableItemRemove:x,currentTabStopId:y}=d;return w.useEffect(()=>{if(r)return h(),()=>x()},[r,h,x]),p.jsx(Ly.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:p.jsx(ve.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...o,ref:e,onMouseDown:J(t.onMouseDown,E=>{r?d.onItemFocus(u):E.preventDefault()}),onFocus:J(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:J(t.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){d.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const _=DB(E,d.orientation,d.dir);if(_!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let T=m().filter(N=>N.focusable).map(N=>N.ref.current);if(_==="last")T.reverse();else if(_==="prev"||_==="next"){_==="prev"&&T.reverse();const N=T.indexOf(E.currentTarget);T=d.loop?OB(T,N+1):T.slice(N+1)}setTimeout(()=>qI(T))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:y!=null}):a})})});HI.displayName=FI;var NB={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function MB(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function DB(t,e,n){const r=MB(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return NB[r]}function qI(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function OB(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var GI=BI,$I=HI,Am="Tabs",[PB,_H]=Ei(Am,[Sm]),KI=Sm(),[kB,d0]=PB(Am),QI=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:o,activationMode:l="automatic",...u}=t,d=xm(o),[f,m]=nu({prop:r,onChange:i,defaultProp:s??"",caller:Am});return p.jsx(kB,{scope:n,baseId:_a(),value:f,onValueChange:m,orientation:a,dir:d,activationMode:l,children:p.jsx(ve.div,{dir:d,"data-orientation":a,...u,ref:e})})});QI.displayName=Am;var YI="TabsList",XI=w.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=d0(YI,n),a=KI(n);return p.jsx(GI,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:r,children:p.jsx(ve.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});XI.displayName=YI;var WI="TabsTrigger",ZI=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,a=d0(WI,n),o=KI(n),l=tN(a.baseId,r),u=nN(a.baseId,r),d=r===a.value;return p.jsx($I,{asChild:!0,...o,focusable:!i,active:d,children:p.jsx(ve.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:J(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:J(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:J(t.onFocus,()=>{const f=a.activationMode!=="manual";!d&&!i&&f&&a.onValueChange(r)})})})});ZI.displayName=WI;var JI="TabsContent",eN=w.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...a}=t,o=d0(JI,n),l=tN(o.baseId,r),u=nN(o.baseId,r),d=r===o.value,f=w.useRef(d);return w.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),p.jsx(Da,{present:i||d,children:({present:m})=>p.jsx(ve.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!m,id:u,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:m&&s})})});eN.displayName=JI;function tN(t,e){return`${t}-trigger-${e}`}function nN(t,e){return`${t}-content-${e}`}var VB=QI,rN=XI,iN=ZI,sN=eN;const jB=VB,aN=w.forwardRef(({className:t,...e},n)=>p.jsx(rN,{ref:n,className:Me("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));aN.displayName=rN.displayName;const yf=w.forwardRef(({className:t,...e},n)=>p.jsx(iN,{ref:n,className:Me("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));yf.displayName=iN.displayName;const vf=w.forwardRef(({className:t,...e},n)=>p.jsx(sN,{ref:n,className:Me("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));vf.displayName=sN.displayName;function YT(t,[e,n]){return Math.min(n,Math.max(e,t))}var Yp=0;function oN(){w.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??XT()),document.body.insertAdjacentElement("beforeend",t[1]??XT()),Yp++,()=>{Yp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Yp--}},[])}function XT(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Xp="focusScope.autoFocusOnMount",Wp="focusScope.autoFocusOnUnmount",WT={bubbles:!1,cancelable:!0},LB="FocusScope",f0=w.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[o,l]=w.useState(null),u=Pr(i),d=Pr(s),f=w.useRef(null),m=Qe(e,y=>l(y)),h=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let y=function(T){if(h.paused||!o)return;const N=T.target;o.contains(N)?f.current=N:Ui(f.current,{select:!0})},E=function(T){if(h.paused||!o)return;const N=T.relatedTarget;N!==null&&(o.contains(N)||Ui(f.current,{select:!0}))},_=function(T){if(document.activeElement===document.body)for(const P of T)P.removedNodes.length>0&&Ui(o)};document.addEventListener("focusin",y),document.addEventListener("focusout",E);const b=new MutationObserver(_);return o&&b.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",E),b.disconnect()}}},[r,o,h.paused]),w.useEffect(()=>{if(o){JT.add(h);const y=document.activeElement;if(!o.contains(y)){const _=new CustomEvent(Xp,WT);o.addEventListener(Xp,u),o.dispatchEvent(_),_.defaultPrevented||(UB(qB(lN(o)),{select:!0}),document.activeElement===y&&Ui(o))}return()=>{o.removeEventListener(Xp,u),setTimeout(()=>{const _=new CustomEvent(Wp,WT);o.addEventListener(Wp,d),o.dispatchEvent(_),_.defaultPrevented||Ui(y??document.body,{select:!0}),o.removeEventListener(Wp,d),JT.remove(h)},0)}}},[o,u,d,h]);const x=w.useCallback(y=>{if(!n&&!r||h.paused)return;const E=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,_=document.activeElement;if(E&&_){const b=y.currentTarget,[T,N]=zB(b);T&&N?!y.shiftKey&&_===N?(y.preventDefault(),n&&Ui(T,{select:!0})):y.shiftKey&&_===T&&(y.preventDefault(),n&&Ui(N,{select:!0})):_===b&&y.preventDefault()}},[n,r,h.paused]);return p.jsx(ve.div,{tabIndex:-1,...a,ref:m,onKeyDown:x})});f0.displayName=LB;function UB(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ui(r,{select:e}),document.activeElement!==n)return}function zB(t){const e=lN(t),n=ZT(e,t),r=ZT(e.reverse(),t);return[n,r]}function lN(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function ZT(t,e){for(const n of t)if(!BB(n,{upTo:e}))return n}function BB(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function FB(t){return t instanceof HTMLInputElement&&"select"in t}function Ui(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&FB(t)&&e&&t.select()}}var JT=HB();function HB(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=ex(t,e),t.unshift(e)},remove(e){var n;t=ex(t,e),(n=t[0])==null||n.resume()}}}function ex(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function qB(t){return t.filter(e=>e.tagName!=="A")}function GB(t){const e=w.useRef({value:t,previous:t});return w.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var $B=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Qa=new WeakMap,Bd=new WeakMap,Fd={},Zp=0,cN=function(t){return t&&(t.host||cN(t.parentNode))},KB=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=cN(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},QB=function(t,e,n,r){var i=KB(e,Array.isArray(t)?t:[t]);Fd[n]||(Fd[n]=new WeakMap);var s=Fd[n],a=[],o=new Set,l=new Set(i),u=function(f){!f||o.has(f)||(o.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(m){if(o.has(m))d(m);else try{var h=m.getAttribute(r),x=h!==null&&h!=="false",y=(Qa.get(m)||0)+1,E=(s.get(m)||0)+1;Qa.set(m,y),s.set(m,E),a.push(m),y===1&&x&&Bd.set(m,!0),E===1&&m.setAttribute(n,"true"),x||m.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",m,_)}})};return d(e),o.clear(),Zp++,function(){a.forEach(function(f){var m=Qa.get(f)-1,h=s.get(f)-1;Qa.set(f,m),s.set(f,h),m||(Bd.has(f)||f.removeAttribute(r),Bd.delete(f)),h||f.removeAttribute(n)}),Zp--,Zp||(Qa=new WeakMap,Qa=new WeakMap,Bd=new WeakMap,Fd={})}},uN=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=$B(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),QB(r,i,n,"aria-hidden")):function(){return null}},wr=function(){return wr=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},wr.apply(this,arguments)};function dN(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function YB(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var _f="right-scroll-bar-position",bf="width-before-scroll-bar",XB="with-scroll-bars-hidden",WB="--removed-body-scroll-bar-size";function Jp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function ZB(t,e){var n=w.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var JB=typeof window<"u"?w.useLayoutEffect:w.useEffect,tx=new WeakMap;function e7(t,e){var n=ZB(null,function(r){return t.forEach(function(i){return Jp(i,r)})});return JB(function(){var r=tx.get(n);if(r){var i=new Set(r),s=new Set(t),a=n.current;i.forEach(function(o){s.has(o)||Jp(o,null)}),s.forEach(function(o){i.has(o)||Jp(o,a)})}tx.set(n,t)},[t]),n}function t7(t){return t}function n7(t,e){e===void 0&&(e=t7);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var a=e(s,r);return n.push(a),function(){n=n.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(o){return s(o)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var o=n;n=[],o.forEach(s),a=n}var l=function(){var d=a;a=[],d.forEach(s)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){a.push(d),u()},filter:function(d){return a=a.filter(d),n}}}};return i}function r7(t){t===void 0&&(t={});var e=n7(null);return e.options=wr({async:!0,ssr:!1},t),e}var fN=function(t){var e=t.sideCar,n=dN(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,wr({},n))};fN.isSideCarExport=!0;function i7(t,e){return t.useMedium(e),fN}var hN=r7(),eg=function(){},Rm=w.forwardRef(function(t,e){var n=w.useRef(null),r=w.useState({onScrollCapture:eg,onWheelCapture:eg,onTouchMoveCapture:eg}),i=r[0],s=r[1],a=t.forwardProps,o=t.children,l=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,m=t.sideCar,h=t.noRelative,x=t.noIsolation,y=t.inert,E=t.allowPinchZoom,_=t.as,b=_===void 0?"div":_,T=t.gapMode,N=dN(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=m,V=e7([n,e]),A=wr(wr({},N),i);return w.createElement(w.Fragment,null,d&&w.createElement(P,{sideCar:hN,removeScrollBar:u,shards:f,noRelative:h,noIsolation:x,inert:y,setCallbacks:s,allowPinchZoom:!!E,lockRef:n,gapMode:T}),a?w.cloneElement(w.Children.only(o),wr(wr({},A),{ref:V})):w.createElement(b,wr({},A,{className:l,ref:V}),o))});Rm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Rm.classNames={fullWidth:bf,zeroRight:_f};var s7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function a7(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=s7();return e&&t.setAttribute("nonce",e),t}function o7(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function l7(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var c7=function(){var t=0,e=null;return{add:function(n){t==0&&(e=a7())&&(o7(e,n),l7(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},u7=function(){var t=c7();return function(e,n){w.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},mN=function(){var t=u7(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},d7={left:0,top:0,right:0,gap:0},tg=function(t){return parseInt(t||"",10)||0},f7=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[tg(n),tg(r),tg(i)]},h7=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return d7;var e=f7(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},m7=mN(),ko="data-scroll-locked",p7=function(t,e,n,r){var i=t.left,s=t.top,a=t.right,o=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(XB,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(ko,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(_f,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(bf,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(_f," .").concat(_f,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(bf," .").concat(bf,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ko,`] {
    `).concat(WB,": ").concat(o,`px;
  }
`)},nx=function(){var t=parseInt(document.body.getAttribute(ko)||"0",10);return isFinite(t)?t:0},g7=function(){w.useEffect(function(){return document.body.setAttribute(ko,(nx()+1).toString()),function(){var t=nx()-1;t<=0?document.body.removeAttribute(ko):document.body.setAttribute(ko,t.toString())}},[])},y7=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;g7();var s=w.useMemo(function(){return h7(i)},[i]);return w.createElement(m7,{styles:p7(s,!e,i,n?"":"!important")})},Uy=!1;if(typeof window<"u")try{var Hd=Object.defineProperty({},"passive",{get:function(){return Uy=!0,!0}});window.addEventListener("test",Hd,Hd),window.removeEventListener("test",Hd,Hd)}catch{Uy=!1}var Ya=Uy?{passive:!1}:!1,v7=function(t){return t.tagName==="TEXTAREA"},pN=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!v7(t)&&n[e]==="visible")},_7=function(t){return pN(t,"overflowY")},b7=function(t){return pN(t,"overflowX")},rx=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=gN(t,r);if(i){var s=yN(t,r),a=s[1],o=s[2];if(a>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},w7=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},E7=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},gN=function(t,e){return t==="v"?_7(e):b7(e)},yN=function(t,e){return t==="v"?w7(e):E7(e)},T7=function(t,e){return t==="h"&&e==="rtl"?-1:1},x7=function(t,e,n,r,i){var s=T7(t,window.getComputedStyle(e).direction),a=s*r,o=n.target,l=e.contains(o),u=!1,d=a>0,f=0,m=0;do{if(!o)break;var h=yN(t,o),x=h[0],y=h[1],E=h[2],_=y-E-s*x;(x||_)&&gN(t,o)&&(f+=_,m+=x);var b=o.parentNode;o=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(d&&Math.abs(f)<1||!d&&Math.abs(m)<1)&&(u=!0),u},qd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},ix=function(t){return[t.deltaX,t.deltaY]},sx=function(t){return t&&"current"in t?t.current:t},S7=function(t,e){return t[0]===e[0]&&t[1]===e[1]},A7=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},R7=0,Xa=[];function C7(t){var e=w.useRef([]),n=w.useRef([0,0]),r=w.useRef(),i=w.useState(R7++)[0],s=w.useState(mN)[0],a=w.useRef(t);w.useEffect(function(){a.current=t},[t]),w.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var y=YB([t.lockRef.current],(t.shards||[]).map(sx),!0).filter(Boolean);return y.forEach(function(E){return E.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var o=w.useCallback(function(y,E){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!a.current.allowPinchZoom;var _=qd(y),b=n.current,T="deltaX"in y?y.deltaX:b[0]-_[0],N="deltaY"in y?y.deltaY:b[1]-_[1],P,V=y.target,A=Math.abs(T)>Math.abs(N)?"h":"v";if("touches"in y&&A==="h"&&V.type==="range")return!1;var S=rx(A,V);if(!S)return!0;if(S?P=A:(P=A==="v"?"h":"v",S=rx(A,V)),!S)return!1;if(!r.current&&"changedTouches"in y&&(T||N)&&(r.current=P),!P)return!0;var C=r.current||P;return x7(C,E,y,C==="h"?T:N)},[]),l=w.useCallback(function(y){var E=y;if(!(!Xa.length||Xa[Xa.length-1]!==s)){var _="deltaY"in E?ix(E):qd(E),b=e.current.filter(function(P){return P.name===E.type&&(P.target===E.target||E.target===P.shadowParent)&&S7(P.delta,_)})[0];if(b&&b.should){E.cancelable&&E.preventDefault();return}if(!b){var T=(a.current.shards||[]).map(sx).filter(Boolean).filter(function(P){return P.contains(E.target)}),N=T.length>0?o(E,T[0]):!a.current.noIsolation;N&&E.cancelable&&E.preventDefault()}}},[]),u=w.useCallback(function(y,E,_,b){var T={name:y,delta:E,target:_,should:b,shadowParent:I7(_)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(N){return N!==T})},1)},[]),d=w.useCallback(function(y){n.current=qd(y),r.current=void 0},[]),f=w.useCallback(function(y){u(y.type,ix(y),y.target,o(y,t.lockRef.current))},[]),m=w.useCallback(function(y){u(y.type,qd(y),y.target,o(y,t.lockRef.current))},[]);w.useEffect(function(){return Xa.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",l,Ya),document.addEventListener("touchmove",l,Ya),document.addEventListener("touchstart",d,Ya),function(){Xa=Xa.filter(function(y){return y!==s}),document.removeEventListener("wheel",l,Ya),document.removeEventListener("touchmove",l,Ya),document.removeEventListener("touchstart",d,Ya)}},[]);var h=t.removeScrollBar,x=t.inert;return w.createElement(w.Fragment,null,x?w.createElement(s,{styles:A7(i)}):null,h?w.createElement(y7,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function I7(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const N7=i7(hN,C7);var h0=w.forwardRef(function(t,e){return w.createElement(Rm,wr({},t,{ref:e,sideCar:N7}))});h0.classNames=Rm.classNames;var M7=[" ","Enter","ArrowUp","ArrowDown"],D7=[" ","Enter"],Aa="Select",[Cm,Im,O7]=u0(Aa),[Pl,bH]=Ei(Aa,[O7,xl]),Nm=xl(),[P7,js]=Pl(Aa),[k7,V7]=Pl(Aa),vN=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:a,defaultValue:o,onValueChange:l,dir:u,name:d,autoComplete:f,disabled:m,required:h,form:x}=t,y=Nm(e),[E,_]=w.useState(null),[b,T]=w.useState(null),[N,P]=w.useState(!1),V=xm(u),[A,S]=nu({prop:r,defaultProp:i??!1,onChange:s,caller:Aa}),[C,I]=nu({prop:a,defaultProp:o,onChange:l,caller:Aa}),O=w.useRef(null),M=E?x||!!E.closest("form"):!0,[D,Z]=w.useState(new Set),le=Array.from(D).map(U=>U.props.value).join(";");return p.jsx(BA,{...y,children:p.jsxs(P7,{required:h,scope:e,trigger:E,onTriggerChange:_,valueNode:b,onValueNodeChange:T,valueNodeHasChildren:N,onValueNodeHasChildrenChange:P,contentId:_a(),value:C,onValueChange:I,open:A,onOpenChange:S,dir:V,triggerPointerDownPosRef:O,disabled:m,children:[p.jsx(Cm.Provider,{scope:e,children:p.jsx(k7,{scope:t.__scopeSelect,onNativeOptionAdd:w.useCallback(U=>{Z(G=>new Set(G).add(U))},[]),onNativeOptionRemove:w.useCallback(U=>{Z(G=>{const q=new Set(G);return q.delete(U),q})},[]),children:n})}),M?p.jsxs(FN,{"aria-hidden":!0,required:h,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:U=>I(U.target.value),disabled:m,form:x,children:[C===void 0?p.jsx("option",{value:""}):null,Array.from(D)]},le):null]})})};vN.displayName=Aa;var _N="SelectTrigger",bN=w.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=Nm(n),a=js(_N,n),o=a.disabled||r,l=Qe(e,a.onTriggerChange),u=Im(n),d=w.useRef("touch"),[f,m,h]=qN(y=>{const E=u().filter(T=>!T.disabled),_=E.find(T=>T.value===a.value),b=GN(E,y,_);b!==void 0&&a.onValueChange(b.value)}),x=y=>{o||(a.onOpenChange(!0),h()),y&&(a.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return p.jsx(s_,{asChild:!0,...s,children:p.jsx(ve.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":HN(a.value)?"":void 0,...i,ref:l,onClick:J(i.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&x(y)}),onPointerDown:J(i.onPointerDown,y=>{d.current=y.pointerType;const E=y.target;E.hasPointerCapture(y.pointerId)&&E.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(x(y),y.preventDefault())}),onKeyDown:J(i.onKeyDown,y=>{const E=f.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&m(y.key),!(E&&y.key===" ")&&M7.includes(y.key)&&(x(),y.preventDefault())})})})});bN.displayName=_N;var wN="SelectValue",EN=w.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:a="",...o}=t,l=js(wN,n),{onValueNodeHasChildrenChange:u}=l,d=s!==void 0,f=Qe(e,l.onValueNodeChange);return nn(()=>{u(d)},[u,d]),p.jsx(ve.span,{...o,ref:f,style:{pointerEvents:"none"},children:HN(l.value)?p.jsx(p.Fragment,{children:a}):s})});EN.displayName=wN;var j7="SelectIcon",TN=w.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return p.jsx(ve.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});TN.displayName=j7;var L7="SelectPortal",xN=t=>p.jsx(l_,{asChild:!0,...t});xN.displayName=L7;var Ra="SelectContent",SN=w.forwardRef((t,e)=>{const n=js(Ra,t.__scopeSelect),[r,i]=w.useState();if(nn(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?pl.createPortal(p.jsx(AN,{scope:t.__scopeSelect,children:p.jsx(Cm.Slot,{scope:t.__scopeSelect,children:p.jsx("div",{children:t.children})})}),s):null}return p.jsx(RN,{...t,ref:e})});SN.displayName=Ra;var tr=10,[AN,Ls]=Pl(Ra),U7="SelectContentImpl",z7=rl("SelectContent.RemoveScroll"),RN=w.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:o,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:h,sticky:x,hideWhenDetached:y,avoidCollisions:E,..._}=t,b=js(Ra,n),[T,N]=w.useState(null),[P,V]=w.useState(null),A=Qe(e,Q=>N(Q)),[S,C]=w.useState(null),[I,O]=w.useState(null),M=Im(n),[D,Z]=w.useState(!1),le=w.useRef(!1);w.useEffect(()=>{if(T)return uN(T)},[T]),oN();const U=w.useCallback(Q=>{const[Ae,...Re]=M().map(we=>we.ref.current),[pe]=Re.slice(-1),ge=document.activeElement;for(const we of Q)if(we===ge||(we==null||we.scrollIntoView({block:"nearest"}),we===Ae&&P&&(P.scrollTop=0),we===pe&&P&&(P.scrollTop=P.scrollHeight),we==null||we.focus(),document.activeElement!==ge))return},[M,P]),G=w.useCallback(()=>U([S,T]),[U,S,T]);w.useEffect(()=>{D&&G()},[D,G]);const{onOpenChange:q,triggerPointerDownPosRef:L}=b;w.useEffect(()=>{if(T){let Q={x:0,y:0};const Ae=pe=>{var ge,we;Q={x:Math.abs(Math.round(pe.pageX)-(((ge=L.current)==null?void 0:ge.x)??0)),y:Math.abs(Math.round(pe.pageY)-(((we=L.current)==null?void 0:we.y)??0))}},Re=pe=>{Q.x<=10&&Q.y<=10?pe.preventDefault():T.contains(pe.target)||q(!1),document.removeEventListener("pointermove",Ae),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",Ae),document.addEventListener("pointerup",Re,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ae),document.removeEventListener("pointerup",Re,{capture:!0})}}},[T,q,L]),w.useEffect(()=>{const Q=()=>q(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[q]);const[W,fe]=qN(Q=>{const Ae=M().filter(ge=>!ge.disabled),Re=Ae.find(ge=>ge.ref.current===document.activeElement),pe=GN(Ae,Q,Re);pe&&setTimeout(()=>pe.ref.current.focus())}),ee=w.useCallback((Q,Ae,Re)=>{const pe=!le.current&&!Re;(b.value!==void 0&&b.value===Ae||pe)&&(C(Q),pe&&(le.current=!0))},[b.value]),te=w.useCallback(()=>T==null?void 0:T.focus(),[T]),ae=w.useCallback((Q,Ae,Re)=>{const pe=!le.current&&!Re;(b.value!==void 0&&b.value===Ae||pe)&&O(Q)},[b.value]),Se=r==="popper"?zy:CN,st=Se===zy?{side:o,sideOffset:l,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:h,sticky:x,hideWhenDetached:y,avoidCollisions:E}:{};return p.jsx(AN,{scope:n,content:T,viewport:P,onViewportChange:V,itemRefCallback:ee,selectedItem:S,onItemLeave:te,itemTextRefCallback:ae,focusSelectedItem:G,selectedItemText:I,position:r,isPositioned:D,searchRef:W,children:p.jsx(h0,{as:z7,allowPinchZoom:!0,children:p.jsx(f0,{asChild:!0,trapped:b.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:J(i,Q=>{var Ae;(Ae=b.trigger)==null||Ae.focus({preventScroll:!0}),Q.preventDefault()}),children:p.jsx(Kh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:p.jsx(Se,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:Q=>Q.preventDefault(),..._,...st,onPlaced:()=>Z(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:J(_.onKeyDown,Q=>{const Ae=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!Ae&&Q.key.length===1&&fe(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let pe=M().filter(ge=>!ge.disabled).map(ge=>ge.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const ge=Q.target,we=pe.indexOf(ge);pe=pe.slice(we+1)}setTimeout(()=>U(pe)),Q.preventDefault()}})})})})})})});RN.displayName=U7;var B7="SelectItemAlignedPosition",CN=w.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=js(Ra,n),a=Ls(Ra,n),[o,l]=w.useState(null),[u,d]=w.useState(null),f=Qe(e,A=>d(A)),m=Im(n),h=w.useRef(!1),x=w.useRef(!0),{viewport:y,selectedItem:E,selectedItemText:_,focusSelectedItem:b}=a,T=w.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&u&&y&&E&&_){const A=s.trigger.getBoundingClientRect(),S=u.getBoundingClientRect(),C=s.valueNode.getBoundingClientRect(),I=_.getBoundingClientRect();if(s.dir!=="rtl"){const ge=I.left-S.left,we=C.left-ge,pt=A.left-we,$t=A.width+pt,Xn=Math.max($t,S.width),Wn=window.innerWidth-tr,zr=YT(we,[tr,Math.max(tr,Wn-Xn)]);o.style.minWidth=$t+"px",o.style.left=zr+"px"}else{const ge=S.right-I.right,we=window.innerWidth-C.right-ge,pt=window.innerWidth-A.right-we,$t=A.width+pt,Xn=Math.max($t,S.width),Wn=window.innerWidth-tr,zr=YT(we,[tr,Math.max(tr,Wn-Xn)]);o.style.minWidth=$t+"px",o.style.right=zr+"px"}const O=m(),M=window.innerHeight-tr*2,D=y.scrollHeight,Z=window.getComputedStyle(u),le=parseInt(Z.borderTopWidth,10),U=parseInt(Z.paddingTop,10),G=parseInt(Z.borderBottomWidth,10),q=parseInt(Z.paddingBottom,10),L=le+U+D+q+G,W=Math.min(E.offsetHeight*5,L),fe=window.getComputedStyle(y),ee=parseInt(fe.paddingTop,10),te=parseInt(fe.paddingBottom,10),ae=A.top+A.height/2-tr,Se=M-ae,st=E.offsetHeight/2,Q=E.offsetTop+st,Ae=le+U+Q,Re=L-Ae;if(Ae<=ae){const ge=O.length>0&&E===O[O.length-1].ref.current;o.style.bottom="0px";const we=u.clientHeight-y.offsetTop-y.offsetHeight,pt=Math.max(Se,st+(ge?te:0)+we+G),$t=Ae+pt;o.style.height=$t+"px"}else{const ge=O.length>0&&E===O[0].ref.current;o.style.top="0px";const pt=Math.max(ae,le+y.offsetTop+(ge?ee:0)+st)+Re;o.style.height=pt+"px",y.scrollTop=Ae-ae+y.offsetTop}o.style.margin=`${tr}px 0`,o.style.minHeight=W+"px",o.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>h.current=!0)}},[m,s.trigger,s.valueNode,o,u,y,E,_,s.dir,r]);nn(()=>T(),[T]);const[N,P]=w.useState();nn(()=>{u&&P(window.getComputedStyle(u).zIndex)},[u]);const V=w.useCallback(A=>{A&&x.current===!0&&(T(),b==null||b(),x.current=!1)},[T,b]);return p.jsx(H7,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:h,onScrollButtonChange:V,children:p.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:p.jsx(ve.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});CN.displayName=B7;var F7="SelectPopperPosition",zy=w.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=tr,...s}=t,a=Nm(n);return p.jsx(a_,{...a,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});zy.displayName=F7;var[H7,m0]=Pl(Ra,{}),By="SelectViewport",IN=w.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=Ls(By,n),a=m0(By,n),o=Qe(e,s.onViewportChange),l=w.useRef(0);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),p.jsx(Cm.Slot,{scope:n,children:p.jsx(ve.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:J(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=a;if(m!=null&&m.current&&f){const h=Math.abs(l.current-d.scrollTop);if(h>0){const x=window.innerHeight-tr*2,y=parseFloat(f.style.minHeight),E=parseFloat(f.style.height),_=Math.max(y,E);if(_<x){const b=_+h,T=Math.min(x,b),N=b-T;f.style.height=T+"px",f.style.bottom==="0px"&&(d.scrollTop=N>0?N:0,f.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});IN.displayName=By;var NN="SelectGroup",[q7,G7]=Pl(NN),$7=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=_a();return p.jsx(q7,{scope:n,id:i,children:p.jsx(ve.div,{role:"group","aria-labelledby":i,...r,ref:e})})});$7.displayName=NN;var MN="SelectLabel",DN=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=G7(MN,n);return p.jsx(ve.div,{id:i.id,...r,ref:e})});DN.displayName=MN;var Th="SelectItem",[K7,ON]=Pl(Th),PN=w.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...a}=t,o=js(Th,n),l=Ls(Th,n),u=o.value===r,[d,f]=w.useState(s??""),[m,h]=w.useState(!1),x=Qe(e,b=>{var T;return(T=l.itemRefCallback)==null?void 0:T.call(l,b,r,i)}),y=_a(),E=w.useRef("touch"),_=()=>{i||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.jsx(K7,{scope:n,value:r,disabled:i,textId:y,isSelected:u,onItemTextChange:w.useCallback(b=>{f(T=>T||((b==null?void 0:b.textContent)??"").trim())},[]),children:p.jsx(Cm.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:p.jsx(ve.div,{role:"option","aria-labelledby":y,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:x,onFocus:J(a.onFocus,()=>h(!0)),onBlur:J(a.onBlur,()=>h(!1)),onClick:J(a.onClick,()=>{E.current!=="mouse"&&_()}),onPointerUp:J(a.onPointerUp,()=>{E.current==="mouse"&&_()}),onPointerDown:J(a.onPointerDown,b=>{E.current=b.pointerType}),onPointerMove:J(a.onPointerMove,b=>{var T;E.current=b.pointerType,i?(T=l.onItemLeave)==null||T.call(l):E.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:J(a.onPointerLeave,b=>{var T;b.currentTarget===document.activeElement&&((T=l.onItemLeave)==null||T.call(l))}),onKeyDown:J(a.onKeyDown,b=>{var N;((N=l.searchRef)==null?void 0:N.current)!==""&&b.key===" "||(D7.includes(b.key)&&_(),b.key===" "&&b.preventDefault())})})})})});PN.displayName=Th;var fc="SelectItemText",kN=w.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,a=js(fc,n),o=Ls(fc,n),l=ON(fc,n),u=V7(fc,n),[d,f]=w.useState(null),m=Qe(e,_=>f(_),l.onItemTextChange,_=>{var b;return(b=o.itemTextRefCallback)==null?void 0:b.call(o,_,l.value,l.disabled)}),h=d==null?void 0:d.textContent,x=w.useMemo(()=>p.jsx("option",{value:l.value,disabled:l.disabled,children:h},l.value),[l.disabled,l.value,h]),{onNativeOptionAdd:y,onNativeOptionRemove:E}=u;return nn(()=>(y(x),()=>E(x)),[y,E,x]),p.jsxs(p.Fragment,{children:[p.jsx(ve.span,{id:l.textId,...s,ref:m}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?pl.createPortal(s.children,a.valueNode):null]})});kN.displayName=fc;var VN="SelectItemIndicator",jN=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return ON(VN,n).isSelected?p.jsx(ve.span,{"aria-hidden":!0,...r,ref:e}):null});jN.displayName=VN;var Fy="SelectScrollUpButton",LN=w.forwardRef((t,e)=>{const n=Ls(Fy,t.__scopeSelect),r=m0(Fy,t.__scopeSelect),[i,s]=w.useState(!1),a=Qe(e,r.onScrollButtonChange);return nn(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=l.scrollTop>0;s(u)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?p.jsx(zN,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});LN.displayName=Fy;var Hy="SelectScrollDownButton",UN=w.forwardRef((t,e)=>{const n=Ls(Hy,t.__scopeSelect),r=m0(Hy,t.__scopeSelect),[i,s]=w.useState(!1),a=Qe(e,r.onScrollButtonChange);return nn(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;s(d)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?p.jsx(zN,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});UN.displayName=Hy;var zN=w.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=Ls("SelectScrollButton",n),a=w.useRef(null),o=Im(n),l=w.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return w.useEffect(()=>()=>l(),[l]),nn(()=>{var d;const u=o().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),p.jsx(ve.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:J(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:J(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:J(i.onPointerLeave,()=>{l()})})}),Q7="SelectSeparator",BN=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return p.jsx(ve.div,{"aria-hidden":!0,...r,ref:e})});BN.displayName=Q7;var qy="SelectArrow",Y7=w.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Nm(n),s=js(qy,n),a=Ls(qy,n);return s.open&&a.position==="popper"?p.jsx(o_,{...i,...r,ref:e}):null});Y7.displayName=qy;var X7="SelectBubbleInput",FN=w.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=w.useRef(null),s=Qe(r,i),a=GB(e);return w.useEffect(()=>{const o=i.current;if(!o)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==e&&d){const f=new Event("change",{bubbles:!0});d.call(o,e),o.dispatchEvent(f)}},[a,e]),p.jsx(ve.select,{...n,style:{...FA,...n.style},ref:s,defaultValue:e})});FN.displayName=X7;function HN(t){return t===""||t===void 0}function qN(t){const e=Pr(t),n=w.useRef(""),r=w.useRef(0),i=w.useCallback(a=>{const o=n.current+a;e(o),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(o)},[e]),s=w.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function GN(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=W7(t,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==n));const l=a.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function W7(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Z7=vN,$N=bN,J7=EN,e8=TN,t8=xN,KN=SN,n8=IN,QN=DN,YN=PN,r8=kN,i8=jN,XN=LN,WN=UN,ZN=BN;/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s8=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JN=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var a8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o8=w.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},l)=>w.createElement("svg",{ref:l,...a8,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:JN("lucide",i),...o},[...a.map(([u,d])=>w.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=(t,e)=>{const n=w.forwardRef(({className:r,...i},s)=>w.createElement(o8,{ref:s,iconNode:e,className:JN(`lucide-${s8(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l8=Ge("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=Ge("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=Ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=Ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c8=Ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u8=Ge("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gy=Ge("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=Ge("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d8=Ge("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=Ge("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f8=Ge("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h8=Ge("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8=Ge("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8=Ge("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=Ge("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=Ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8=Ge("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y8=Ge("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v8=Ge("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _8=Ge("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b8=Ge("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w8=Ge("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qy=Ge("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E8=Ge("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=Ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8=Ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=Ge("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),jc=Z7,Lc=J7,Vo=w.forwardRef(({className:t,children:e,...n},r)=>p.jsxs($N,{ref:r,className:Me("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,p.jsx(e8,{asChild:!0,children:p.jsx(t2,{className:"h-4 w-4 opacity-50"})})]}));Vo.displayName=$N.displayName;const i2=w.forwardRef(({className:t,...e},n)=>p.jsx(XN,{ref:n,className:Me("flex cursor-default items-center justify-center py-1",t),...e,children:p.jsx(u8,{className:"h-4 w-4"})}));i2.displayName=XN.displayName;const s2=w.forwardRef(({className:t,...e},n)=>p.jsx(WN,{ref:n,className:Me("flex cursor-default items-center justify-center py-1",t),...e,children:p.jsx(t2,{className:"h-4 w-4"})}));s2.displayName=WN.displayName;const jo=w.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>p.jsx(t8,{children:p.jsxs(KN,{ref:i,className:Me("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[p.jsx(i2,{}),p.jsx(n8,{className:Me("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),p.jsx(s2,{})]})}));jo.displayName=KN.displayName;const x8=w.forwardRef(({className:t,...e},n)=>p.jsx(QN,{ref:n,className:Me("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));x8.displayName=QN.displayName;const ft=w.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(YN,{ref:r,className:Me("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(i8,{children:p.jsx(e2,{className:"h-4 w-4"})})}),p.jsx(r8,{children:e})]}));ft.displayName=YN.displayName;const S8=w.forwardRef(({className:t,...e},n)=>p.jsx(ZN,{ref:n,className:Me("-mx-1 my-1 h-px bg-muted",t),...e}));S8.displayName=ZN.displayName;const A8=c0("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Dt({className:t,variant:e,...n}){return p.jsx("div",{className:Me(A8({variant:e}),t),...n})}var R8="Separator",ax="horizontal",C8=["horizontal","vertical"],a2=w.forwardRef((t,e)=>{const{decorative:n,orientation:r=ax,...i}=t,s=I8(r)?r:ax,o=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return p.jsx(ve.div,{"data-orientation":s,...o,...i,ref:e})});a2.displayName=R8;function I8(t){return C8.includes(t)}var o2=a2;const Uc=w.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>p.jsx(o2,{ref:i,decorative:n,orientation:e,className:Me("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Uc.displayName=o2.displayName;const l2=w.forwardRef(({className:t,...e},n)=>p.jsx("textarea",{className:Me("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));l2.displayName="Textarea";var N8="Label",c2=w.forwardRef((t,e)=>p.jsx(ve.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));c2.displayName=N8;var u2=c2;const M8=c0("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),pr=w.forwardRef(({className:t,...e},n)=>p.jsx(u2,{ref:n,className:Me(M8(),t),...e}));pr.displayName=u2.displayName;const ng=[{id:"mobile-ios",name:"iOS Mobile App",icon:"📱",description:"iPhone and iPad application"},{id:"mobile-android",name:"Android Mobile App",icon:"🤖",description:"Android smartphone and tablet app"},{id:"web-dashboard",name:"Web Dashboard",icon:"💻",description:"Admin and analytics web interface"},{id:"web-customer",name:"Customer Portal",icon:"🌐",description:"Customer-facing web application"},{id:"api-backend",name:"Backend API",icon:"⚙️",description:"Server-side API and services"},{id:"desktop-app",name:"Desktop Application",icon:"🖥️",description:"Windows/Mac desktop software"}],D8=({onSubmit:t})=>{const[e,n]=w.useState(""),[r,i]=w.useState(""),[s,a]=w.useState("medium"),[o,l]=w.useState(""),[u,d]=w.useState([]),[f,m]=w.useState(""),[h,x]=w.useState(!1),[y,E]=w.useState(""),[_,b]=w.useState(""),[T,N]=w.useState(""),[P,V]=w.useState(""),A=async M=>{if(M.preventDefault(),!e.trim()||!r.trim()||!o||!y.trim()||!_.trim())return;const D=ng.find(Z=>Z.id===o);if(D){x(!0);try{await t({title:e.trim(),description:r.trim(),userPriority:s,appId:o,appName:D.name,tags:u,testerInfo:{name:y.trim(),email:_.trim(),role:T.trim()||"Beta Tester",company:P.trim()||void 0}}),n(""),i(""),a("medium"),l(""),d([]),E(""),b(""),N(""),V("")}catch(Z){console.error("Failed to submit request:",Z)}finally{x(!1)}}},S=()=>{f.trim()&&!u.includes(f.trim())&&(d([...u,f.trim()]),m(""))},C=M=>{d(u.filter(D=>D!==M))},I=M=>{M.key==="Enter"&&M.target===M.currentTarget&&(M.preventDefault(),S())},O=ng.find(M=>M.id===o);return p.jsxs(Et,{children:[p.jsx(It,{children:p.jsxs(Nt,{className:"flex items-center",children:[p.jsx(p8,{className:"mr-2 h-5 w-5"}),"Submit Feature Request"]})}),p.jsx(Tt,{children:p.jsxs("form",{onSubmit:A,className:"space-y-6",children:[p.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg space-y-4",children:[p.jsx("h3",{className:"font-medium text-blue-900",children:"Tester Information"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(pr,{htmlFor:"tester-name",children:"Full Name *"}),p.jsx(Fi,{id:"tester-name",value:y,onChange:M=>E(M.target.value),placeholder:"Your full name",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(pr,{htmlFor:"tester-email",children:"Email Address *"}),p.jsx(Fi,{id:"tester-email",type:"email",value:_,onChange:M=>b(M.target.value),placeholder:"your.email@company.com",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(pr,{htmlFor:"tester-role",children:"Role/Title"}),p.jsx(Fi,{id:"tester-role",value:T,onChange:M=>N(M.target.value),placeholder:"e.g., Product Manager, QA Engineer, Beta Tester"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(pr,{htmlFor:"tester-company",children:"Company (Optional)"}),p.jsx(Fi,{id:"tester-company",value:P,onChange:M=>V(M.target.value),placeholder:"Your company name"})]})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(pr,{htmlFor:"app",children:"Which Application? *"}),p.jsxs(jc,{value:o,onValueChange:l,required:!0,children:[p.jsx(Vo,{children:p.jsx(Lc,{placeholder:"Select the app you're providing feedback on"})}),p.jsx(jo,{children:ng.map(M=>p.jsx(ft,{value:M.id,children:p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("span",{children:M.icon}),p.jsxs("div",{children:[p.jsx("div",{className:"font-medium",children:M.name}),p.jsx("div",{className:"text-xs text-gray-500",children:M.description})]})]})},M.id))})]}),O&&p.jsx("div",{className:"flex items-center space-x-2 mt-2",children:p.jsxs(Dt,{variant:"outline",children:[O.icon," ",O.name]})})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(pr,{htmlFor:"title",children:"Feature Request Title *"}),p.jsx(Fi,{id:"title",value:e,onChange:M=>n(M.target.value),placeholder:"Brief, descriptive title for your feature request",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(pr,{htmlFor:"description",children:"Detailed Description *"}),p.jsx(l2,{id:"description",value:r,onChange:M=>i(M.target.value),placeholder:`Please provide a detailed description including:

• What problem does this solve?
• How should it work?
• Who would benefit from this feature?
• Any specific requirements or constraints?
• Steps to reproduce (if it's a bug fix)
• Expected vs actual behavior

The more detail you provide, the better our AI can analyze and prioritize your request!`,rows:8,required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(pr,{htmlFor:"priority",children:"Priority Level"}),p.jsxs(jc,{value:s,onValueChange:M=>a(M),children:[p.jsx(Vo,{children:p.jsx(Lc,{})}),p.jsxs(jo,{children:[p.jsx(ft,{value:"low",children:"🟢 Low - Nice to have enhancement"}),p.jsx(ft,{value:"medium",children:"🟡 Medium - Would improve my workflow"}),p.jsx(ft,{value:"high",children:"🟠 High - Important for productivity"}),p.jsx(ft,{value:"critical",children:"🔴 Critical - Blocking my work completely"})]})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(pr,{htmlFor:"tags",children:"Tags (Optional)"}),p.jsxs("div",{className:"flex space-x-2",children:[p.jsx(Fi,{id:"tags",value:f,onChange:M=>m(M.target.value),onKeyPress:I,placeholder:"Add tags (e.g., mobile, performance, ui, login, dashboard)"}),p.jsx(an,{type:"button",onClick:S,variant:"outline",size:"sm",children:p.jsx(Ky,{className:"h-4 w-4"})})]}),u.length>0&&p.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:u.map(M=>p.jsxs(Dt,{variant:"secondary",className:"flex items-center gap-1",children:[M,p.jsx(T8,{className:"h-3 w-3 cursor-pointer",onClick:()=>C(M)})]},M))})]}),p.jsx(an,{type:"submit",disabled:h||!e.trim()||!r.trim()||!o||!y.trim()||!_.trim(),className:"w-full",children:h?p.jsxs(p.Fragment,{children:[p.jsx(wf,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting & Running AI Analysis..."]}):p.jsxs(p.Fragment,{children:[p.jsx(Ky,{className:"mr-2 h-4 w-4"}),"Submit Feature Request"]})}),p.jsxs("div",{className:"text-sm text-gray-600 bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-lg border border-blue-200",children:[p.jsx("strong",{children:"🤖 AI-Powered Analysis:"}),p.jsxs("ul",{className:"mt-2 space-y-1 list-disc list-inside",children:[p.jsx("li",{children:"Our AI will automatically categorize your request (Enhancement, Bug Fix, New Feature, etc.)"}),p.jsx("li",{children:"Complexity and clarity scores will be calculated"}),p.jsx("li",{children:"Priority scoring based on business impact and user demand"}),p.jsx("li",{children:"Effort estimation for development planning"}),p.jsx("li",{children:"Duplicate detection to avoid redundant requests"}),p.jsx("li",{children:"Enhancement suggestions to improve your request"})]})]})]})})]})};var p0="Progress",g0=100,[O8,wH]=Ei(p0),[P8,k8]=O8(p0),d2=w.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=V8,...a}=t;(i||i===0)&&!ox(i)&&console.error(j8(`${i}`,"Progress"));const o=ox(i)?i:g0;r!==null&&!lx(r,o)&&console.error(L8(`${r}`,"Progress"));const l=lx(r,o)?r:null,u=Sh(l)?s(l,o):void 0;return p.jsx(P8,{scope:n,value:l,max:o,children:p.jsx(ve.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":Sh(l)?l:void 0,"aria-valuetext":u,role:"progressbar","data-state":m2(l,o),"data-value":l??void 0,"data-max":o,...a,ref:e})})});d2.displayName=p0;var f2="ProgressIndicator",h2=w.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=k8(f2,n);return p.jsx(ve.div,{"data-state":m2(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});h2.displayName=f2;function V8(t,e){return`${Math.round(t/e*100)}%`}function m2(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Sh(t){return typeof t=="number"}function ox(t){return Sh(t)&&!isNaN(t)&&t>0}function lx(t,e){return Sh(t)&&!isNaN(t)&&t<=e&&t>=0}function j8(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${g0}\`.`}function L8(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${g0} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var p2=d2,U8=h2;const Js=w.forwardRef(({className:t,value:e,...n},r)=>p.jsx(p2,{ref:r,className:Me("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:p.jsx(U8,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Js.displayName=p2.displayName;var Yy=["Enter"," "],z8=["ArrowDown","PageUp","Home"],g2=["ArrowUp","PageDown","End"],B8=[...z8,...g2],F8={ltr:[...Yy,"ArrowRight"],rtl:[...Yy,"ArrowLeft"]},H8={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Xu="Menu",[pu,q8,G8]=u0(Xu),[Va,y2]=Ei(Xu,[G8,xl,Sm]),Mm=xl(),v2=Sm(),[$8,ja]=Va(Xu),[K8,Wu]=Va(Xu),_2=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:a=!0}=t,o=Mm(e),[l,u]=w.useState(null),d=w.useRef(!1),f=Pr(s),m=xm(i);return w.useEffect(()=>{const h=()=>{d.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>d.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),p.jsx(BA,{...o,children:p.jsx($8,{scope:e,open:n,onOpenChange:f,content:l,onContentChange:u,children:p.jsx(K8,{scope:e,onClose:w.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:m,modal:a,children:r})})})};_2.displayName=Xu;var Q8="MenuAnchor",y0=w.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Mm(n);return p.jsx(s_,{...i,...r,ref:e})});y0.displayName=Q8;var v0="MenuPortal",[Y8,b2]=Va(v0,{forceMount:void 0}),w2=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=ja(v0,e);return p.jsx(Y8,{scope:e,forceMount:n,children:p.jsx(Da,{present:n||s.open,children:p.jsx(l_,{asChild:!0,container:i,children:r})})})};w2.displayName=v0;var Kn="MenuContent",[X8,_0]=Va(Kn),E2=w.forwardRef((t,e)=>{const n=b2(Kn,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=ja(Kn,t.__scopeMenu),a=Wu(Kn,t.__scopeMenu);return p.jsx(pu.Provider,{scope:t.__scopeMenu,children:p.jsx(Da,{present:r||s.open,children:p.jsx(pu.Slot,{scope:t.__scopeMenu,children:a.modal?p.jsx(W8,{...i,ref:e}):p.jsx(Z8,{...i,ref:e})})})})}),W8=w.forwardRef((t,e)=>{const n=ja(Kn,t.__scopeMenu),r=w.useRef(null),i=Qe(e,r);return w.useEffect(()=>{const s=r.current;if(s)return uN(s)},[]),p.jsx(b0,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:J(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Z8=w.forwardRef((t,e)=>{const n=ja(Kn,t.__scopeMenu);return p.jsx(b0,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),J8=rl("MenuContent.ScrollLock"),b0=w.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:h,disableOutsideScroll:x,...y}=t,E=ja(Kn,n),_=Wu(Kn,n),b=Mm(n),T=v2(n),N=q8(n),[P,V]=w.useState(null),A=w.useRef(null),S=Qe(e,A,E.onContentChange),C=w.useRef(0),I=w.useRef(""),O=w.useRef(0),M=w.useRef(null),D=w.useRef("right"),Z=w.useRef(0),le=x?h0:w.Fragment,U=x?{as:J8,allowPinchZoom:!0}:void 0,G=L=>{var Q,Ae;const W=I.current+L,fe=N().filter(Re=>!Re.disabled),ee=document.activeElement,te=(Q=fe.find(Re=>Re.ref.current===ee))==null?void 0:Q.textValue,ae=fe.map(Re=>Re.textValue),Se=dF(ae,W,te),st=(Ae=fe.find(Re=>Re.textValue===Se))==null?void 0:Ae.ref.current;(function Re(pe){I.current=pe,window.clearTimeout(C.current),pe!==""&&(C.current=window.setTimeout(()=>Re(""),1e3))})(W),st&&setTimeout(()=>st.focus())};w.useEffect(()=>()=>window.clearTimeout(C.current),[]),oN();const q=w.useCallback(L=>{var fe,ee;return D.current===((fe=M.current)==null?void 0:fe.side)&&hF(L,(ee=M.current)==null?void 0:ee.area)},[]);return p.jsx(X8,{scope:n,searchRef:I,onItemEnter:w.useCallback(L=>{q(L)&&L.preventDefault()},[q]),onItemLeave:w.useCallback(L=>{var W;q(L)||((W=A.current)==null||W.focus(),V(null))},[q]),onTriggerLeave:w.useCallback(L=>{q(L)&&L.preventDefault()},[q]),pointerGraceTimerRef:O,onPointerGraceIntentChange:w.useCallback(L=>{M.current=L},[]),children:p.jsx(le,{...U,children:p.jsx(f0,{asChild:!0,trapped:i,onMountAutoFocus:J(s,L=>{var W;L.preventDefault(),(W=A.current)==null||W.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:p.jsx(Kh,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:h,children:p.jsx(GI,{asChild:!0,...T,dir:_.dir,orientation:"vertical",loop:r,currentTabStopId:P,onCurrentTabStopIdChange:V,onEntryFocus:J(l,L=>{_.isUsingKeyboardRef.current||L.preventDefault()}),preventScrollOnEntryFocus:!0,children:p.jsx(a_,{role:"menu","aria-orientation":"vertical","data-state":L2(E.open),"data-radix-menu-content":"",dir:_.dir,...b,...y,ref:S,style:{outline:"none",...y.style},onKeyDown:J(y.onKeyDown,L=>{const fe=L.target.closest("[data-radix-menu-content]")===L.currentTarget,ee=L.ctrlKey||L.altKey||L.metaKey,te=L.key.length===1;fe&&(L.key==="Tab"&&L.preventDefault(),!ee&&te&&G(L.key));const ae=A.current;if(L.target!==ae||!B8.includes(L.key))return;L.preventDefault();const st=N().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);g2.includes(L.key)&&st.reverse(),cF(st)}),onBlur:J(t.onBlur,L=>{L.currentTarget.contains(L.target)||(window.clearTimeout(C.current),I.current="")}),onPointerMove:J(t.onPointerMove,gu(L=>{const W=L.target,fe=Z.current!==L.clientX;if(L.currentTarget.contains(W)&&fe){const ee=L.clientX>Z.current?"right":"left";D.current=ee,Z.current=L.clientX}}))})})})})})})});E2.displayName=Kn;var eF="MenuGroup",w0=w.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return p.jsx(ve.div,{role:"group",...r,ref:e})});w0.displayName=eF;var tF="MenuLabel",T2=w.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return p.jsx(ve.div,{...r,ref:e})});T2.displayName=tF;var Ah="MenuItem",cx="menu.itemSelect",Dm=w.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=w.useRef(null),a=Wu(Ah,t.__scopeMenu),o=_0(Ah,t.__scopeMenu),l=Qe(e,s),u=w.useRef(!1),d=()=>{const f=s.current;if(!n&&f){const m=new CustomEvent(cx,{bubbles:!0,cancelable:!0});f.addEventListener(cx,h=>r==null?void 0:r(h),{once:!0}),yA(f,m),m.defaultPrevented?u.current=!1:a.onClose()}};return p.jsx(x2,{...i,ref:l,disabled:n,onClick:J(t.onClick,d),onPointerDown:f=>{var m;(m=t.onPointerDown)==null||m.call(t,f),u.current=!0},onPointerUp:J(t.onPointerUp,f=>{var m;u.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:J(t.onKeyDown,f=>{const m=o.searchRef.current!=="";n||m&&f.key===" "||Yy.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Dm.displayName=Ah;var x2=w.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,a=_0(Ah,n),o=v2(n),l=w.useRef(null),u=Qe(e,l),[d,f]=w.useState(!1),[m,h]=w.useState("");return w.useEffect(()=>{const x=l.current;x&&h((x.textContent??"").trim())},[s.children]),p.jsx(pu.ItemSlot,{scope:n,disabled:r,textValue:i??m,children:p.jsx($I,{asChild:!0,...o,focusable:!r,children:p.jsx(ve.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:u,onPointerMove:J(t.onPointerMove,gu(x=>{r?a.onItemLeave(x):(a.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:J(t.onPointerLeave,gu(x=>a.onItemLeave(x))),onFocus:J(t.onFocus,()=>f(!0)),onBlur:J(t.onBlur,()=>f(!1))})})})}),nF="MenuCheckboxItem",S2=w.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return p.jsx(N2,{scope:t.__scopeMenu,checked:n,children:p.jsx(Dm,{role:"menuitemcheckbox","aria-checked":Rh(n)?"mixed":n,...i,ref:e,"data-state":T0(n),onSelect:J(i.onSelect,()=>r==null?void 0:r(Rh(n)?!0:!n),{checkForDefaultPrevented:!1})})})});S2.displayName=nF;var A2="MenuRadioGroup",[rF,iF]=Va(A2,{value:void 0,onValueChange:()=>{}}),R2=w.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=Pr(r);return p.jsx(rF,{scope:t.__scopeMenu,value:n,onValueChange:s,children:p.jsx(w0,{...i,ref:e})})});R2.displayName=A2;var C2="MenuRadioItem",I2=w.forwardRef((t,e)=>{const{value:n,...r}=t,i=iF(C2,t.__scopeMenu),s=n===i.value;return p.jsx(N2,{scope:t.__scopeMenu,checked:s,children:p.jsx(Dm,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":T0(s),onSelect:J(r.onSelect,()=>{var a;return(a=i.onValueChange)==null?void 0:a.call(i,n)},{checkForDefaultPrevented:!1})})})});I2.displayName=C2;var E0="MenuItemIndicator",[N2,sF]=Va(E0,{checked:!1}),M2=w.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=sF(E0,n);return p.jsx(Da,{present:r||Rh(s.checked)||s.checked===!0,children:p.jsx(ve.span,{...i,ref:e,"data-state":T0(s.checked)})})});M2.displayName=E0;var aF="MenuSeparator",D2=w.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return p.jsx(ve.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});D2.displayName=aF;var oF="MenuArrow",O2=w.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Mm(n);return p.jsx(o_,{...i,...r,ref:e})});O2.displayName=oF;var lF="MenuSub",[EH,P2]=Va(lF),mc="MenuSubTrigger",k2=w.forwardRef((t,e)=>{const n=ja(mc,t.__scopeMenu),r=Wu(mc,t.__scopeMenu),i=P2(mc,t.__scopeMenu),s=_0(mc,t.__scopeMenu),a=w.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:l}=s,u={__scopeMenu:t.__scopeMenu},d=w.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return w.useEffect(()=>d,[d]),w.useEffect(()=>{const f=o.current;return()=>{window.clearTimeout(f),l(null)}},[o,l]),p.jsx(y0,{asChild:!0,...u,children:p.jsx(x2,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":L2(n.open),...t,ref:$h(e,i.onTriggerChange),onClick:f=>{var m;(m=t.onClick)==null||m.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:J(t.onPointerMove,gu(f=>{s.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:J(t.onPointerLeave,gu(f=>{var h,x;d();const m=(h=n.content)==null?void 0:h.getBoundingClientRect();if(m){const y=(x=n.content)==null?void 0:x.dataset.side,E=y==="right",_=E?-5:5,b=m[E?"left":"right"],T=m[E?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+_,y:f.clientY},{x:b,y:m.top},{x:T,y:m.top},{x:T,y:m.bottom},{x:b,y:m.bottom}],side:y}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:J(t.onKeyDown,f=>{var h;const m=s.searchRef.current!=="";t.disabled||m&&f.key===" "||F8[r.dir].includes(f.key)&&(n.onOpenChange(!0),(h=n.content)==null||h.focus(),f.preventDefault())})})})});k2.displayName=mc;var V2="MenuSubContent",j2=w.forwardRef((t,e)=>{const n=b2(Kn,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=ja(Kn,t.__scopeMenu),a=Wu(Kn,t.__scopeMenu),o=P2(V2,t.__scopeMenu),l=w.useRef(null),u=Qe(e,l);return p.jsx(pu.Provider,{scope:t.__scopeMenu,children:p.jsx(Da,{present:r||s.open,children:p.jsx(pu.Slot,{scope:t.__scopeMenu,children:p.jsx(b0,{id:o.contentId,"aria-labelledby":o.triggerId,...i,ref:u,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;a.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:J(t.onFocusOutside,d=>{d.target!==o.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:J(t.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:J(t.onKeyDown,d=>{var h;const f=d.currentTarget.contains(d.target),m=H8[a.dir].includes(d.key);f&&m&&(s.onOpenChange(!1),(h=o.trigger)==null||h.focus(),d.preventDefault())})})})})})});j2.displayName=V2;function L2(t){return t?"open":"closed"}function Rh(t){return t==="indeterminate"}function T0(t){return Rh(t)?"indeterminate":t?"checked":"unchecked"}function cF(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function uF(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function dF(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=uF(t,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==n));const l=a.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function fF(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const o=e[s],l=e[a],u=o.x,d=o.y,f=l.x,m=l.y;d>r!=m>r&&n<(f-u)*(r-d)/(m-d)+u&&(i=!i)}return i}function hF(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return fF(n,e)}function gu(t){return e=>e.pointerType==="mouse"?t(e):void 0}var mF=_2,pF=y0,gF=w2,yF=E2,vF=w0,_F=T2,bF=Dm,wF=S2,EF=R2,TF=I2,xF=M2,SF=D2,AF=O2,RF=k2,CF=j2,Om="DropdownMenu",[IF,TH]=Ei(Om,[y2]),dn=y2(),[NF,U2]=IF(Om),z2=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:a,modal:o=!0}=t,l=dn(e),u=w.useRef(null),[d,f]=nu({prop:i,defaultProp:s??!1,onChange:a,caller:Om});return p.jsx(NF,{scope:e,triggerId:_a(),triggerRef:u,contentId:_a(),open:d,onOpenChange:f,onOpenToggle:w.useCallback(()=>f(m=>!m),[f]),modal:o,children:p.jsx(mF,{...l,open:d,onOpenChange:f,dir:r,modal:o,children:n})})};z2.displayName=Om;var B2="DropdownMenuTrigger",F2=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=U2(B2,n),a=dn(n);return p.jsx(pF,{asChild:!0,...a,children:p.jsx(ve.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:$h(e,s.triggerRef),onPointerDown:J(t.onPointerDown,o=>{!r&&o.button===0&&o.ctrlKey===!1&&(s.onOpenToggle(),s.open||o.preventDefault())}),onKeyDown:J(t.onKeyDown,o=>{r||(["Enter"," "].includes(o.key)&&s.onOpenToggle(),o.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});F2.displayName=B2;var MF="DropdownMenuPortal",H2=t=>{const{__scopeDropdownMenu:e,...n}=t,r=dn(e);return p.jsx(gF,{...r,...n})};H2.displayName=MF;var q2="DropdownMenuContent",G2=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=U2(q2,n),s=dn(n),a=w.useRef(!1);return p.jsx(yF,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:J(t.onCloseAutoFocus,o=>{var l;a.current||(l=i.triggerRef.current)==null||l.focus(),a.current=!1,o.preventDefault()}),onInteractOutside:J(t.onInteractOutside,o=>{const l=o.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,d=l.button===2||u;(!i.modal||d)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});G2.displayName=q2;var DF="DropdownMenuGroup",OF=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=dn(n);return p.jsx(vF,{...i,...r,ref:e})});OF.displayName=DF;var PF="DropdownMenuLabel",$2=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=dn(n);return p.jsx(_F,{...i,...r,ref:e})});$2.displayName=PF;var kF="DropdownMenuItem",K2=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=dn(n);return p.jsx(bF,{...i,...r,ref:e})});K2.displayName=kF;var VF="DropdownMenuCheckboxItem",Q2=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=dn(n);return p.jsx(wF,{...i,...r,ref:e})});Q2.displayName=VF;var jF="DropdownMenuRadioGroup",LF=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=dn(n);return p.jsx(EF,{...i,...r,ref:e})});LF.displayName=jF;var UF="DropdownMenuRadioItem",Y2=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=dn(n);return p.jsx(TF,{...i,...r,ref:e})});Y2.displayName=UF;var zF="DropdownMenuItemIndicator",X2=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=dn(n);return p.jsx(xF,{...i,...r,ref:e})});X2.displayName=zF;var BF="DropdownMenuSeparator",W2=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=dn(n);return p.jsx(SF,{...i,...r,ref:e})});W2.displayName=BF;var FF="DropdownMenuArrow",HF=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=dn(n);return p.jsx(AF,{...i,...r,ref:e})});HF.displayName=FF;var qF="DropdownMenuSubTrigger",Z2=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=dn(n);return p.jsx(RF,{...i,...r,ref:e})});Z2.displayName=qF;var GF="DropdownMenuSubContent",J2=w.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=dn(n);return p.jsx(CF,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});J2.displayName=GF;var $F=z2,KF=F2,QF=H2,eM=G2,tM=$2,nM=K2,rM=Q2,iM=Y2,sM=X2,aM=W2,oM=Z2,lM=J2;const YF=$F,XF=KF,WF=w.forwardRef(({className:t,inset:e,children:n,...r},i)=>p.jsxs(oM,{ref:i,className:Me("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,p.jsx(c8,{className:"ml-auto h-4 w-4"})]}));WF.displayName=oM.displayName;const ZF=w.forwardRef(({className:t,...e},n)=>p.jsx(lM,{ref:n,className:Me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));ZF.displayName=lM.displayName;const cM=w.forwardRef(({className:t,sideOffset:e=4,...n},r)=>p.jsx(QF,{children:p.jsx(eM,{ref:r,sideOffset:e,className:Me("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));cM.displayName=eM.displayName;const pc=w.forwardRef(({className:t,inset:e,...n},r)=>p.jsx(nM,{ref:r,className:Me("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));pc.displayName=nM.displayName;const JF=w.forwardRef(({className:t,children:e,checked:n,...r},i)=>p.jsxs(rM,{ref:i,className:Me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(sM,{children:p.jsx(e2,{className:"h-4 w-4"})})}),e]}));JF.displayName=rM.displayName;const eH=w.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(iM,{ref:r,className:Me("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(sM,{children:p.jsx(d8,{className:"h-2 w-2 fill-current"})})}),e]}));eH.displayName=iM.displayName;const tH=w.forwardRef(({className:t,inset:e,...n},r)=>p.jsx(tM,{ref:r,className:Me("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));tH.displayName=tM.displayName;const nH=w.forwardRef(({className:t,...e},n)=>p.jsx(aM,{ref:n,className:Me("-mx-1 my-1 h-px bg-muted",t),...e}));nH.displayName=aM.displayName;const rH=({request:t,onVote:e,onStatusChange:n,onDelete:r,isAdmin:i=!1})=>{var d,f;const[s,a]=w.useState(!1),o=m=>{switch(m){case"submitted":return"bg-gray-500";case"analyzing":return"bg-blue-500";case"reviewed":return"bg-yellow-500";case"approved":return"bg-green-500";case"in-progress":return"bg-purple-500";case"completed":return"bg-emerald-500";case"rejected":return"bg-red-500";default:return"bg-gray-500"}},l=m=>{switch(m){case"low":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"high":return"bg-orange-100 text-orange-800";case"critical":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},u=m=>{switch(m){case"new-feature":return"🆕";case"enhancement":return"⚡";case"bug-fix":return"🐛";case"ui-ux":return"🎨";case"performance":return"🚀";case"integration":return"🔗";default:return"💡"}};return p.jsxs(Et,{className:"hover:shadow-lg transition-shadow",children:[p.jsx(It,{className:"pb-3",children:p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx(Nt,{className:"text-lg font-semibold line-clamp-2",children:t.title}),p.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[p.jsx(Dt,{variant:"outline",className:`${o(t.status)} text-white`,children:t.status.replace("-"," ")}),p.jsx(Dt,{variant:"secondary",className:l(t.userPriority),children:t.userPriority}),t.aiAnalysis&&p.jsxs(Dt,{variant:"outline",children:[u(t.aiAnalysis.category)," ",t.aiAnalysis.category]})]})]}),i&&p.jsxs(YF,{children:[p.jsx(XF,{asChild:!0,children:p.jsx(an,{variant:"ghost",size:"sm",children:p.jsx(f8,{className:"h-4 w-4"})})}),p.jsxs(cM,{children:[p.jsxs(pc,{onClick:()=>n(t.id,"approved"),children:[p.jsx($y,{className:"mr-2 h-4 w-4"}),"Approve"]}),p.jsxs(pc,{onClick:()=>n(t.id,"in-progress"),children:[p.jsx(n2,{className:"mr-2 h-4 w-4"}),"Start Development"]}),p.jsxs(pc,{onClick:()=>n(t.id,"completed"),children:[p.jsx($y,{className:"mr-2 h-4 w-4"}),"Mark Complete"]}),r&&p.jsx(pc,{onClick:()=>r(t.id),className:"text-red-600",children:"Delete"})]})]})]})}),p.jsxs(Tt,{className:"space-y-4",children:[p.jsx("p",{className:"text-sm text-gray-600 line-clamp-3",children:t.description}),t.aiAnalysis&&p.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[p.jsxs("div",{className:"flex items-center mb-2",children:[p.jsx(l8,{className:"h-4 w-4 mr-2 text-blue-600"}),p.jsx("span",{className:"text-sm font-medium text-blue-800",children:"AI Analysis"})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[p.jsxs("div",{children:[p.jsx("span",{className:"text-gray-600",children:"Complexity:"}),p.jsxs("div",{className:"flex items-center mt-1",children:[p.jsx(Js,{value:t.aiAnalysis.complexity*20,className:"h-2 flex-1"}),p.jsxs("span",{className:"ml-2 text-xs",children:[t.aiAnalysis.complexity,"/5"]})]})]}),p.jsxs("div",{children:[p.jsx("span",{className:"text-gray-600",children:"Clarity:"}),p.jsxs("div",{className:"flex items-center mt-1",children:[p.jsx(Js,{value:t.aiAnalysis.clarityScore*10,className:"h-2 flex-1"}),p.jsxs("span",{className:"ml-2 text-xs",children:[t.aiAnalysis.clarityScore,"/10"]})]})]})]}),t.aiAnalysis.sentiment&&p.jsx("div",{className:"mt-2",children:p.jsx(Dt,{variant:"outline",className:t.aiAnalysis.sentiment==="excited"?"text-green-600":t.aiAnalysis.sentiment==="frustrated"?"text-red-600":"text-gray-600",children:t.aiAnalysis.sentiment})})]}),t.priorityScore&&p.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(Qy,{className:"h-4 w-4 mr-2 text-green-600"}),p.jsx("span",{className:"text-sm font-medium text-green-800",children:"Priority Score"})]}),p.jsxs(Dt,{variant:"outline",className:"text-green-700",children:[t.priorityScore.overall.toFixed(1),"/10"]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[p.jsxs("div",{children:["Business Impact: ",t.priorityScore.businessImpact.toFixed(1)]}),p.jsxs("div",{children:["User Demand: ",t.priorityScore.userDemand.toFixed(1)]}),p.jsxs("div",{children:["Strategic Fit: ",t.priorityScore.strategicAlignment.toFixed(1)]}),p.jsxs("div",{children:["Feasibility: ",t.priorityScore.implementationFeasibility.toFixed(1)]})]})]}),t.effortEstimate&&p.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(r2,{className:"h-4 w-4 mr-2 text-orange-600"}),p.jsx("span",{className:"text-sm font-medium text-orange-800",children:"Effort Estimate"})]}),p.jsxs(Dt,{variant:"outline",className:"text-orange-700",children:[t.effortEstimate.totalHours,"h"]})]}),p.jsxs("div",{className:"text-xs text-gray-600",children:["Frontend: ",t.effortEstimate.frontendHours,"h • Backend: ",t.effortEstimate.backendHours,"h • Design: ",t.effortEstimate.designHours,"h • QA: ",t.effortEstimate.qaHours,"h"]})]}),p.jsx(Uc,{}),p.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsxs("div",{className:"flex items-center",children:[p.jsx(hc,{className:"h-4 w-4 mr-1"}),t.submitterName||t.submittedBy]}),p.jsxs("div",{className:"flex items-center",children:[p.jsx(_8,{className:"h-4 w-4 mr-1"}),t.appName]})]}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsxs(an,{variant:"ghost",size:"sm",onClick:()=>e(t.id,!0),className:"flex items-center space-x-1",children:[p.jsx(w8,{className:"h-4 w-4"}),p.jsx("span",{children:t.votes})]}),p.jsx(an,{variant:"ghost",size:"sm",onClick:()=>a(!s),children:p.jsx(h8,{className:"h-4 w-4"})})]})]}),t.tags&&t.tags.length>0&&p.jsx("div",{className:"flex flex-wrap gap-1",children:t.tags.map(m=>p.jsx(Dt,{variant:"outline",className:"text-xs",children:m},m))}),s&&p.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg space-y-3",children:[p.jsx("h4",{className:"font-medium",children:"Full Description"}),p.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:t.description}),((d=t.aiAnalysis)==null?void 0:d.enhancementSuggestions)&&p.jsxs("div",{children:[p.jsx("h5",{className:"font-medium text-sm mb-2",children:"AI Suggestions"}),p.jsx("ul",{className:"text-xs text-gray-600 space-y-1",children:t.aiAnalysis.enhancementSuggestions.map((m,h)=>p.jsxs("li",{className:"flex items-start",children:[p.jsx("span",{className:"mr-2",children:"•"}),m]},h))})]}),((f=t.effortEstimate)==null?void 0:f.riskFactors)&&t.effortEstimate.riskFactors.length>0&&p.jsxs("div",{children:[p.jsxs("h5",{className:"font-medium text-sm mb-2 flex items-center",children:[p.jsx(Gy,{className:"h-4 w-4 mr-1 text-orange-500"}),"Risk Factors"]}),p.jsx("ul",{className:"text-xs text-gray-600 space-y-1",children:t.effortEstimate.riskFactors.map((m,h)=>p.jsxs("li",{className:"flex items-start",children:[p.jsx("span",{className:"mr-2",children:"⚠️"}),m]},h))})]})]})]})]})},iH=({analytics:t,requests:e})=>{const n=()=>{const d={submitted:0,analyzing:0,reviewed:0,approved:0,inProgress:0,completed:0,rejected:0};return e.forEach(f=>{switch(f.status){case"submitted":d.submitted++;break;case"analyzing":d.analyzing++;break;case"reviewed":d.reviewed++;break;case"approved":d.approved++;break;case"in-progress":d.inProgress++;break;case"completed":d.completed++;break;case"rejected":d.rejected++;break}}),d},r=()=>{const d={low:0,medium:0,high:0,critical:0};return e.forEach(f=>{d[f.userPriority]++}),d},i=()=>{const d={};return e.forEach(f=>{var m;(m=f.aiAnalysis)!=null&&m.category&&(d[f.aiAnalysis.category]=(d[f.aiAnalysis.category]||0)+1)}),Object.entries(d).sort(([,f],[,m])=>m-f).slice(0,5)},s=()=>{const d=e.filter(m=>m.priorityScore);if(d.length===0)return null;const f=d.reduce((m,h)=>{var x,y,E;return{priority:m.priority+(((x=h.priorityScore)==null?void 0:x.overall)||0),complexity:m.complexity+(((y=h.aiAnalysis)==null?void 0:y.complexity)||0),clarity:m.clarity+(((E=h.aiAnalysis)==null?void 0:E.clarityScore)||0)}},{priority:0,complexity:0,clarity:0});return{priority:f.priority/d.length,complexity:f.complexity/d.length,clarity:f.clarity/d.length}},a=n(),o=r(),l=i(),u=s();return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[p.jsxs(Et,{children:[p.jsxs(It,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[p.jsx(Nt,{className:"text-sm font-medium",children:"Total Requests"}),p.jsx(xh,{className:"h-4 w-4 text-muted-foreground"})]}),p.jsxs(Tt,{children:[p.jsx("div",{className:"text-2xl font-bold",children:t.totalRequests}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Active feature requests"})]})]}),p.jsxs(Et,{children:[p.jsxs(It,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[p.jsx(Nt,{className:"text-sm font-medium",children:"Completed"}),p.jsx($y,{className:"h-4 w-4 text-green-600"})]}),p.jsxs(Tt,{children:[p.jsx("div",{className:"text-2xl font-bold text-green-600",children:a.completed}),p.jsx("p",{className:"text-xs text-muted-foreground",children:t.totalRequests>0?`${(a.completed/t.totalRequests*100).toFixed(1)}% completion rate`:"No requests yet"})]})]}),p.jsxs(Et,{children:[p.jsxs(It,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[p.jsx(Nt,{className:"text-sm font-medium",children:"In Progress"}),p.jsx(n2,{className:"h-4 w-4 text-blue-600"})]}),p.jsxs(Tt,{children:[p.jsx("div",{className:"text-2xl font-bold text-blue-600",children:a.inProgress}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently being developed"})]})]}),p.jsxs(Et,{children:[p.jsxs(It,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[p.jsx(Nt,{className:"text-sm font-medium",children:"Avg Priority"}),p.jsx(Qy,{className:"h-4 w-4 text-orange-600"})]}),p.jsxs(Tt,{children:[p.jsx("div",{className:"text-2xl font-bold text-orange-600",children:u?u.priority.toFixed(1):"N/A"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Out of 10.0"})]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs(Et,{children:[p.jsx(It,{children:p.jsxs(Nt,{className:"flex items-center",children:[p.jsx(b8,{className:"mr-2 h-5 w-5"}),"Request Status Distribution"]})}),p.jsx(Tt,{className:"space-y-3",children:Object.entries(a).map(([d,f])=>{const m=t.totalRequests>0?f/t.totalRequests*100:0;return p.jsxs("div",{className:"space-y-1",children:[p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsx("span",{className:"capitalize",children:d.replace(/([A-Z])/g," $1").toLowerCase()}),p.jsxs("span",{children:[f," (",m.toFixed(1),"%)"]})]}),p.jsx(Js,{value:m,className:"h-2"})]},d)})})]}),p.jsxs(Et,{children:[p.jsx(It,{children:p.jsxs(Nt,{className:"flex items-center",children:[p.jsx(E8,{className:"mr-2 h-5 w-5"}),"Priority Distribution"]})}),p.jsx(Tt,{className:"space-y-3",children:Object.entries(o).map(([d,f])=>{const m=t.totalRequests>0?f/t.totalRequests*100:0,h=d==="critical"?"bg-red-500":d==="high"?"bg-orange-500":d==="medium"?"bg-yellow-500":"bg-green-500";return p.jsxs("div",{className:"space-y-1",children:[p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsx("span",{className:"capitalize",children:d}),p.jsxs("span",{children:[f," (",m.toFixed(1),"%)"]})]}),p.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:p.jsx("div",{className:`${h} h-2 rounded-full`,style:{width:`${m}%`}})})]},d)})})]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs(Et,{children:[p.jsx(It,{children:p.jsxs(Nt,{className:"flex items-center",children:[p.jsx(xh,{className:"mr-2 h-5 w-5"}),"Top Categories"]})}),p.jsx(Tt,{children:p.jsxs("div",{className:"space-y-3",children:[l.map(([d,f])=>p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("div",{className:"flex items-center",children:p.jsx(Dt,{variant:"outline",className:"mr-2",children:d})}),p.jsxs("span",{className:"text-sm font-medium",children:[f," requests"]})]},d)),l.length===0&&p.jsx("p",{className:"text-sm text-gray-500",children:"No categorized requests yet"})]})})]}),u&&p.jsxs(Et,{children:[p.jsx(It,{children:p.jsxs(Nt,{className:"flex items-center",children:[p.jsx(r2,{className:"mr-2 h-5 w-5"}),"Average Scores"]})}),p.jsxs(Tt,{className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsx("span",{children:"Priority Score"}),p.jsxs("span",{children:[u.priority.toFixed(1),"/10"]})]}),p.jsx(Js,{value:u.priority*10,className:"h-2"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsx("span",{children:"Complexity"}),p.jsxs("span",{children:[u.complexity.toFixed(1),"/5"]})]}),p.jsx(Js,{value:u.complexity*20,className:"h-2"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsx("span",{children:"Clarity Score"}),p.jsxs("span",{children:[u.clarity.toFixed(1),"/10"]})]}),p.jsx(Js,{value:u.clarity*10,className:"h-2"})]})]})]})]}),p.jsxs(Et,{children:[p.jsx(It,{children:p.jsxs(Nt,{className:"flex items-center",children:[p.jsx(Qy,{className:"mr-2 h-5 w-5"}),"Top Priority Requests"]})}),p.jsx(Tt,{children:p.jsxs("div",{className:"space-y-3",children:[t.topRequestedFeatures.slice(0,5).map(d=>{var f,m;return p.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("h4",{className:"font-medium text-sm",children:d.title}),p.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[p.jsx(Dt,{variant:"outline",size:"sm",children:((f=d.aiAnalysis)==null?void 0:f.category)||"uncategorized"}),p.jsx(Dt,{variant:"outline",size:"sm",children:d.userPriority})]})]}),p.jsxs("div",{className:"text-right",children:[p.jsxs("div",{className:"text-sm font-medium",children:[((m=d.priorityScore)==null?void 0:m.overall.toFixed(1))||"N/A","/10"]}),p.jsxs("div",{className:"text-xs text-gray-500",children:[d.votes," votes"]})]})]},d.id)}),t.topRequestedFeatures.length===0&&p.jsx("p",{className:"text-sm text-gray-500",children:"No requests with priority scores yet"})]})})]})]})};function sH(){const{user:t,loading:e,error:n,signInAnonymous:r,forceSkipAuth:i}=Y5(),s=t!=null&&t.uid.includes("demo")?"external":"admin",{requests:a,loading:o,error:l,submitRequest:u,updateRequestStatus:d,voteOnRequest:f,deleteRequest:m}=vB((t==null?void 0:t.uid)||null,s),{analytics:h,loading:x}=_B((t==null?void 0:t.uid)||null),[y,E]=w.useState("requests"),[_,b]=w.useState("all"),[T,N]=w.useState("all"),[P,V]=w.useState("all"),[A,S]=w.useState("");if(n)return p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-6",children:p.jsxs(Et,{className:"w-full max-w-md",children:[p.jsx(It,{className:"text-center",children:p.jsxs(Nt,{className:"flex items-center justify-center text-red-600",children:[p.jsx(Gy,{className:"mr-2 h-5 w-5"}),"Authentication Error"]})}),p.jsxs(Tt,{className:"space-y-4",children:[p.jsx("p",{className:"text-sm text-gray-600 text-center",children:n}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(an,{onClick:r,className:"w-full",children:[p.jsx(hc,{className:"mr-2 h-4 w-4"}),"Try Anonymous Sign-In"]}),p.jsx(an,{onClick:i,variant:"outline",className:"w-full",children:"Continue as Demo User"}),p.jsxs(an,{onClick:()=>window.location.reload(),variant:"ghost",className:"w-full",children:[p.jsx(g8,{className:"mr-2 h-4 w-4"}),"Reload Page"]})]})]})]})});if(e)return p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-6",children:p.jsxs(Et,{className:"w-full max-w-md",children:[p.jsx(It,{className:"text-center",children:p.jsxs(Nt,{className:"flex items-center justify-center",children:[p.jsx(wf,{className:"mr-2 h-5 w-5 animate-spin"}),"Loading Authentication"]})}),p.jsxs(Tt,{className:"space-y-4",children:[p.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Initializing AI-Enhanced Feature Request System..."}),p.jsxs("div",{className:"pt-4 border-t",children:[p.jsx("p",{className:"text-xs text-gray-500 text-center mb-3",children:"Taking too long?"}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(an,{onClick:r,variant:"outline",size:"sm",className:"w-full",children:[p.jsx(hc,{className:"mr-2 h-3 w-3"}),"Sign In Anonymously"]}),p.jsx(an,{onClick:i,variant:"ghost",size:"sm",className:"w-full",children:"Continue as Demo"})]})]})]})]})});if(!t)return p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-6",children:p.jsxs(Et,{className:"w-full max-w-md",children:[p.jsx(It,{className:"text-center",children:p.jsx(Nt,{children:"AI-Enhanced Feature Request System"})}),p.jsxs(Tt,{className:"space-y-4",children:[p.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Advanced feature request management with AI-powered analysis, priority scoring, and business impact assessment"}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs(an,{onClick:r,className:"w-full",children:[p.jsx(hc,{className:"mr-2 h-4 w-4"}),"Sign In as Beta Tester"]}),p.jsx(an,{onClick:i,variant:"outline",className:"w-full",children:"Try Demo Mode"})]})]})]})});const C=a.filter(O=>{var M;return!(_!=="all"&&O.status!==_||T!=="all"&&((M=O.aiAnalysis)==null?void 0:M.category)!==T||P!=="all"&&O.userPriority!==P||A&&!O.title.toLowerCase().includes(A.toLowerCase())&&!O.description.toLowerCase().includes(A.toLowerCase()))}),I=[...new Set(a.map(O=>{var M;return(M=O.aiAnalysis)==null?void 0:M.category}).filter(Boolean))];return p.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6",children:p.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[p.jsxs("div",{className:"text-center space-y-4",children:[p.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"AI-Enhanced Feature Request System"}),p.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[p.jsxs(Dt,{variant:"secondary",className:"px-3 py-1",children:[p.jsx(hc,{className:"mr-1 h-3 w-3"}),s==="admin"?"Admin":"Beta Tester",": ",t.uid]}),t.uid.includes("demo")&&p.jsx(Dt,{variant:"outline",className:"px-3 py-1",children:"Demo Mode"})]})]}),p.jsxs(jB,{value:y,onValueChange:E,className:"w-full",children:[p.jsxs(aN,{className:"grid w-full grid-cols-3",children:[p.jsxs(yf,{value:"requests",className:"flex items-center",children:[p.jsx(Ky,{className:"mr-2 h-4 w-4"}),"Feature Requests"]}),p.jsxs(yf,{value:"dashboard",className:"flex items-center",children:[p.jsx(xh,{className:"mr-2 h-4 w-4"}),"Analytics Dashboard"]}),p.jsxs(yf,{value:"settings",className:"flex items-center",children:[p.jsx(v8,{className:"mr-2 h-4 w-4"}),"Settings"]})]}),p.jsxs(vf,{value:"requests",className:"space-y-6",children:[p.jsx(D8,{onSubmit:u}),p.jsx(Uc,{}),p.jsxs(Et,{children:[p.jsx(It,{children:p.jsxs(Nt,{className:"flex items-center",children:[p.jsx(m8,{className:"mr-2 h-5 w-5"}),"Filter & Search Requests"]})}),p.jsx(Tt,{children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium",children:"Search"}),p.jsxs("div",{className:"relative",children:[p.jsx(y8,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),p.jsx(Fi,{placeholder:"Search requests...",value:A,onChange:O=>S(O.target.value),className:"pl-10"})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium",children:"Status"}),p.jsxs(jc,{value:_,onValueChange:b,children:[p.jsx(Vo,{children:p.jsx(Lc,{})}),p.jsxs(jo,{children:[p.jsx(ft,{value:"all",children:"All Statuses"}),p.jsx(ft,{value:"submitted",children:"Submitted"}),p.jsx(ft,{value:"analyzing",children:"Analyzing"}),p.jsx(ft,{value:"reviewed",children:"Reviewed"}),p.jsx(ft,{value:"approved",children:"Approved"}),p.jsx(ft,{value:"in-progress",children:"In Progress"}),p.jsx(ft,{value:"completed",children:"Completed"}),p.jsx(ft,{value:"rejected",children:"Rejected"})]})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium",children:"Category"}),p.jsxs(jc,{value:T,onValueChange:N,children:[p.jsx(Vo,{children:p.jsx(Lc,{})}),p.jsxs(jo,{children:[p.jsx(ft,{value:"all",children:"All Categories"}),I.map(O=>p.jsx(ft,{value:O,children:O},O))]})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium",children:"Priority"}),p.jsxs(jc,{value:P,onValueChange:V,children:[p.jsx(Vo,{children:p.jsx(Lc,{})}),p.jsxs(jo,{children:[p.jsx(ft,{value:"all",children:"All Priorities"}),p.jsx(ft,{value:"low",children:"Low"}),p.jsx(ft,{value:"medium",children:"Medium"}),p.jsx(ft,{value:"high",children:"High"}),p.jsx(ft,{value:"critical",children:"Critical"})]})]})]})]})})]}),p.jsxs(Et,{children:[p.jsx(It,{children:p.jsxs(Nt,{children:["Feature Requests (",C.length," of ",a.length,")"]})}),p.jsx(Tt,{children:o?p.jsxs("div",{className:"flex items-center justify-center py-8",children:[p.jsx(wf,{className:"h-6 w-6 animate-spin mr-2"}),p.jsx("span",{children:"Loading requests..."})]}):l?p.jsxs("div",{className:"text-center py-8 text-red-500",children:[p.jsx(Gy,{className:"h-8 w-8 mx-auto mb-2"}),p.jsxs("p",{children:["Error: ",l]})]}):C.length===0?p.jsxs("div",{className:"text-center py-8 text-gray-500",children:[p.jsx("p",{children:"No feature requests found"}),p.jsx("p",{className:"text-sm",children:"Submit your first request above or adjust filters"})]}):p.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:C.map(O=>p.jsx(rH,{request:O,onVote:f,onStatusChange:d,onDelete:s==="admin"?m:void 0,isAdmin:s==="admin"},O.id))})})]})]}),p.jsx(vf,{value:"dashboard",children:x?p.jsxs("div",{className:"flex items-center justify-center py-12",children:[p.jsx(wf,{className:"h-8 w-8 animate-spin mr-2"}),p.jsx("span",{children:"Loading analytics..."})]}):h?p.jsx(iH,{analytics:h,requests:a}):p.jsx(Et,{children:p.jsxs(Tt,{className:"text-center py-12",children:[p.jsx(xh,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),p.jsx("p",{className:"text-gray-500",children:"No analytics data available yet"})]})})}),p.jsx(vf,{value:"settings",children:p.jsxs(Et,{children:[p.jsx(It,{children:p.jsx(Nt,{children:"System Settings"})}),p.jsxs(Tt,{className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("h3",{className:"font-medium",children:"User Role"}),p.jsx(Dt,{variant:s==="admin"?"default":"secondary",children:s==="admin"?"Administrator":"Beta Tester"}),p.jsx("p",{className:"text-sm text-gray-600",children:s==="admin"?"You have full access to manage all feature requests and view analytics.":"You can submit feature requests and view public analytics."})]}),p.jsx(Uc,{}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("h3",{className:"font-medium",children:"AI Analysis Features"}),p.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[p.jsx("li",{children:"✅ Automated request categorization"}),p.jsx("li",{children:"✅ Complexity and clarity scoring"}),p.jsx("li",{children:"✅ Priority calculation algorithm"}),p.jsx("li",{children:"✅ Effort estimation"}),p.jsx("li",{children:"✅ Business impact assessment"}),p.jsx("li",{children:"✅ Duplicate detection"}),p.jsx("li",{children:"✅ Enhancement suggestions"})]})]}),p.jsx(Uc,{}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("h3",{className:"font-medium",children:"System Status"}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx(Dt,{variant:"outline",className:"text-green-600",children:"✅ AI Analysis Engine"}),p.jsx(Dt,{variant:"outline",className:"text-green-600",children:"✅ Real-time Database"}),p.jsx(Dt,{variant:"outline",className:"text-green-600",children:"✅ Analytics Dashboard"})]})]})]})]})})]})]})})}function aH(){return p.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-gray-50 to-blue-50 p-6 text-center",children:p.jsxs("div",{className:"space-y-6 max-w-md",children:[p.jsxs("div",{className:"space-y-3",children:[p.jsx("h1",{className:"text-8xl font-bold text-blue-600",children:"404"}),p.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Page Not Found"}),p.jsx("p",{className:"text-muted-foreground",children:"The page you're looking for doesn't exist or may have been moved."})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[p.jsx(an,{asChild:!0,children:p.jsx("a",{href:"/",children:"Return Home"})}),p.jsx(an,{variant:"outline",onClick:()=>window.history.back(),children:"Go Back"})]})]})})}const oH=new vj,lH=()=>p.jsx(bj,{client:oH,children:p.jsxs(QV,{children:[p.jsx(ak,{}),p.jsx(lL,{children:p.jsxs(sL,{children:[p.jsx(ly,{path:"/",element:p.jsx(sH,{})}),p.jsx(ly,{path:"*",element:p.jsx(aH,{})})]})})]})});CP.createRoot(document.getElementById("root")).render(p.jsx(lH,{}));
