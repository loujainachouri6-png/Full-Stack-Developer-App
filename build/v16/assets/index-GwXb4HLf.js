var T0=t=>{throw TypeError(t)};var Am=(t,e,n)=>e.has(t)||T0("Cannot "+n);var U=(t,e,n)=>(Am(t,e,"read from private field"),n?n.call(t):e.get(t)),Ce=(t,e,n)=>e.has(t)?T0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ce=(t,e,n,r)=>(Am(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),qt=(t,e,n)=>(Am(t,e,"access private method"),n);var ef=(t,e,n,r)=>({set _(i){ce(t,e,i,n)},get _(){return U(t,e,r)}});function $2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function NT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var OT={exports:{}},fd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K2=Symbol.for("react.transitional.element"),Q2=Symbol.for("react.fragment");function DT(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:K2,type:t,key:r,ref:e!==void 0?e:null,props:n}}fd.Fragment=Q2;fd.jsx=DT;fd.jsxs=DT;OT.exports=fd;var y=OT.exports,MT={exports:{}},hd={},PT={exports:{}},VT={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,G){var q=j.length;j.push(G);e:for(;0<q;){var H=q-1>>>1,J=j[H];if(0<i(J,G))j[H]=G,j[q]=J,q=H;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var G=j[0],q=j.pop();if(q!==G){j[0]=q;e:for(var H=0,J=j.length,De=J>>>1;H<De;){var re=2*(H+1)-1,ee=j[re],ue=re+1,xe=j[ue];if(0>i(ee,q))ue<J&&0>i(xe,ee)?(j[H]=xe,j[ue]=q,H=ue):(j[H]=ee,j[re]=q,H=re);else if(ue<J&&0>i(xe,q))j[H]=xe,j[ue]=q,H=ue;else break e}}return G}function i(j,G){var q=j.sortIndex-G.sortIndex;return q!==0?q:j.id-G.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var c=[],u=[],f=1,d=null,p=3,h=!1,S=!1,v=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function N(j){for(var G=n(u);G!==null;){if(G.callback===null)r(u);else if(G.startTime<=j)r(u),G.sortIndex=G.expirationTime,e(c,G);else break;G=n(u)}}function P(j){if(v=!1,N(j),!S)if(n(c)!==null)S=!0,k||(k=!0,O());else{var G=n(u);G!==null&&le(P,G.startTime-j)}}var k=!1,x=-1,A=5,R=-1;function I(){return w?!0:!(t.unstable_now()-R<A)}function M(){if(w=!1,k){var j=t.unstable_now();R=j;var G=!0;try{e:{S=!1,v&&(v=!1,b(x),x=-1),h=!0;var q=p;try{t:{for(N(j),d=n(c);d!==null&&!(d.expirationTime>j&&I());){var H=d.callback;if(typeof H=="function"){d.callback=null,p=d.priorityLevel;var J=H(d.expirationTime<=j);if(j=t.unstable_now(),typeof J=="function"){d.callback=J,N(j),G=!0;break t}d===n(c)&&r(c),N(j)}else r(c);d=n(c)}if(d!==null)G=!0;else{var De=n(u);De!==null&&le(P,De.startTime-j),G=!1}}break e}finally{d=null,p=q,h=!1}G=void 0}}finally{G?O():k=!1}}}var O;if(typeof E=="function")O=function(){E(M)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,W=D.port2;D.port1.onmessage=M,O=function(){W.postMessage(null)}}else O=function(){_(M,0)};function le(j,G){x=_(function(){j(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(j){switch(p){case 1:case 2:case 3:var G=3;break;default:G=p}var q=p;p=G;try{return j()}finally{p=q}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(j,G){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var q=p;p=j;try{return G()}finally{p=q}},t.unstable_scheduleCallback=function(j,G,q){var H=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?H+q:H):q=H,j){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=q+J,j={id:f++,callback:G,priorityLevel:j,startTime:q,expirationTime:J,sortIndex:-1},q>H?(j.sortIndex=q,e(u,j),n(c)===null&&j===n(u)&&(v?(b(x),x=-1):v=!0,le(P,q-H))):(j.sortIndex=J,e(c,j),S||h||(S=!0,k||(k=!0,O()))),j},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(j){var G=p;return function(){var q=p;p=G;try{return j.apply(this,arguments)}finally{p=q}}}})(VT);PT.exports=VT;var Y2=PT.exports,kT={exports:{}},he={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty=Symbol.for("react.transitional.element"),X2=Symbol.for("react.portal"),W2=Symbol.for("react.fragment"),Z2=Symbol.for("react.strict_mode"),J2=Symbol.for("react.profiler"),eN=Symbol.for("react.consumer"),tN=Symbol.for("react.context"),nN=Symbol.for("react.forward_ref"),rN=Symbol.for("react.suspense"),iN=Symbol.for("react.memo"),LT=Symbol.for("react.lazy"),S0=Symbol.iterator;function sN(t){return t===null||typeof t!="object"?null:(t=S0&&t[S0]||t["@@iterator"],typeof t=="function"?t:null)}var jT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},UT=Object.assign,zT={};function ll(t,e,n){this.props=t,this.context=e,this.refs=zT,this.updater=n||jT}ll.prototype.isReactComponent={};ll.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ll.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function BT(){}BT.prototype=ll.prototype;function Sy(t,e,n){this.props=t,this.context=e,this.refs=zT,this.updater=n||jT}var Ay=Sy.prototype=new BT;Ay.constructor=Sy;UT(Ay,ll.prototype);Ay.isPureReactComponent=!0;var A0=Array.isArray,Je={H:null,A:null,T:null,S:null,V:null},FT=Object.prototype.hasOwnProperty;function xy(t,e,n,r,i,s){return n=s.ref,{$$typeof:Ty,type:t,key:e,ref:n!==void 0?n:null,props:s}}function aN(t,e){return xy(t.type,e,void 0,void 0,void 0,t.props)}function Ry(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ty}function oN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var x0=/\/+/g;function xm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?oN(""+t.key):e.toString(36)}function R0(){}function lN(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(R0,R0):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Ga(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ty:case X2:a=!0;break;case LT:return a=t._init,Ga(a(t._payload),e,n,r,i)}}if(a)return i=i(t),a=r===""?"."+xm(t,0):r,A0(i)?(n="",a!=null&&(n=a.replace(x0,"$&/")+"/"),Ga(i,e,n,"",function(u){return u})):i!=null&&(Ry(i)&&(i=aN(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(x0,"$&/")+"/")+a)),e.push(i)),1;a=0;var o=r===""?".":r+":";if(A0(t))for(var c=0;c<t.length;c++)r=t[c],s=o+xm(r,c),a+=Ga(r,e,n,s,i);else if(c=sN(t),typeof c=="function")for(t=c.call(t),c=0;!(r=t.next()).done;)r=r.value,s=o+xm(r,c++),a+=Ga(r,e,n,s,i);else if(s==="object"){if(typeof t.then=="function")return Ga(lN(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function tf(t,e,n){if(t==null)return t;var r=[],i=0;return Ga(t,r,"","",function(s){return e.call(n,s,i++)}),r}function cN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var C0=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function uN(){}he.Children={map:tf,forEach:function(t,e,n){tf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return tf(t,function(){e++}),e},toArray:function(t){return tf(t,function(e){return e})||[]},only:function(t){if(!Ry(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};he.Component=ll;he.Fragment=W2;he.Profiler=J2;he.PureComponent=Sy;he.StrictMode=Z2;he.Suspense=rN;he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Je;he.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Je.H.useMemoCache(t)}};he.cache=function(t){return function(){return t.apply(null,arguments)}};he.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=UT({},t.props),i=t.key,s=void 0;if(e!=null)for(a in e.ref!==void 0&&(s=void 0),e.key!==void 0&&(i=""+e.key),e)!FT.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(r[a]=e[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),c=0;c<a;c++)o[c]=arguments[c+2];r.children=o}return xy(t.type,i,void 0,void 0,s,r)};he.createContext=function(t){return t={$$typeof:tN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:eN,_context:t},t};he.createElement=function(t,e,n){var r,i={},s=null;if(e!=null)for(r in e.key!==void 0&&(s=""+e.key),e)FT.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var o=Array(a),c=0;c<a;c++)o[c]=arguments[c+2];i.children=o}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return xy(t,s,void 0,void 0,null,i)};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:nN,render:t}};he.isValidElement=Ry;he.lazy=function(t){return{$$typeof:LT,_payload:{_status:-1,_result:t},_init:cN}};he.memo=function(t,e){return{$$typeof:iN,type:t,compare:e===void 0?null:e}};he.startTransition=function(t){var e=Je.T,n={};Je.T=n;try{var r=t(),i=Je.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(uN,C0)}catch(s){C0(s)}finally{Je.T=e}};he.unstable_useCacheRefresh=function(){return Je.H.useCacheRefresh()};he.use=function(t){return Je.H.use(t)};he.useActionState=function(t,e,n){return Je.H.useActionState(t,e,n)};he.useCallback=function(t,e){return Je.H.useCallback(t,e)};he.useContext=function(t){return Je.H.useContext(t)};he.useDebugValue=function(){};he.useDeferredValue=function(t,e){return Je.H.useDeferredValue(t,e)};he.useEffect=function(t,e,n){var r=Je.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(t,e)};he.useId=function(){return Je.H.useId()};he.useImperativeHandle=function(t,e,n){return Je.H.useImperativeHandle(t,e,n)};he.useInsertionEffect=function(t,e){return Je.H.useInsertionEffect(t,e)};he.useLayoutEffect=function(t,e){return Je.H.useLayoutEffect(t,e)};he.useMemo=function(t,e){return Je.H.useMemo(t,e)};he.useOptimistic=function(t,e){return Je.H.useOptimistic(t,e)};he.useReducer=function(t,e,n){return Je.H.useReducer(t,e,n)};he.useRef=function(t){return Je.H.useRef(t)};he.useState=function(t){return Je.H.useState(t)};he.useSyncExternalStore=function(t,e,n){return Je.H.useSyncExternalStore(t,e,n)};he.useTransition=function(){return Je.H.useTransition()};he.version="19.1.1";kT.exports=he;var T=kT.exports;const $=NT(T),Cy=$2({__proto__:null,default:$},[T]);var qT={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fN=T;function HT(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function xi(){}var tn={d:{f:xi,r:function(){throw Error(HT(522))},D:xi,C:xi,L:xi,m:xi,X:xi,S:xi,M:xi},p:0,findDOMNode:null},hN=Symbol.for("react.portal");function dN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hN,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var oc=fN.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function dd(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=tn;nn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(HT(299));return dN(t,e,null,n)};nn.flushSync=function(t){var e=oc.T,n=tn.p;try{if(oc.T=null,tn.p=2,t)return t()}finally{oc.T=e,tn.p=n,tn.d.f()}};nn.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,tn.d.C(t,e))};nn.prefetchDNS=function(t){typeof t=="string"&&tn.d.D(t)};nn.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=dd(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,s=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?tn.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):n==="script"&&tn.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};nn.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=dd(e.as,e.crossOrigin);tn.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&tn.d.M(t)};nn.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=dd(n,e.crossOrigin);tn.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};nn.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=dd(e.as,e.crossOrigin);tn.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else tn.d.m(t)};nn.requestFormReset=function(t){tn.d.r(t)};nn.unstable_batchedUpdates=function(t,e){return t(e)};nn.useFormState=function(t,e,n){return oc.H.useFormState(t,e,n)};nn.useFormStatus=function(){return oc.H.useHostTransitionStatus()};nn.version="19.1.1";function GT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(GT)}catch(t){console.error(t)}}GT(),qT.exports=nn;var cl=qT.exports;const $T=NT(cl);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tt=Y2,KT=T,mN=cl;function F(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function QT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function su(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function YT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function I0(t){if(su(t)!==t)throw Error(F(188))}function pN(t){var e=t.alternate;if(!e){if(e=su(t),e===null)throw Error(F(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return I0(i),t;if(s===r)return I0(i),e;s=s.sibling}throw Error(F(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?t:e}function XT(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=XT(t),e!==null)return e;t=t.sibling}return null}var Ye=Object.assign,gN=Symbol.for("react.element"),nf=Symbol.for("react.transitional.element"),Zl=Symbol.for("react.portal"),eo=Symbol.for("react.fragment"),WT=Symbol.for("react.strict_mode"),Pp=Symbol.for("react.profiler"),yN=Symbol.for("react.provider"),ZT=Symbol.for("react.consumer"),Xr=Symbol.for("react.context"),Iy=Symbol.for("react.forward_ref"),Vp=Symbol.for("react.suspense"),kp=Symbol.for("react.suspense_list"),Ny=Symbol.for("react.memo"),ki=Symbol.for("react.lazy"),Lp=Symbol.for("react.activity"),vN=Symbol.for("react.memo_cache_sentinel"),N0=Symbol.iterator;function Bl(t){return t===null||typeof t!="object"?null:(t=N0&&t[N0]||t["@@iterator"],typeof t=="function"?t:null)}var _N=Symbol.for("react.client.reference");function jp(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===_N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case eo:return"Fragment";case Pp:return"Profiler";case WT:return"StrictMode";case Vp:return"Suspense";case kp:return"SuspenseList";case Lp:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Zl:return"Portal";case Xr:return(t.displayName||"Context")+".Provider";case ZT:return(t._context.displayName||"Context")+".Consumer";case Iy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ny:return e=t.displayName||null,e!==null?e:jp(t.type)||"Memo";case ki:e=t._payload,t=t._init;try{return jp(t(e))}catch{}}return null}var Jl=Array.isArray,ne=KT.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Oe=mN.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ia={pending:!1,data:null,method:null,action:null},Up=[],to=-1;function Pr(t){return{current:t}}function Ct(t){0>to||(t.current=Up[to],Up[to]=null,to--)}function et(t,e){to++,Up[to]=t.current,t.current=e}var Er=Pr(null),Cc=Pr(null),is=Pr(null),lh=Pr(null);function ch(t,e){switch(et(is,e),et(Cc,t),et(Er,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Vb(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Vb(e),t=p1(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Ct(Er),et(Er,t)}function Bo(){Ct(Er),Ct(Cc),Ct(is)}function zp(t){t.memoizedState!==null&&et(lh,t);var e=Er.current,n=p1(e,t.type);e!==n&&(et(Cc,t),et(Er,n))}function uh(t){Cc.current===t&&(Ct(Er),Ct(Cc)),lh.current===t&&(Ct(lh),jc._currentValue=ia)}var Bp=Object.prototype.hasOwnProperty,Oy=Tt.unstable_scheduleCallback,Rm=Tt.unstable_cancelCallback,bN=Tt.unstable_shouldYield,wN=Tt.unstable_requestPaint,Tr=Tt.unstable_now,EN=Tt.unstable_getCurrentPriorityLevel,JT=Tt.unstable_ImmediatePriority,eS=Tt.unstable_UserBlockingPriority,fh=Tt.unstable_NormalPriority,TN=Tt.unstable_LowPriority,tS=Tt.unstable_IdlePriority,SN=Tt.log,AN=Tt.unstable_setDisableYieldValue,au=null,In=null;function Zi(t){if(typeof SN=="function"&&AN(t),In&&typeof In.setStrictMode=="function")try{In.setStrictMode(au,t)}catch{}}var Nn=Math.clz32?Math.clz32:CN,xN=Math.log,RN=Math.LN2;function CN(t){return t>>>=0,t===0?32:31-(xN(t)/RN|0)|0}var rf=256,sf=4194304;function Hs(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function md(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var i=0,s=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var o=r&134217727;return o!==0?(r=o&~s,r!==0?i=Hs(r):(a&=o,a!==0?i=Hs(a):n||(n=o&~t,n!==0&&(i=Hs(n))))):(o=r&~s,o!==0?i=Hs(o):a!==0?i=Hs(a):n||(n=r&~t,n!==0&&(i=Hs(n)))),i===0?0:e!==0&&e!==i&&!(e&s)&&(s=i&-i,n=e&-e,s>=n||s===32&&(n&4194048)!==0)?e:i}function ou(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function IN(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nS(){var t=rf;return rf<<=1,!(rf&4194048)&&(rf=256),t}function rS(){var t=sf;return sf<<=1,!(sf&62914560)&&(sf=4194304),t}function Cm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function lu(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function NN(t,e,n,r,i,s){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,c=t.expirationTimes,u=t.hiddenUpdates;for(n=a&~n;0<n;){var f=31-Nn(n),d=1<<f;o[f]=0,c[f]=-1;var p=u[f];if(p!==null)for(u[f]=null,f=0;f<p.length;f++){var h=p[f];h!==null&&(h.lane&=-536870913)}n&=~d}r!==0&&iS(t,r,0),s!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=s&~(a&~e))}function iS(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-Nn(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&4194090}function sS(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Nn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function Dy(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function My(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function aS(){var t=Oe.p;return t!==0?t:(t=window.event,t===void 0?32:A1(t.type))}function ON(t,e){var n=Oe.p;try{return Oe.p=t,e()}finally{Oe.p=n}}var Ns=Math.random().toString(36).slice(2),Qt="__reactFiber$"+Ns,mn="__reactProps$"+Ns,ul="__reactContainer$"+Ns,Fp="__reactEvents$"+Ns,DN="__reactListeners$"+Ns,MN="__reactHandles$"+Ns,O0="__reactResources$"+Ns,cu="__reactMarker$"+Ns;function Py(t){delete t[Qt],delete t[mn],delete t[Fp],delete t[DN],delete t[MN]}function no(t){var e=t[Qt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ul]||n[Qt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=jb(t);t!==null;){if(n=t[Qt])return n;t=jb(t)}return e}t=n,n=t.parentNode}return null}function fl(t){if(t=t[Qt]||t[ul]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function ec(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(F(33))}function go(t){var e=t[O0];return e||(e=t[O0]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function xt(t){t[cu]=!0}var oS=new Set,lS={};function Aa(t,e){Fo(t,e),Fo(t+"Capture",e)}function Fo(t,e){for(lS[t]=e,t=0;t<e.length;t++)oS.add(e[t])}var PN=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),D0={},M0={};function VN(t){return Bp.call(M0,t)?!0:Bp.call(D0,t)?!1:PN.test(t)?M0[t]=!0:(D0[t]=!0,!1)}function Df(t,e,n){if(VN(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function af(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function qr(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}var Im,P0;function $a(t){if(Im===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Im=e&&e[1]||"",P0=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Im+t+P0}var Nm=!1;function Om(t,e){if(!t||Nm)return"";Nm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var d=function(){throw Error()};if(Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(h){var p=h}Reflect.construct(t,[],d)}else{try{d.call()}catch(h){p=h}t.call(d.prototype)}}else{try{throw Error()}catch(h){p=h}(d=t())&&typeof d.catch=="function"&&d.catch(function(){})}}catch(h){if(h&&p&&typeof h.stack=="string")return[h.stack,p.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var c=a.split(`
`),u=o.split(`
`);for(i=r=0;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===c.length||i===u.length)for(r=c.length-1,i=u.length-1;1<=r&&0<=i&&c[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==u[i]){if(r!==1||i!==1)do if(r--,i--,0>i||c[r]!==u[i]){var f=`
`+c[r].replace(" at new "," at ");return t.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",t.displayName)),f}while(1<=r&&0<=i);break}}}finally{Nm=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?$a(n):""}function kN(t){switch(t.tag){case 26:case 27:case 5:return $a(t.type);case 16:return $a("Lazy");case 13:return $a("Suspense");case 19:return $a("SuspenseList");case 0:case 15:return Om(t.type,!1);case 11:return Om(t.type.render,!1);case 1:return Om(t.type,!0);case 31:return $a("Activity");default:return""}}function V0(t){try{var e="";do e+=kN(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function jn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function LN(t){var e=cS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function hh(t){t._valueTracker||(t._valueTracker=LN(t))}function uS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=cS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function dh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var jN=/[\n"\\]/g;function Bn(t){return t.replace(jN,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function qp(t,e,n,r,i,s,a,o){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+jn(e)):t.value!==""+jn(e)&&(t.value=""+jn(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?Hp(t,a,jn(e)):n!=null?Hp(t,a,jn(n)):r!=null&&t.removeAttribute("value"),i==null&&s!=null&&(t.defaultChecked=!!s),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+jn(o):t.removeAttribute("name")}function fS(t,e,n,r,i,s,a,o){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null))return;n=n!=null?""+jn(n):"",e=e!=null?""+jn(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=o?t.checked:!!r,t.defaultChecked=!!r,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a)}function Hp(t,e,n){e==="number"&&dh(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function yo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+jn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function hS(t,e,n){if(e!=null&&(e=""+jn(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+jn(n):""}function dS(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(F(92));if(Jl(r)){if(1<r.length)throw Error(F(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=jn(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r)}function qo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var UN=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function k0(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||UN.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function mS(t,e,n){if(e!=null&&typeof e!="object")throw Error(F(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&k0(t,i,r)}else for(var s in e)e.hasOwnProperty(s)&&k0(t,s,e[s])}function Vy(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zN=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),BN=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mf(t){return BN.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Gp=null;function ky(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ro=null,vo=null;function L0(t){var e=fl(t);if(e&&(t=e.stateNode)){var n=t[mn]||null;e:switch(t=e.stateNode,e.type){case"input":if(qp(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Bn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[mn]||null;if(!i)throw Error(F(90));qp(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&uS(r)}break e;case"textarea":hS(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&yo(t,!!n.multiple,e,!1)}}}var Dm=!1;function pS(t,e,n){if(Dm)return t(e,n);Dm=!0;try{var r=t(e);return r}finally{if(Dm=!1,(ro!==null||vo!==null)&&(Sd(),ro&&(e=ro,t=vo,vo=ro=null,L0(e),t)))for(e=0;e<t.length;e++)L0(t[e])}}function Ic(t,e){var n=t.stateNode;if(n===null)return null;var r=n[mn]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(F(231,e,typeof n));return n}var ai=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$p=!1;if(ai)try{var Fl={};Object.defineProperty(Fl,"passive",{get:function(){$p=!0}}),window.addEventListener("test",Fl,Fl),window.removeEventListener("test",Fl,Fl)}catch{$p=!1}var Ji=null,Ly=null,Pf=null;function gS(){if(Pf)return Pf;var t,e=Ly,n=e.length,r,i="value"in Ji?Ji.value:Ji.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Pf=i.slice(t,1<r?1-r:void 0)}function Vf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function of(){return!0}function j0(){return!1}function gn(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?of:j0,this.isPropagationStopped=j0,this}return Ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=of)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=of)},persist:function(){},isPersistent:of}),e}var xa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pd=gn(xa),uu=Ye({},xa,{view:0,detail:0}),FN=gn(uu),Mm,Pm,ql,gd=Ye({},uu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ql&&(ql&&t.type==="mousemove"?(Mm=t.screenX-ql.screenX,Pm=t.screenY-ql.screenY):Pm=Mm=0,ql=t),Mm)},movementY:function(t){return"movementY"in t?t.movementY:Pm}}),U0=gn(gd),qN=Ye({},gd,{dataTransfer:0}),HN=gn(qN),GN=Ye({},uu,{relatedTarget:0}),Vm=gn(GN),$N=Ye({},xa,{animationName:0,elapsedTime:0,pseudoElement:0}),KN=gn($N),QN=Ye({},xa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),YN=gn(QN),XN=Ye({},xa,{data:0}),z0=gn(XN),WN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ZN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=JN[t])?!!e[t]:!1}function jy(){return eO}var tO=Ye({},uu,{key:function(t){if(t.key){var e=WN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Vf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ZN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jy,charCode:function(t){return t.type==="keypress"?Vf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nO=gn(tO),rO=Ye({},gd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B0=gn(rO),iO=Ye({},uu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jy}),sO=gn(iO),aO=Ye({},xa,{propertyName:0,elapsedTime:0,pseudoElement:0}),oO=gn(aO),lO=Ye({},gd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),cO=gn(lO),uO=Ye({},xa,{newState:0,oldState:0}),fO=gn(uO),hO=[9,13,27,32],Uy=ai&&"CompositionEvent"in window,lc=null;ai&&"documentMode"in document&&(lc=document.documentMode);var dO=ai&&"TextEvent"in window&&!lc,yS=ai&&(!Uy||lc&&8<lc&&11>=lc),F0=" ",q0=!1;function vS(t,e){switch(t){case"keyup":return hO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _S(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var io=!1;function mO(t,e){switch(t){case"compositionend":return _S(e);case"keypress":return e.which!==32?null:(q0=!0,F0);case"textInput":return t=e.data,t===F0&&q0?null:t;default:return null}}function pO(t,e){if(io)return t==="compositionend"||!Uy&&vS(t,e)?(t=gS(),Pf=Ly=Ji=null,io=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return yS&&e.locale!=="ko"?null:e.data;default:return null}}var gO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function H0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!gO[t.type]:e==="textarea"}function bS(t,e,n,r){ro?vo?vo.push(r):vo=[r]:ro=r,e=Oh(e,"onChange"),0<e.length&&(n=new pd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var cc=null,Nc=null;function yO(t){h1(t,0)}function yd(t){var e=ec(t);if(uS(e))return t}function G0(t,e){if(t==="change")return e}var wS=!1;if(ai){var km;if(ai){var Lm="oninput"in document;if(!Lm){var $0=document.createElement("div");$0.setAttribute("oninput","return;"),Lm=typeof $0.oninput=="function"}km=Lm}else km=!1;wS=km&&(!document.documentMode||9<document.documentMode)}function K0(){cc&&(cc.detachEvent("onpropertychange",ES),Nc=cc=null)}function ES(t){if(t.propertyName==="value"&&yd(Nc)){var e=[];bS(e,Nc,t,ky(t)),pS(yO,e)}}function vO(t,e,n){t==="focusin"?(K0(),cc=e,Nc=n,cc.attachEvent("onpropertychange",ES)):t==="focusout"&&K0()}function _O(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yd(Nc)}function bO(t,e){if(t==="click")return yd(e)}function wO(t,e){if(t==="input"||t==="change")return yd(e)}function EO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pn=typeof Object.is=="function"?Object.is:EO;function Oc(t,e){if(Pn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Bp.call(e,i)||!Pn(t[i],e[i]))return!1}return!0}function Q0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Y0(t,e){var n=Q0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Q0(n)}}function TS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?TS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function SS(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=dh(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=dh(t.document)}return e}function zy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var TO=ai&&"documentMode"in document&&11>=document.documentMode,so=null,Kp=null,uc=null,Qp=!1;function X0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qp||so==null||so!==dh(r)||(r=so,"selectionStart"in r&&zy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),uc&&Oc(uc,r)||(uc=r,r=Oh(Kp,"onSelect"),0<r.length&&(e=new pd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=so)))}function qs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ao={animationend:qs("Animation","AnimationEnd"),animationiteration:qs("Animation","AnimationIteration"),animationstart:qs("Animation","AnimationStart"),transitionrun:qs("Transition","TransitionRun"),transitionstart:qs("Transition","TransitionStart"),transitioncancel:qs("Transition","TransitionCancel"),transitionend:qs("Transition","TransitionEnd")},jm={},AS={};ai&&(AS=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function Ra(t){if(jm[t])return jm[t];if(!ao[t])return t;var e=ao[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in AS)return jm[t]=e[n];return t}var xS=Ra("animationend"),RS=Ra("animationiteration"),CS=Ra("animationstart"),SO=Ra("transitionrun"),AO=Ra("transitionstart"),xO=Ra("transitioncancel"),IS=Ra("transitionend"),NS=new Map,Yp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yp.push("scrollEnd");function ur(t,e){NS.set(t,e),Aa(e,[t])}var W0=new WeakMap;function Fn(t,e){if(typeof t=="object"&&t!==null){var n=W0.get(t);return n!==void 0?n:(e={value:t,source:e,stack:V0(e)},W0.set(t,e),e)}return{value:t,source:e,stack:V0(e)}}var Ln=[],oo=0,By=0;function vd(){for(var t=oo,e=By=oo=0;e<t;){var n=Ln[e];Ln[e++]=null;var r=Ln[e];Ln[e++]=null;var i=Ln[e];Ln[e++]=null;var s=Ln[e];if(Ln[e++]=null,r!==null&&i!==null){var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}s!==0&&OS(n,i,s)}}function _d(t,e,n,r){Ln[oo++]=t,Ln[oo++]=e,Ln[oo++]=n,Ln[oo++]=r,By|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function Fy(t,e,n,r){return _d(t,e,n,r),mh(t)}function hl(t,e){return _d(t,null,null,e),mh(t)}function OS(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,s=t.return;s!==null;)s.childLanes|=n,r=s.alternate,r!==null&&(r.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(i=!0)),t=s,s=s.return;return t.tag===3?(s=t.stateNode,i&&e!==null&&(i=31-Nn(n),t=s.hiddenUpdates,r=t[i],r===null?t[i]=[e]:r.push(e),e.lane=n|536870912),s):null}function mh(t){if(50<bc)throw bc=0,gg=null,Error(F(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var lo={};function RO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,e,n,r){return new RO(t,e,n,r)}function qy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ri(t,e){var n=t.alternate;return n===null?(n=Rn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function DS(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function kf(t,e,n,r,i,s){var a=0;if(r=t,typeof t=="function")qy(t)&&(a=1);else if(typeof t=="string")a=ID(t,n,Er.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Lp:return t=Rn(31,n,e,i),t.elementType=Lp,t.lanes=s,t;case eo:return sa(n.children,i,s,e);case WT:a=8,i|=24;break;case Pp:return t=Rn(12,n,e,i|2),t.elementType=Pp,t.lanes=s,t;case Vp:return t=Rn(13,n,e,i),t.elementType=Vp,t.lanes=s,t;case kp:return t=Rn(19,n,e,i),t.elementType=kp,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case yN:case Xr:a=10;break e;case ZT:a=9;break e;case Iy:a=11;break e;case Ny:a=14;break e;case ki:a=16,r=null;break e}a=29,n=Error(F(130,t===null?"null":typeof t,"")),r=null}return e=Rn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function sa(t,e,n,r){return t=Rn(7,t,r,e),t.lanes=n,t}function Um(t,e,n){return t=Rn(6,t,null,e),t.lanes=n,t}function zm(t,e,n){return e=Rn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var co=[],uo=0,ph=null,gh=0,Un=[],zn=0,aa=null,Wr=1,Zr="";function Gs(t,e){co[uo++]=gh,co[uo++]=ph,ph=t,gh=e}function MS(t,e,n){Un[zn++]=Wr,Un[zn++]=Zr,Un[zn++]=aa,aa=t;var r=Wr;t=Zr;var i=32-Nn(r)-1;r&=~(1<<i),n+=1;var s=32-Nn(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Wr=1<<32-Nn(e)+i|n<<i|r,Zr=s+t}else Wr=1<<s|n<<i|r,Zr=t}function Hy(t){t.return!==null&&(Gs(t,1),MS(t,1,0))}function Gy(t){for(;t===ph;)ph=co[--uo],co[uo]=null,gh=co[--uo],co[uo]=null;for(;t===aa;)aa=Un[--zn],Un[zn]=null,Zr=Un[--zn],Un[zn]=null,Wr=Un[--zn],Un[zn]=null}var en=null,ot=null,Ne=!1,oa=null,vr=!1,Xp=Error(F(519));function da(t){var e=Error(F(418,""));throw Dc(Fn(e,t)),Xp}function Z0(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[Qt]=t,e[mn]=r,n){case"dialog":pe("cancel",e),pe("close",e);break;case"iframe":case"object":case"embed":pe("load",e);break;case"video":case"audio":for(n=0;n<Vc.length;n++)pe(Vc[n],e);break;case"source":pe("error",e);break;case"img":case"image":case"link":pe("error",e),pe("load",e);break;case"details":pe("toggle",e);break;case"input":pe("invalid",e),fS(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),hh(e);break;case"select":pe("invalid",e);break;case"textarea":pe("invalid",e),dS(e,r.value,r.defaultValue,r.children),hh(e)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||m1(e.textContent,n)?(r.popover!=null&&(pe("beforetoggle",e),pe("toggle",e)),r.onScroll!=null&&pe("scroll",e),r.onScrollEnd!=null&&pe("scrollend",e),r.onClick!=null&&(e.onclick=Rd),e=!0):e=!1,e||da(t)}function J0(t){for(en=t.return;en;)switch(en.tag){case 5:case 13:vr=!1;return;case 27:case 3:vr=!0;return;default:en=en.return}}function Hl(t){if(t!==en)return!1;if(!Ne)return J0(t),Ne=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Eg(t.type,t.memoizedProps)),n=!n),n&&ot&&da(t),J0(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){ot=sr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}ot=null}}else e===27?(e=ot,Os(t.type)?(t=Ag,Ag=null,ot=t):ot=e):ot=en?sr(t.stateNode.nextSibling):null;return!0}function fu(){ot=en=null,Ne=!1}function eb(){var t=oa;return t!==null&&(un===null?un=t:un.push.apply(un,t),oa=null),t}function Dc(t){oa===null?oa=[t]:oa.push(t)}var Wp=Pr(null),Ca=null,Jr=null;function Ui(t,e,n){et(Wp,e._currentValue),e._currentValue=n}function ii(t){t._currentValue=Wp.current,Ct(Wp)}function Zp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Jp(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){var a=i.child;s=s.firstContext;e:for(;s!==null;){var o=s;s=i;for(var c=0;c<e.length;c++)if(o.context===e[c]){s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),Zp(s.return,n,t),r||(a=null);break e}s=o.next}}else if(i.tag===18){if(a=i.return,a===null)throw Error(F(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Zp(a,n,t),a=null}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}}function hu(t,e,n,r){t=null;for(var i=e,s=!1;i!==null;){if(!s){if(i.flags&524288)s=!0;else if(i.flags&262144)break}if(i.tag===10){var a=i.alternate;if(a===null)throw Error(F(387));if(a=a.memoizedProps,a!==null){var o=i.type;Pn(i.pendingProps.value,a.value)||(t!==null?t.push(o):t=[o])}}else if(i===lh.current){if(a=i.alternate,a===null)throw Error(F(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(jc):t=[jc])}i=i.return}t!==null&&Jp(e,t,n,r),e.flags|=262144}function yh(t){for(t=t.firstContext;t!==null;){if(!Pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ma(t){Ca=t,Jr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return PS(Ca,t)}function lf(t,e){return Ca===null&&ma(t),PS(t,e)}function PS(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Jr===null){if(t===null)throw Error(F(308));Jr=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Jr=Jr.next=e;return n}var CO=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},IO=Tt.unstable_scheduleCallback,NO=Tt.unstable_NormalPriority,bt={$$typeof:Xr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $y(){return{controller:new CO,data:new Map,refCount:0}}function du(t){t.refCount--,t.refCount===0&&IO(NO,function(){t.controller.abort()})}var fc=null,eg=0,Ho=0,_o=null;function OO(t,e){if(fc===null){var n=fc=[];eg=0,Ho=pv(),_o={status:"pending",value:void 0,then:function(r){n.push(r)}}}return eg++,e.then(tb,tb),e}function tb(){if(--eg===0&&fc!==null){_o!==null&&(_o.status="fulfilled");var t=fc;fc=null,Ho=0,_o=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function DO(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var nb=ne.S;ne.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&OO(t,e),nb!==null&&nb(t,e)};var la=Pr(null);function Ky(){var t=la.current;return t!==null?t:Ge.pooledCache}function Lf(t,e){e===null?et(la,la.current):et(la,e.pool)}function VS(){var t=Ky();return t===null?null:{parent:bt._currentValue,pool:t}}var mu=Error(F(460)),kS=Error(F(474)),bd=Error(F(542)),tg={then:function(){}};function rb(t){return t=t.status,t==="fulfilled"||t==="rejected"}function cf(){}function LS(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(cf,cf),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,sb(t),t;default:if(typeof e.status=="string")e.then(cf,cf);else{if(t=Ge,t!==null&&100<t.shellSuspendCounter)throw Error(F(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,sb(t),t}throw hc=e,mu}}var hc=null;function ib(){if(hc===null)throw Error(F(459));var t=hc;return hc=null,t}function sb(t){if(t===mu||t===bd)throw Error(F(483))}var Li=!1;function Qy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ng(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ss(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function as(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=mh(t),OS(t,null,n),e}return _d(t,r,e,n),mh(t)}function dc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,sS(t,n)}}function Bm(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var rg=!1;function mc(){if(rg){var t=_o;if(t!==null)throw t}}function pc(t,e,n,r){rg=!1;var i=t.updateQueue;Li=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,u=c.next;c.next=null,a===null?s=u:a.next=u,a=c;var f=t.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==a&&(o===null?f.firstBaseUpdate=u:o.next=u,f.lastBaseUpdate=c))}if(s!==null){var d=i.baseState;a=0,f=u=c=null,o=s;do{var p=o.lane&-536870913,h=p!==o.lane;if(h?(Se&p)===p:(r&p)===p){p!==0&&p===Ho&&(rg=!0),f!==null&&(f=f.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var S=t,v=o;p=e;var w=n;switch(v.tag){case 1:if(S=v.payload,typeof S=="function"){d=S.call(w,d,p);break e}d=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=v.payload,p=typeof S=="function"?S.call(w,d,p):S,p==null)break e;d=Ye({},d,p);break e;case 2:Li=!0}}p=o.callback,p!==null&&(t.flags|=64,h&&(t.flags|=8192),h=i.callbacks,h===null?i.callbacks=[p]:h.push(p))}else h={lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(u=f=h,c=d):f=f.next=h,a|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);f===null&&(c=d),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=f,s===null&&(i.shared.lanes=0),bs|=a,t.lanes=a,t.memoizedState=d}}function jS(t,e){if(typeof t!="function")throw Error(F(191,t));t.call(e)}function US(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)jS(n[t],e)}var Go=Pr(null),vh=Pr(0);function ab(t,e){t=ci,et(vh,t),et(Go,e),ci=t|e.baseLanes}function ig(){et(vh,ci),et(Go,Go.current)}function Yy(){ci=vh.current,Ct(Go),Ct(vh)}var vs=0,me=null,Ue=null,pt=null,_h=!1,bo=!1,pa=!1,bh=0,Mc=0,wo=null,MO=0;function ct(){throw Error(F(321))}function Xy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Pn(t[n],e[n]))return!1;return!0}function Wy(t,e,n,r,i,s){return vs=s,me=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ne.H=t===null||t.memoizedState===null?gA:yA,pa=!1,s=n(r,i),pa=!1,bo&&(s=BS(e,n,r,i)),zS(t),s}function zS(t){ne.H=wh;var e=Ue!==null&&Ue.next!==null;if(vs=0,pt=Ue=me=null,_h=!1,Mc=0,wo=null,e)throw Error(F(300));t===null||Rt||(t=t.dependencies,t!==null&&yh(t)&&(Rt=!0))}function BS(t,e,n,r){me=t;var i=0;do{if(bo&&(wo=null),Mc=0,bo=!1,25<=i)throw Error(F(301));if(i+=1,pt=Ue=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}ne.H=zO,s=e(n,r)}while(bo);return s}function PO(){var t=ne.H,e=t.useState()[0];return e=typeof e.then=="function"?pu(e):e,t=t.useState()[0],(Ue!==null?Ue.memoizedState:null)!==t&&(me.flags|=1024),e}function Zy(){var t=bh!==0;return bh=0,t}function Jy(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function ev(t){if(_h){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}_h=!1}vs=0,pt=Ue=me=null,bo=!1,Mc=bh=0,wo=null}function ln(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?me.memoizedState=pt=t:pt=pt.next=t,pt}function _t(){if(Ue===null){var t=me.alternate;t=t!==null?t.memoizedState:null}else t=Ue.next;var e=pt===null?me.memoizedState:pt.next;if(e!==null)pt=e,Ue=t;else{if(t===null)throw me.alternate===null?Error(F(467)):Error(F(310));Ue=t,t={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},pt===null?me.memoizedState=pt=t:pt=pt.next=t}return pt}function tv(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pu(t){var e=Mc;return Mc+=1,wo===null&&(wo=[]),t=LS(wo,t,e),e=me,(pt===null?e.memoizedState:pt.next)===null&&(e=e.alternate,ne.H=e===null||e.memoizedState===null?gA:yA),t}function wd(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return pu(t);if(t.$$typeof===Xr)return Yt(t)}throw Error(F(438,String(t)))}function nv(t){var e=null,n=me.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=me.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=tv(),me.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=vN;return e.index++,n}function oi(t,e){return typeof e=="function"?e(t):e}function jf(t){var e=_t();return rv(e,Ue,t)}function rv(t,e,n){var r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=n;var i=t.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}e.baseQueue=i=s,r.pending=null}if(s=t.baseState,i===null)t.memoizedState=s;else{e=i.next;var o=a=null,c=null,u=e,f=!1;do{var d=u.lane&-536870913;if(d!==u.lane?(Se&d)===d:(vs&d)===d){var p=u.revertLane;if(p===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===Ho&&(f=!0);else if((vs&p)===p){u=u.next,p===Ho&&(f=!0);continue}else d={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(o=c=d,a=s):c=c.next=d,me.lanes|=p,bs|=p;d=u.action,pa&&n(s,d),s=u.hasEagerState?u.eagerState:n(s,d)}else p={lane:d,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(o=c=p,a=s):c=c.next=p,me.lanes|=d,bs|=d;u=u.next}while(u!==null&&u!==e);if(c===null?a=s:c.next=o,!Pn(s,t.memoizedState)&&(Rt=!0,f&&(n=_o,n!==null)))throw n;t.memoizedState=s,t.baseState=a,t.baseQueue=c,r.lastRenderedState=s}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Fm(t){var e=_t(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Pn(s,e.memoizedState)||(Rt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function FS(t,e,n){var r=me,i=_t(),s=Ne;if(s){if(n===void 0)throw Error(F(407));n=n()}else n=e();var a=!Pn((Ue||i).memoizedState,n);a&&(i.memoizedState=n,Rt=!0),i=i.queue;var o=GS.bind(null,r,i,t);if(gu(2048,8,o,[t]),i.getSnapshot!==e||a||pt!==null&&pt.memoizedState.tag&1){if(r.flags|=2048,$o(9,Ed(),HS.bind(null,r,i,n,e),null),Ge===null)throw Error(F(349));s||vs&124||qS(r,e,n)}return n}function qS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=me.updateQueue,e===null?(e=tv(),me.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function HS(t,e,n,r){e.value=n,e.getSnapshot=r,$S(e)&&KS(t)}function GS(t,e,n){return n(function(){$S(e)&&KS(t)})}function $S(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Pn(t,n)}catch{return!0}}function KS(t){var e=hl(t,2);e!==null&&Dn(e,t,2)}function sg(t){var e=ln();if(typeof t=="function"){var n=t;if(t=n(),pa){Zi(!0);try{n()}finally{Zi(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:t},e}function QS(t,e,n,r){return t.baseState=n,rv(t,Ue,typeof r=="function"?r:oi)}function VO(t,e,n,r,i){if(Td(t))throw Error(F(485));if(t=e.action,t!==null){var s={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};ne.T!==null?n(!0):s.isTransition=!1,r(s),n=e.pending,n===null?(s.next=e.pending=s,YS(e,s)):(s.next=n.next,e.pending=n.next=s)}}function YS(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var s=ne.T,a={};ne.T=a;try{var o=n(i,r),c=ne.S;c!==null&&c(a,o),ob(t,e,o)}catch(u){ag(t,e,u)}finally{ne.T=s}}else try{s=n(i,r),ob(t,e,s)}catch(u){ag(t,e,u)}}function ob(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){lb(t,e,r)},function(r){return ag(t,e,r)}):lb(t,e,n)}function lb(t,e,n){e.status="fulfilled",e.value=n,XS(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,YS(t,n)))}function ag(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,XS(e),e=e.next;while(e!==r)}t.action=null}function XS(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function WS(t,e){return e}function cb(t,e){if(Ne){var n=Ge.formState;if(n!==null){e:{var r=me;if(Ne){if(ot){t:{for(var i=ot,s=vr;i.nodeType!==8;){if(!s){i=null;break t}if(i=sr(i.nextSibling),i===null){i=null;break t}}s=i.data,i=s==="F!"||s==="F"?i:null}if(i){ot=sr(i.nextSibling),r=i.data==="F!";break e}}da(r)}r=!1}r&&(e=n[0])}}return n=ln(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:WS,lastRenderedState:e},n.queue=r,n=dA.bind(null,me,r),r.dispatch=n,r=sg(!1),s=ov.bind(null,me,!1,r.queue),r=ln(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=VO.bind(null,me,i,s,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function ub(t){var e=_t();return ZS(e,Ue,t)}function ZS(t,e,n){if(e=rv(t,e,WS)[0],t=jf(oi)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=pu(e)}catch(a){throw a===mu?bd:a}else r=e;e=_t();var i=e.queue,s=i.dispatch;return n!==e.memoizedState&&(me.flags|=2048,$o(9,Ed(),kO.bind(null,i,n),null)),[r,s,t]}function kO(t,e){t.action=e}function fb(t){var e=_t(),n=Ue;if(n!==null)return ZS(e,n,t);_t(),e=e.memoizedState,n=_t();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function $o(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=me.updateQueue,e===null&&(e=tv(),me.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function Ed(){return{destroy:void 0,resource:void 0}}function JS(){return _t().memoizedState}function Uf(t,e,n,r){var i=ln();r=r===void 0?null:r,me.flags|=t,i.memoizedState=$o(1|e,Ed(),n,r)}function gu(t,e,n,r){var i=_t();r=r===void 0?null:r;var s=i.memoizedState.inst;Ue!==null&&r!==null&&Xy(r,Ue.memoizedState.deps)?i.memoizedState=$o(e,s,n,r):(me.flags|=t,i.memoizedState=$o(1|e,s,n,r))}function hb(t,e){Uf(8390656,8,t,e)}function eA(t,e){gu(2048,8,t,e)}function tA(t,e){return gu(4,2,t,e)}function nA(t,e){return gu(4,4,t,e)}function rA(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function iA(t,e,n){n=n!=null?n.concat([t]):null,gu(4,4,rA.bind(null,e,t),n)}function iv(){}function sA(t,e){var n=_t();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&Xy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function aA(t,e){var n=_t();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&Xy(e,r[1]))return r[0];if(r=t(),pa){Zi(!0);try{t()}finally{Zi(!1)}}return n.memoizedState=[r,e],r}function sv(t,e,n){return n===void 0||vs&1073741824?t.memoizedState=e:(t.memoizedState=n,t=XA(),me.lanes|=t,bs|=t,n)}function oA(t,e,n,r){return Pn(n,e)?n:Go.current!==null?(t=sv(t,n,r),Pn(t,e)||(Rt=!0),t):vs&42?(t=XA(),me.lanes|=t,bs|=t,e):(Rt=!0,t.memoizedState=n)}function lA(t,e,n,r,i){var s=Oe.p;Oe.p=s!==0&&8>s?s:8;var a=ne.T,o={};ne.T=o,ov(t,!1,e,n);try{var c=i(),u=ne.S;if(u!==null&&u(o,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var f=DO(c,r);gc(t,e,f,On(t))}else gc(t,e,r,On(t))}catch(d){gc(t,e,{then:function(){},status:"rejected",reason:d},On())}finally{Oe.p=s,ne.T=a}}function LO(){}function og(t,e,n,r){if(t.tag!==5)throw Error(F(476));var i=cA(t).queue;lA(t,i,e,ia,n===null?LO:function(){return uA(t),n(r)})}function cA(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:ia,baseState:ia,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:ia},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oi,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function uA(t){var e=cA(t).next.queue;gc(t,e,{},On())}function av(){return Yt(jc)}function fA(){return _t().memoizedState}function hA(){return _t().memoizedState}function jO(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=On();t=ss(n);var r=as(e,t,n);r!==null&&(Dn(r,e,n),dc(r,e,n)),e={cache:$y()},t.payload=e;return}e=e.return}}function UO(t,e,n){var r=On();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Td(t)?mA(e,n):(n=Fy(t,e,n,r),n!==null&&(Dn(n,t,r),pA(n,e,r)))}function dA(t,e,n){var r=On();gc(t,e,n,r)}function gc(t,e,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Td(t))mA(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Pn(o,a))return _d(t,e,i,0),Ge===null&&vd(),!1}catch{}finally{}if(n=Fy(t,e,i,r),n!==null)return Dn(n,t,r),pA(n,e,r),!0}return!1}function ov(t,e,n,r){if(r={lane:2,revertLane:pv(),action:r,hasEagerState:!1,eagerState:null,next:null},Td(t)){if(e)throw Error(F(479))}else e=Fy(t,n,r,2),e!==null&&Dn(e,t,2)}function Td(t){var e=t.alternate;return t===me||e!==null&&e===me}function mA(t,e){bo=_h=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function pA(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,sS(t,n)}}var wh={readContext:Yt,use:wd,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct},gA={readContext:Yt,use:wd,useCallback:function(t,e){return ln().memoizedState=[t,e===void 0?null:e],t},useContext:Yt,useEffect:hb,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Uf(4194308,4,rA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Uf(4194308,4,t,e)},useInsertionEffect:function(t,e){Uf(4,2,t,e)},useMemo:function(t,e){var n=ln();e=e===void 0?null:e;var r=t();if(pa){Zi(!0);try{t()}finally{Zi(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=ln();if(n!==void 0){var i=n(e);if(pa){Zi(!0);try{n(e)}finally{Zi(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=UO.bind(null,me,t),[r.memoizedState,t]},useRef:function(t){var e=ln();return t={current:t},e.memoizedState=t},useState:function(t){t=sg(t);var e=t.queue,n=dA.bind(null,me,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:iv,useDeferredValue:function(t,e){var n=ln();return sv(n,t,e)},useTransition:function(){var t=sg(!1);return t=lA.bind(null,me,t.queue,!0,!1),ln().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=me,i=ln();if(Ne){if(n===void 0)throw Error(F(407));n=n()}else{if(n=e(),Ge===null)throw Error(F(349));Se&124||qS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,hb(GS.bind(null,r,s,t),[t]),r.flags|=2048,$o(9,Ed(),HS.bind(null,r,s,n,e),null),n},useId:function(){var t=ln(),e=Ge.identifierPrefix;if(Ne){var n=Zr,r=Wr;n=(r&~(1<<32-Nn(r)-1)).toString(32)+n,e="«"+e+"R"+n,n=bh++,0<n&&(e+="H"+n.toString(32)),e+="»"}else n=MO++,e="«"+e+"r"+n.toString(32)+"»";return t.memoizedState=e},useHostTransitionStatus:av,useFormState:cb,useActionState:cb,useOptimistic:function(t){var e=ln();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=ov.bind(null,me,!0,n),n.dispatch=e,[t,e]},useMemoCache:nv,useCacheRefresh:function(){return ln().memoizedState=jO.bind(null,me)}},yA={readContext:Yt,use:wd,useCallback:sA,useContext:Yt,useEffect:eA,useImperativeHandle:iA,useInsertionEffect:tA,useLayoutEffect:nA,useMemo:aA,useReducer:jf,useRef:JS,useState:function(){return jf(oi)},useDebugValue:iv,useDeferredValue:function(t,e){var n=_t();return oA(n,Ue.memoizedState,t,e)},useTransition:function(){var t=jf(oi)[0],e=_t().memoizedState;return[typeof t=="boolean"?t:pu(t),e]},useSyncExternalStore:FS,useId:fA,useHostTransitionStatus:av,useFormState:ub,useActionState:ub,useOptimistic:function(t,e){var n=_t();return QS(n,Ue,t,e)},useMemoCache:nv,useCacheRefresh:hA},zO={readContext:Yt,use:wd,useCallback:sA,useContext:Yt,useEffect:eA,useImperativeHandle:iA,useInsertionEffect:tA,useLayoutEffect:nA,useMemo:aA,useReducer:Fm,useRef:JS,useState:function(){return Fm(oi)},useDebugValue:iv,useDeferredValue:function(t,e){var n=_t();return Ue===null?sv(n,t,e):oA(n,Ue.memoizedState,t,e)},useTransition:function(){var t=Fm(oi)[0],e=_t().memoizedState;return[typeof t=="boolean"?t:pu(t),e]},useSyncExternalStore:FS,useId:fA,useHostTransitionStatus:av,useFormState:fb,useActionState:fb,useOptimistic:function(t,e){var n=_t();return Ue!==null?QS(n,Ue,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:nv,useCacheRefresh:hA},Eo=null,Pc=0;function uf(t){var e=Pc;return Pc+=1,Eo===null&&(Eo=[]),LS(Eo,t,e)}function Gl(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function ff(t,e){throw e.$$typeof===gN?Error(F(525)):(t=Object.prototype.toString.call(e),Error(F(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function db(t){var e=t._init;return e(t._payload)}function vA(t){function e(_,b){if(t){var E=_.deletions;E===null?(_.deletions=[b],_.flags|=16):E.push(b)}}function n(_,b){if(!t)return null;for(;b!==null;)e(_,b),b=b.sibling;return null}function r(_){for(var b=new Map;_!==null;)_.key!==null?b.set(_.key,_):b.set(_.index,_),_=_.sibling;return b}function i(_,b){return _=ri(_,b),_.index=0,_.sibling=null,_}function s(_,b,E){return _.index=E,t?(E=_.alternate,E!==null?(E=E.index,E<b?(_.flags|=67108866,b):E):(_.flags|=67108866,b)):(_.flags|=1048576,b)}function a(_){return t&&_.alternate===null&&(_.flags|=67108866),_}function o(_,b,E,N){return b===null||b.tag!==6?(b=Um(E,_.mode,N),b.return=_,b):(b=i(b,E),b.return=_,b)}function c(_,b,E,N){var P=E.type;return P===eo?f(_,b,E.props.children,N,E.key):b!==null&&(b.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===ki&&db(P)===b.type)?(b=i(b,E.props),Gl(b,E),b.return=_,b):(b=kf(E.type,E.key,E.props,null,_.mode,N),Gl(b,E),b.return=_,b)}function u(_,b,E,N){return b===null||b.tag!==4||b.stateNode.containerInfo!==E.containerInfo||b.stateNode.implementation!==E.implementation?(b=zm(E,_.mode,N),b.return=_,b):(b=i(b,E.children||[]),b.return=_,b)}function f(_,b,E,N,P){return b===null||b.tag!==7?(b=sa(E,_.mode,N,P),b.return=_,b):(b=i(b,E),b.return=_,b)}function d(_,b,E){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=Um(""+b,_.mode,E),b.return=_,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case nf:return E=kf(b.type,b.key,b.props,null,_.mode,E),Gl(E,b),E.return=_,E;case Zl:return b=zm(b,_.mode,E),b.return=_,b;case ki:var N=b._init;return b=N(b._payload),d(_,b,E)}if(Jl(b)||Bl(b))return b=sa(b,_.mode,E,null),b.return=_,b;if(typeof b.then=="function")return d(_,uf(b),E);if(b.$$typeof===Xr)return d(_,lf(_,b),E);ff(_,b)}return null}function p(_,b,E,N){var P=b!==null?b.key:null;if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return P!==null?null:o(_,b,""+E,N);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case nf:return E.key===P?c(_,b,E,N):null;case Zl:return E.key===P?u(_,b,E,N):null;case ki:return P=E._init,E=P(E._payload),p(_,b,E,N)}if(Jl(E)||Bl(E))return P!==null?null:f(_,b,E,N,null);if(typeof E.then=="function")return p(_,b,uf(E),N);if(E.$$typeof===Xr)return p(_,b,lf(_,E),N);ff(_,E)}return null}function h(_,b,E,N,P){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return _=_.get(E)||null,o(b,_,""+N,P);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case nf:return _=_.get(N.key===null?E:N.key)||null,c(b,_,N,P);case Zl:return _=_.get(N.key===null?E:N.key)||null,u(b,_,N,P);case ki:var k=N._init;return N=k(N._payload),h(_,b,E,N,P)}if(Jl(N)||Bl(N))return _=_.get(E)||null,f(b,_,N,P,null);if(typeof N.then=="function")return h(_,b,E,uf(N),P);if(N.$$typeof===Xr)return h(_,b,E,lf(b,N),P);ff(b,N)}return null}function S(_,b,E,N){for(var P=null,k=null,x=b,A=b=0,R=null;x!==null&&A<E.length;A++){x.index>A?(R=x,x=null):R=x.sibling;var I=p(_,x,E[A],N);if(I===null){x===null&&(x=R);break}t&&x&&I.alternate===null&&e(_,x),b=s(I,b,A),k===null?P=I:k.sibling=I,k=I,x=R}if(A===E.length)return n(_,x),Ne&&Gs(_,A),P;if(x===null){for(;A<E.length;A++)x=d(_,E[A],N),x!==null&&(b=s(x,b,A),k===null?P=x:k.sibling=x,k=x);return Ne&&Gs(_,A),P}for(x=r(x);A<E.length;A++)R=h(x,_,A,E[A],N),R!==null&&(t&&R.alternate!==null&&x.delete(R.key===null?A:R.key),b=s(R,b,A),k===null?P=R:k.sibling=R,k=R);return t&&x.forEach(function(M){return e(_,M)}),Ne&&Gs(_,A),P}function v(_,b,E,N){if(E==null)throw Error(F(151));for(var P=null,k=null,x=b,A=b=0,R=null,I=E.next();x!==null&&!I.done;A++,I=E.next()){x.index>A?(R=x,x=null):R=x.sibling;var M=p(_,x,I.value,N);if(M===null){x===null&&(x=R);break}t&&x&&M.alternate===null&&e(_,x),b=s(M,b,A),k===null?P=M:k.sibling=M,k=M,x=R}if(I.done)return n(_,x),Ne&&Gs(_,A),P;if(x===null){for(;!I.done;A++,I=E.next())I=d(_,I.value,N),I!==null&&(b=s(I,b,A),k===null?P=I:k.sibling=I,k=I);return Ne&&Gs(_,A),P}for(x=r(x);!I.done;A++,I=E.next())I=h(x,_,A,I.value,N),I!==null&&(t&&I.alternate!==null&&x.delete(I.key===null?A:I.key),b=s(I,b,A),k===null?P=I:k.sibling=I,k=I);return t&&x.forEach(function(O){return e(_,O)}),Ne&&Gs(_,A),P}function w(_,b,E,N){if(typeof E=="object"&&E!==null&&E.type===eo&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case nf:e:{for(var P=E.key;b!==null;){if(b.key===P){if(P=E.type,P===eo){if(b.tag===7){n(_,b.sibling),N=i(b,E.props.children),N.return=_,_=N;break e}}else if(b.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===ki&&db(P)===b.type){n(_,b.sibling),N=i(b,E.props),Gl(N,E),N.return=_,_=N;break e}n(_,b);break}else e(_,b);b=b.sibling}E.type===eo?(N=sa(E.props.children,_.mode,N,E.key),N.return=_,_=N):(N=kf(E.type,E.key,E.props,null,_.mode,N),Gl(N,E),N.return=_,_=N)}return a(_);case Zl:e:{for(P=E.key;b!==null;){if(b.key===P)if(b.tag===4&&b.stateNode.containerInfo===E.containerInfo&&b.stateNode.implementation===E.implementation){n(_,b.sibling),N=i(b,E.children||[]),N.return=_,_=N;break e}else{n(_,b);break}else e(_,b);b=b.sibling}N=zm(E,_.mode,N),N.return=_,_=N}return a(_);case ki:return P=E._init,E=P(E._payload),w(_,b,E,N)}if(Jl(E))return S(_,b,E,N);if(Bl(E)){if(P=Bl(E),typeof P!="function")throw Error(F(150));return E=P.call(E),v(_,b,E,N)}if(typeof E.then=="function")return w(_,b,uf(E),N);if(E.$$typeof===Xr)return w(_,b,lf(_,E),N);ff(_,E)}return typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint"?(E=""+E,b!==null&&b.tag===6?(n(_,b.sibling),N=i(b,E),N.return=_,_=N):(n(_,b),N=Um(E,_.mode,N),N.return=_,_=N),a(_)):n(_,b)}return function(_,b,E,N){try{Pc=0;var P=w(_,b,E,N);return Eo=null,P}catch(x){if(x===mu||x===bd)throw x;var k=Rn(29,x,null,_.mode);return k.lanes=N,k.return=_,k}finally{}}}var Ko=vA(!0),_A=vA(!1),$n=Pr(null),Sr=null;function zi(t){var e=t.alternate;et(wt,wt.current&1),et($n,t),Sr===null&&(e===null||Go.current!==null||e.memoizedState!==null)&&(Sr=t)}function bA(t){if(t.tag===22){if(et(wt,wt.current),et($n,t),Sr===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Sr=t)}}else Bi()}function Bi(){et(wt,wt.current),et($n,$n.current)}function ei(t){Ct($n),Sr===t&&(Sr=null),Ct(wt)}var wt=Pr(0);function Eh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Sg(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function qm(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var lg={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=On(),i=ss(r);i.payload=e,n!=null&&(i.callback=n),e=as(t,i,r),e!==null&&(Dn(e,t,r),dc(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=On(),i=ss(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=as(t,i,r),e!==null&&(Dn(e,t,r),dc(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=On(),r=ss(n);r.tag=2,e!=null&&(r.callback=e),e=as(t,r,n),e!==null&&(Dn(e,t,n),dc(e,t,n))}};function mb(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Oc(n,r)||!Oc(i,s):!0}function pb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&lg.enqueueReplaceState(e,e.state,null)}function ga(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=Ye({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}var Th=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function wA(t){Th(t)}function EA(t){console.error(t)}function TA(t){Th(t)}function Sh(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function gb(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function cg(t,e,n){return n=ss(n),n.tag=3,n.payload={element:null},n.callback=function(){Sh(t,e)},n}function SA(t){return t=ss(t),t.tag=3,t}function AA(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=r.value;t.payload=function(){return i(s)},t.callback=function(){gb(e,n,r)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){gb(e,n,r),typeof i!="function"&&(os===null?os=new Set([this]):os.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})})}function BO(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&hu(e,n,i,!0),n=$n.current,n!==null){switch(n.tag){case 13:return Sr===null?yg():n.alternate===null&&lt===0&&(lt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===tg?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),ep(t,r,i)),!1;case 22:return n.flags|=65536,r===tg?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),ep(t,r,i)),!1}throw Error(F(435,n.tag))}return ep(t,r,i),yg(),!1}if(Ne)return e=$n.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==Xp&&(t=Error(F(422),{cause:r}),Dc(Fn(t,n)))):(r!==Xp&&(e=Error(F(423),{cause:r}),Dc(Fn(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=Fn(r,n),i=cg(t.stateNode,r,i),Bm(t,i),lt!==4&&(lt=2)),!1;var s=Error(F(520),{cause:r});if(s=Fn(s,n),_c===null?_c=[s]:_c.push(s),lt!==4&&(lt=2),e===null)return!0;r=Fn(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=cg(n.stateNode,r,t),Bm(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(os===null||!os.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,i=SA(i),AA(i,t,n,r),Bm(n,i),!1}n=n.return}while(n!==null);return!1}var xA=Error(F(461)),Rt=!1;function Dt(t,e,n,r){e.child=t===null?_A(e,null,n,r):Ko(e,t.child,n,r)}function yb(t,e,n,r,i){n=n.render;var s=e.ref;if("ref"in r){var a={};for(var o in r)o!=="ref"&&(a[o]=r[o])}else a=r;return ma(e),r=Wy(t,e,n,a,s,i),o=Zy(),t!==null&&!Rt?(Jy(t,e,i),li(t,e,i)):(Ne&&o&&Hy(e),e.flags|=1,Dt(t,e,r,i),e.child)}function vb(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!qy(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,RA(t,e,s,r,i)):(t=kf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!lv(t,i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Oc,n(a,r)&&t.ref===e.ref)return li(t,e,i)}return e.flags|=1,t=ri(s,r),t.ref=e.ref,t.return=e,e.child=t}function RA(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Oc(s,r)&&t.ref===e.ref)if(Rt=!1,e.pendingProps=r=s,lv(t,i))t.flags&131072&&(Rt=!0);else return e.lanes=t.lanes,li(t,e,i)}return ug(t,e,n,r,i)}function CA(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden"){if(e.flags&128){if(r=s!==null?s.baseLanes|n:n,t!==null){for(i=e.child=t.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;e.childLanes=s&~r}else e.childLanes=0,e.child=null;return _b(t,e,r,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Lf(e,s!==null?s.cachePool:null),s!==null?ab(e,s):ig(),bA(e);else return e.lanes=e.childLanes=536870912,_b(t,e,s!==null?s.baseLanes|n:n,n)}else s!==null?(Lf(e,s.cachePool),ab(e,s),Bi(),e.memoizedState=null):(t!==null&&Lf(e,null),ig(),Bi());return Dt(t,e,i,n),e.child}function _b(t,e,n,r){var i=Ky();return i=i===null?null:{parent:bt._currentValue,pool:i},e.memoizedState={baseLanes:n,cachePool:i},t!==null&&Lf(e,null),ig(),bA(e),t!==null&&hu(t,e,r,!0),null}function zf(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(F(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function ug(t,e,n,r,i){return ma(e),n=Wy(t,e,n,r,void 0,i),r=Zy(),t!==null&&!Rt?(Jy(t,e,i),li(t,e,i)):(Ne&&r&&Hy(e),e.flags|=1,Dt(t,e,n,i),e.child)}function bb(t,e,n,r,i,s){return ma(e),e.updateQueue=null,n=BS(e,r,n,i),zS(t),r=Zy(),t!==null&&!Rt?(Jy(t,e,s),li(t,e,s)):(Ne&&r&&Hy(e),e.flags|=1,Dt(t,e,n,s),e.child)}function wb(t,e,n,r,i){if(ma(e),e.stateNode===null){var s=lo,a=n.contextType;typeof a=="object"&&a!==null&&(s=Yt(a)),s=new n(r,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=lg,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=r,s.state=e.memoizedState,s.refs={},Qy(e),a=n.contextType,s.context=typeof a=="object"&&a!==null?Yt(a):lo,s.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(qm(e,n,a,r),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&lg.enqueueReplaceState(s,s.state,null),pc(e,r,s,i),mc(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){s=e.stateNode;var o=e.memoizedProps,c=ga(n,o);s.props=c;var u=s.context,f=n.contextType;a=lo,typeof f=="object"&&f!==null&&(a=Yt(f));var d=n.getDerivedStateFromProps;f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o||u!==a)&&pb(e,s,r,a),Li=!1;var p=e.memoizedState;s.state=p,pc(e,r,s,i),mc(),u=e.memoizedState,o||p!==u||Li?(typeof d=="function"&&(qm(e,n,d,r),u=e.memoizedState),(c=Li||mb(e,n,c,r,p,u,a))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=a,r=c):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,ng(t,e),a=e.memoizedProps,f=ga(n,a),s.props=f,d=e.pendingProps,p=s.context,u=n.contextType,c=lo,typeof u=="object"&&u!==null&&(c=Yt(u)),o=n.getDerivedStateFromProps,(u=typeof o=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||p!==c)&&pb(e,s,r,c),Li=!1,p=e.memoizedState,s.state=p,pc(e,r,s,i),mc();var h=e.memoizedState;a!==d||p!==h||Li||t!==null&&t.dependencies!==null&&yh(t.dependencies)?(typeof o=="function"&&(qm(e,n,o,r),h=e.memoizedState),(f=Li||mb(e,n,f,r,p,h,c)||t!==null&&t.dependencies!==null&&yh(t.dependencies))?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,h,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,h,c)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=h),s.props=r,s.state=h,s.context=c,r=f):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return s=r,zf(t,e),r=(e.flags&128)!==0,s||r?(s=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&r?(e.child=Ko(e,t.child,null,i),e.child=Ko(e,null,n,i)):Dt(t,e,n,i),e.memoizedState=s.state,t=e.child):t=li(t,e,i),t}function Eb(t,e,n,r){return fu(),e.flags|=256,Dt(t,e,n,r),e.child}var Hm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gm(t){return{baseLanes:t,cachePool:VS()}}function $m(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Gn),t}function IA(t,e,n){var r=e.pendingProps,i=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(wt.current&2)!==0),a&&(i=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(Ne){if(i?zi(e):Bi(),Ne){var o=ot,c;if(c=o){e:{for(c=o,o=vr;c.nodeType!==8;){if(!o){o=null;break e}if(c=sr(c.nextSibling),c===null){o=null;break e}}o=c}o!==null?(e.memoizedState={dehydrated:o,treeContext:aa!==null?{id:Wr,overflow:Zr}:null,retryLane:536870912,hydrationErrors:null},c=Rn(18,null,null,0),c.stateNode=o,c.return=e,e.child=c,en=e,ot=null,c=!0):c=!1}c||da(e)}if(o=e.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return Sg(o)?e.lanes=32:e.lanes=536870912,null;ei(e)}return o=r.children,r=r.fallback,i?(Bi(),i=e.mode,o=Ah({mode:"hidden",children:o},i),r=sa(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,i=e.child,i.memoizedState=Gm(n),i.childLanes=$m(t,a,n),e.memoizedState=Hm,r):(zi(e),fg(e,o))}if(c=t.memoizedState,c!==null&&(o=c.dehydrated,o!==null)){if(s)e.flags&256?(zi(e),e.flags&=-257,e=Km(t,e,n)):e.memoizedState!==null?(Bi(),e.child=t.child,e.flags|=128,e=null):(Bi(),i=r.fallback,o=e.mode,r=Ah({mode:"visible",children:r.children},o),i=sa(i,o,n,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,Ko(e,t.child,null,n),r=e.child,r.memoizedState=Gm(n),r.childLanes=$m(t,a,n),e.memoizedState=Hm,e=i);else if(zi(e),Sg(o)){if(a=o.nextSibling&&o.nextSibling.dataset,a)var u=a.dgst;a=u,r=Error(F(419)),r.stack="",r.digest=a,Dc({value:r,source:null,stack:null}),e=Km(t,e,n)}else if(Rt||hu(t,e,n,!1),a=(n&t.childLanes)!==0,Rt||a){if(a=Ge,a!==null&&(r=n&-n,r=r&42?1:Dy(r),r=r&(a.suspendedLanes|n)?0:r,r!==0&&r!==c.retryLane))throw c.retryLane=r,hl(t,r),Dn(a,t,r),xA;o.data==="$?"||yg(),e=Km(t,e,n)}else o.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=c.treeContext,ot=sr(o.nextSibling),en=e,Ne=!0,oa=null,vr=!1,t!==null&&(Un[zn++]=Wr,Un[zn++]=Zr,Un[zn++]=aa,Wr=t.id,Zr=t.overflow,aa=e),e=fg(e,r.children),e.flags|=4096);return e}return i?(Bi(),i=r.fallback,o=e.mode,c=t.child,u=c.sibling,r=ri(c,{mode:"hidden",children:r.children}),r.subtreeFlags=c.subtreeFlags&65011712,u!==null?i=ri(u,i):(i=sa(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o===null?o=Gm(n):(c=o.cachePool,c!==null?(u=bt._currentValue,c=c.parent!==u?{parent:u,pool:u}:c):c=VS(),o={baseLanes:o.baseLanes|n,cachePool:c}),i.memoizedState=o,i.childLanes=$m(t,a,n),e.memoizedState=Hm,r):(zi(e),n=t.child,t=n.sibling,n=ri(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function fg(t,e){return e=Ah({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Ah(t,e){return t=Rn(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Km(t,e,n){return Ko(e,t.child,null,n),t=fg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Tb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Zp(t.return,e,n)}function Qm(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function NA(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Dt(t,e,r.children,n),r=wt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Tb(t,n,e);else if(t.tag===19)Tb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(et(wt,r),i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Eh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Qm(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Eh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Qm(e,!0,n,null,s);break;case"together":Qm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function li(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),bs|=e.lanes,!(n&e.childLanes))if(t!==null){if(hu(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(F(153));if(e.child!==null){for(t=e.child,n=ri(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ri(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function lv(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&yh(t)))}function FO(t,e,n){switch(e.tag){case 3:ch(e,e.stateNode.containerInfo),Ui(e,bt,t.memoizedState.cache),fu();break;case 27:case 5:zp(e);break;case 4:ch(e,e.stateNode.containerInfo);break;case 10:Ui(e,e.type,e.memoizedProps.value);break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(zi(e),e.flags|=128,null):n&e.child.childLanes?IA(t,e,n):(zi(e),t=li(t,e,n),t!==null?t.sibling:null);zi(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(hu(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return NA(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),et(wt,wt.current),r)break;return null;case 22:case 23:return e.lanes=0,CA(t,e,n);case 24:Ui(e,bt,t.memoizedState.cache)}return li(t,e,n)}function OA(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Rt=!0;else{if(!lv(t,n)&&!(e.flags&128))return Rt=!1,FO(t,e,n);Rt=!!(t.flags&131072)}else Rt=!1,Ne&&e.flags&1048576&&MS(e,gh,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var r=e.elementType,i=r._init;if(r=i(r._payload),e.type=r,typeof r=="function")qy(r)?(t=ga(r,t),e.tag=1,e=wb(null,e,r,t,n)):(e.tag=0,e=ug(null,e,r,t,n));else{if(r!=null){if(i=r.$$typeof,i===Iy){e.tag=11,e=yb(null,e,r,t,n);break e}else if(i===Ny){e.tag=14,e=vb(null,e,r,t,n);break e}}throw e=jp(r)||r,Error(F(306,e,""))}}return e;case 0:return ug(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=ga(r,e.pendingProps),wb(t,e,r,i,n);case 3:e:{if(ch(e,e.stateNode.containerInfo),t===null)throw Error(F(387));r=e.pendingProps;var s=e.memoizedState;i=s.element,ng(t,e),pc(e,r,null,n);var a=e.memoizedState;if(r=a.cache,Ui(e,bt,r),r!==s.cache&&Jp(e,[bt],n,!0),mc(),r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=Eb(t,e,r,n);break e}else if(r!==i){i=Fn(Error(F(424)),e),Dc(i),e=Eb(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ot=sr(t.firstChild),en=e,Ne=!0,oa=null,vr=!0,n=_A(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(fu(),r===i){e=li(t,e,n);break e}Dt(t,e,r,n)}e=e.child}return e;case 26:return zf(t,e),t===null?(n=zb(e.type,null,e.pendingProps,null))?e.memoizedState=n:Ne||(n=e.type,t=e.pendingProps,r=Dh(is.current).createElement(n),r[Qt]=e,r[mn]=t,kt(r,n,t),xt(r),e.stateNode=r):e.memoizedState=zb(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return zp(e),t===null&&Ne&&(r=e.stateNode=y1(e.type,e.pendingProps,is.current),en=e,vr=!0,i=ot,Os(e.type)?(Ag=i,ot=sr(r.firstChild)):ot=i),Dt(t,e,e.pendingProps.children,n),zf(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Ne&&((i=r=ot)&&(r=gD(r,e.type,e.pendingProps,vr),r!==null?(e.stateNode=r,en=e,ot=sr(r.firstChild),vr=!1,i=!0):i=!1),i||da(e)),zp(e),i=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,r=s.children,Eg(i,s)?r=null:a!==null&&Eg(i,a)&&(e.flags|=32),e.memoizedState!==null&&(i=Wy(t,e,PO,null,null,n),jc._currentValue=i),zf(t,e),Dt(t,e,r,n),e.child;case 6:return t===null&&Ne&&((t=n=ot)&&(n=yD(n,e.pendingProps,vr),n!==null?(e.stateNode=n,en=e,ot=null,t=!0):t=!1),t||da(e)),null;case 13:return IA(t,e,n);case 4:return ch(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ko(e,null,r,n):Dt(t,e,r,n),e.child;case 11:return yb(t,e,e.type,e.pendingProps,n);case 7:return Dt(t,e,e.pendingProps,n),e.child;case 8:return Dt(t,e,e.pendingProps.children,n),e.child;case 12:return Dt(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,Ui(e,e.type,r.value),Dt(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,ma(e),i=Yt(i),r=r(i),e.flags|=1,Dt(t,e,r,n),e.child;case 14:return vb(t,e,e.type,e.pendingProps,n);case 15:return RA(t,e,e.type,e.pendingProps,n);case 19:return NA(t,e,n);case 31:return r=e.pendingProps,n=e.mode,r={mode:r.mode,children:r.children},t===null?(n=Ah(r,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=ri(t.child,r),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return CA(t,e,n);case 24:return ma(e),r=Yt(bt),t===null?(i=Ky(),i===null&&(i=Ge,s=$y(),i.pooledCache=s,s.refCount++,s!==null&&(i.pooledCacheLanes|=n),i=s),e.memoizedState={parent:r,cache:i},Qy(e),Ui(e,bt,i)):(t.lanes&n&&(ng(t,e),pc(e,null,null,n),mc()),i=t.memoizedState,s=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),Ui(e,bt,r)):(r=s.cache,Ui(e,bt,r),r!==i.cache&&Jp(e,[bt],n,!0))),Dt(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(F(156,e.tag))}function Hr(t){t.flags|=4}function Sb(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!b1(e)){if(e=$n.current,e!==null&&((Se&4194048)===Se?Sr!==null:(Se&62914560)!==Se&&!(Se&536870912)||e!==Sr))throw hc=tg,kS;t.flags|=8192}}function hf(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?rS():536870912,t.lanes|=e,Qo|=e)}function $l(t,e){if(!Ne)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function nt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function qO(t,e,n){var r=e.pendingProps;switch(Gy(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(e),null;case 1:return nt(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),ii(bt),Bo(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Hl(e)?Hr(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,eb())),nt(e),null;case 26:return n=e.memoizedState,t===null?(Hr(e),n!==null?(nt(e),Sb(e,n)):(nt(e),e.flags&=-16777217)):n?n!==t.memoizedState?(Hr(e),nt(e),Sb(e,n)):(nt(e),e.flags&=-16777217):(t.memoizedProps!==r&&Hr(e),nt(e),e.flags&=-16777217),null;case 27:uh(e),n=is.current;var i=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Hr(e);else{if(!r){if(e.stateNode===null)throw Error(F(166));return nt(e),null}t=Er.current,Hl(e)?Z0(e):(t=y1(i,r,n),e.stateNode=t,Hr(e))}return nt(e),null;case 5:if(uh(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Hr(e);else{if(!r){if(e.stateNode===null)throw Error(F(166));return nt(e),null}if(t=Er.current,Hl(e))Z0(e);else{switch(i=Dh(is.current),t){case 1:t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?i.createElement(n,{is:r.is}):i.createElement(n)}}t[Qt]=e,t[mn]=r;e:for(i=e.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}e.stateNode=t;e:switch(kt(t,n,r),n){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Hr(e)}}return nt(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&Hr(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(F(166));if(t=is.current,Hl(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=en,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[Qt]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||m1(t.nodeValue,n)),t||da(e)}else t=Dh(t).createTextNode(r),t[Qt]=e,e.stateNode=t}return nt(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=Hl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(F(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(F(317));i[Qt]=e}else fu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;nt(e),i=!1}else i=eb(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(ei(e),e):(ei(e),null)}if(ei(e),e.flags&128)return e.lanes=n,e;if(n=r!==null,t=t!==null&&t.memoizedState!==null,n){r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool);var s=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),hf(e,e.updateQueue),nt(e),null;case 4:return Bo(),t===null&&gv(e.stateNode.containerInfo),nt(e),null;case 10:return ii(e.type),nt(e),null;case 19:if(Ct(wt),i=e.memoizedState,i===null)return nt(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)$l(i,!1);else{if(lt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Eh(t),s!==null){for(e.flags|=128,$l(i,!1),t=s.updateQueue,e.updateQueue=t,hf(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)DS(n,t),n=n.sibling;return et(wt,wt.current&1|2),e.child}t=t.sibling}i.tail!==null&&Tr()>Rh&&(e.flags|=128,r=!0,$l(i,!1),e.lanes=4194304)}else{if(!r)if(t=Eh(s),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,hf(e,t),$l(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Ne)return nt(e),null}else 2*Tr()-i.renderingStartTime>Rh&&n!==536870912&&(e.flags|=128,r=!0,$l(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(t=i.last,t!==null?t.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Tr(),e.sibling=null,t=wt.current,et(wt,r?t&1|2:t&1),e):(nt(e),null);case 22:case 23:return ei(e),Yy(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(nt(e),e.subtreeFlags&6&&(e.flags|=8192)):nt(e),n=e.updateQueue,n!==null&&hf(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&Ct(la),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),ii(bt),nt(e),null;case 25:return null;case 30:return null}throw Error(F(156,e.tag))}function HO(t,e){switch(Gy(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ii(bt),Bo(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return uh(e),null;case 13:if(ei(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(F(340));fu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ct(wt),null;case 4:return Bo(),null;case 10:return ii(e.type),null;case 22:case 23:return ei(e),Yy(),t!==null&&Ct(la),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return ii(bt),null;case 25:return null;default:return null}}function DA(t,e){switch(Gy(e),e.tag){case 3:ii(bt),Bo();break;case 26:case 27:case 5:uh(e);break;case 4:Bo();break;case 13:ei(e);break;case 19:Ct(wt);break;case 10:ii(e.type);break;case 22:case 23:ei(e),Yy(),t!==null&&Ct(la);break;case 24:ii(bt)}}function yu(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var s=n.create,a=n.inst;r=s(),a.destroy=r}n=n.next}while(n!==i)}}catch(o){qe(e,e.return,o)}}function _s(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var s=i.next;r=s;do{if((r.tag&t)===t){var a=r.inst,o=a.destroy;if(o!==void 0){a.destroy=void 0,i=e;var c=n,u=o;try{u()}catch(f){qe(i,c,f)}}}r=r.next}while(r!==s)}}catch(f){qe(e,e.return,f)}}function MA(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{US(e,n)}catch(r){qe(t,t.return,r)}}}function PA(t,e,n){n.props=ga(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){qe(t,e,r)}}function yc(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(i){qe(t,e,i)}}function br(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){qe(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){qe(t,e,i)}else n.current=null}function VA(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){qe(t,t.return,i)}}function Ym(t,e,n){try{var r=t.stateNode;fD(r,t.type,n,e),r[mn]=e}catch(i){qe(t,t.return,i)}}function kA(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Os(t.type)||t.tag===4}function Xm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||kA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Os(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Rd));else if(r!==4&&(r===27&&Os(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(hg(t,e,n),t=t.sibling;t!==null;)hg(t,e,n),t=t.sibling}function xh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&Os(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(xh(t,e,n),t=t.sibling;t!==null;)xh(t,e,n),t=t.sibling}function LA(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);kt(e,r,n),e[Qt]=t,e[mn]=n}catch(s){qe(t,t.return,s)}}var Yr=!1,ut=!1,Wm=!1,Ab=typeof WeakSet=="function"?WeakSet:Set,At=null;function GO(t,e){if(t=t.containerInfo,bg=kh,t=SS(t),zy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,c=-1,u=0,f=0,d=t,p=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(o=a+i),d!==s||r!==0&&d.nodeType!==3||(c=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(h=d.firstChild)!==null;)p=d,d=h;for(;;){if(d===t)break t;if(p===n&&++u===i&&(o=a),p===s&&++f===r&&(c=a),(h=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=h}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(wg={focusedElem:t,selectionRange:n},kh=!1,At=e;At!==null;)if(e=At,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,At=t;else for(;At!==null;){switch(e=At,s=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&s!==null){t=void 0,n=e,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var S=ga(n.type,i,n.elementType===n.type);t=r.getSnapshotBeforeUpdate(S,s),r.__reactInternalSnapshotBeforeUpdate=t}catch(v){qe(n,n.return,v)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Tg(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Tg(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(F(163))}if(t=e.sibling,t!==null){t.return=e.return,At=t;break}At=e.return}}function jA(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Ri(t,n),r&4&&yu(5,n);break;case 1:if(Ri(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){qe(n,n.return,a)}else{var i=ga(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){qe(n,n.return,a)}}r&64&&MA(n),r&512&&yc(n,n.return);break;case 3:if(Ri(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{US(t,e)}catch(a){qe(n,n.return,a)}}break;case 27:e===null&&r&4&&LA(n);case 26:case 5:Ri(t,n),e===null&&r&4&&VA(n),r&512&&yc(n,n.return);break;case 12:Ri(t,n);break;case 13:Ri(t,n),r&4&&BA(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=eD.bind(null,n),vD(t,n))));break;case 22:if(r=n.memoizedState!==null||Yr,!r){e=e!==null&&e.memoizedState!==null||ut,i=Yr;var s=ut;Yr=r,(ut=e)&&!s?Di(t,n,(n.subtreeFlags&8772)!==0):Ri(t,n),Yr=i,ut=s}break;case 30:break;default:Ri(t,n)}}function UA(t){var e=t.alternate;e!==null&&(t.alternate=null,UA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Py(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ze=null,cn=!1;function Gr(t,e,n){for(n=n.child;n!==null;)zA(t,e,n),n=n.sibling}function zA(t,e,n){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(au,n)}catch{}switch(n.tag){case 26:ut||br(n,e),Gr(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ut||br(n,e);var r=Ze,i=cn;Os(n.type)&&(Ze=n.stateNode,cn=!1),Gr(t,e,n),wc(n.stateNode),Ze=r,cn=i;break;case 5:ut||br(n,e);case 6:if(r=Ze,i=cn,Ze=null,Gr(t,e,n),Ze=r,cn=i,Ze!==null)if(cn)try{(Ze.nodeType===9?Ze.body:Ze.nodeName==="HTML"?Ze.ownerDocument.body:Ze).removeChild(n.stateNode)}catch(s){qe(n,e,s)}else try{Ze.removeChild(n.stateNode)}catch(s){qe(n,e,s)}break;case 18:Ze!==null&&(cn?(t=Ze,Lb(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Bc(t)):Lb(Ze,n.stateNode));break;case 4:r=Ze,i=cn,Ze=n.stateNode.containerInfo,cn=!0,Gr(t,e,n),Ze=r,cn=i;break;case 0:case 11:case 14:case 15:ut||_s(2,n,e),ut||_s(4,n,e),Gr(t,e,n);break;case 1:ut||(br(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&PA(n,e,r)),Gr(t,e,n);break;case 21:Gr(t,e,n);break;case 22:ut=(r=ut)||n.memoizedState!==null,Gr(t,e,n),ut=r;break;default:Gr(t,e,n)}}function BA(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Bc(t)}catch(n){qe(e,e.return,n)}}function $O(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Ab),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Ab),e;default:throw Error(F(435,t.tag))}}function Zm(t,e){var n=$O(t);e.forEach(function(r){var i=tD.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}function vn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 27:if(Os(o.type)){Ze=o.stateNode,cn=!1;break e}break;case 5:Ze=o.stateNode,cn=!1;break e;case 3:case 4:Ze=o.stateNode.containerInfo,cn=!0;break e}o=o.return}if(Ze===null)throw Error(F(160));zA(s,a,i),Ze=null,cn=!1,s=i.alternate,s!==null&&(s.return=null),i.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)FA(e,t),e=e.sibling}var rr=null;function FA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vn(e,t),_n(t),r&4&&(_s(3,t,t.return),yu(3,t),_s(5,t,t.return));break;case 1:vn(e,t),_n(t),r&512&&(ut||n===null||br(n,n.return)),r&64&&Yr&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=rr;if(vn(e,t),_n(t),r&512&&(ut||n===null||br(n,n.return)),r&4){var s=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":s=i.getElementsByTagName("title")[0],(!s||s[cu]||s[Qt]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),kt(s,r,n),s[Qt]=t,xt(s),r=s;break e;case"link":var a=Fb("link","href",i).get(r+(n.href||""));if(a){for(var o=0;o<a.length;o++)if(s=a[o],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(o,1);break t}}s=i.createElement(r),kt(s,r,n),i.head.appendChild(s);break;case"meta":if(a=Fb("meta","content",i).get(r+(n.content||""))){for(o=0;o<a.length;o++)if(s=a[o],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(o,1);break t}}s=i.createElement(r),kt(s,r,n),i.head.appendChild(s);break;default:throw Error(F(468,r))}s[Qt]=t,xt(s),r=s}t.stateNode=r}else qb(i,t.type,t.stateNode);else t.stateNode=Bb(i,r,t.memoizedProps);else s!==r?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,r===null?qb(i,t.type,t.stateNode):Bb(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&Ym(t,t.memoizedProps,n.memoizedProps)}break;case 27:vn(e,t),_n(t),r&512&&(ut||n===null||br(n,n.return)),n!==null&&r&4&&Ym(t,t.memoizedProps,n.memoizedProps);break;case 5:if(vn(e,t),_n(t),r&512&&(ut||n===null||br(n,n.return)),t.flags&32){i=t.stateNode;try{qo(i,"")}catch(h){qe(t,t.return,h)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,Ym(t,i,n!==null?n.memoizedProps:i)),r&1024&&(Wm=!0);break;case 6:if(vn(e,t),_n(t),r&4){if(t.stateNode===null)throw Error(F(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(h){qe(t,t.return,h)}}break;case 3:if(qf=null,i=rr,rr=Mh(e.containerInfo),vn(e,t),rr=i,_n(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Bc(e.containerInfo)}catch(h){qe(t,t.return,h)}Wm&&(Wm=!1,qA(t));break;case 4:r=rr,rr=Mh(t.stateNode.containerInfo),vn(e,t),_n(t),rr=r;break;case 12:vn(e,t),_n(t);break;case 13:vn(e,t),_n(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(dv=Tr()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Zm(t,r)));break;case 22:i=t.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,u=Yr,f=ut;if(Yr=u||i,ut=f||c,vn(e,t),ut=f,Yr=u,_n(t),r&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||c||Yr||ut||$s(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){c=n=e;try{if(s=c.stateNode,i)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{o=c.stateNode;var d=c.memoizedProps.style,p=d!=null&&d.hasOwnProperty("display")?d.display:null;o.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(h){qe(c,c.return,h)}}}else if(e.tag===6){if(n===null){c=e;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(h){qe(c,c.return,h)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Zm(t,n))));break;case 19:vn(e,t),_n(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Zm(t,r)));break;case 30:break;case 21:break;default:vn(e,t),_n(t)}}function _n(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(kA(r)){n=r;break}r=r.return}if(n==null)throw Error(F(160));switch(n.tag){case 27:var i=n.stateNode,s=Xm(t);xh(t,s,i);break;case 5:var a=n.stateNode;n.flags&32&&(qo(a,""),n.flags&=-33);var o=Xm(t);xh(t,o,a);break;case 3:case 4:var c=n.stateNode.containerInfo,u=Xm(t);hg(t,u,c);break;default:throw Error(F(161))}}catch(f){qe(t,t.return,f)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function qA(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;qA(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Ri(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)jA(t,e.alternate,e),e=e.sibling}function $s(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:_s(4,e,e.return),$s(e);break;case 1:br(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&PA(e,e.return,n),$s(e);break;case 27:wc(e.stateNode);case 26:case 5:br(e,e.return),$s(e);break;case 22:e.memoizedState===null&&$s(e);break;case 30:$s(e);break;default:$s(e)}t=t.sibling}}function Di(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,s=e,a=s.flags;switch(s.tag){case 0:case 11:case 15:Di(i,s,n),yu(4,s);break;case 1:if(Di(i,s,n),r=s,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){qe(r,r.return,u)}if(r=s,i=r.updateQueue,i!==null){var o=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)jS(c[i],o)}catch(u){qe(r,r.return,u)}}n&&a&64&&MA(s),yc(s,s.return);break;case 27:LA(s);case 26:case 5:Di(i,s,n),n&&r===null&&a&4&&VA(s),yc(s,s.return);break;case 12:Di(i,s,n);break;case 13:Di(i,s,n),n&&a&4&&BA(i,s);break;case 22:s.memoizedState===null&&Di(i,s,n),yc(s,s.return);break;case 30:break;default:Di(i,s,n)}e=e.sibling}}function cv(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&du(n))}function uv(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&du(t))}function hr(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)HA(t,e,n,r),e=e.sibling}function HA(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:hr(t,e,n,r),i&2048&&yu(9,e);break;case 1:hr(t,e,n,r);break;case 3:hr(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&du(t)));break;case 12:if(i&2048){hr(t,e,n,r),t=e.stateNode;try{var s=e.memoizedProps,a=s.id,o=s.onPostCommit;typeof o=="function"&&o(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){qe(e,e.return,c)}}else hr(t,e,n,r);break;case 13:hr(t,e,n,r);break;case 23:break;case 22:s=e.stateNode,a=e.alternate,e.memoizedState!==null?s._visibility&2?hr(t,e,n,r):vc(t,e):s._visibility&2?hr(t,e,n,r):(s._visibility|=2,Ka(t,e,n,r,(e.subtreeFlags&10256)!==0)),i&2048&&cv(a,e);break;case 24:hr(t,e,n,r),i&2048&&uv(e.alternate,e);break;default:hr(t,e,n,r)}}function Ka(t,e,n,r,i){for(i=i&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var s=t,a=e,o=n,c=r,u=a.flags;switch(a.tag){case 0:case 11:case 15:Ka(s,a,o,c,i),yu(8,a);break;case 23:break;case 22:var f=a.stateNode;a.memoizedState!==null?f._visibility&2?Ka(s,a,o,c,i):vc(s,a):(f._visibility|=2,Ka(s,a,o,c,i)),i&&u&2048&&cv(a.alternate,a);break;case 24:Ka(s,a,o,c,i),i&&u&2048&&uv(a.alternate,a);break;default:Ka(s,a,o,c,i)}e=e.sibling}}function vc(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:vc(n,r),i&2048&&cv(r.alternate,r);break;case 24:vc(n,r),i&2048&&uv(r.alternate,r);break;default:vc(n,r)}e=e.sibling}}var tc=8192;function za(t){if(t.subtreeFlags&tc)for(t=t.child;t!==null;)GA(t),t=t.sibling}function GA(t){switch(t.tag){case 26:za(t),t.flags&tc&&t.memoizedState!==null&&OD(rr,t.memoizedState,t.memoizedProps);break;case 5:za(t);break;case 3:case 4:var e=rr;rr=Mh(t.stateNode.containerInfo),za(t),rr=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=tc,tc=16777216,za(t),tc=e):za(t));break;default:za(t)}}function $A(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Kl(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];At=r,QA(r,t)}$A(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)KA(t),t=t.sibling}function KA(t){switch(t.tag){case 0:case 11:case 15:Kl(t),t.flags&2048&&_s(9,t,t.return);break;case 3:Kl(t);break;case 12:Kl(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Bf(t)):Kl(t);break;default:Kl(t)}}function Bf(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];At=r,QA(r,t)}$A(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:_s(8,e,e.return),Bf(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Bf(e));break;default:Bf(e)}t=t.sibling}}function QA(t,e){for(;At!==null;){var n=At;switch(n.tag){case 0:case 11:case 15:_s(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:du(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,At=r;else e:for(n=t;At!==null;){r=At;var i=r.sibling,s=r.return;if(UA(r),r===n){At=null;break e}if(i!==null){i.return=s,At=i;break e}At=s}}}var KO={getCacheForType:function(t){var e=Yt(bt),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},QO=typeof WeakMap=="function"?WeakMap:Map,Le=0,Ge=null,ge=null,Se=0,ke=0,Sn=null,es=!1,dl=!1,fv=!1,ci=0,lt=0,bs=0,ca=0,hv=0,Gn=0,Qo=0,_c=null,un=null,dg=!1,dv=0,Rh=1/0,Ch=null,os=null,Pt=0,ls=null,Yo=null,To=0,mg=0,pg=null,YA=null,bc=0,gg=null;function On(){if(Le&2&&Se!==0)return Se&-Se;if(ne.T!==null){var t=Ho;return t!==0?t:pv()}return aS()}function XA(){Gn===0&&(Gn=!(Se&536870912)||Ne?nS():536870912);var t=$n.current;return t!==null&&(t.flags|=32),Gn}function Dn(t,e,n){(t===Ge&&(ke===2||ke===9)||t.cancelPendingCommit!==null)&&(Xo(t,0),ts(t,Se,Gn,!1)),lu(t,n),(!(Le&2)||t!==Ge)&&(t===Ge&&(!(Le&2)&&(ca|=n),lt===4&&ts(t,Se,Gn,!1)),Vr(t))}function WA(t,e,n){if(Le&6)throw Error(F(327));var r=!n&&(e&124)===0&&(e&t.expiredLanes)===0||ou(t,e),i=r?WO(t,e):Jm(t,e,!0),s=r;do{if(i===0){dl&&!r&&ts(t,e,0,!1);break}else{if(n=t.current.alternate,s&&!YO(n)){i=Jm(t,e,!1),s=!1;continue}if(i===2){if(s=e,t.errorRecoveryDisabledLanes&s)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var o=t;i=_c;var c=o.current.memoizedState.isDehydrated;if(c&&(Xo(o,a).flags|=256),a=Jm(o,a,!1),a!==2){if(fv&&!c){o.errorRecoveryDisabledLanes|=s,ca|=s,i=4;break e}s=un,un=i,s!==null&&(un===null?un=s:un.push.apply(un,s))}i=a}if(s=!1,i!==2)continue}}if(i===1){Xo(t,0),ts(t,e,0,!0);break}e:{switch(r=t,s=i,s){case 0:case 1:throw Error(F(345));case 4:if((e&4194048)!==e)break;case 6:ts(r,e,Gn,!es);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(F(329))}if((e&62914560)===e&&(i=dv+300-Tr(),10<i)){if(ts(r,e,Gn,!es),md(r,0,!0)!==0)break e;r.timeoutHandle=g1(xb.bind(null,r,n,un,Ch,dg,e,Gn,ca,Qo,es,s,2,-0,0),i);break e}xb(r,n,un,Ch,dg,e,Gn,ca,Qo,es,s,0,-0,0)}}break}while(!0);Vr(t)}function xb(t,e,n,r,i,s,a,o,c,u,f,d,p,h){if(t.timeoutHandle=-1,d=e.subtreeFlags,(d&8192||(d&16785408)===16785408)&&(Lc={stylesheets:null,count:0,unsuspend:ND},GA(e),d=DD(),d!==null)){t.cancelPendingCommit=d(Cb.bind(null,t,e,s,n,r,i,a,o,c,f,1,p,h)),ts(t,s,a,!u);return}Cb(t,e,s,n,r,i,a,o,c)}function YO(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Pn(s(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ts(t,e,n,r){e&=~hv,e&=~ca,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var s=31-Nn(i),a=1<<s;r[s]=-1,i&=~a}n!==0&&iS(t,n,e)}function Sd(){return Le&6?!0:(vu(0),!1)}function mv(){if(ge!==null){if(ke===0)var t=ge.return;else t=ge,Jr=Ca=null,ev(t),Eo=null,Pc=0,t=ge;for(;t!==null;)DA(t.alternate,t),t=t.return;ge=null}}function Xo(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,dD(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),mv(),Ge=t,ge=n=ri(t.current,null),Se=e,ke=0,Sn=null,es=!1,dl=ou(t,e),fv=!1,Qo=Gn=hv=ca=bs=lt=0,un=_c=null,dg=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-Nn(r),s=1<<i;e|=t[i],r&=~s}return ci=e,vd(),n}function ZA(t,e){me=null,ne.H=wh,e===mu||e===bd?(e=ib(),ke=3):e===kS?(e=ib(),ke=4):ke=e===xA?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Sn=e,ge===null&&(lt=1,Sh(t,Fn(e,t.current)))}function JA(){var t=ne.H;return ne.H=wh,t===null?wh:t}function e1(){var t=ne.A;return ne.A=KO,t}function yg(){lt=4,es||(Se&4194048)!==Se&&$n.current!==null||(dl=!0),!(bs&134217727)&&!(ca&134217727)||Ge===null||ts(Ge,Se,Gn,!1)}function Jm(t,e,n){var r=Le;Le|=2;var i=JA(),s=e1();(Ge!==t||Se!==e)&&(Ch=null,Xo(t,e)),e=!1;var a=lt;e:do try{if(ke!==0&&ge!==null){var o=ge,c=Sn;switch(ke){case 8:mv(),a=6;break e;case 3:case 2:case 9:case 6:$n.current===null&&(e=!0);var u=ke;if(ke=0,Sn=null,fo(t,o,c,u),n&&dl){a=0;break e}break;default:u=ke,ke=0,Sn=null,fo(t,o,c,u)}}XO(),a=lt;break}catch(f){ZA(t,f)}while(!0);return e&&t.shellSuspendCounter++,Jr=Ca=null,Le=r,ne.H=i,ne.A=s,ge===null&&(Ge=null,Se=0,vd()),a}function XO(){for(;ge!==null;)t1(ge)}function WO(t,e){var n=Le;Le|=2;var r=JA(),i=e1();Ge!==t||Se!==e?(Ch=null,Rh=Tr()+500,Xo(t,e)):dl=ou(t,e);e:do try{if(ke!==0&&ge!==null){e=ge;var s=Sn;t:switch(ke){case 1:ke=0,Sn=null,fo(t,e,s,1);break;case 2:case 9:if(rb(s)){ke=0,Sn=null,Rb(e);break}e=function(){ke!==2&&ke!==9||Ge!==t||(ke=7),Vr(t)},s.then(e,e);break e;case 3:ke=7;break e;case 4:ke=5;break e;case 7:rb(s)?(ke=0,Sn=null,Rb(e)):(ke=0,Sn=null,fo(t,e,s,7));break;case 5:var a=null;switch(ge.tag){case 26:a=ge.memoizedState;case 5:case 27:var o=ge;if(!a||b1(a)){ke=0,Sn=null;var c=o.sibling;if(c!==null)ge=c;else{var u=o.return;u!==null?(ge=u,Ad(u)):ge=null}break t}}ke=0,Sn=null,fo(t,e,s,5);break;case 6:ke=0,Sn=null,fo(t,e,s,6);break;case 8:mv(),lt=6;break e;default:throw Error(F(462))}}ZO();break}catch(f){ZA(t,f)}while(!0);return Jr=Ca=null,ne.H=r,ne.A=i,Le=n,ge!==null?0:(Ge=null,Se=0,vd(),lt)}function ZO(){for(;ge!==null&&!bN();)t1(ge)}function t1(t){var e=OA(t.alternate,t,ci);t.memoizedProps=t.pendingProps,e===null?Ad(t):ge=e}function Rb(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=bb(n,e,e.pendingProps,e.type,void 0,Se);break;case 11:e=bb(n,e,e.pendingProps,e.type.render,e.ref,Se);break;case 5:ev(e);default:DA(n,e),e=ge=DS(e,ci),e=OA(n,e,ci)}t.memoizedProps=t.pendingProps,e===null?Ad(t):ge=e}function fo(t,e,n,r){Jr=Ca=null,ev(e),Eo=null,Pc=0;var i=e.return;try{if(BO(t,i,e,n,Se)){lt=1,Sh(t,Fn(n,t.current)),ge=null;return}}catch(s){if(i!==null)throw ge=i,s;lt=1,Sh(t,Fn(n,t.current)),ge=null;return}e.flags&32768?(Ne||r===1?t=!0:dl||Se&536870912?t=!1:(es=t=!0,(r===2||r===9||r===3||r===6)&&(r=$n.current,r!==null&&r.tag===13&&(r.flags|=16384))),n1(e,t)):Ad(e)}function Ad(t){var e=t;do{if(e.flags&32768){n1(e,es);return}t=e.return;var n=qO(e.alternate,e,ci);if(n!==null){ge=n;return}if(e=e.sibling,e!==null){ge=e;return}ge=e=t}while(e!==null);lt===0&&(lt=5)}function n1(t,e){do{var n=HO(t.alternate,t);if(n!==null){n.flags&=32767,ge=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){ge=t;return}ge=t=n}while(t!==null);lt=6,ge=null}function Cb(t,e,n,r,i,s,a,o,c){t.cancelPendingCommit=null;do xd();while(Pt!==0);if(Le&6)throw Error(F(327));if(e!==null){if(e===t.current)throw Error(F(177));if(s=e.lanes|e.childLanes,s|=By,NN(t,n,s,a,o,c),t===Ge&&(ge=Ge=null,Se=0),Yo=e,ls=t,To=n,mg=s,pg=i,YA=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,nD(fh,function(){return o1(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=ne.T,ne.T=null,i=Oe.p,Oe.p=2,a=Le,Le|=4;try{GO(t,e,n)}finally{Le=a,Oe.p=i,ne.T=r}}Pt=1,r1(),i1(),s1()}}function r1(){if(Pt===1){Pt=0;var t=ls,e=Yo,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=ne.T,ne.T=null;var r=Oe.p;Oe.p=2;var i=Le;Le|=4;try{FA(e,t);var s=wg,a=SS(t.containerInfo),o=s.focusedElem,c=s.selectionRange;if(a!==o&&o&&o.ownerDocument&&TS(o.ownerDocument.documentElement,o)){if(c!==null&&zy(o)){var u=c.start,f=c.end;if(f===void 0&&(f=u),"selectionStart"in o)o.selectionStart=u,o.selectionEnd=Math.min(f,o.value.length);else{var d=o.ownerDocument||document,p=d&&d.defaultView||window;if(p.getSelection){var h=p.getSelection(),S=o.textContent.length,v=Math.min(c.start,S),w=c.end===void 0?v:Math.min(c.end,S);!h.extend&&v>w&&(a=w,w=v,v=a);var _=Y0(o,v),b=Y0(o,w);if(_&&b&&(h.rangeCount!==1||h.anchorNode!==_.node||h.anchorOffset!==_.offset||h.focusNode!==b.node||h.focusOffset!==b.offset)){var E=d.createRange();E.setStart(_.node,_.offset),h.removeAllRanges(),v>w?(h.addRange(E),h.extend(b.node,b.offset)):(E.setEnd(b.node,b.offset),h.addRange(E))}}}}for(d=[],h=o;h=h.parentNode;)h.nodeType===1&&d.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<d.length;o++){var N=d[o];N.element.scrollLeft=N.left,N.element.scrollTop=N.top}}kh=!!bg,wg=bg=null}finally{Le=i,Oe.p=r,ne.T=n}}t.current=e,Pt=2}}function i1(){if(Pt===2){Pt=0;var t=ls,e=Yo,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=ne.T,ne.T=null;var r=Oe.p;Oe.p=2;var i=Le;Le|=4;try{jA(t,e.alternate,e)}finally{Le=i,Oe.p=r,ne.T=n}}Pt=3}}function s1(){if(Pt===4||Pt===3){Pt=0,wN();var t=ls,e=Yo,n=To,r=YA;e.subtreeFlags&10256||e.flags&10256?Pt=5:(Pt=0,Yo=ls=null,a1(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(os=null),My(n),e=e.stateNode,In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(au,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=ne.T,i=Oe.p,Oe.p=2,ne.T=null;try{for(var s=t.onRecoverableError,a=0;a<r.length;a++){var o=r[a];s(o.value,{componentStack:o.stack})}}finally{ne.T=e,Oe.p=i}}To&3&&xd(),Vr(t),i=t.pendingLanes,n&4194090&&i&42?t===gg?bc++:(bc=0,gg=t):bc=0,vu(0)}}function a1(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,du(e)))}function xd(t){return r1(),i1(),s1(),o1()}function o1(){if(Pt!==5)return!1;var t=ls,e=mg;mg=0;var n=My(To),r=ne.T,i=Oe.p;try{Oe.p=32>n?32:n,ne.T=null,n=pg,pg=null;var s=ls,a=To;if(Pt=0,Yo=ls=null,To=0,Le&6)throw Error(F(331));var o=Le;if(Le|=4,KA(s.current),HA(s,s.current,a,n),Le=o,vu(0,!1),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(au,s)}catch{}return!0}finally{Oe.p=i,ne.T=r,a1(t,e)}}function Ib(t,e,n){e=Fn(n,e),e=cg(t.stateNode,e,2),t=as(t,e,2),t!==null&&(lu(t,2),Vr(t))}function qe(t,e,n){if(t.tag===3)Ib(t,t,n);else for(;e!==null;){if(e.tag===3){Ib(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(os===null||!os.has(r))){t=Fn(n,t),n=SA(2),r=as(e,n,2),r!==null&&(AA(n,r,e,t),lu(r,2),Vr(r));break}}e=e.return}}function ep(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new QO;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(fv=!0,i.add(n),t=JO.bind(null,t,e,n),e.then(t,t))}function JO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Ge===t&&(Se&n)===n&&(lt===4||lt===3&&(Se&62914560)===Se&&300>Tr()-dv?!(Le&2)&&Xo(t,0):hv|=n,Qo===Se&&(Qo=0)),Vr(t)}function l1(t,e){e===0&&(e=rS()),t=hl(t,e),t!==null&&(lu(t,e),Vr(t))}function eD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),l1(t,n)}function tD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(F(314))}r!==null&&r.delete(e),l1(t,n)}function nD(t,e){return Oy(t,e)}var Ih=null,Qa=null,vg=!1,Nh=!1,tp=!1,ua=0;function Vr(t){t!==Qa&&t.next===null&&(Qa===null?Ih=Qa=t:Qa=Qa.next=t),Nh=!0,vg||(vg=!0,iD())}function vu(t,e){if(!tp&&Nh){tp=!0;do for(var n=!1,r=Ih;r!==null;){if(t!==0){var i=r.pendingLanes;if(i===0)var s=0;else{var a=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-Nn(42|t)+1)-1,s&=i&~(a&~o),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Nb(r,s))}else s=Se,s=md(r,r===Ge?s:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(s&3)||ou(r,s)||(n=!0,Nb(r,s));r=r.next}while(n);tp=!1}}function rD(){c1()}function c1(){Nh=vg=!1;var t=0;ua!==0&&(hD()&&(t=ua),ua=0);for(var e=Tr(),n=null,r=Ih;r!==null;){var i=r.next,s=u1(r,e);s===0?(r.next=null,n===null?Ih=i:n.next=i,i===null&&(Qa=n)):(n=r,(t!==0||s&3)&&(Nh=!0)),r=i}vu(t)}function u1(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var a=31-Nn(s),o=1<<a,c=i[a];c===-1?(!(o&n)||o&r)&&(i[a]=IN(o,e)):c<=e&&(t.expiredLanes|=o),s&=~o}if(e=Ge,n=Se,n=md(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(ke===2||ke===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Rm(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||ou(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&Rm(r),My(n)){case 2:case 8:n=eS;break;case 32:n=fh;break;case 268435456:n=tS;break;default:n=fh}return r=f1.bind(null,t),n=Oy(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&Rm(r),t.callbackPriority=2,t.callbackNode=null,2}function f1(t,e){if(Pt!==0&&Pt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(xd()&&t.callbackNode!==n)return null;var r=Se;return r=md(t,t===Ge?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(WA(t,r,e),u1(t,Tr()),t.callbackNode!=null&&t.callbackNode===n?f1.bind(null,t):null)}function Nb(t,e){if(xd())return null;WA(t,e,!0)}function iD(){mD(function(){Le&6?Oy(JT,rD):c1()})}function pv(){return ua===0&&(ua=nS()),ua}function Ob(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Mf(""+t)}function Db(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function sD(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var s=Ob((i[mn]||null).action),a=r.submitter;a&&(e=(e=a[mn]||null)?Ob(e.formAction):a.getAttribute("formAction"),e!==null&&(s=e,a=null));var o=new pd("action","action",null,r,i);t.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ua!==0){var c=a?Db(i,a):new FormData(i);og(n,{pending:!0,data:c,method:i.method,action:s},null,c)}}else typeof s=="function"&&(o.preventDefault(),c=a?Db(i,a):new FormData(i),og(n,{pending:!0,data:c,method:i.method,action:s},s,c))},currentTarget:i}]})}}for(var np=0;np<Yp.length;np++){var rp=Yp[np],aD=rp.toLowerCase(),oD=rp[0].toUpperCase()+rp.slice(1);ur(aD,"on"+oD)}ur(xS,"onAnimationEnd");ur(RS,"onAnimationIteration");ur(CS,"onAnimationStart");ur("dblclick","onDoubleClick");ur("focusin","onFocus");ur("focusout","onBlur");ur(SO,"onTransitionRun");ur(AO,"onTransitionStart");ur(xO,"onTransitionCancel");ur(IS,"onTransitionEnd");Fo("onMouseEnter",["mouseout","mouseover"]);Fo("onMouseLeave",["mouseout","mouseover"]);Fo("onPointerEnter",["pointerout","pointerover"]);Fo("onPointerLeave",["pointerout","pointerover"]);Aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Aa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vc));function h1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=u;try{s(i)}catch(f){Th(f)}i.currentTarget=null,s=c}else for(a=0;a<r.length;a++){if(o=r[a],c=o.instance,u=o.currentTarget,o=o.listener,c!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=u;try{s(i)}catch(f){Th(f)}i.currentTarget=null,s=c}}}}function pe(t,e){var n=e[Fp];n===void 0&&(n=e[Fp]=new Set);var r=t+"__bubble";n.has(r)||(d1(e,t,2,!1),n.add(r))}function ip(t,e,n){var r=0;e&&(r|=4),d1(n,t,r,e)}var df="_reactListening"+Math.random().toString(36).slice(2);function gv(t){if(!t[df]){t[df]=!0,oS.forEach(function(n){n!=="selectionchange"&&(lD.has(n)||ip(n,!1,t),ip(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[df]||(e[df]=!0,ip("selectionchange",!1,e))}}function d1(t,e,n,r){switch(A1(e)){case 2:var i=VD;break;case 8:i=kD;break;default:i=bv}n=i.bind(null,e,n,t),i=void 0,!$p||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function sp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&a.stateNode.containerInfo===i)return;a=a.return}for(;o!==null;){if(a=no(o),a===null)return;if(c=a.tag,c===5||c===6||c===26||c===27){r=s=a;continue e}o=o.parentNode}}r=r.return}pS(function(){var u=s,f=ky(n),d=[];e:{var p=NS.get(t);if(p!==void 0){var h=pd,S=t;switch(t){case"keypress":if(Vf(n)===0)break e;case"keydown":case"keyup":h=nO;break;case"focusin":S="focus",h=Vm;break;case"focusout":S="blur",h=Vm;break;case"beforeblur":case"afterblur":h=Vm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=U0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=HN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=sO;break;case xS:case RS:case CS:h=KN;break;case IS:h=oO;break;case"scroll":case"scrollend":h=FN;break;case"wheel":h=cO;break;case"copy":case"cut":case"paste":h=YN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=B0;break;case"toggle":case"beforetoggle":h=fO}var v=(e&4)!==0,w=!v&&(t==="scroll"||t==="scrollend"),_=v?p!==null?p+"Capture":null:p;v=[];for(var b=u,E;b!==null;){var N=b;if(E=N.stateNode,N=N.tag,N!==5&&N!==26&&N!==27||E===null||_===null||(N=Ic(b,_),N!=null&&v.push(kc(b,N,E))),w)break;b=b.return}0<v.length&&(p=new h(p,S,null,n,f),d.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",p&&n!==Gp&&(S=n.relatedTarget||n.fromElement)&&(no(S)||S[ul]))break e;if((h||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,h?(S=n.relatedTarget||n.toElement,h=u,S=S?no(S):null,S!==null&&(w=su(S),v=S.tag,S!==w||v!==5&&v!==27&&v!==6)&&(S=null)):(h=null,S=u),h!==S)){if(v=U0,N="onMouseLeave",_="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(v=B0,N="onPointerLeave",_="onPointerEnter",b="pointer"),w=h==null?p:ec(h),E=S==null?p:ec(S),p=new v(N,b+"leave",h,n,f),p.target=w,p.relatedTarget=E,N=null,no(f)===u&&(v=new v(_,b+"enter",S,n,f),v.target=E,v.relatedTarget=w,N=v),w=N,h&&S)t:{for(v=h,_=S,b=0,E=v;E;E=Ba(E))b++;for(E=0,N=_;N;N=Ba(N))E++;for(;0<b-E;)v=Ba(v),b--;for(;0<E-b;)_=Ba(_),E--;for(;b--;){if(v===_||_!==null&&v===_.alternate)break t;v=Ba(v),_=Ba(_)}v=null}else v=null;h!==null&&Mb(d,p,h,v,!1),S!==null&&w!==null&&Mb(d,w,S,v,!0)}}e:{if(p=u?ec(u):window,h=p.nodeName&&p.nodeName.toLowerCase(),h==="select"||h==="input"&&p.type==="file")var P=G0;else if(H0(p))if(wS)P=wO;else{P=_O;var k=vO}else h=p.nodeName,!h||h.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?u&&Vy(u.elementType)&&(P=G0):P=bO;if(P&&(P=P(t,u))){bS(d,P,n,f);break e}k&&k(t,p,u),t==="focusout"&&u&&p.type==="number"&&u.memoizedProps.value!=null&&Hp(p,"number",p.value)}switch(k=u?ec(u):window,t){case"focusin":(H0(k)||k.contentEditable==="true")&&(so=k,Kp=u,uc=null);break;case"focusout":uc=Kp=so=null;break;case"mousedown":Qp=!0;break;case"contextmenu":case"mouseup":case"dragend":Qp=!1,X0(d,n,f);break;case"selectionchange":if(TO)break;case"keydown":case"keyup":X0(d,n,f)}var x;if(Uy)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else io?vS(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(yS&&n.locale!=="ko"&&(io||A!=="onCompositionStart"?A==="onCompositionEnd"&&io&&(x=gS()):(Ji=f,Ly="value"in Ji?Ji.value:Ji.textContent,io=!0)),k=Oh(u,A),0<k.length&&(A=new z0(A,t,null,n,f),d.push({event:A,listeners:k}),x?A.data=x:(x=_S(n),x!==null&&(A.data=x)))),(x=dO?mO(t,n):pO(t,n))&&(A=Oh(u,"onBeforeInput"),0<A.length&&(k=new z0("onBeforeInput","beforeinput",null,n,f),d.push({event:k,listeners:A}),k.data=x)),sD(d,t,u,n,f)}h1(d,e)})}function kc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Oh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||s===null||(i=Ic(t,n),i!=null&&r.unshift(kc(t,i,s)),i=Ic(t,e),i!=null&&r.push(kc(t,i,s))),t.tag===3)return r;t=t.return}return[]}function Ba(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Mb(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,c=o.alternate,u=o.stateNode;if(o=o.tag,c!==null&&c===r)break;o!==5&&o!==26&&o!==27||u===null||(c=u,i?(u=Ic(n,s),u!=null&&a.unshift(kc(n,u,c))):i||(u=Ic(n,s),u!=null&&a.push(kc(n,u,c)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var cD=/\r\n?/g,uD=/\u0000|\uFFFD/g;function Pb(t){return(typeof t=="string"?t:""+t).replace(cD,`
`).replace(uD,"")}function m1(t,e){return e=Pb(e),Pb(t)===e}function Rd(){}function je(t,e,n,r,i,s){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||qo(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&qo(t,""+r);break;case"className":af(t,"class",r);break;case"tabIndex":af(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":af(t,n,r);break;case"style":mS(t,r,s);break;case"data":if(e!=="object"){af(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=Mf(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&je(t,e,"name",i.name,i,null),je(t,e,"formEncType",i.formEncType,i,null),je(t,e,"formMethod",i.formMethod,i,null),je(t,e,"formTarget",i.formTarget,i,null)):(je(t,e,"encType",i.encType,i,null),je(t,e,"method",i.method,i,null),je(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=Mf(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=Rd);break;case"onScroll":r!=null&&pe("scroll",t);break;case"onScrollEnd":r!=null&&pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(F(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(F(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=Mf(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":pe("beforetoggle",t),pe("toggle",t),Df(t,"popover",r);break;case"xlinkActuate":qr(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":qr(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":qr(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":qr(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":qr(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":qr(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":qr(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":qr(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":qr(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Df(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=zN.get(n)||n,Df(t,n,r))}}function _g(t,e,n,r,i,s){switch(n){case"style":mS(t,r,s);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(F(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(F(60));t.innerHTML=n}}break;case"children":typeof r=="string"?qo(t,r):(typeof r=="number"||typeof r=="bigint")&&qo(t,""+r);break;case"onScroll":r!=null&&pe("scroll",t);break;case"onScrollEnd":r!=null&&pe("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Rd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!lS.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),s=t[mn]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,i),typeof r=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):Df(t,n,r)}}}function kt(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pe("error",t),pe("load",t);var r=!1,i=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(F(137,e));default:je(t,e,s,a,n,null)}}i&&je(t,e,"srcSet",n.srcSet,n,null),r&&je(t,e,"src",n.src,n,null);return;case"input":pe("invalid",t);var o=s=a=i=null,c=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var f=n[r];if(f!=null)switch(r){case"name":i=f;break;case"type":a=f;break;case"checked":c=f;break;case"defaultChecked":u=f;break;case"value":s=f;break;case"defaultValue":o=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(F(137,e));break;default:je(t,e,r,f,n,null)}}fS(t,s,o,c,u,a,i,!1),hh(t);return;case"select":pe("invalid",t),r=a=s=null;for(i in n)if(n.hasOwnProperty(i)&&(o=n[i],o!=null))switch(i){case"value":s=o;break;case"defaultValue":a=o;break;case"multiple":r=o;default:je(t,e,i,o,n,null)}e=s,n=a,t.multiple=!!r,e!=null?yo(t,!!r,e,!1):n!=null&&yo(t,!!r,n,!0);return;case"textarea":pe("invalid",t),s=i=r=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":r=o;break;case"defaultValue":i=o;break;case"children":s=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(F(91));break;default:je(t,e,a,o,n,null)}dS(t,r,i,s),hh(t);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(r=n[c],r!=null))switch(c){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:je(t,e,c,r,n,null)}return;case"dialog":pe("beforetoggle",t),pe("toggle",t),pe("cancel",t),pe("close",t);break;case"iframe":case"object":pe("load",t);break;case"video":case"audio":for(r=0;r<Vc.length;r++)pe(Vc[r],t);break;case"image":pe("error",t),pe("load",t);break;case"details":pe("toggle",t);break;case"embed":case"source":case"link":pe("error",t),pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(F(137,e));default:je(t,e,u,r,n,null)}return;default:if(Vy(e)){for(f in n)n.hasOwnProperty(f)&&(r=n[f],r!==void 0&&_g(t,e,f,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(r=n[o],r!=null&&je(t,e,o,r,n,null))}function fD(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,a=null,o=null,c=null,u=null,f=null;for(h in n){var d=n[h];if(n.hasOwnProperty(h)&&d!=null)switch(h){case"checked":break;case"value":break;case"defaultValue":c=d;default:r.hasOwnProperty(h)||je(t,e,h,null,r,d)}}for(var p in r){var h=r[p];if(d=n[p],r.hasOwnProperty(p)&&(h!=null||d!=null))switch(p){case"type":s=h;break;case"name":i=h;break;case"checked":u=h;break;case"defaultChecked":f=h;break;case"value":a=h;break;case"defaultValue":o=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(F(137,e));break;default:h!==d&&je(t,e,p,h,r,d)}}qp(t,a,o,c,u,f,s,i);return;case"select":h=a=o=p=null;for(s in n)if(c=n[s],n.hasOwnProperty(s)&&c!=null)switch(s){case"value":break;case"multiple":h=c;default:r.hasOwnProperty(s)||je(t,e,s,null,r,c)}for(i in r)if(s=r[i],c=n[i],r.hasOwnProperty(i)&&(s!=null||c!=null))switch(i){case"value":p=s;break;case"defaultValue":o=s;break;case"multiple":a=s;default:s!==c&&je(t,e,i,s,r,c)}e=o,n=a,r=h,p!=null?yo(t,!!n,p,!1):!!r!=!!n&&(e!=null?yo(t,!!n,e,!0):yo(t,!!n,n?[]:"",!1));return;case"textarea":h=p=null;for(o in n)if(i=n[o],n.hasOwnProperty(o)&&i!=null&&!r.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:je(t,e,o,null,r,i)}for(a in r)if(i=r[a],s=n[a],r.hasOwnProperty(a)&&(i!=null||s!=null))switch(a){case"value":p=i;break;case"defaultValue":h=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(F(91));break;default:i!==s&&je(t,e,a,i,r,s)}hS(t,p,h);return;case"option":for(var S in n)if(p=n[S],n.hasOwnProperty(S)&&p!=null&&!r.hasOwnProperty(S))switch(S){case"selected":t.selected=!1;break;default:je(t,e,S,null,r,p)}for(c in r)if(p=r[c],h=n[c],r.hasOwnProperty(c)&&p!==h&&(p!=null||h!=null))switch(c){case"selected":t.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:je(t,e,c,p,r,h)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var v in n)p=n[v],n.hasOwnProperty(v)&&p!=null&&!r.hasOwnProperty(v)&&je(t,e,v,null,r,p);for(u in r)if(p=r[u],h=n[u],r.hasOwnProperty(u)&&p!==h&&(p!=null||h!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(F(137,e));break;default:je(t,e,u,p,r,h)}return;default:if(Vy(e)){for(var w in n)p=n[w],n.hasOwnProperty(w)&&p!==void 0&&!r.hasOwnProperty(w)&&_g(t,e,w,void 0,r,p);for(f in r)p=r[f],h=n[f],!r.hasOwnProperty(f)||p===h||p===void 0&&h===void 0||_g(t,e,f,p,r,h);return}}for(var _ in n)p=n[_],n.hasOwnProperty(_)&&p!=null&&!r.hasOwnProperty(_)&&je(t,e,_,null,r,p);for(d in r)p=r[d],h=n[d],!r.hasOwnProperty(d)||p===h||p==null&&h==null||je(t,e,d,p,r,h)}var bg=null,wg=null;function Dh(t){return t.nodeType===9?t:t.ownerDocument}function Vb(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function p1(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Eg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ap=null;function hD(){var t=window.event;return t&&t.type==="popstate"?t===ap?!1:(ap=t,!0):(ap=null,!1)}var g1=typeof setTimeout=="function"?setTimeout:void 0,dD=typeof clearTimeout=="function"?clearTimeout:void 0,kb=typeof Promise=="function"?Promise:void 0,mD=typeof queueMicrotask=="function"?queueMicrotask:typeof kb<"u"?function(t){return kb.resolve(null).then(t).catch(pD)}:g1;function pD(t){setTimeout(function(){throw t})}function Os(t){return t==="head"}function Lb(t,e){var n=e,r=0,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(0<r&&8>r){n=r;var a=t.ownerDocument;if(n&1&&wc(a.documentElement),n&2&&wc(a.body),n&4)for(n=a.head,wc(n),a=n.firstChild;a;){var o=a.nextSibling,c=a.nodeName;a[cu]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=o}}if(i===0){t.removeChild(s),Bc(e);return}i--}else n==="$"||n==="$?"||n==="$!"?i++:r=n.charCodeAt(0)-48;else r=0;n=s}while(n);Bc(e)}function Tg(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Tg(n),Py(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function gD(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[cu])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=sr(t.nextSibling),t===null)break}return null}function yD(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=sr(t.nextSibling),t===null))return null;return t}function Sg(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function vD(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function sr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var Ag=null;function jb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function y1(t,e,n){switch(e=Dh(n),t){case"html":if(t=e.documentElement,!t)throw Error(F(452));return t;case"head":if(t=e.head,!t)throw Error(F(453));return t;case"body":if(t=e.body,!t)throw Error(F(454));return t;default:throw Error(F(451))}}function wc(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Py(t)}var Kn=new Map,Ub=new Set;function Mh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var vi=Oe.d;Oe.d={f:_D,r:bD,D:wD,C:ED,L:TD,m:SD,X:xD,S:AD,M:RD};function _D(){var t=vi.f(),e=Sd();return t||e}function bD(t){var e=fl(t);e!==null&&e.tag===5&&e.type==="form"?uA(e):vi.r(t)}var ml=typeof document>"u"?null:document;function v1(t,e,n){var r=ml;if(r&&typeof e=="string"&&e){var i=Bn(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),Ub.has(i)||(Ub.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),kt(e,"link",t),xt(e),r.head.appendChild(e)))}}function wD(t){vi.D(t),v1("dns-prefetch",t,null)}function ED(t,e){vi.C(t,e),v1("preconnect",t,e)}function TD(t,e,n){vi.L(t,e,n);var r=ml;if(r&&t&&e){var i='link[rel="preload"][as="'+Bn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Bn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Bn(n.imageSizes)+'"]')):i+='[href="'+Bn(t)+'"]';var s=i;switch(e){case"style":s=Wo(t);break;case"script":s=pl(t)}Kn.has(s)||(t=Ye({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Kn.set(s,t),r.querySelector(i)!==null||e==="style"&&r.querySelector(_u(s))||e==="script"&&r.querySelector(bu(s))||(e=r.createElement("link"),kt(e,"link",t),xt(e),r.head.appendChild(e)))}}function SD(t,e){vi.m(t,e);var n=ml;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+Bn(r)+'"][href="'+Bn(t)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=pl(t)}if(!Kn.has(s)&&(t=Ye({rel:"modulepreload",href:t},e),Kn.set(s,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(bu(s)))return}r=n.createElement("link"),kt(r,"link",t),xt(r),n.head.appendChild(r)}}}function AD(t,e,n){vi.S(t,e,n);var r=ml;if(r&&t){var i=go(r).hoistableStyles,s=Wo(t);e=e||"default";var a=i.get(s);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(_u(s)))o.loading=5;else{t=Ye({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Kn.get(s))&&yv(t,n);var c=a=r.createElement("link");xt(c),kt(c,"link",t),c._p=new Promise(function(u,f){c.onload=u,c.onerror=f}),c.addEventListener("load",function(){o.loading|=1}),c.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Ff(a,e,r)}a={type:"stylesheet",instance:a,count:1,state:o},i.set(s,a)}}}function xD(t,e){vi.X(t,e);var n=ml;if(n&&t){var r=go(n).hoistableScripts,i=pl(t),s=r.get(i);s||(s=n.querySelector(bu(i)),s||(t=Ye({src:t,async:!0},e),(e=Kn.get(i))&&vv(t,e),s=n.createElement("script"),xt(s),kt(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}function RD(t,e){vi.M(t,e);var n=ml;if(n&&t){var r=go(n).hoistableScripts,i=pl(t),s=r.get(i);s||(s=n.querySelector(bu(i)),s||(t=Ye({src:t,async:!0,type:"module"},e),(e=Kn.get(i))&&vv(t,e),s=n.createElement("script"),xt(s),kt(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}function zb(t,e,n,r){var i=(i=is.current)?Mh(i):null;if(!i)throw Error(F(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Wo(n.href),n=go(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Wo(n.href);var s=go(i).hoistableStyles,a=s.get(t);if(a||(i=i.ownerDocument||i,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,a),(s=i.querySelector(_u(t)))&&!s._p&&(a.instance=s,a.state.loading=5),Kn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Kn.set(t,n),s||CD(i,t,n,a.state))),e&&r===null)throw Error(F(528,""));return a}if(e&&r!==null)throw Error(F(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=pl(n),n=go(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(F(444,t))}}function Wo(t){return'href="'+Bn(t)+'"'}function _u(t){return'link[rel="stylesheet"]['+t+"]"}function _1(t){return Ye({},t,{"data-precedence":t.precedence,precedence:null})}function CD(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),kt(e,"link",n),xt(e),t.head.appendChild(e))}function pl(t){return'[src="'+Bn(t)+'"]'}function bu(t){return"script[async]"+t}function Bb(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+Bn(n.href)+'"]');if(r)return e.instance=r,xt(r),r;var i=Ye({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),xt(r),kt(r,"style",i),Ff(r,n.precedence,t),e.instance=r;case"stylesheet":i=Wo(n.href);var s=t.querySelector(_u(i));if(s)return e.state.loading|=4,e.instance=s,xt(s),s;r=_1(n),(i=Kn.get(i))&&yv(r,i),s=(t.ownerDocument||t).createElement("link"),xt(s);var a=s;return a._p=new Promise(function(o,c){a.onload=o,a.onerror=c}),kt(s,"link",r),e.state.loading|=4,Ff(s,n.precedence,t),e.instance=s;case"script":return s=pl(n.src),(i=t.querySelector(bu(s)))?(e.instance=i,xt(i),i):(r=n,(i=Kn.get(s))&&(r=Ye({},n),vv(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),xt(i),kt(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(F(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,Ff(r,n.precedence,t));return e.instance}function Ff(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===e)s=o;else if(s!==i)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function yv(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function vv(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var qf=null;function Fb(t,e,n){if(qf===null){var r=new Map,i=qf=new Map;i.set(n,r)}else i=qf,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var s=n[i];if(!(s[cu]||s[Qt]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(e)||"";a=t+a;var o=r.get(a);o?o.push(s):r.set(a,[s])}}return r}function qb(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function ID(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function b1(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Lc=null;function ND(){}function OD(t,e,n){if(Lc===null)throw Error(F(475));var r=Lc;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var i=Wo(n.href),s=t.querySelector(_u(i));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=Ph.bind(r),t.then(r,r)),e.state.loading|=4,e.instance=s,xt(s);return}s=t.ownerDocument||t,n=_1(n),(i=Kn.get(i))&&yv(n,i),s=s.createElement("link"),xt(s);var a=s;a._p=new Promise(function(o,c){a.onload=o,a.onerror=c}),kt(s,"link",n),e.instance=s}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(r.count++,e=Ph.bind(r),t.addEventListener("load",e),t.addEventListener("error",e))}}function DD(){if(Lc===null)throw Error(F(475));var t=Lc;return t.stylesheets&&t.count===0&&xg(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&xg(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function Ph(){if(this.count--,this.count===0){if(this.stylesheets)xg(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Vh=null;function xg(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Vh=new Map,e.forEach(MD,t),Vh=null,Ph.call(t))}function MD(t,e){if(!(e.state.loading&4)){var n=Vh.get(t);if(n)var r=n.get(null);else{n=new Map,Vh.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var a=i[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}i=e.instance,a=i.getAttribute("data-precedence"),s=n.get(a)||r,s===r&&n.set(null,i),n.set(a,i),this.count++,r=Ph.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var jc={$$typeof:Xr,Provider:null,Consumer:null,_currentValue:ia,_currentValue2:ia,_threadCount:0};function PD(t,e,n,r,i,s,a,o){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cm(0),this.hiddenUpdates=Cm(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function w1(t,e,n,r,i,s,a,o,c,u,f,d){return t=new PD(t,e,n,a,o,c,u,d),e=1,s===!0&&(e|=24),s=Rn(3,null,null,e),t.current=s,s.stateNode=t,e=$y(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:e},Qy(s),t}function E1(t){return t?(t=lo,t):lo}function T1(t,e,n,r,i,s){i=E1(i),r.context===null?r.context=i:r.pendingContext=i,r=ss(e),r.payload={element:n},s=s===void 0?null:s,s!==null&&(r.callback=s),n=as(t,r,e),n!==null&&(Dn(n,t,e),dc(n,t,e))}function Hb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function _v(t,e){Hb(t,e),(t=t.alternate)&&Hb(t,e)}function S1(t){if(t.tag===13){var e=hl(t,67108864);e!==null&&Dn(e,t,67108864),_v(t,67108864)}}var kh=!0;function VD(t,e,n,r){var i=ne.T;ne.T=null;var s=Oe.p;try{Oe.p=2,bv(t,e,n,r)}finally{Oe.p=s,ne.T=i}}function kD(t,e,n,r){var i=ne.T;ne.T=null;var s=Oe.p;try{Oe.p=8,bv(t,e,n,r)}finally{Oe.p=s,ne.T=i}}function bv(t,e,n,r){if(kh){var i=Rg(r);if(i===null)sp(t,e,r,Lh,n),Gb(t,r);else if(jD(i,t,e,n,r))r.stopPropagation();else if(Gb(t,r),e&4&&-1<LD.indexOf(t)){for(;i!==null;){var s=fl(i);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=Hs(s.pendingLanes);if(a!==0){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var c=1<<31-Nn(a);o.entanglements[1]|=c,a&=~c}Vr(s),!(Le&6)&&(Rh=Tr()+500,vu(0))}}break;case 13:o=hl(s,2),o!==null&&Dn(o,s,2),Sd(),_v(s,2)}if(s=Rg(r),s===null&&sp(t,e,r,Lh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else sp(t,e,r,null,n)}}function Rg(t){return t=ky(t),wv(t)}var Lh=null;function wv(t){if(Lh=null,t=no(t),t!==null){var e=su(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=YT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Lh=t,null}function A1(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(EN()){case JT:return 2;case eS:return 8;case fh:case TN:return 32;case tS:return 268435456;default:return 32}default:return 32}}var Cg=!1,cs=null,us=null,fs=null,Uc=new Map,zc=new Map,Fi=[],LD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gb(t,e){switch(t){case"focusin":case"focusout":cs=null;break;case"dragenter":case"dragleave":us=null;break;case"mouseover":case"mouseout":fs=null;break;case"pointerover":case"pointerout":Uc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":zc.delete(e.pointerId)}}function Ql(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=fl(e),e!==null&&S1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function jD(t,e,n,r,i){switch(e){case"focusin":return cs=Ql(cs,t,e,n,r,i),!0;case"dragenter":return us=Ql(us,t,e,n,r,i),!0;case"mouseover":return fs=Ql(fs,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Uc.set(s,Ql(Uc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,zc.set(s,Ql(zc.get(s)||null,t,e,n,r,i)),!0}return!1}function x1(t){var e=no(t.target);if(e!==null){var n=su(e);if(n!==null){if(e=n.tag,e===13){if(e=YT(n),e!==null){t.blockedOn=e,ON(t.priority,function(){if(n.tag===13){var r=On();r=Dy(r);var i=hl(n,r);i!==null&&Dn(i,n,r),_v(n,r)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Rg(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Gp=r,n.target.dispatchEvent(r),Gp=null}else return e=fl(n),e!==null&&S1(e),t.blockedOn=n,!1;e.shift()}return!0}function $b(t,e,n){Hf(t)&&n.delete(e)}function UD(){Cg=!1,cs!==null&&Hf(cs)&&(cs=null),us!==null&&Hf(us)&&(us=null),fs!==null&&Hf(fs)&&(fs=null),Uc.forEach($b),zc.forEach($b)}function mf(t,e){t.blockedOn===e&&(t.blockedOn=null,Cg||(Cg=!0,Tt.unstable_scheduleCallback(Tt.unstable_NormalPriority,UD)))}var pf=null;function Kb(t){pf!==t&&(pf=t,Tt.unstable_scheduleCallback(Tt.unstable_NormalPriority,function(){pf===t&&(pf=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(wv(r||n)===null)continue;break}var s=fl(n);s!==null&&(t.splice(e,3),e-=3,og(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Bc(t){function e(c){return mf(c,t)}cs!==null&&mf(cs,t),us!==null&&mf(us,t),fs!==null&&mf(fs,t),Uc.forEach(e),zc.forEach(e);for(var n=0;n<Fi.length;n++){var r=Fi[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<Fi.length&&(n=Fi[0],n.blockedOn===null);)x1(n),n.blockedOn===null&&Fi.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],a=i[mn]||null;if(typeof s=="function")a||Kb(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(i=s,a=s[mn]||null)o=a.formAction;else if(wv(i)!==null)continue}else o=a.action;typeof o=="function"?n[r+1]=o:(n.splice(r,3),r-=3),Kb(n)}}}function Ev(t){this._internalRoot=t}Cd.prototype.render=Ev.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(F(409));var n=e.current,r=On();T1(n,r,t,e,null,null)};Cd.prototype.unmount=Ev.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;T1(t.current,2,null,t,null,null),Sd(),e[ul]=null}};function Cd(t){this._internalRoot=t}Cd.prototype.unstable_scheduleHydration=function(t){if(t){var e=aS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Fi.length&&e!==0&&e<Fi[n].priority;n++);Fi.splice(n,0,t),n===0&&x1(t)}};var Qb=KT.version;if(Qb!=="19.1.1")throw Error(F(527,Qb,"19.1.1"));Oe.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(F(188)):(t=Object.keys(t).join(","),Error(F(268,t)));return t=pN(e),t=t!==null?XT(t):null,t=t===null?null:t.stateNode,t};var zD={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:ne,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gf.isDisabled&&gf.supportsFiber)try{au=gf.inject(zD),In=gf}catch{}}hd.createRoot=function(t,e){if(!QT(t))throw Error(F(299));var n=!1,r="",i=wA,s=EA,a=TA,o=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(o=e.unstable_transitionCallbacks)),e=w1(t,1,!1,null,null,n,r,i,s,a,o,null),t[ul]=e.current,gv(t),new Ev(e)};hd.hydrateRoot=function(t,e,n){if(!QT(t))throw Error(F(299));var r=!1,i="",s=wA,a=EA,o=TA,c=null,u=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(c=n.unstable_transitionCallbacks),n.formState!==void 0&&(u=n.formState)),e=w1(t,1,!0,e,n??null,r,i,s,a,o,c,u),e.context=E1(null),n=e.current,r=On(),r=Dy(r),i=ss(r),i.callback=null,as(n,i,r),n=r,e.current.lanes=n,lu(e,n),Vr(e),t[ul]=e.current,gv(t),new Cd(e)};hd.version="19.1.1";function R1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(R1)}catch(t){console.error(t)}}R1(),MT.exports=hd;var BD=MT.exports,FD=(t,e,n,r,i,s,a,o)=>{let c=document.documentElement,u=["light","dark"];function f(h){(Array.isArray(t)?t:[t]).forEach(S=>{let v=S==="class",w=v&&s?i.map(_=>s[_]||_):i;v?(c.classList.remove(...w),c.classList.add(s&&s[h]?s[h]:h)):c.setAttribute(S,h)}),d(h)}function d(h){o&&u.includes(h)&&(c.style.colorScheme=h)}function p(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)f(r);else try{let h=localStorage.getItem(e)||n,S=a&&h==="system"?p():h;f(S)}catch{}},qD=T.createContext(void 0),HD={setTheme:t=>{},themes:[]},GD=()=>{var t;return(t=T.useContext(qD))!=null?t:HD};T.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:a,themes:o,nonce:c,scriptProps:u})=>{let f=JSON.stringify([n,e,s,t,o,a,r,i]).slice(1,-1);return T.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${FD.toString()})(${f})`}})});var $D=t=>{switch(t){case"success":return YD;case"info":return WD;case"warning":return XD;case"error":return ZD;default:return null}},KD=Array(12).fill(0),QD=({visible:t,className:e})=>$.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},$.createElement("div",{className:"sonner-spinner"},KD.map((n,r)=>$.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),YD=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),XD=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),WD=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ZD=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),JD=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},$.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),$.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),eM=()=>{let[t,e]=$.useState(document.hidden);return $.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Ig=1,tM=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Ig++,a=this.toasts.find(c=>c.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(c=>c.id===s?(this.publish({...c,...e,id:s,title:r}),{...c,...e,id:s,dismissible:o,title:r}):c):this.addToast({title:r,...i,dismissible:o,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let i=e instanceof Promise?e:e(),s=r!==void 0,a,o=i.then(async u=>{if(a=["resolve",u],$.isValidElement(u))s=!1,this.create({id:r,type:"default",message:u});else if(rM(u)&&!u.ok){s=!1;let f=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,d=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description;this.create({id:r,type:"error",message:f,description:d})}else if(n.success!==void 0){s=!1;let f=typeof n.success=="function"?await n.success(u):n.success,d=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"success",message:f,description:d})}}).catch(async u=>{if(a=["reject",u],n.error!==void 0){s=!1;let f=typeof n.error=="function"?await n.error(u):n.error,d=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"error",message:f,description:d})}}).finally(()=>{var u;s&&(this.dismiss(r),r=void 0),(u=n.finally)==null||u.call(n)}),c=()=>new Promise((u,f)=>o.then(()=>a[0]==="reject"?f(a[1]):u(a[1])).catch(f));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||Ig++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},fn=new tM,nM=(t,e)=>{let n=(e==null?void 0:e.id)||Ig++;return fn.addToast({title:t,...e,id:n}),n},rM=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",iM=nM,sM=()=>fn.toasts,aM=()=>fn.getActiveToasts();Object.assign(iM,{success:fn.success,info:fn.info,warning:fn.warning,error:fn.error,custom:fn.custom,message:fn.message,promise:fn.promise,dismiss:fn.dismiss,loading:fn.loading},{getHistory:sM,getToasts:aM});function oM(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}oM(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function yf(t){return t.label!==void 0}var lM=3,cM="32px",uM="16px",Yb=4e3,fM=356,hM=14,dM=20,mM=200;function Zn(...t){return t.filter(Boolean).join(" ")}function pM(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var gM=t=>{var e,n,r,i,s,a,o,c,u,f,d;let{invert:p,toast:h,unstyled:S,interacting:v,setHeights:w,visibleToasts:_,heights:b,index:E,toasts:N,expanded:P,removeToast:k,defaultRichColors:x,closeButton:A,style:R,cancelButtonStyle:I,actionButtonStyle:M,className:O="",descriptionClassName:D="",duration:W,position:le,gap:j,loadingIcon:G,expandByDefault:q,classNames:H,icons:J,closeButtonAriaLabel:De="Close toast",pauseWhenPageIsHidden:re}=t,[ee,ue]=$.useState(null),[xe,Ut]=$.useState(null),[Q,Ie]=$.useState(!1),[Xe,ye]=$.useState(!1),[de,ve]=$.useState(!1),[dt,zt]=$.useState(!1),[Qn,Yn]=$.useState(!1),[Lr,ks]=$.useState(0),[jr,Da]=$.useState(0),bi=$.useRef(h.duration||W||Yb),Lu=$.useRef(null),Xn=$.useRef(null),Il=E===0,ju=E+1<=_,Ve=h.type,it=h.dismissible!==!1,Ma=h.className||"",Uu=h.descriptionClassName||"",Ls=$.useMemo(()=>b.findIndex(se=>se.toastId===h.id)||0,[b,h.id]),fm=$.useMemo(()=>{var se;return(se=h.closeButton)!=null?se:A},[h.closeButton,A]),wi=$.useMemo(()=>h.duration||W||Yb,[h.duration,W]),Pa=$.useRef(0),Ur=$.useRef(0),Va=$.useRef(0),Ei=$.useRef(null),[hm,Nl]=le.split("-"),Ol=$.useMemo(()=>b.reduce((se,Ae,ze)=>ze>=Ls?se:se+Ae.height,0),[b,Ls]),Dl=eM(),js=h.invert||p,Us=Ve==="loading";Ur.current=$.useMemo(()=>Ls*j+Ol,[Ls,Ol]),$.useEffect(()=>{bi.current=wi},[wi]),$.useEffect(()=>{Ie(!0)},[]),$.useEffect(()=>{let se=Xn.current;if(se){let Ae=se.getBoundingClientRect().height;return Da(Ae),w(ze=>[{toastId:h.id,height:Ae,position:h.position},...ze]),()=>w(ze=>ze.filter(It=>It.toastId!==h.id))}},[w,h.id]),$.useLayoutEffect(()=>{if(!Q)return;let se=Xn.current,Ae=se.style.height;se.style.height="auto";let ze=se.getBoundingClientRect().height;se.style.height=Ae,Da(ze),w(It=>It.find(sn=>sn.toastId===h.id)?It.map(sn=>sn.toastId===h.id?{...sn,height:ze}:sn):[{toastId:h.id,height:ze,position:h.position},...It])},[Q,h.title,h.description,w,h.id]);let Vn=$.useCallback(()=>{ye(!0),ks(Ur.current),w(se=>se.filter(Ae=>Ae.toastId!==h.id)),setTimeout(()=>{k(h)},mM)},[h,k,w,Ur]);$.useEffect(()=>{if(h.promise&&Ve==="loading"||h.duration===1/0||h.type==="loading")return;let se;return P||v||re&&Dl?(()=>{if(Va.current<Pa.current){let Ae=new Date().getTime()-Pa.current;bi.current=bi.current-Ae}Va.current=new Date().getTime()})():bi.current!==1/0&&(Pa.current=new Date().getTime(),se=setTimeout(()=>{var Ae;(Ae=h.onAutoClose)==null||Ae.call(h,h),Vn()},bi.current)),()=>clearTimeout(se)},[P,v,h,Ve,re,Dl,Vn]),$.useEffect(()=>{h.delete&&Vn()},[Vn,h.delete]);function zr(){var se,Ae,ze;return J!=null&&J.loading?$.createElement("div",{className:Zn(H==null?void 0:H.loader,(se=h==null?void 0:h.classNames)==null?void 0:se.loader,"sonner-loader"),"data-visible":Ve==="loading"},J.loading):G?$.createElement("div",{className:Zn(H==null?void 0:H.loader,(Ae=h==null?void 0:h.classNames)==null?void 0:Ae.loader,"sonner-loader"),"data-visible":Ve==="loading"},G):$.createElement(QD,{className:Zn(H==null?void 0:H.loader,(ze=h==null?void 0:h.classNames)==null?void 0:ze.loader),visible:Ve==="loading"})}return $.createElement("li",{tabIndex:0,ref:Xn,className:Zn(O,Ma,H==null?void 0:H.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,H==null?void 0:H.default,H==null?void 0:H[Ve],(n=h==null?void 0:h.classNames)==null?void 0:n[Ve]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:x,"data-styled":!(h.jsx||h.unstyled||S),"data-mounted":Q,"data-promise":!!h.promise,"data-swiped":Qn,"data-removed":Xe,"data-visible":ju,"data-y-position":hm,"data-x-position":Nl,"data-index":E,"data-front":Il,"data-swiping":de,"data-dismissible":it,"data-type":Ve,"data-invert":js,"data-swipe-out":dt,"data-swipe-direction":xe,"data-expanded":!!(P||q&&Q),style:{"--index":E,"--toasts-before":E,"--z-index":N.length-E,"--offset":`${Xe?Lr:Ur.current}px`,"--initial-height":q?"auto":`${jr}px`,...R,...h.style},onDragEnd:()=>{ve(!1),ue(null),Ei.current=null},onPointerDown:se=>{Us||!it||(Lu.current=new Date,ks(Ur.current),se.target.setPointerCapture(se.pointerId),se.target.tagName!=="BUTTON"&&(ve(!0),Ei.current={x:se.clientX,y:se.clientY}))},onPointerUp:()=>{var se,Ae,ze,It;if(dt||!it)return;Ei.current=null;let sn=Number(((se=Xn.current)==null?void 0:se.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),We=Number(((Ae=Xn.current)==null?void 0:Ae.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),fr=new Date().getTime()-((ze=Lu.current)==null?void 0:ze.getTime()),Nt=ee==="x"?sn:We,an=Math.abs(Nt)/fr;if(Math.abs(Nt)>=dM||an>.11){ks(Ur.current),(It=h.onDismiss)==null||It.call(h,h),Ut(ee==="x"?sn>0?"right":"left":We>0?"down":"up"),Vn(),zt(!0),Yn(!1);return}ve(!1),ue(null)},onPointerMove:se=>{var Ae,ze,It,sn;if(!Ei.current||!it||((Ae=window.getSelection())==null?void 0:Ae.toString().length)>0)return;let We=se.clientY-Ei.current.y,fr=se.clientX-Ei.current.x,Nt=(ze=t.swipeDirections)!=null?ze:pM(le);!ee&&(Math.abs(fr)>1||Math.abs(We)>1)&&ue(Math.abs(fr)>Math.abs(We)?"x":"y");let an={x:0,y:0};ee==="y"?(Nt.includes("top")||Nt.includes("bottom"))&&(Nt.includes("top")&&We<0||Nt.includes("bottom")&&We>0)&&(an.y=We):ee==="x"&&(Nt.includes("left")||Nt.includes("right"))&&(Nt.includes("left")&&fr<0||Nt.includes("right")&&fr>0)&&(an.x=fr),(Math.abs(an.x)>0||Math.abs(an.y)>0)&&Yn(!0),(It=Xn.current)==null||It.style.setProperty("--swipe-amount-x",`${an.x}px`),(sn=Xn.current)==null||sn.style.setProperty("--swipe-amount-y",`${an.y}px`)}},fm&&!h.jsx?$.createElement("button",{"aria-label":De,"data-disabled":Us,"data-close-button":!0,onClick:Us||!it?()=>{}:()=>{var se;Vn(),(se=h.onDismiss)==null||se.call(h,h)},className:Zn(H==null?void 0:H.closeButton,(i=h==null?void 0:h.classNames)==null?void 0:i.closeButton)},(s=J==null?void 0:J.close)!=null?s:JD):null,h.jsx||T.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:$.createElement($.Fragment,null,Ve||h.icon||h.promise?$.createElement("div",{"data-icon":"",className:Zn(H==null?void 0:H.icon,(a=h==null?void 0:h.classNames)==null?void 0:a.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||zr():null,h.type!=="loading"?h.icon||(J==null?void 0:J[Ve])||$D(Ve):null):null,$.createElement("div",{"data-content":"",className:Zn(H==null?void 0:H.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},$.createElement("div",{"data-title":"",className:Zn(H==null?void 0:H.title,(c=h==null?void 0:h.classNames)==null?void 0:c.title)},typeof h.title=="function"?h.title():h.title),h.description?$.createElement("div",{"data-description":"",className:Zn(D,Uu,H==null?void 0:H.description,(u=h==null?void 0:h.classNames)==null?void 0:u.description)},typeof h.description=="function"?h.description():h.description):null),T.isValidElement(h.cancel)?h.cancel:h.cancel&&yf(h.cancel)?$.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||I,onClick:se=>{var Ae,ze;yf(h.cancel)&&it&&((ze=(Ae=h.cancel).onClick)==null||ze.call(Ae,se),Vn())},className:Zn(H==null?void 0:H.cancelButton,(f=h==null?void 0:h.classNames)==null?void 0:f.cancelButton)},h.cancel.label):null,T.isValidElement(h.action)?h.action:h.action&&yf(h.action)?$.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||M,onClick:se=>{var Ae,ze;yf(h.action)&&((ze=(Ae=h.action).onClick)==null||ze.call(Ae,se),!se.defaultPrevented&&Vn())},className:Zn(H==null?void 0:H.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function Xb(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function yM(t,e){let n={};return[t,e].forEach((r,i)=>{let s=i===1,a=s?"--mobile-offset":"--offset",o=s?uM:cM;function c(u){["top","right","bottom","left"].forEach(f=>{n[`${a}-${f}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${a}-${u}`]=o:n[`${a}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(o)}),n}var vM=T.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:a,className:o,offset:c,mobileOffset:u,theme:f="light",richColors:d,duration:p,style:h,visibleToasts:S=lM,toastOptions:v,dir:w=Xb(),gap:_=hM,loadingIcon:b,icons:E,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:P}=t,[k,x]=$.useState([]),A=$.useMemo(()=>Array.from(new Set([r].concat(k.filter(re=>re.position).map(re=>re.position)))),[k,r]),[R,I]=$.useState([]),[M,O]=$.useState(!1),[D,W]=$.useState(!1),[le,j]=$.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),G=$.useRef(null),q=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),H=$.useRef(null),J=$.useRef(!1),De=$.useCallback(re=>{x(ee=>{var ue;return(ue=ee.find(xe=>xe.id===re.id))!=null&&ue.delete||fn.dismiss(re.id),ee.filter(({id:xe})=>xe!==re.id)})},[]);return $.useEffect(()=>fn.subscribe(re=>{if(re.dismiss){x(ee=>ee.map(ue=>ue.id===re.id?{...ue,delete:!0}:ue));return}setTimeout(()=>{$T.flushSync(()=>{x(ee=>{let ue=ee.findIndex(xe=>xe.id===re.id);return ue!==-1?[...ee.slice(0,ue),{...ee[ue],...re},...ee.slice(ue+1)]:[re,...ee]})})})}),[]),$.useEffect(()=>{if(f!=="system"){j(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?j("dark"):j("light")),typeof window>"u")return;let re=window.matchMedia("(prefers-color-scheme: dark)");try{re.addEventListener("change",({matches:ee})=>{j(ee?"dark":"light")})}catch{re.addListener(({matches:ue})=>{try{j(ue?"dark":"light")}catch(xe){console.error(xe)}})}},[f]),$.useEffect(()=>{k.length<=1&&O(!1)},[k]),$.useEffect(()=>{let re=ee=>{var ue,xe;i.every(Ut=>ee[Ut]||ee.code===Ut)&&(O(!0),(ue=G.current)==null||ue.focus()),ee.code==="Escape"&&(document.activeElement===G.current||(xe=G.current)!=null&&xe.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",re),()=>document.removeEventListener("keydown",re)},[i]),$.useEffect(()=>{if(G.current)return()=>{H.current&&(H.current.focus({preventScroll:!0}),H.current=null,J.current=!1)}},[G.current]),$.createElement("section",{ref:e,"aria-label":`${N} ${q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},A.map((re,ee)=>{var ue;let[xe,Ut]=re.split("-");return k.length?$.createElement("ol",{key:re,dir:w==="auto"?Xb():w,tabIndex:-1,ref:G,className:o,"data-sonner-toaster":!0,"data-theme":le,"data-y-position":xe,"data-lifted":M&&k.length>1&&!s,"data-x-position":Ut,style:{"--front-toast-height":`${((ue=R[0])==null?void 0:ue.height)||0}px`,"--width":`${fM}px`,"--gap":`${_}px`,...h,...yM(c,u)},onBlur:Q=>{J.current&&!Q.currentTarget.contains(Q.relatedTarget)&&(J.current=!1,H.current&&(H.current.focus({preventScroll:!0}),H.current=null))},onFocus:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||J.current||(J.current=!0,H.current=Q.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{D||O(!1)},onDragEnd:()=>O(!1),onPointerDown:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||W(!0)},onPointerUp:()=>W(!1)},k.filter(Q=>!Q.position&&ee===0||Q.position===re).map((Q,Ie)=>{var Xe,ye;return $.createElement(gM,{key:Q.id,icons:E,index:Ie,toast:Q,defaultRichColors:d,duration:(Xe=v==null?void 0:v.duration)!=null?Xe:p,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:S,closeButton:(ye=v==null?void 0:v.closeButton)!=null?ye:a,interacting:D,position:re,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:De,toasts:k.filter(de=>de.position==Q.position),heights:R.filter(de=>de.position==Q.position),setHeights:I,expandByDefault:s,gap:_,loadingIcon:b,expanded:M,pauseWhenPageIsHidden:P,swipeDirections:t.swipeDirections})})):null}))});const _M=({...t})=>{const{theme:e="system"}=GD();return y.jsx(vM,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};function Ee(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Wb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function C1(...t){return e=>{let n=!1;const r=t.map(i=>{const s=Wb(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():Wb(t[i],null)}}}}function ht(...t){return T.useCallback(C1(...t),t)}function gl(t,e=[]){let n=[];function r(s,a){const o=T.createContext(a),c=n.length;n=[...n,a];const u=d=>{var _;const{scope:p,children:h,...S}=d,v=((_=p==null?void 0:p[t])==null?void 0:_[c])||o,w=T.useMemo(()=>S,Object.values(S));return y.jsx(v.Provider,{value:w,children:h})};u.displayName=s+"Provider";function f(d,p){var v;const h=((v=p==null?void 0:p[t])==null?void 0:v[c])||o,S=T.useContext(h);if(S)return S;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[u,f]}const i=()=>{const s=n.map(a=>T.createContext(a));return function(o){const c=(o==null?void 0:o[t])||s;return T.useMemo(()=>({[`__scope${t}`]:{...o,[t]:c}}),[o,c])}};return i.scopeName=t,[r,bM(i,...e)]}function bM(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:c,scopeName:u})=>{const d=c(s)[`__scope${u}`];return{...o,...d}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function Fc(t){const e=EM(t),n=T.forwardRef((r,i)=>{const{children:s,...a}=r,o=T.Children.toArray(s),c=o.find(SM);if(c){const u=c.props.children,f=o.map(d=>d===c?T.Children.count(u)>1?T.Children.only(null):T.isValidElement(u)?u.props.children:null:d);return y.jsx(e,{...a,ref:i,children:T.isValidElement(u)?T.cloneElement(u,void 0,f):null})}return y.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var wM=Fc("Slot");function EM(t){const e=T.forwardRef((n,r)=>{const{children:i,...s}=n;if(T.isValidElement(i)){const a=xM(i),o=AM(s,i.props);return i.type!==T.Fragment&&(o.ref=r?C1(r,a):a),T.cloneElement(i,o)}return T.Children.count(i)>1?T.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var I1=Symbol("radix.slottable");function TM(t){const e=({children:n})=>y.jsx(y.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=I1,e}function SM(t){return T.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===I1}function AM(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{const c=s(...o);return i(...o),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function xM(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var RM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Pe=RM.reduce((t,e)=>{const n=Fc(`Primitive.${e}`),r=T.forwardRef((i,s)=>{const{asChild:a,...o}=i,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(c,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function CM(t,e){t&&cl.flushSync(()=>t.dispatchEvent(e))}function ws(t){const e=T.useRef(t);return T.useEffect(()=>{e.current=t}),T.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function IM(t,e=globalThis==null?void 0:globalThis.document){const n=ws(t);T.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var NM="DismissableLayer",Ng="dismissableLayer.update",OM="dismissableLayer.pointerDownOutside",DM="dismissableLayer.focusOutside",Zb,N1=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Tv=T.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...c}=t,u=T.useContext(N1),[f,d]=T.useState(null),p=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=T.useState({}),S=ht(e,x=>d(x)),v=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(w),b=f?v.indexOf(f):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,N=b>=_,P=VM(x=>{const A=x.target,R=[...u.branches].some(I=>I.contains(A));!N||R||(i==null||i(x),a==null||a(x),x.defaultPrevented||o==null||o())},p),k=kM(x=>{const A=x.target;[...u.branches].some(I=>I.contains(A))||(s==null||s(x),a==null||a(x),x.defaultPrevented||o==null||o())},p);return IM(x=>{b===u.layers.size-1&&(r==null||r(x),!x.defaultPrevented&&o&&(x.preventDefault(),o()))},p),T.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Zb=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),Jb(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Zb)}},[f,p,n,u]),T.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),Jb())},[f,u]),T.useEffect(()=>{const x=()=>h({});return document.addEventListener(Ng,x),()=>document.removeEventListener(Ng,x)},[]),y.jsx(Pe.div,{...c,ref:S,style:{pointerEvents:E?N?"auto":"none":void 0,...t.style},onFocusCapture:Ee(t.onFocusCapture,k.onFocusCapture),onBlurCapture:Ee(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Ee(t.onPointerDownCapture,P.onPointerDownCapture)})});Tv.displayName=NM;var MM="DismissableLayerBranch",PM=T.forwardRef((t,e)=>{const n=T.useContext(N1),r=T.useRef(null),i=ht(e,r);return T.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),y.jsx(Pe.div,{...t,ref:i})});PM.displayName=MM;function VM(t,e=globalThis==null?void 0:globalThis.document){const n=ws(t),r=T.useRef(!1),i=T.useRef(()=>{});return T.useEffect(()=>{const s=o=>{if(o.target&&!r.current){let c=function(){O1(OM,n,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function kM(t,e=globalThis==null?void 0:globalThis.document){const n=ws(t),r=T.useRef(!1);return T.useEffect(()=>{const i=s=>{s.target&&!r.current&&O1(DM,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Jb(){const t=new CustomEvent(Ng);document.dispatchEvent(t)}function O1(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?CM(i,s):i.dispatchEvent(s)}var Xt=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},LM=Cy[" useId ".trim().toString()]||(()=>{}),jM=0;function wu(t){const[e,n]=T.useState(LM());return Xt(()=>{n(r=>r??String(jM++))},[t]),e?`radix-${e}`:""}const UM=["top","right","bottom","left"],Es=Math.min,xn=Math.max,jh=Math.round,vf=Math.floor,Ar=t=>({x:t,y:t}),zM={left:"right",right:"left",bottom:"top",top:"bottom"},BM={start:"end",end:"start"};function Og(t,e,n){return xn(t,Es(e,n))}function ui(t,e){return typeof t=="function"?t(e):t}function fi(t){return t.split("-")[0]}function yl(t){return t.split("-")[1]}function Sv(t){return t==="x"?"y":"x"}function Av(t){return t==="y"?"height":"width"}const FM=new Set(["top","bottom"]);function wr(t){return FM.has(fi(t))?"y":"x"}function xv(t){return Sv(wr(t))}function qM(t,e,n){n===void 0&&(n=!1);const r=yl(t),i=xv(t),s=Av(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=Uh(a)),[a,Uh(a)]}function HM(t){const e=Uh(t);return[Dg(t),e,Dg(e)]}function Dg(t){return t.replace(/start|end/g,e=>BM[e])}const ew=["left","right"],tw=["right","left"],GM=["top","bottom"],$M=["bottom","top"];function KM(t,e,n){switch(t){case"top":case"bottom":return n?e?tw:ew:e?ew:tw;case"left":case"right":return e?GM:$M;default:return[]}}function QM(t,e,n,r){const i=yl(t);let s=KM(fi(t),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(Dg)))),s}function Uh(t){return t.replace(/left|right|bottom|top/g,e=>zM[e])}function YM(t){return{top:0,right:0,bottom:0,left:0,...t}}function D1(t){return typeof t!="number"?YM(t):{top:t,right:t,bottom:t,left:t}}function zh(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function nw(t,e,n){let{reference:r,floating:i}=t;const s=wr(e),a=xv(e),o=Av(a),c=fi(e),u=s==="y",f=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,p=r[o]/2-i[o]/2;let h;switch(c){case"top":h={x:f,y:r.y-i.height};break;case"bottom":h={x:f,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-i.width,y:d};break;default:h={x:r.x,y:r.y}}switch(yl(e)){case"start":h[a]-=p*(n&&u?-1:1);break;case"end":h[a]+=p*(n&&u?-1:1);break}return h}const XM=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,o=s.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:d}=nw(u,r,c),p=r,h={},S=0;for(let v=0;v<o.length;v++){const{name:w,fn:_}=o[v],{x:b,y:E,data:N,reset:P}=await _({x:f,y:d,initialPlacement:r,placement:p,strategy:i,middlewareData:h,rects:u,platform:a,elements:{reference:t,floating:e}});f=b??f,d=E??d,h={...h,[w]:{...h[w],...N}},P&&S<=50&&(S++,typeof P=="object"&&(P.placement&&(p=P.placement),P.rects&&(u=P.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):P.rects),{x:f,y:d}=nw(u,p,c)),v=-1)}return{x:f,y:d,placement:p,strategy:i,middlewareData:h}};async function qc(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:p=!1,padding:h=0}=ui(e,t),S=D1(h),w=o[p?d==="floating"?"reference":"floating":d],_=zh(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(w)))==null||n?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:u,rootBoundary:f,strategy:c})),b=d==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),N=await(s.isElement==null?void 0:s.isElement(E))?await(s.getScale==null?void 0:s.getScale(E))||{x:1,y:1}:{x:1,y:1},P=zh(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:b,offsetParent:E,strategy:c}):b);return{top:(_.top-P.top+S.top)/N.y,bottom:(P.bottom-_.bottom+S.bottom)/N.y,left:(_.left-P.left+S.left)/N.x,right:(P.right-_.right+S.right)/N.x}}const WM=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:a,elements:o,middlewareData:c}=e,{element:u,padding:f=0}=ui(t,e)||{};if(u==null)return{};const d=D1(f),p={x:n,y:r},h=xv(i),S=Av(h),v=await a.getDimensions(u),w=h==="y",_=w?"top":"left",b=w?"bottom":"right",E=w?"clientHeight":"clientWidth",N=s.reference[S]+s.reference[h]-p[h]-s.floating[S],P=p[h]-s.reference[h],k=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let x=k?k[E]:0;(!x||!await(a.isElement==null?void 0:a.isElement(k)))&&(x=o.floating[E]||s.floating[S]);const A=N/2-P/2,R=x/2-v[S]/2-1,I=Es(d[_],R),M=Es(d[b],R),O=I,D=x-v[S]-M,W=x/2-v[S]/2+A,le=Og(O,W,D),j=!c.arrow&&yl(i)!=null&&W!==le&&s.reference[S]/2-(W<O?I:M)-v[S]/2<0,G=j?W<O?W-O:W-D:0;return{[h]:p[h]+G,data:{[h]:le,centerOffset:W-le-G,...j&&{alignmentOffset:G}},reset:j}}}),ZM=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:c,elements:u}=e,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:v=!0,...w}=ui(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const _=fi(i),b=wr(o),E=fi(o)===o,N=await(c.isRTL==null?void 0:c.isRTL(u.floating)),P=p||(E||!v?[Uh(o)]:HM(o)),k=S!=="none";!p&&k&&P.push(...QM(o,v,S,N));const x=[o,...P],A=await qc(e,w),R=[];let I=((r=s.flip)==null?void 0:r.overflows)||[];if(f&&R.push(A[_]),d){const W=qM(i,a,N);R.push(A[W[0]],A[W[1]])}if(I=[...I,{placement:i,overflows:R}],!R.every(W=>W<=0)){var M,O;const W=(((M=s.flip)==null?void 0:M.index)||0)+1,le=x[W];if(le&&(!(d==="alignment"?b!==wr(le):!1)||I.every(q=>q.overflows[0]>0&&wr(q.placement)===b)))return{data:{index:W,overflows:I},reset:{placement:le}};let j=(O=I.filter(G=>G.overflows[0]<=0).sort((G,q)=>G.overflows[1]-q.overflows[1])[0])==null?void 0:O.placement;if(!j)switch(h){case"bestFit":{var D;const G=(D=I.filter(q=>{if(k){const H=wr(q.placement);return H===b||H==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(H=>H>0).reduce((H,J)=>H+J,0)]).sort((q,H)=>q[1]-H[1])[0])==null?void 0:D[0];G&&(j=G);break}case"initialPlacement":j=o;break}if(i!==j)return{reset:{placement:j}}}return{}}}};function rw(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function iw(t){return UM.some(e=>t[e]>=0)}const JM=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=ui(t,e);switch(r){case"referenceHidden":{const s=await qc(e,{...i,elementContext:"reference"}),a=rw(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:iw(a)}}}case"escaped":{const s=await qc(e,{...i,altBoundary:!0}),a=rw(s,n.floating);return{data:{escapedOffsets:a,escaped:iw(a)}}}default:return{}}}}},M1=new Set(["left","top"]);async function eP(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=fi(n),o=yl(n),c=wr(n)==="y",u=M1.has(a)?-1:1,f=s&&c?-1:1,d=ui(e,t);let{mainAxis:p,crossAxis:h,alignmentAxis:S}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return o&&typeof S=="number"&&(h=o==="end"?S*-1:S),c?{x:h*f,y:p*u}:{x:p*u,y:h*f}}const tP=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:a,middlewareData:o}=e,c=await eP(e,t);return a===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:a}}}}},nP=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:w=>{let{x:_,y:b}=w;return{x:_,y:b}}},...c}=ui(t,e),u={x:n,y:r},f=await qc(e,c),d=wr(fi(i)),p=Sv(d);let h=u[p],S=u[d];if(s){const w=p==="y"?"top":"left",_=p==="y"?"bottom":"right",b=h+f[w],E=h-f[_];h=Og(b,h,E)}if(a){const w=d==="y"?"top":"left",_=d==="y"?"bottom":"right",b=S+f[w],E=S-f[_];S=Og(b,S,E)}const v=o.fn({...e,[p]:h,[d]:S});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[p]:s,[d]:a}}}}}},rP=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=e,{offset:o=0,mainAxis:c=!0,crossAxis:u=!0}=ui(t,e),f={x:n,y:r},d=wr(i),p=Sv(d);let h=f[p],S=f[d];const v=ui(o,e),w=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const E=p==="y"?"height":"width",N=s.reference[p]-s.floating[E]+w.mainAxis,P=s.reference[p]+s.reference[E]-w.mainAxis;h<N?h=N:h>P&&(h=P)}if(u){var _,b;const E=p==="y"?"width":"height",N=M1.has(fi(i)),P=s.reference[d]-s.floating[E]+(N&&((_=a.offset)==null?void 0:_[d])||0)+(N?0:w.crossAxis),k=s.reference[d]+s.reference[E]+(N?0:((b=a.offset)==null?void 0:b[d])||0)-(N?w.crossAxis:0);S<P?S=P:S>k&&(S=k)}return{[p]:h,[d]:S}}}},iP=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:a,elements:o}=e,{apply:c=()=>{},...u}=ui(t,e),f=await qc(e,u),d=fi(i),p=yl(i),h=wr(i)==="y",{width:S,height:v}=s.floating;let w,_;d==="top"||d==="bottom"?(w=d,_=p===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(_=d,w=p==="end"?"top":"bottom");const b=v-f.top-f.bottom,E=S-f.left-f.right,N=Es(v-f[w],b),P=Es(S-f[_],E),k=!e.middlewareData.shift;let x=N,A=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(A=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(x=b),k&&!p){const I=xn(f.left,0),M=xn(f.right,0),O=xn(f.top,0),D=xn(f.bottom,0);h?A=S-2*(I!==0||M!==0?I+M:xn(f.left,f.right)):x=v-2*(O!==0||D!==0?O+D:xn(f.top,f.bottom))}await c({...e,availableWidth:A,availableHeight:x});const R=await a.getDimensions(o.floating);return S!==R.width||v!==R.height?{reset:{rects:!0}}:{}}}};function Id(){return typeof window<"u"}function vl(t){return P1(t)?(t.nodeName||"").toLowerCase():"#document"}function Mn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function kr(t){var e;return(e=(P1(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function P1(t){return Id()?t instanceof Node||t instanceof Mn(t).Node:!1}function or(t){return Id()?t instanceof Element||t instanceof Mn(t).Element:!1}function Dr(t){return Id()?t instanceof HTMLElement||t instanceof Mn(t).HTMLElement:!1}function sw(t){return!Id()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Mn(t).ShadowRoot}const sP=new Set(["inline","contents"]);function Eu(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=lr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!sP.has(i)}const aP=new Set(["table","td","th"]);function oP(t){return aP.has(vl(t))}const lP=[":popover-open",":modal"];function Nd(t){return lP.some(e=>{try{return t.matches(e)}catch{return!1}})}const cP=["transform","translate","scale","rotate","perspective"],uP=["transform","translate","scale","rotate","perspective","filter"],fP=["paint","layout","strict","content"];function Rv(t){const e=Cv(),n=or(t)?lr(t):t;return cP.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||uP.some(r=>(n.willChange||"").includes(r))||fP.some(r=>(n.contain||"").includes(r))}function hP(t){let e=Ts(t);for(;Dr(e)&&!Zo(e);){if(Rv(e))return e;if(Nd(e))return null;e=Ts(e)}return null}function Cv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const dP=new Set(["html","body","#document"]);function Zo(t){return dP.has(vl(t))}function lr(t){return Mn(t).getComputedStyle(t)}function Od(t){return or(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ts(t){if(vl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||sw(t)&&t.host||kr(t);return sw(e)?e.host:e}function V1(t){const e=Ts(t);return Zo(e)?t.ownerDocument?t.ownerDocument.body:t.body:Dr(e)&&Eu(e)?e:V1(e)}function Hc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=V1(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),a=Mn(i);if(s){const o=Mg(a);return e.concat(a,a.visualViewport||[],Eu(i)?i:[],o&&n?Hc(o):[])}return e.concat(i,Hc(i,[],n))}function Mg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function k1(t){const e=lr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Dr(t),s=i?t.offsetWidth:n,a=i?t.offsetHeight:r,o=jh(n)!==s||jh(r)!==a;return o&&(n=s,r=a),{width:n,height:r,$:o}}function Iv(t){return or(t)?t:t.contextElement}function So(t){const e=Iv(t);if(!Dr(e))return Ar(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=k1(e);let a=(s?jh(n.width):n.width)/r,o=(s?jh(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const mP=Ar(0);function L1(t){const e=Mn(t);return!Cv()||!e.visualViewport?mP:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function pP(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Mn(t)?!1:e}function ya(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=Iv(t);let a=Ar(1);e&&(r?or(r)&&(a=So(r)):a=So(t));const o=pP(s,n,r)?L1(s):Ar(0);let c=(i.left+o.x)/a.x,u=(i.top+o.y)/a.y,f=i.width/a.x,d=i.height/a.y;if(s){const p=Mn(s),h=r&&or(r)?Mn(r):r;let S=p,v=Mg(S);for(;v&&r&&h!==S;){const w=So(v),_=v.getBoundingClientRect(),b=lr(v),E=_.left+(v.clientLeft+parseFloat(b.paddingLeft))*w.x,N=_.top+(v.clientTop+parseFloat(b.paddingTop))*w.y;c*=w.x,u*=w.y,f*=w.x,d*=w.y,c+=E,u+=N,S=Mn(v),v=Mg(S)}}return zh({width:f,height:d,x:c,y:u})}function Nv(t,e){const n=Od(t).scrollLeft;return e?e.left+n:ya(kr(t)).left+n}function j1(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:Nv(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function gP(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",a=kr(r),o=e?Nd(e.floating):!1;if(r===a||o&&s)return n;let c={scrollLeft:0,scrollTop:0},u=Ar(1);const f=Ar(0),d=Dr(r);if((d||!d&&!s)&&((vl(r)!=="body"||Eu(a))&&(c=Od(r)),Dr(r))){const h=ya(r);u=So(r),f.x=h.x+r.clientLeft,f.y=h.y+r.clientTop}const p=a&&!d&&!s?j1(a,c,!0):Ar(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+f.x+p.x,y:n.y*u.y-c.scrollTop*u.y+f.y+p.y}}function yP(t){return Array.from(t.getClientRects())}function vP(t){const e=kr(t),n=Od(t),r=t.ownerDocument.body,i=xn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=xn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Nv(t);const o=-n.scrollTop;return lr(r).direction==="rtl"&&(a+=xn(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}function _P(t,e){const n=Mn(t),r=kr(t),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,c=0;if(i){s=i.width,a=i.height;const u=Cv();(!u||u&&e==="fixed")&&(o=i.offsetLeft,c=i.offsetTop)}return{width:s,height:a,x:o,y:c}}const bP=new Set(["absolute","fixed"]);function wP(t,e){const n=ya(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Dr(t)?So(t):Ar(1),a=t.clientWidth*s.x,o=t.clientHeight*s.y,c=i*s.x,u=r*s.y;return{width:a,height:o,x:c,y:u}}function aw(t,e,n){let r;if(e==="viewport")r=_P(t,n);else if(e==="document")r=vP(kr(t));else if(or(e))r=wP(e,n);else{const i=L1(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return zh(r)}function U1(t,e){const n=Ts(t);return n===e||!or(n)||Zo(n)?!1:lr(n).position==="fixed"||U1(n,e)}function EP(t,e){const n=e.get(t);if(n)return n;let r=Hc(t,[],!1).filter(o=>or(o)&&vl(o)!=="body"),i=null;const s=lr(t).position==="fixed";let a=s?Ts(t):t;for(;or(a)&&!Zo(a);){const o=lr(a),c=Rv(a);!c&&o.position==="fixed"&&(i=null),(s?!c&&!i:!c&&o.position==="static"&&!!i&&bP.has(i.position)||Eu(a)&&!c&&U1(t,a))?r=r.filter(f=>f!==a):i=o,a=Ts(a)}return e.set(t,r),r}function TP(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?Nd(e)?[]:EP(e,this._c):[].concat(n),r],o=a[0],c=a.reduce((u,f)=>{const d=aw(e,f,i);return u.top=xn(d.top,u.top),u.right=Es(d.right,u.right),u.bottom=Es(d.bottom,u.bottom),u.left=xn(d.left,u.left),u},aw(e,o,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function SP(t){const{width:e,height:n}=k1(t);return{width:e,height:n}}function AP(t,e,n){const r=Dr(e),i=kr(e),s=n==="fixed",a=ya(t,!0,s,e);let o={scrollLeft:0,scrollTop:0};const c=Ar(0);function u(){c.x=Nv(i)}if(r||!r&&!s)if((vl(e)!=="body"||Eu(i))&&(o=Od(e)),r){const h=ya(e,!0,s,e);c.x=h.x+e.clientLeft,c.y=h.y+e.clientTop}else i&&u();s&&!r&&i&&u();const f=i&&!r&&!s?j1(i,o):Ar(0),d=a.left+o.scrollLeft-c.x-f.x,p=a.top+o.scrollTop-c.y-f.y;return{x:d,y:p,width:a.width,height:a.height}}function op(t){return lr(t).position==="static"}function ow(t,e){if(!Dr(t)||lr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return kr(t)===n&&(n=n.ownerDocument.body),n}function z1(t,e){const n=Mn(t);if(Nd(t))return n;if(!Dr(t)){let i=Ts(t);for(;i&&!Zo(i);){if(or(i)&&!op(i))return i;i=Ts(i)}return n}let r=ow(t,e);for(;r&&oP(r)&&op(r);)r=ow(r,e);return r&&Zo(r)&&op(r)&&!Rv(r)?n:r||hP(t)||n}const xP=async function(t){const e=this.getOffsetParent||z1,n=this.getDimensions,r=await n(t.floating);return{reference:AP(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function RP(t){return lr(t).direction==="rtl"}const CP={convertOffsetParentRelativeRectToViewportRelativeRect:gP,getDocumentElement:kr,getClippingRect:TP,getOffsetParent:z1,getElementRects:xP,getClientRects:yP,getDimensions:SP,getScale:So,isElement:or,isRTL:RP};function B1(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function IP(t,e){let n=null,r;const i=kr(t);function s(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function a(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),s();const u=t.getBoundingClientRect(),{left:f,top:d,width:p,height:h}=u;if(o||e(),!p||!h)return;const S=vf(d),v=vf(i.clientWidth-(f+p)),w=vf(i.clientHeight-(d+h)),_=vf(f),E={rootMargin:-S+"px "+-v+"px "+-w+"px "+-_+"px",threshold:xn(0,Es(1,c))||1};let N=!0;function P(k){const x=k[0].intersectionRatio;if(x!==c){if(!N)return a();x?a(!1,x):r=setTimeout(()=>{a(!1,1e-7)},1e3)}x===1&&!B1(u,t.getBoundingClientRect())&&a(),N=!1}try{n=new IntersectionObserver(P,{...E,root:i.ownerDocument})}catch{n=new IntersectionObserver(P,E)}n.observe(t)}return a(!0),s}function NP(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Iv(t),f=i||s?[...u?Hc(u):[],...Hc(e)]:[];f.forEach(_=>{i&&_.addEventListener("scroll",n,{passive:!0}),s&&_.addEventListener("resize",n)});const d=u&&o?IP(u,n):null;let p=-1,h=null;a&&(h=new ResizeObserver(_=>{let[b]=_;b&&b.target===u&&h&&(h.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var E;(E=h)==null||E.observe(e)})),n()}),u&&!c&&h.observe(u),h.observe(e));let S,v=c?ya(t):null;c&&w();function w(){const _=ya(t);v&&!B1(v,_)&&n(),v=_,S=requestAnimationFrame(w)}return n(),()=>{var _;f.forEach(b=>{i&&b.removeEventListener("scroll",n),s&&b.removeEventListener("resize",n)}),d==null||d(),(_=h)==null||_.disconnect(),h=null,c&&cancelAnimationFrame(S)}}const OP=tP,DP=nP,MP=ZM,PP=iP,VP=JM,lw=WM,kP=rP,LP=(t,e,n)=>{const r=new Map,i={platform:CP,...n},s={...i.platform,_c:r};return XM(t,e,{...i,platform:s})};var jP=typeof document<"u",UP=function(){},Gf=jP?T.useLayoutEffect:UP;function Bh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Bh(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Bh(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function F1(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function cw(t,e){const n=F1(t);return Math.round(e*n)/n}function lp(t){const e=T.useRef(t);return Gf(()=>{e.current=t}),e}function zP(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:c,open:u}=t,[f,d]=T.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,h]=T.useState(r);Bh(p,r)||h(r);const[S,v]=T.useState(null),[w,_]=T.useState(null),b=T.useCallback(q=>{q!==k.current&&(k.current=q,v(q))},[]),E=T.useCallback(q=>{q!==x.current&&(x.current=q,_(q))},[]),N=s||S,P=a||w,k=T.useRef(null),x=T.useRef(null),A=T.useRef(f),R=c!=null,I=lp(c),M=lp(i),O=lp(u),D=T.useCallback(()=>{if(!k.current||!x.current)return;const q={placement:e,strategy:n,middleware:p};M.current&&(q.platform=M.current),LP(k.current,x.current,q).then(H=>{const J={...H,isPositioned:O.current!==!1};W.current&&!Bh(A.current,J)&&(A.current=J,cl.flushSync(()=>{d(J)}))})},[p,e,n,M,O]);Gf(()=>{u===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,d(q=>({...q,isPositioned:!1})))},[u]);const W=T.useRef(!1);Gf(()=>(W.current=!0,()=>{W.current=!1}),[]),Gf(()=>{if(N&&(k.current=N),P&&(x.current=P),N&&P){if(I.current)return I.current(N,P,D);D()}},[N,P,D,I,R]);const le=T.useMemo(()=>({reference:k,floating:x,setReference:b,setFloating:E}),[b,E]),j=T.useMemo(()=>({reference:N,floating:P}),[N,P]),G=T.useMemo(()=>{const q={position:n,left:0,top:0};if(!j.floating)return q;const H=cw(j.floating,f.x),J=cw(j.floating,f.y);return o?{...q,transform:"translate("+H+"px, "+J+"px)",...F1(j.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:H,top:J}},[n,o,j.floating,f.x,f.y]);return T.useMemo(()=>({...f,update:D,refs:le,elements:j,floatingStyles:G}),[f,D,le,j,G])}const BP=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?lw({element:r.current,padding:i}).fn(n):{}:r?lw({element:r,padding:i}).fn(n):{}}}},FP=(t,e)=>({...OP(t),options:[t,e]}),qP=(t,e)=>({...DP(t),options:[t,e]}),HP=(t,e)=>({...kP(t),options:[t,e]}),GP=(t,e)=>({...MP(t),options:[t,e]}),$P=(t,e)=>({...PP(t),options:[t,e]}),KP=(t,e)=>({...VP(t),options:[t,e]}),QP=(t,e)=>({...BP(t),options:[t,e]});var YP="Arrow",q1=T.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return y.jsx(Pe.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:y.jsx("polygon",{points:"0,0 30,0 15,10"})})});q1.displayName=YP;var XP=q1;function WP(t){const[e,n]=T.useState(void 0);return Xt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,o;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,o=u.blockSize}else a=t.offsetWidth,o=t.offsetHeight;n({width:a,height:o})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Ov="Popper",[H1,Dd]=gl(Ov),[ZP,G1]=H1(Ov),$1=t=>{const{__scopePopper:e,children:n}=t,[r,i]=T.useState(null);return y.jsx(ZP,{scope:e,anchor:r,onAnchorChange:i,children:n})};$1.displayName=Ov;var K1="PopperAnchor",Q1=T.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=G1(K1,n),a=T.useRef(null),o=ht(e,a);return T.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:y.jsx(Pe.div,{...i,ref:o})});Q1.displayName=K1;var Dv="PopperContent",[JP,eV]=H1(Dv),Y1=T.forwardRef((t,e)=>{var Q,Ie,Xe,ye,de,ve;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:d="partial",hideWhenDetached:p=!1,updatePositionStrategy:h="optimized",onPlaced:S,...v}=t,w=G1(Dv,n),[_,b]=T.useState(null),E=ht(e,dt=>b(dt)),[N,P]=T.useState(null),k=WP(N),x=(k==null?void 0:k.width)??0,A=(k==null?void 0:k.height)??0,R=r+(s!=="center"?"-"+s:""),I=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},M=Array.isArray(u)?u:[u],O=M.length>0,D={padding:I,boundary:M.filter(nV),altBoundary:O},{refs:W,floatingStyles:le,placement:j,isPositioned:G,middlewareData:q}=zP({strategy:"fixed",placement:R,whileElementsMounted:(...dt)=>NP(...dt,{animationFrame:h==="always"}),elements:{reference:w.anchor},middleware:[FP({mainAxis:i+A,alignmentAxis:a}),c&&qP({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?HP():void 0,...D}),c&&GP({...D}),$P({...D,apply:({elements:dt,rects:zt,availableWidth:Qn,availableHeight:Yn})=>{const{width:Lr,height:ks}=zt.reference,jr=dt.floating.style;jr.setProperty("--radix-popper-available-width",`${Qn}px`),jr.setProperty("--radix-popper-available-height",`${Yn}px`),jr.setProperty("--radix-popper-anchor-width",`${Lr}px`),jr.setProperty("--radix-popper-anchor-height",`${ks}px`)}}),N&&QP({element:N,padding:o}),rV({arrowWidth:x,arrowHeight:A}),p&&KP({strategy:"referenceHidden",...D})]}),[H,J]=Z1(j),De=ws(S);Xt(()=>{G&&(De==null||De())},[G,De]);const re=(Q=q.arrow)==null?void 0:Q.x,ee=(Ie=q.arrow)==null?void 0:Ie.y,ue=((Xe=q.arrow)==null?void 0:Xe.centerOffset)!==0,[xe,Ut]=T.useState();return Xt(()=>{_&&Ut(window.getComputedStyle(_).zIndex)},[_]),y.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...le,transform:G?le.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:xe,"--radix-popper-transform-origin":[(ye=q.transformOrigin)==null?void 0:ye.x,(de=q.transformOrigin)==null?void 0:de.y].join(" "),...((ve=q.hide)==null?void 0:ve.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:y.jsx(JP,{scope:n,placedSide:H,onArrowChange:P,arrowX:re,arrowY:ee,shouldHideArrow:ue,children:y.jsx(Pe.div,{"data-side":H,"data-align":J,...v,ref:E,style:{...v.style,animation:G?void 0:"none"}})})})});Y1.displayName=Dv;var X1="PopperArrow",tV={top:"bottom",right:"left",bottom:"top",left:"right"},W1=T.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=eV(X1,r),a=tV[s.placedSide];return y.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:y.jsx(XP,{...i,ref:n,style:{...i.style,display:"block"}})})});W1.displayName=X1;function nV(t){return t!==null}var rV=t=>({name:"transformOrigin",options:t,fn(e){var w,_,b;const{placement:n,rects:r,middlewareData:i}=e,a=((w=i.arrow)==null?void 0:w.centerOffset)!==0,o=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[u,f]=Z1(n),d={start:"0%",center:"50%",end:"100%"}[f],p=(((_=i.arrow)==null?void 0:_.x)??0)+o/2,h=(((b=i.arrow)==null?void 0:b.y)??0)+c/2;let S="",v="";return u==="bottom"?(S=a?d:`${p}px`,v=`${-c}px`):u==="top"?(S=a?d:`${p}px`,v=`${r.floating.height+c}px`):u==="right"?(S=`${-c}px`,v=a?d:`${h}px`):u==="left"&&(S=`${r.floating.width+c}px`,v=a?d:`${h}px`),{data:{x:S,y:v}}}});function Z1(t){const[e,n="center"]=t.split("-");return[e,n]}var iV=$1,J1=Q1,ex=Y1,tx=W1,sV="Portal",nx=T.forwardRef((t,e)=>{var o;const{container:n,...r}=t,[i,s]=T.useState(!1);Xt(()=>s(!0),[]);const a=n||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?$T.createPortal(y.jsx(Pe.div,{...r,ref:e}),a):null});nx.displayName=sV;function aV(t,e){return T.useReducer((n,r)=>e[n][r]??n,t)}var Mv=t=>{const{present:e,children:n}=t,r=oV(e),i=typeof n=="function"?n({present:r.isPresent}):T.Children.only(n),s=ht(r.ref,lV(i));return typeof n=="function"||r.isPresent?T.cloneElement(i,{ref:s}):null};Mv.displayName="Presence";function oV(t){const[e,n]=T.useState(),r=T.useRef(null),i=T.useRef(t),s=T.useRef("none"),a=t?"mounted":"unmounted",[o,c]=aV(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const u=_f(r.current);s.current=o==="mounted"?u:"none"},[o]),Xt(()=>{const u=r.current,f=i.current;if(f!==t){const p=s.current,h=_f(u);t?c("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&p!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),Xt(()=>{if(e){let u;const f=e.ownerDocument.defaultView??window,d=h=>{const v=_f(r.current).includes(h.animationName);if(h.target===e&&v&&(c("ANIMATION_END"),!i.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",u=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},p=h=>{h.target===e&&(s.current=_f(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{f.clearTimeout(u),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:T.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function _f(t){return(t==null?void 0:t.animationName)||"none"}function lV(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var cV=Cy[" useInsertionEffect ".trim().toString()]||Xt;function Fh({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,a]=uV({defaultProp:e,onChange:n}),o=t!==void 0,c=o?t:i;{const f=T.useRef(t!==void 0);T.useEffect(()=>{const d=f.current;d!==o&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=o},[o,r])}const u=T.useCallback(f=>{var d;if(o){const p=fV(f)?f(t):f;p!==t&&((d=a.current)==null||d.call(a,p))}else s(f)},[o,t,s,a]);return[c,u]}function uV({defaultProp:t,onChange:e}){const[n,r]=T.useState(t),i=T.useRef(n),s=T.useRef(e);return cV(()=>{s.current=e},[e]),T.useEffect(()=>{var a;i.current!==n&&((a=s.current)==null||a.call(s,n),i.current=n)},[n,i]),[n,r,s]}function fV(t){return typeof t=="function"}var rx=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),hV="VisuallyHidden",ix=T.forwardRef((t,e)=>y.jsx(Pe.span,{...t,ref:e,style:{...rx,...t.style}}));ix.displayName=hV;var dV=ix,[Md,ZB]=gl("Tooltip",[Dd]),Pv=Dd(),sx="TooltipProvider",mV=700,uw="tooltip.open",[pV,ax]=Md(sx),ox=t=>{const{__scopeTooltip:e,delayDuration:n=mV,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,a=T.useRef(!0),o=T.useRef(!1),c=T.useRef(0);return T.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),y.jsx(pV,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:T.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:T.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:o,onPointerInTransitChange:T.useCallback(u=>{o.current=u},[]),disableHoverableContent:i,children:s})};ox.displayName=sx;var lx="Tooltip",[JB,Pd]=Md(lx),Pg="TooltipTrigger",gV=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Pd(Pg,n),s=ax(Pg,n),a=Pv(n),o=T.useRef(null),c=ht(e,o,i.onTriggerChange),u=T.useRef(!1),f=T.useRef(!1),d=T.useCallback(()=>u.current=!1,[]);return T.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),y.jsx(J1,{asChild:!0,...a,children:y.jsx(Pe.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:Ee(t.onPointerMove,p=>{p.pointerType!=="touch"&&!f.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:Ee(t.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:Ee(t.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:Ee(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:Ee(t.onBlur,i.onClose),onClick:Ee(t.onClick,i.onClose)})})});gV.displayName=Pg;var yV="TooltipPortal",[e7,vV]=Md(yV,{forceMount:void 0}),Jo="TooltipContent",cx=T.forwardRef((t,e)=>{const n=vV(Jo,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,a=Pd(Jo,t.__scopeTooltip);return y.jsx(Mv,{present:r||a.open,children:a.disableHoverableContent?y.jsx(ux,{side:i,...s,ref:e}):y.jsx(_V,{side:i,...s,ref:e})})}),_V=T.forwardRef((t,e)=>{const n=Pd(Jo,t.__scopeTooltip),r=ax(Jo,t.__scopeTooltip),i=T.useRef(null),s=ht(e,i),[a,o]=T.useState(null),{trigger:c,onClose:u}=n,f=i.current,{onPointerInTransitChange:d}=r,p=T.useCallback(()=>{o(null),d(!1)},[d]),h=T.useCallback((S,v)=>{const w=S.currentTarget,_={x:S.clientX,y:S.clientY},b=SV(_,w.getBoundingClientRect()),E=AV(_,b),N=xV(v.getBoundingClientRect()),P=CV([...E,...N]);o(P),d(!0)},[d]);return T.useEffect(()=>()=>p(),[p]),T.useEffect(()=>{if(c&&f){const S=w=>h(w,f),v=w=>h(w,c);return c.addEventListener("pointerleave",S),f.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",S),f.removeEventListener("pointerleave",v)}}},[c,f,h,p]),T.useEffect(()=>{if(a){const S=v=>{const w=v.target,_={x:v.clientX,y:v.clientY},b=(c==null?void 0:c.contains(w))||(f==null?void 0:f.contains(w)),E=!RV(_,a);b?p():E&&(p(),u())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[c,f,a,u,p]),y.jsx(ux,{...t,ref:s})}),[bV,wV]=Md(lx,{isInside:!1}),EV=TM("TooltipContent"),ux=T.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...o}=t,c=Pd(Jo,n),u=Pv(n),{onClose:f}=c;return T.useEffect(()=>(document.addEventListener(uw,f),()=>document.removeEventListener(uw,f)),[f]),T.useEffect(()=>{if(c.trigger){const d=p=>{const h=p.target;h!=null&&h.contains(c.trigger)&&f()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[c.trigger,f]),y.jsx(Tv,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:d=>d.preventDefault(),onDismiss:f,children:y.jsxs(ex,{"data-state":c.stateAttribute,...u,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[y.jsx(EV,{children:r}),y.jsx(bV,{scope:n,isInside:!0,children:y.jsx(dV,{id:c.contentId,role:"tooltip",children:i||r})})]})})});cx.displayName=Jo;var fx="TooltipArrow",TV=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Pv(n);return wV(fx,n).isInside?null:y.jsx(tx,{...i,...r,ref:e})});TV.displayName=fx;function SV(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function AV(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function xV(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function RV(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const o=e[s],c=e[a],u=o.x,f=o.y,d=c.x,p=c.y;f>r!=p>r&&n<(d-u)*(r-f)/(p-f)+u&&(i=!i)}return i}function CV(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),IV(e)}function IV(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],a=e[e.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],a=n[n.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var NV=ox,hx=cx;function dx(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=dx(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function mx(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=dx(t))&&(r&&(r+=" "),r+=e);return r}const Vv="-",OV=t=>{const e=MV(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const o=a.split(Vv);return o[0]===""&&o.length!==1&&o.shift(),px(o,e)||DV(a)},getConflictingClassGroupIds:(a,o)=>{const c=n[a]||[];return o&&r[a]?[...c,...r[a]]:c}}},px=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?px(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(Vv);return(a=e.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},fw=/^\[(.+)\]$/,DV=t=>{if(fw.test(t)){const e=fw.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},MV=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return VV(Object.entries(t.classGroups),n).forEach(([s,a])=>{Vg(a,r,s,e)}),r},Vg=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:hw(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(PV(i)){Vg(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{Vg(a,hw(e,s),n,r)})})},hw=(t,e)=>{let n=t;return e.split(Vv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},PV=t=>t.isThemeGetter,VV=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[e+a,o])):s);return[n,i]}):t,kV=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,a)=>{n.set(s,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},gx="!",LV=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,a=o=>{const c=[];let u=0,f=0,d;for(let w=0;w<o.length;w++){let _=o[w];if(u===0){if(_===i&&(r||o.slice(w,w+s)===e)){c.push(o.slice(f,w)),f=w+s;continue}if(_==="/"){d=w;continue}}_==="["?u++:_==="]"&&u--}const p=c.length===0?o:o.substring(f),h=p.startsWith(gx),S=h?p.substring(1):p,v=d&&d>f?d-f:void 0;return{modifiers:c,hasImportantModifier:h,baseClassName:S,maybePostfixModifierPosition:v}};return n?o=>n({className:o,parseClassName:a}):a},jV=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},UV=t=>({cache:kV(t.cacheSize),parseClassName:LV(t),...OV(t)}),zV=/\s+/,BV=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],a=t.trim().split(zV);let o="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:f,hasImportantModifier:d,baseClassName:p,maybePostfixModifierPosition:h}=n(u);let S=!!h,v=r(S?p.substring(0,h):p);if(!v){if(!S){o=u+(o.length>0?" "+o:o);continue}if(v=r(p),!v){o=u+(o.length>0?" "+o:o);continue}S=!1}const w=jV(f).join(":"),_=d?w+gx:w,b=_+v;if(s.includes(b))continue;s.push(b);const E=i(v,S);for(let N=0;N<E.length;++N){const P=E[N];s.push(_+P)}o=u+(o.length>0?" "+o:o)}return o};function FV(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=yx(e))&&(r&&(r+=" "),r+=n);return r}const yx=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=yx(t[r]))&&(n&&(n+=" "),n+=e);return n};function qV(t,...e){let n,r,i,s=a;function a(c){const u=e.reduce((f,d)=>d(f),t());return n=UV(u),r=n.cache.get,i=n.cache.set,s=o,o(c)}function o(c){const u=r(c);if(u)return u;const f=BV(c,n);return i(c,f),f}return function(){return s(FV.apply(null,arguments))}}const Ke=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},vx=/^\[(?:([a-z-]+):)?(.+)\]$/i,HV=/^\d+\/\d+$/,GV=new Set(["px","full","screen"]),$V=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,KV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,QV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,YV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,XV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,$r=t=>Ao(t)||GV.has(t)||HV.test(t),Ci=t=>_l(t,"length",ik),Ao=t=>!!t&&!Number.isNaN(Number(t)),cp=t=>_l(t,"number",Ao),Yl=t=>!!t&&Number.isInteger(Number(t)),WV=t=>t.endsWith("%")&&Ao(t.slice(0,-1)),fe=t=>vx.test(t),Ii=t=>$V.test(t),ZV=new Set(["length","size","percentage"]),JV=t=>_l(t,ZV,_x),ek=t=>_l(t,"position",_x),tk=new Set(["image","url"]),nk=t=>_l(t,tk,ak),rk=t=>_l(t,"",sk),Xl=()=>!0,_l=(t,e,n)=>{const r=vx.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},ik=t=>KV.test(t)&&!QV.test(t),_x=()=>!1,sk=t=>YV.test(t),ak=t=>XV.test(t),ok=()=>{const t=Ke("colors"),e=Ke("spacing"),n=Ke("blur"),r=Ke("brightness"),i=Ke("borderColor"),s=Ke("borderRadius"),a=Ke("borderSpacing"),o=Ke("borderWidth"),c=Ke("contrast"),u=Ke("grayscale"),f=Ke("hueRotate"),d=Ke("invert"),p=Ke("gap"),h=Ke("gradientColorStops"),S=Ke("gradientColorStopPositions"),v=Ke("inset"),w=Ke("margin"),_=Ke("opacity"),b=Ke("padding"),E=Ke("saturate"),N=Ke("scale"),P=Ke("sepia"),k=Ke("skew"),x=Ke("space"),A=Ke("translate"),R=()=>["auto","contain","none"],I=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",fe,e],O=()=>[fe,e],D=()=>["",$r,Ci],W=()=>["auto",Ao,fe],le=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],j=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],H=()=>["","0",fe],J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],De=()=>[Ao,fe];return{cacheSize:500,separator:":",theme:{colors:[Xl],spacing:[$r,Ci],blur:["none","",Ii,fe],brightness:De(),borderColor:[t],borderRadius:["none","","full",Ii,fe],borderSpacing:O(),borderWidth:D(),contrast:De(),grayscale:H(),hueRotate:De(),invert:H(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[WV,Ci],inset:M(),margin:M(),opacity:De(),padding:O(),saturate:De(),scale:De(),sepia:H(),skew:De(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",fe]}],container:["container"],columns:[{columns:[Ii]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...le(),fe]}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Yl,fe]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",fe]}],grow:[{grow:H()}],shrink:[{shrink:H()}],order:[{order:["first","last","none",Yl,fe]}],"grid-cols":[{"grid-cols":[Xl]}],"col-start-end":[{col:["auto",{span:["full",Yl,fe]},fe]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[Xl]}],"row-start-end":[{row:["auto",{span:[Yl,fe]},fe]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",fe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",fe]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[x]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[x]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",fe,e]}],"min-w":[{"min-w":[fe,e,"min","max","fit"]}],"max-w":[{"max-w":[fe,e,"none","full","min","max","fit","prose",{screen:[Ii]},Ii]}],h:[{h:[fe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[fe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[fe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[fe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ii,Ci]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",cp]}],"font-family":[{font:[Xl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",fe]}],"line-clamp":[{"line-clamp":["none",Ao,cp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",$r,fe]}],"list-image":[{"list-image":["none",fe]}],"list-style-type":[{list:["none","disc","decimal",fe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...j(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",$r,Ci]}],"underline-offset":[{"underline-offset":["auto",$r,fe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...le(),ek]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",JV]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},nk]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...j(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:j()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...j()]}],"outline-offset":[{"outline-offset":[$r,fe]}],"outline-w":[{outline:[$r,Ci]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[$r,Ci]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ii,rk]}],"shadow-color":[{shadow:[Xl]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ii,fe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[d]}],saturate:[{saturate:[E]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",fe]}],duration:[{duration:De()}],ease:[{ease:["linear","in","out","in-out",fe]}],delay:[{delay:De()}],animate:[{animate:["none","spin","ping","pulse","bounce",fe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Yl,fe]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",fe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",fe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",fe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[$r,Ci,cp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},lk=qV(ok);function tt(...t){return lk(mx(t))}const ck=NV,uk=T.forwardRef(({className:t,sideOffset:e=4,...n},r)=>y.jsx(hx,{ref:r,sideOffset:e,className:tt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));uk.displayName=hx.displayName;var Vd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},kd=typeof window>"u"||"Deno"in globalThis;function er(){}function fk(t,e){return typeof t=="function"?t(e):t}function hk(t){return typeof t=="number"&&t>=0&&t!==1/0}function dk(t,e){return Math.max(t+(e||0)-Date.now(),0)}function kg(t,e){return typeof t=="function"?t(e):t}function mk(t,e){return typeof t=="function"?t(e):t}function dw(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:o}=t;if(a){if(r){if(e.queryHash!==kv(a,e.options))return!1}else if(!$c(e.queryKey,a))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||s&&!s(e))}function mw(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Gc(e.options.mutationKey)!==Gc(s))return!1}else if(!$c(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function kv(t,e){return((e==null?void 0:e.queryKeyHashFn)||Gc)(t)}function Gc(t){return JSON.stringify(t,(e,n)=>Lg(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function $c(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>$c(t[n],e[n])):!1}function bx(t,e){if(t===e)return t;const n=pw(t)&&pw(e);if(n||Lg(t)&&Lg(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),a=s.length,o=n?[]:{},c=new Set(r);let u=0;for(let f=0;f<a;f++){const d=n?f:s[f];(!n&&c.has(d)||n)&&t[d]===void 0&&e[d]===void 0?(o[d]=void 0,u++):(o[d]=bx(t[d],e[d]),o[d]===t[d]&&t[d]!==void 0&&u++)}return i===a&&u===i?t:o}return e}function pw(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Lg(t){if(!gw(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!gw(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function gw(t){return Object.prototype.toString.call(t)==="[object Object]"}function pk(t){return new Promise(e=>{setTimeout(e,t)})}function gk(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?bx(t,e):e}function yk(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function vk(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Lv=Symbol();function wx(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Lv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Zs,Ki,Mo,ET,_k=(ET=class extends Vd{constructor(){super();Ce(this,Zs);Ce(this,Ki);Ce(this,Mo);ce(this,Mo,e=>{if(!kd&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,Ki)||this.setEventListener(U(this,Mo))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,Ki))==null||e.call(this),ce(this,Ki,void 0))}setEventListener(e){var n;ce(this,Mo,e),(n=U(this,Ki))==null||n.call(this),ce(this,Ki,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){U(this,Zs)!==e&&(ce(this,Zs,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof U(this,Zs)=="boolean"?U(this,Zs):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Zs=new WeakMap,Ki=new WeakMap,Mo=new WeakMap,ET),Ex=new _k,Po,Qi,Vo,TT,bk=(TT=class extends Vd{constructor(){super();Ce(this,Po,!0);Ce(this,Qi);Ce(this,Vo);ce(this,Vo,e=>{if(!kd&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){U(this,Qi)||this.setEventListener(U(this,Vo))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,Qi))==null||e.call(this),ce(this,Qi,void 0))}setEventListener(e){var n;ce(this,Vo,e),(n=U(this,Qi))==null||n.call(this),ce(this,Qi,e(this.setOnline.bind(this)))}setOnline(e){U(this,Po)!==e&&(ce(this,Po,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return U(this,Po)}},Po=new WeakMap,Qi=new WeakMap,Vo=new WeakMap,TT),qh=new bk;function wk(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function Ek(t){return Math.min(1e3*2**t,3e4)}function Tx(t){return(t??"online")==="online"?qh.isOnline():!0}var Sx=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function up(t){return t instanceof Sx}function Ax(t){let e=!1,n=0,r=!1,i;const s=wk(),a=v=>{var w;r||(p(new Sx(v)),(w=t.abort)==null||w.call(t))},o=()=>{e=!0},c=()=>{e=!1},u=()=>Ex.isFocused()&&(t.networkMode==="always"||qh.isOnline())&&t.canRun(),f=()=>Tx(t.networkMode)&&t.canRun(),d=v=>{var w;r||(r=!0,(w=t.onSuccess)==null||w.call(t,v),i==null||i(),s.resolve(v))},p=v=>{var w;r||(r=!0,(w=t.onError)==null||w.call(t,v),i==null||i(),s.reject(v))},h=()=>new Promise(v=>{var w;i=_=>{(r||u())&&v(_)},(w=t.onPause)==null||w.call(t)}).then(()=>{var v;i=void 0,r||(v=t.onContinue)==null||v.call(t)}),S=()=>{if(r)return;let v;const w=n===0?t.initialPromise:void 0;try{v=w??t.fn()}catch(_){v=Promise.reject(_)}Promise.resolve(v).then(d).catch(_=>{var k;if(r)return;const b=t.retry??(kd?0:3),E=t.retryDelay??Ek,N=typeof E=="function"?E(n,_):E,P=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,_);if(e||!P){p(_);return}n++,(k=t.onFail)==null||k.call(t,n,_),pk(N).then(()=>u()?void 0:h()).then(()=>{e?p(_):S()})})};return{promise:s,cancel:a,continue:()=>(i==null||i(),s),cancelRetry:o,continueRetry:c,canStart:f,start:()=>(f()?S():h().then(S),s)}}var Tk=t=>setTimeout(t,0);function Sk(){let t=[],e=0,n=o=>{o()},r=o=>{o()},i=Tk;const s=o=>{e?t.push(o):i(()=>{n(o)})},a=()=>{const o=t;t=[],o.length&&i(()=>{r(()=>{o.forEach(c=>{n(c)})})})};return{batch:o=>{let c;e++;try{c=o()}finally{e--,e||a()}return c},batchCalls:o=>(...c)=>{s(()=>{o(...c)})},schedule:s,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{i=o}}}var Jt=Sk(),Js,ST,xx=(ST=class{constructor(){Ce(this,Js)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),hk(this.gcTime)&&ce(this,Js,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(kd?1/0:5*60*1e3))}clearGcTimeout(){U(this,Js)&&(clearTimeout(U(this,Js)),ce(this,Js,void 0))}},Js=new WeakMap,ST),ko,ea,kn,ta,Gt,ru,na,tr,Kr,AT,Ak=(AT=class extends xx{constructor(n){super();Ce(this,tr);Ce(this,ko);Ce(this,ea);Ce(this,kn);Ce(this,ta);Ce(this,Gt);Ce(this,ru);Ce(this,na);ce(this,na,!1),ce(this,ru,n.defaultOptions),this.setOptions(n.options),this.observers=[],ce(this,ta,n.client),ce(this,kn,U(this,ta).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ce(this,ko,Rk(this.options)),this.state=n.state??U(this,ko),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=U(this,Gt))==null?void 0:n.promise}setOptions(n){this.options={...U(this,ru),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,kn).remove(this)}setData(n,r){const i=gk(this.state.data,n,this.options);return qt(this,tr,Kr).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){qt(this,tr,Kr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=U(this,Gt))==null?void 0:i.promise;return(s=U(this,Gt))==null||s.cancel(n),r?r.then(er).catch(er):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,ko))}isActive(){return this.observers.some(n=>mk(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Lv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>kg(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!dk(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,Gt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,Gt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),U(this,kn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(U(this,Gt)&&(U(this,na)?U(this,Gt).cancel({revert:!0}):U(this,Gt).cancelRetry()),this.scheduleGc()),U(this,kn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||qt(this,tr,Kr).call(this,{type:"invalidate"})}fetch(n,r){var f,d,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,Gt))return U(this,Gt).continueRetry(),U(this,Gt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const h=this.observers.find(S=>S.options.queryFn);h&&this.setOptions(h.options)}const i=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(ce(this,na,!0),i.signal)})},a=()=>{const h=wx(this.options,r),v=(()=>{const w={client:U(this,ta),queryKey:this.queryKey,meta:this.meta};return s(w),w})();return ce(this,na,!1),this.options.persister?this.options.persister(h,v,this):h(v)},c=(()=>{const h={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:U(this,ta),state:this.state,fetchFn:a};return s(h),h})();(f=this.options.behavior)==null||f.onFetch(c,this),ce(this,ea,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=c.fetchOptions)==null?void 0:d.meta))&&qt(this,tr,Kr).call(this,{type:"fetch",meta:(p=c.fetchOptions)==null?void 0:p.meta});const u=h=>{var S,v,w,_;up(h)&&h.silent||qt(this,tr,Kr).call(this,{type:"error",error:h}),up(h)||((v=(S=U(this,kn).config).onError)==null||v.call(S,h,this),(_=(w=U(this,kn).config).onSettled)==null||_.call(w,this.state.data,h,this)),this.scheduleGc()};return ce(this,Gt,Ax({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,abort:i.abort.bind(i),onSuccess:h=>{var S,v,w,_;if(h===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(b){u(b);return}(v=(S=U(this,kn).config).onSuccess)==null||v.call(S,h,this),(_=(w=U(this,kn).config).onSettled)==null||_.call(w,h,this.state.error,this),this.scheduleGc()},onError:u,onFail:(h,S)=>{qt(this,tr,Kr).call(this,{type:"failed",failureCount:h,error:S})},onPause:()=>{qt(this,tr,Kr).call(this,{type:"pause"})},onContinue:()=>{qt(this,tr,Kr).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),U(this,Gt).start()}},ko=new WeakMap,ea=new WeakMap,kn=new WeakMap,ta=new WeakMap,Gt=new WeakMap,ru=new WeakMap,na=new WeakMap,tr=new WeakSet,Kr=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...xk(i.data,this.options),fetchMeta:n.meta??null};case"success":return ce(this,ea,void 0),{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return up(s)&&s.revert&&U(this,ea)?{...U(this,ea),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),Jt.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),U(this,kn).notify({query:this,type:"updated",action:n})})},AT);function xk(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Tx(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Rk(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var pr,xT,Ck=(xT=class extends Vd{constructor(e={}){super();Ce(this,pr);this.config=e,ce(this,pr,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??kv(i,n);let a=this.get(s);return a||(a=new Ak({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){U(this,pr).has(e.queryHash)||(U(this,pr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=U(this,pr).get(e.queryHash);n&&(e.destroy(),n===e&&U(this,pr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Jt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return U(this,pr).get(e)}getAll(){return[...U(this,pr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>dw(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>dw(e,r)):n}notify(e){Jt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Jt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Jt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},pr=new WeakMap,xT),gr,Zt,ra,yr,Mi,RT,Ik=(RT=class extends xx{constructor(n){super();Ce(this,yr);Ce(this,gr);Ce(this,Zt);Ce(this,ra);this.mutationId=n.mutationId,ce(this,Zt,n.mutationCache),ce(this,gr,[]),this.state=n.state||Nk(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){U(this,gr).includes(n)||(U(this,gr).push(n),this.clearGcTimeout(),U(this,Zt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ce(this,gr,U(this,gr).filter(r=>r!==n)),this.scheduleGc(),U(this,Zt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){U(this,gr).length||(this.state.status==="pending"?this.scheduleGc():U(this,Zt).remove(this))}continue(){var n;return((n=U(this,ra))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var a,o,c,u,f,d,p,h,S,v,w,_,b,E,N,P,k,x,A,R;const r=()=>{qt(this,yr,Mi).call(this,{type:"continue"})};ce(this,ra,Ax({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(I,M)=>{qt(this,yr,Mi).call(this,{type:"failed",failureCount:I,error:M})},onPause:()=>{qt(this,yr,Mi).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Zt).canRun(this)}));const i=this.state.status==="pending",s=!U(this,ra).canStart();try{if(i)r();else{qt(this,yr,Mi).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(a=U(this,Zt).config).onMutate)==null?void 0:o.call(a,n,this));const M=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,n));M!==this.state.context&&qt(this,yr,Mi).call(this,{type:"pending",context:M,variables:n,isPaused:s})}const I=await U(this,ra).start();return await((d=(f=U(this,Zt).config).onSuccess)==null?void 0:d.call(f,I,n,this.state.context,this)),await((h=(p=this.options).onSuccess)==null?void 0:h.call(p,I,n,this.state.context)),await((v=(S=U(this,Zt).config).onSettled)==null?void 0:v.call(S,I,null,this.state.variables,this.state.context,this)),await((_=(w=this.options).onSettled)==null?void 0:_.call(w,I,null,n,this.state.context)),qt(this,yr,Mi).call(this,{type:"success",data:I}),I}catch(I){try{throw await((E=(b=U(this,Zt).config).onError)==null?void 0:E.call(b,I,n,this.state.context,this)),await((P=(N=this.options).onError)==null?void 0:P.call(N,I,n,this.state.context)),await((x=(k=U(this,Zt).config).onSettled)==null?void 0:x.call(k,void 0,I,this.state.variables,this.state.context,this)),await((R=(A=this.options).onSettled)==null?void 0:R.call(A,void 0,I,n,this.state.context)),I}finally{qt(this,yr,Mi).call(this,{type:"error",error:I})}}finally{U(this,Zt).runNext(this)}}},gr=new WeakMap,Zt=new WeakMap,ra=new WeakMap,yr=new WeakSet,Mi=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Jt.batch(()=>{U(this,gr).forEach(i=>{i.onMutationUpdate(n)}),U(this,Zt).notify({mutation:this,type:"updated",action:n})})},RT);function Nk(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Qr,nr,iu,CT,Ok=(CT=class extends Vd{constructor(e={}){super();Ce(this,Qr);Ce(this,nr);Ce(this,iu);this.config=e,ce(this,Qr,new Set),ce(this,nr,new Map),ce(this,iu,0)}build(e,n,r){const i=new Ik({mutationCache:this,mutationId:++ef(this,iu)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){U(this,Qr).add(e);const n=bf(e);if(typeof n=="string"){const r=U(this,nr).get(n);r?r.push(e):U(this,nr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(U(this,Qr).delete(e)){const n=bf(e);if(typeof n=="string"){const r=U(this,nr).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&U(this,nr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=bf(e);if(typeof n=="string"){const r=U(this,nr).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=bf(e);if(typeof n=="string"){const i=(r=U(this,nr).get(n))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Jt.batch(()=>{U(this,Qr).forEach(e=>{this.notify({type:"removed",mutation:e})}),U(this,Qr).clear(),U(this,nr).clear()})}getAll(){return Array.from(U(this,Qr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>mw(n,r))}findAll(e={}){return this.getAll().filter(n=>mw(e,n))}notify(e){Jt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Jt.batch(()=>Promise.all(e.map(n=>n.continue().catch(er))))}},Qr=new WeakMap,nr=new WeakMap,iu=new WeakMap,CT);function bf(t){var e;return(e=t.options.scope)==null?void 0:e.id}function yw(t){return{onFetch:(e,n)=>{var f,d,p,h,S;const r=e.options,i=(p=(d=(f=e.fetchOptions)==null?void 0:f.meta)==null?void 0:d.fetchMore)==null?void 0:p.direction,s=((h=e.state.data)==null?void 0:h.pages)||[],a=((S=e.state.data)==null?void 0:S.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const w=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},_=wx(e.options,e.fetchOptions),b=async(E,N,P)=>{if(v)return Promise.reject();if(N==null&&E.pages.length)return Promise.resolve(E);const x=(()=>{const M={client:e.client,queryKey:e.queryKey,pageParam:N,direction:P?"backward":"forward",meta:e.options.meta};return w(M),M})(),A=await _(x),{maxPages:R}=e.options,I=P?vk:yk;return{pages:I(E.pages,A,R),pageParams:I(E.pageParams,N,R)}};if(i&&s.length){const E=i==="backward",N=E?Dk:vw,P={pages:s,pageParams:a},k=N(r,P);o=await b(P,k,E)}else{const E=t??s.length;do{const N=c===0?a[0]??r.initialPageParam:vw(r,o);if(c>0&&N==null)break;o=await b(o,N),c++}while(c<E)}return o};e.options.persister?e.fetchFn=()=>{var v,w;return(w=(v=e.options).persister)==null?void 0:w.call(v,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function vw(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Dk(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var at,Yi,Xi,Lo,jo,Wi,Uo,zo,IT,Mk=(IT=class{constructor(t={}){Ce(this,at);Ce(this,Yi);Ce(this,Xi);Ce(this,Lo);Ce(this,jo);Ce(this,Wi);Ce(this,Uo);Ce(this,zo);ce(this,at,t.queryCache||new Ck),ce(this,Yi,t.mutationCache||new Ok),ce(this,Xi,t.defaultOptions||{}),ce(this,Lo,new Map),ce(this,jo,new Map),ce(this,Wi,0)}mount(){ef(this,Wi)._++,U(this,Wi)===1&&(ce(this,Uo,Ex.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,at).onFocus())})),ce(this,zo,qh.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,at).onOnline())})))}unmount(){var t,e;ef(this,Wi)._--,U(this,Wi)===0&&((t=U(this,Uo))==null||t.call(this),ce(this,Uo,void 0),(e=U(this,zo))==null||e.call(this),ce(this,zo,void 0))}isFetching(t){return U(this,at).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return U(this,Yi).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,at).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=U(this,at).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(kg(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return U(this,at).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=U(this,at).get(r.queryHash),s=i==null?void 0:i.state.data,a=fk(e,s);if(a!==void 0)return U(this,at).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Jt.batch(()=>U(this,at).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,at).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=U(this,at);Jt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=U(this,at);return Jt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Jt.batch(()=>U(this,at).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(er).catch(er)}invalidateQueries(t,e={}){return Jt.batch(()=>(U(this,at).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Jt.batch(()=>U(this,at).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(er)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(er)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=U(this,at).build(this,e);return n.isStaleByTime(kg(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(er).catch(er)}fetchInfiniteQuery(t){return t.behavior=yw(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(er).catch(er)}ensureInfiniteQueryData(t){return t.behavior=yw(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return qh.isOnline()?U(this,Yi).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,at)}getMutationCache(){return U(this,Yi)}getDefaultOptions(){return U(this,Xi)}setDefaultOptions(t){ce(this,Xi,t)}setQueryDefaults(t,e){U(this,Lo).set(Gc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...U(this,Lo).values()],n={};return e.forEach(r=>{$c(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){U(this,jo).set(Gc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...U(this,jo).values()],n={};return e.forEach(r=>{$c(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...U(this,Xi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=kv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Lv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...U(this,Xi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){U(this,at).clear(),U(this,Yi).clear()}},at=new WeakMap,Yi=new WeakMap,Xi=new WeakMap,Lo=new WeakMap,jo=new WeakMap,Wi=new WeakMap,Uo=new WeakMap,zo=new WeakMap,IT),Pk=T.createContext(void 0),Vk=({client:t,children:e})=>(T.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),y.jsx(Pk.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hh(){return Hh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hh.apply(this,arguments)}var ns;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ns||(ns={}));const _w="popstate";function kk(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return jg("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Cx(i)}return jk(e,n,null,t)}function pn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Rx(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Lk(){return Math.random().toString(36).substr(2,8)}function bw(t,e){return{usr:t.state,key:t.key,idx:e}}function jg(t,e,n,r){return n===void 0&&(n=null),Hh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ld(e):e,{state:n,key:e&&e.key||r||Lk()})}function Cx(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ld(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function jk(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=ns.Pop,c=null,u=f();u==null&&(u=0,a.replaceState(Hh({},a.state,{idx:u}),""));function f(){return(a.state||{idx:null}).idx}function d(){o=ns.Pop;let w=f(),_=w==null?null:w-u;u=w,c&&c({action:o,location:v.location,delta:_})}function p(w,_){o=ns.Push;let b=jg(v.location,w,_);u=f()+1;let E=bw(b,u),N=v.createHref(b);try{a.pushState(E,"",N)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(N)}s&&c&&c({action:o,location:v.location,delta:1})}function h(w,_){o=ns.Replace;let b=jg(v.location,w,_);u=f();let E=bw(b,u),N=v.createHref(b);a.replaceState(E,"",N),s&&c&&c({action:o,location:v.location,delta:0})}function S(w){let _=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof w=="string"?w:Cx(w);return b=b.replace(/ $/,"%20"),pn(_,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,_)}let v={get action(){return o},get location(){return t(i,a)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(_w,d),c=w,()=>{i.removeEventListener(_w,d),c=null}},createHref(w){return e(i,w)},createURL:S,encodeLocation(w){let _=S(w);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:h,go(w){return a.go(w)}};return v}var ww;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ww||(ww={}));function Uk(t,e,n){return n===void 0&&(n="/"),zk(t,e,n)}function zk(t,e,n,r){let i=typeof e=="string"?Ld(e):e,s=Ox(i.pathname||"/",n);if(s==null)return null;let a=Ix(t);Bk(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let u=Jk(s);o=Xk(a[c],u)}return o}function Ix(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let c={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(pn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=xo([r,c.relativePath]),f=n.concat(c);s.children&&s.children.length>0&&(pn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Ix(s.children,e,f,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:Qk(u,s.index),routesMeta:f})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let c of Nx(s.path))i(s,a,c)}),e}function Nx(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=Nx(r.join("/")),o=[];return o.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&o.push(...a),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function Bk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Yk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Fk=/^:[\w-]+$/,qk=3,Hk=2,Gk=1,$k=10,Kk=-2,Ew=t=>t==="*";function Qk(t,e){let n=t.split("/"),r=n.length;return n.some(Ew)&&(r+=Kk),e&&(r+=Hk),n.filter(i=>!Ew(i)).reduce((i,s)=>i+(Fk.test(s)?qk:s===""?Gk:$k),r)}function Yk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Xk(t,e,n){let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let c=r[o],u=o===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",d=Wk({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),p=c.route;if(!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:xo([s,d.pathname]),pathnameBase:e4(xo([s,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(s=xo([s,d.pathnameBase]))}return a}function Wk(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Zk(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,f,d)=>{let{paramName:p,isOptional:h}=f;if(p==="*"){let v=o[d]||"";a=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const S=o[d];return h&&!S?u[p]=void 0:u[p]=(S||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function Zk(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Rx(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Jk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Rx(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ox(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const xo=t=>t.join("/").replace(/\/\/+/g,"/"),e4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function t4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Dx=["post","put","patch","delete"];new Set(Dx);const n4=["get",...Dx];new Set(n4);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gh(){return Gh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gh.apply(this,arguments)}const r4=T.createContext(null),i4=T.createContext(null),Mx=T.createContext(null),jd=T.createContext(null),Ud=T.createContext({outlet:null,matches:[],isDataRoute:!1}),Px=T.createContext(null);function jv(){return T.useContext(jd)!=null}function s4(){return jv()||pn(!1),T.useContext(jd).location}function a4(t,e){return o4(t,e)}function o4(t,e,n,r){jv()||pn(!1);let{navigator:i}=T.useContext(Mx),{matches:s}=T.useContext(Ud),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=s4(),f;if(e){var d;let w=typeof e=="string"?Ld(e):e;c==="/"||(d=w.pathname)!=null&&d.startsWith(c)||pn(!1),f=w}else f=u;let p=f.pathname||"/",h=p;if(c!=="/"){let w=c.replace(/^\//,"").split("/");h="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let S=Uk(t,{pathname:h}),v=h4(S&&S.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:xo([c,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:xo([c,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r);return e&&v?T.createElement(jd.Provider,{value:{location:Gh({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:ns.Pop}},v):v}function l4(){let t=g4(),e=t4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,null)}const c4=T.createElement(l4,null);class u4 extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?T.createElement(Ud.Provider,{value:this.props.routeContext},T.createElement(Px.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function f4(t){let{routeContext:e,match:n,children:r}=t,i=T.useContext(r4);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(Ud.Provider,{value:e},r)}function h4(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let f=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);f>=0||pn(!1),a=a.slice(0,Math.min(a.length,f+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<a.length;f++){let d=a[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:p,errors:h}=n,S=d.route.loader&&p[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||S){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((f,d,p)=>{let h,S=!1,v=null,w=null;n&&(h=o&&d.route.id?o[d.route.id]:void 0,v=d.route.errorElement||c4,c&&(u<0&&p===0?(y4("route-fallback"),S=!0,w=null):u===p&&(S=!0,w=d.route.hydrateFallbackElement||null)));let _=e.concat(a.slice(0,p+1)),b=()=>{let E;return h?E=v:S?E=w:d.route.Component?E=T.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=f,T.createElement(f4,{match:d,routeContext:{outlet:f,matches:_,isDataRoute:n!=null},children:E})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?T.createElement(u4,{location:n.location,revalidation:n.revalidation,component:v,error:h,children:b(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):b()},null)}var Vx=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Vx||{});function d4(t){let e=T.useContext(i4);return e||pn(!1),e}function m4(t){let e=T.useContext(Ud);return e||pn(!1),e}function p4(t){let e=m4(),n=e.matches[e.matches.length-1];return n.route.id||pn(!1),n.route.id}function g4(){var t;let e=T.useContext(Px),n=d4(Vx.UseRouteError),r=p4();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}const Tw={};function y4(t,e,n){Tw[t]||(Tw[t]=!0)}function v4(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ug(t){pn(!1)}function _4(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ns.Pop,navigator:s,static:a=!1,future:o}=t;jv()&&pn(!1);let c=e.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:c,navigator:s,static:a,future:Gh({v7_relativeSplatPath:!1},o)}),[c,o,s,a]);typeof r=="string"&&(r=Ld(r));let{pathname:f="/",search:d="",hash:p="",state:h=null,key:S="default"}=r,v=T.useMemo(()=>{let w=Ox(f,c);return w==null?null:{location:{pathname:w,search:d,hash:p,state:h,key:S},navigationType:i}},[c,f,d,p,h,S,i]);return v==null?null:T.createElement(Mx.Provider,{value:u},T.createElement(jd.Provider,{children:n,value:v}))}function b4(t){let{children:e,location:n}=t;return a4(zg(e),n)}new Promise(()=>{});function zg(t,e){e===void 0&&(e=[]);let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;let s=[...e,i];if(r.type===T.Fragment){n.push.apply(n,zg(r.props.children,s));return}r.type!==Ug&&pn(!1),!r.props.index||!r.props.children||pn(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=zg(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const w4="6";try{window.__reactRouterVersion=w4}catch{}const E4="startTransition",Sw=Cy[E4];function T4(t){let{basename:e,children:n,future:r,window:i}=t,s=T.useRef();s.current==null&&(s.current=kk({window:i,v5Compat:!0}));let a=s.current,[o,c]=T.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},f=T.useCallback(d=>{u&&Sw?Sw(()=>c(d)):c(d)},[c,u]);return T.useLayoutEffect(()=>a.listen(f),[a,f]),T.useEffect(()=>v4(r),[r]),T.createElement(_4,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}var Aw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Aw||(Aw={}));var xw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(xw||(xw={}));const S4=()=>{};var Rw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},A4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],o=t[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},Lx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,f=s>>2,d=(s&3)<<4|o>>4;let p=(o&15)<<2|u>>6,h=u&63;c||(h=64,a||(p=64)),r.push(n[f],n[d],n[p],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(kx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):A4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||u==null||d==null)throw new x4;const p=s<<2|o>>4;if(r.push(p),u!==64){const h=o<<4&240|u>>2;if(r.push(h),d!==64){const S=u<<6&192|d;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class x4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const R4=function(t){const e=kx(t);return Lx.encodeByteArray(e,!0)},$h=function(t){return R4(t).replace(/\./g,"")},jx=function(t){try{return Lx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4=()=>C4().__FIREBASE_DEFAULTS__,N4=()=>{if(typeof process>"u"||typeof Rw>"u")return;const t=Rw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},O4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&jx(t[1]);return e&&JSON.parse(e)},zd=()=>{try{return S4()||I4()||N4()||O4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ux=t=>{var e,n;return(n=(e=zd())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},D4=t=>{const e=Ux(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},zx=()=>{var t;return(t=zd())==null?void 0:t.config},Bx=t=>{var e;return(e=zd())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Fx(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[$h(JSON.stringify(n)),$h(JSON.stringify(a)),""].join(".")}const Ec={};function V4(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ec))Ec[e]?t.emulator.push(e):t.prod.push(e);return t}function k4(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Cw=!1;function qx(t,e){if(typeof window>"u"||typeof document>"u"||!bl(window.location.host)||Ec[t]===e||Ec[t]||Cw)return;Ec[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",s=V4().prod.length>0;function a(){const p=document.getElementById(r);p&&p.remove()}function o(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,h){p.setAttribute("width","24"),p.setAttribute("id",h),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{Cw=!0,a()},p}function f(p,h){p.setAttribute("id",h),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function d(){const p=k4(r),h=n("text"),S=document.getElementById(h)||document.createElement("span"),v=n("learnmore"),w=document.getElementById(v)||document.createElement("a"),_=n("preprendIcon"),b=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const E=p.element;o(E),f(w,v);const N=u();c(b,_),E.append(b,S,w,N),document.body.appendChild(E)}s?(S.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",h)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function L4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function j4(){var e;const t=(e=zd())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function U4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function z4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function B4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function F4(){const t=Wt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function q4(){return!j4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function H4(){try{return typeof indexedDB=="object"}catch{return!1}}function G4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4="FirebaseError";class _i extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=$4,Object.setPrototypeOf(this,_i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tu.prototype.create)}}class Tu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?K4(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new _i(i,o,r)}}function K4(t,e){return t.replace(Q4,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Q4=/\{\$([^}]+)}/g;function Y4(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function va(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(Iw(s)&&Iw(a)){if(!va(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Iw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function X4(t,e){const n=new W4(t,e);return n.subscribe.bind(n)}class W4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Z4(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=fp),i.error===void 0&&(i.error=fp),i.complete===void 0&&(i.complete=fp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Z4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function fp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(t){return t&&t._delegate?t._delegate:t}class _a{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new M4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tL(e))try{this.getOrInitializeService({instanceIdentifier:Ks})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ks){return this.instances.has(e)}getOptions(e=Ks){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:eL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ks){return this.component?this.component.multipleInstances?e:Ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eL(t){return t===Ks?void 0:t}function tL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new J4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_e||(_e={}));const rL={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},iL=_e.INFO,sL={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},aL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=sL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Uv{constructor(e){this.name=e,this._logLevel=iL,this._logHandler=aL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}const oL=(t,e)=>e.some(n=>t instanceof n);let Nw,Ow;function lL(){return Nw||(Nw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cL(){return Ow||(Ow=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Hx=new WeakMap,Bg=new WeakMap,Gx=new WeakMap,hp=new WeakMap,zv=new WeakMap;function uL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(hs(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Hx.set(n,t)}).catch(()=>{}),zv.set(e,t),e}function fL(t){if(Bg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Bg.set(t,e)}let Fg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Bg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Gx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function hL(t){Fg=t(Fg)}function dL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(dp(this),e,...n);return Gx.set(r,e.sort?e.sort():[e]),hs(r)}:cL().includes(t)?function(...e){return t.apply(dp(this),e),hs(Hx.get(this))}:function(...e){return hs(t.apply(dp(this),e))}}function mL(t){return typeof t=="function"?dL(t):(t instanceof IDBTransaction&&fL(t),oL(t,lL())?new Proxy(t,Fg):t)}function hs(t){if(t instanceof IDBRequest)return uL(t);if(hp.has(t))return hp.get(t);const e=mL(t);return e!==t&&(hp.set(t,e),zv.set(e,t)),e}const dp=t=>zv.get(t);function pL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=hs(a);return r&&a.addEventListener("upgradeneeded",c=>{r(hs(a.result),c.oldVersion,c.newVersion,hs(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),o.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const gL=["get","getKey","getAll","getAllKeys","count"],yL=["put","add","delete","clear"],mp=new Map;function Dw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(mp.get(e))return mp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=yL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||gL.includes(n)))return;const s=async function(a,...o){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),i&&c.done]))[0]};return mp.set(e,s),s}hL(t=>({...t,get:(e,n,r)=>Dw(e,n)||t.get(e,n,r),has:(e,n)=>!!Dw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_L(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function _L(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qg="@firebase/app",Mw="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi=new Uv("@firebase/app"),bL="@firebase/app-compat",wL="@firebase/analytics-compat",EL="@firebase/analytics",TL="@firebase/app-check-compat",SL="@firebase/app-check",AL="@firebase/auth",xL="@firebase/auth-compat",RL="@firebase/database",CL="@firebase/data-connect",IL="@firebase/database-compat",NL="@firebase/functions",OL="@firebase/functions-compat",DL="@firebase/installations",ML="@firebase/installations-compat",PL="@firebase/messaging",VL="@firebase/messaging-compat",kL="@firebase/performance",LL="@firebase/performance-compat",jL="@firebase/remote-config",UL="@firebase/remote-config-compat",zL="@firebase/storage",BL="@firebase/storage-compat",FL="@firebase/firestore",qL="@firebase/ai",HL="@firebase/firestore-compat",GL="firebase",$L="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg="[DEFAULT]",KL={[qg]:"fire-core",[bL]:"fire-core-compat",[EL]:"fire-analytics",[wL]:"fire-analytics-compat",[SL]:"fire-app-check",[TL]:"fire-app-check-compat",[AL]:"fire-auth",[xL]:"fire-auth-compat",[RL]:"fire-rtdb",[CL]:"fire-data-connect",[IL]:"fire-rtdb-compat",[NL]:"fire-fn",[OL]:"fire-fn-compat",[DL]:"fire-iid",[ML]:"fire-iid-compat",[PL]:"fire-fcm",[VL]:"fire-fcm-compat",[kL]:"fire-perf",[LL]:"fire-perf-compat",[jL]:"fire-rc",[UL]:"fire-rc-compat",[zL]:"fire-gcs",[BL]:"fire-gcs-compat",[FL]:"fire-fst",[HL]:"fire-fst-compat",[qL]:"fire-vertex","fire-js":"fire-js",[GL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh=new Map,QL=new Map,Gg=new Map;function Pw(t,e){try{t.container.addComponent(e)}catch(n){hi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function el(t){const e=t.name;if(Gg.has(e))return hi.debug(`There were multiple attempts to register component ${e}.`),!1;Gg.set(e,t);for(const n of Kh.values())Pw(n,t);for(const n of QL.values())Pw(n,t);return!0}function Bv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ds=new Tu("app","Firebase",YL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new _a("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ds.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl=$L;function Fv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Hg,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw ds.create("bad-app-name",{appName:String(i)});if(n||(n=zx()),!n)throw ds.create("no-options");const s=Kh.get(i);if(s){if(va(n,s.options)&&va(r,s.config))return s;throw ds.create("duplicate-app",{appName:i})}const a=new nL(i);for(const c of Gg.values())a.addComponent(c);const o=new XL(n,r,a);return Kh.set(i,o),o}function $x(t=Hg){const e=Kh.get(t);if(!e&&t===Hg&&zx())return Fv();if(!e)throw ds.create("no-app",{appName:t});return e}function ms(t,e,n){let r=KL[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hi.warn(a.join(" "));return}el(new _a(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL="firebase-heartbeat-database",ZL=1,Kc="firebase-heartbeat-store";let pp=null;function Kx(){return pp||(pp=pL(WL,ZL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Kc)}catch(n){console.warn(n)}}}}).catch(t=>{throw ds.create("idb-open",{originalErrorMessage:t.message})})),pp}async function JL(t){try{const n=(await Kx()).transaction(Kc),r=await n.objectStore(Kc).get(Qx(t));return await n.done,r}catch(e){if(e instanceof _i)hi.warn(e.message);else{const n=ds.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hi.warn(n.message)}}}async function Vw(t,e){try{const r=(await Kx()).transaction(Kc,"readwrite");await r.objectStore(Kc).put(e,Qx(t)),await r.done}catch(n){if(n instanceof _i)hi.warn(n.message);else{const r=ds.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});hi.warn(r.message)}}}function Qx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6=1024,t6=30;class n6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new i6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=kw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>t6){const a=s6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){hi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=kw(),{heartbeatsToSend:r,unsentEntries:i}=r6(this._heartbeatsCache.heartbeats),s=$h(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return hi.warn(n),""}}}function kw(){return new Date().toISOString().substring(0,10)}function r6(t,e=e6){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),Lw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Lw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class i6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return H4()?G4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await JL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Vw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Vw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Lw(t){return $h(JSON.stringify({version:2,heartbeats:t})).length}function s6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a6(t){el(new _a("platform-logger",e=>new vL(e),"PRIVATE")),el(new _a("heartbeat",e=>new n6(e),"PRIVATE")),ms(qg,Mw,t),ms(qg,Mw,"esm2020"),ms("fire-js","")}a6("");var o6="firebase",l6="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ms(o6,l6,"app");function Yx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const c6=Yx,Xx=new Tu("auth","Firebase",Yx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh=new Uv("@firebase/auth");function u6(t,...e){Qh.logLevel<=_e.WARN&&Qh.warn(`Auth (${wl}): ${t}`,...e)}function $f(t,...e){Qh.logLevel<=_e.ERROR&&Qh.error(`Auth (${wl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(t,...e){throw qv(t,...e)}function xr(t,...e){return qv(t,...e)}function Wx(t,e,n){const r={...c6(),[e]:n};return new Tu("auth","Firebase",r).create(e,{appName:t.name})}function si(t){return Wx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Xx.create(t,...e)}function ie(t,e,...n){if(!t)throw qv(e,...n)}function ti(t){const e="INTERNAL ASSERTION FAILED: "+t;throw $f(e),new Error(e)}function mi(t,e){t||ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $g(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function f6(){return jw()==="http:"||jw()==="https:"}function jw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(f6()||z4()||"connection"in navigator)?navigator.onLine:!0}function d6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,n){this.shortDelay=e,this.longDelay=n,mi(n>e,"Short delay should be less than long delay!"),this.isMobile=L4()||B4()}get(){return h6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(t,e){mi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],g6=new Au(3e4,6e4);function xu(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function El(t,e,n,r,i={}){return Jx(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const o=Su({key:t.config.apiKey,...a}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...s};return U4()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&bl(t.emulatorConfig.host)&&(u.credentials="include"),Zx.fetch()(await eR(t,t.config.apiHost,n,o),u)})}async function Jx(t,e,n){t._canInitEmulator=!1;const r={...m6,...e};try{const i=new y6(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw wf(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[c,u]=o.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw wf(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw wf(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw wf(t,"user-disabled",a);const f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Wx(t,f,u);di(t,f)}}catch(i){if(i instanceof _i)throw i;di(t,"network-request-failed",{message:String(i)})}}async function Gv(t,e,n,r,i={}){const s=await El(t,e,n,r,i);return"mfaPendingCredential"in s&&di(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function eR(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?Hv(t.config,i):`${t.config.apiScheme}://${i}`;return p6.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}class y6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(xr(this.auth,"network-request-failed")),g6.get())})}}function wf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=xr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v6(t,e){return El(t,"POST","/v1/accounts:delete",e)}async function Yh(t,e){return El(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _6(t,e=!1){const n=Lt(t),r=await n.getIdToken(e),i=$v(r);ie(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Tc(gp(i.auth_time)),issuedAtTime:Tc(gp(i.iat)),expirationTime:Tc(gp(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function gp(t){return Number(t)*1e3}function $v(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return $f("JWT malformed, contained fewer than 3 sections"),null;try{const i=jx(n);return i?JSON.parse(i):($f("Failed to decode base64 JWT payload"),null)}catch(i){return $f("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Uw(t){const e=$v(t);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof _i&&b6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function b6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tc(this.lastLoginAt),this.creationTime=Tc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xh(t){var d;const e=t.auth,n=await t.getIdToken(),r=await Qc(t,Yh(e,{idToken:n}));ie(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(d=i.providerUserInfo)!=null&&d.length?tR(i.providerUserInfo):[],a=T6(t.providerData,s),o=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=o?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Kg(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,f)}async function E6(t){const e=Lt(t);await Xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function T6(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function tR(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S6(t,e){const n=await Jx(t,{},async()=>{const r=Su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await eR(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:o,body:r};return t.emulatorConfig&&bl(t.emulatorConfig.host)&&(c.credentials="include"),Zx.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function A6(t,e){return El(t,"POST","/v2/accounts:revokeToken",xu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Uw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ie(e.length!==0,"internal-error");const n=Uw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await S6(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new Ro;return r&&(ie(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(ie(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(ie(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ro,this.toJSON())}_performRefresh(){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(t,e){ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ir{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new w6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Kg(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Qc(this,this.stsTokenManager.getToken(this.auth,e));return ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return _6(this,e)}reload(){return E6(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ir({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Xh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(si(this.auth));const e=await this.getIdToken();return await Qc(this,v6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,o=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:d,emailVerified:p,isAnonymous:h,providerData:S,stsTokenManager:v}=n;ie(d&&v,e,"internal-error");const w=Ro.fromJSON(this.name,v);ie(typeof d=="string",e,"internal-error"),Ni(r,e.name),Ni(i,e.name),ie(typeof p=="boolean",e,"internal-error"),ie(typeof h=="boolean",e,"internal-error"),Ni(s,e.name),Ni(a,e.name),Ni(o,e.name),Ni(c,e.name),Ni(u,e.name),Ni(f,e.name);const _=new ir({uid:d,auth:e,email:i,emailVerified:p,displayName:r,isAnonymous:h,photoURL:a,phoneNumber:s,tenantId:o,stsTokenManager:w,createdAt:u,lastLoginAt:f});return S&&Array.isArray(S)&&(_.providerData=S.map(b=>({...b}))),c&&(_._redirectEventId=c),_}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ro;i.updateFromServerResponse(n);const s=new ir({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Xh(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ie(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?tR(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new Ro;o.updateFromIdToken(r);const c=new ir({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Kg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw=new Map;function ni(t){mi(t instanceof Function,"Expected a class definition");let e=zw.get(t);return e?(mi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,zw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}nR.type="NONE";const Bw=nR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(t,e,n){return`firebase:${t}:${e}:${n}`}class Co{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Kf(this.userKey,i.apiKey,s),this.fullPersistenceKey=Kf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Yh(this.auth,{idToken:e}).catch(()=>{});return n?ir._fromGetAccountInfoResponse(this.auth,n,e):null}return ir._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Co(ni(Bw),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||ni(Bw);const a=Kf(r,e.config.apiKey,e.name);let o=null;for(const u of n)try{const f=await u._get(a);if(f){let d;if(typeof f=="string"){const p=await Yh(e,{idToken:f}).catch(()=>{});if(!p)break;d=await ir._fromGetAccountInfoResponse(e,p,f)}else d=ir._fromJSON(e,f);u!==s&&(o=d),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Co(s,e,r):(s=c[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(a)}catch{}})),new Co(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(aR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lR(e))return"Blackberry";if(cR(e))return"Webos";if(iR(e))return"Safari";if((e.includes("chrome/")||sR(e))&&!e.includes("edge/"))return"Chrome";if(oR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function rR(t=Wt()){return/firefox\//i.test(t)}function iR(t=Wt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sR(t=Wt()){return/crios\//i.test(t)}function aR(t=Wt()){return/iemobile/i.test(t)}function oR(t=Wt()){return/android/i.test(t)}function lR(t=Wt()){return/blackberry/i.test(t)}function cR(t=Wt()){return/webos/i.test(t)}function Kv(t=Wt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function x6(t=Wt()){var e;return Kv(t)&&!!((e=window.navigator)!=null&&e.standalone)}function R6(){return F4()&&document.documentMode===10}function uR(t=Wt()){return Kv(t)||oR(t)||cR(t)||lR(t)||/windows phone/i.test(t)||aR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fR(t,e=[]){let n;switch(t){case"Browser":n=Fw(Wt());break;case"Worker":n=`${Fw(Wt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${wl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,o)=>{try{const c=e(s);a(c)}catch(c){o(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I6(t,e={}){return El(t,"GET","/v2/passwordPolicy",xu(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6=6;class O6{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??N6,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qw(this),this.idTokenSubscription=new qw(this),this.beforeStateQueue=new C6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Xx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ni(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Co.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Yh(this,{idToken:e}),r=await ir._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(qn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,o=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===o)&&(c!=null&&c.user)&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=d6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qn(this.app))return Promise.reject(si(this));const n=e?Lt(e):null;return n&&ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(si(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qn(this.app)?Promise.reject(si(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await I6(this),n=new O6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Tu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await A6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ni(e)||this._popupRedirectResolver;ie(n,this,"argument-error"),this.redirectPersistenceManager=await Co.create(this,[ni(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&u6(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ru(t){return Lt(t)}class qw{constructor(e){this.auth=e,this.observer=null,this.addObserver=X4(n=>this.observer=n)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function M6(t){Qv=t}function P6(t){return Qv.loadJS(t)}function V6(){return Qv.gapiScript}function k6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L6(t,e){const n=Bv(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(va(s,e??{}))return i;di(i,"already-initialized")}return n.initialize({options:e})}function j6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ni);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function U6(t,e,n){const r=Ru(t);ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=hR(e),{host:a,port:o}=z6(e),c=o===null?"":`:${o}`,u={url:`${s}//${a}${c}/`},f=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ie(va(u,r.config.emulator)&&va(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,bl(a)?(Fx(`${s}//${a}${c}`),qx("Auth",!0)):B6()}function hR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function z6(t){const e=hR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Hw(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:Hw(a)}}}function Hw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function B6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ti("not implemented")}_getIdTokenResponse(e){return ti("not implemented")}_linkToIdToken(e,n){return ti("not implemented")}_getReauthenticationResolver(e){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(t,e){return Gv(t,"POST","/v1/accounts:signInWithIdp",xu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F6="http://localhost";class ba extends dR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ba(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):di("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const a=new ba(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Io(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Io(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Io(e,n)}buildRequest(){const e={requestUri:F6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Su(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends mR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends Cu{constructor(){super("facebook.com")}static credential(e){return ba._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qi.credential(e.oauthAccessToken)}catch{return null}}}qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends Cu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ba._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Hi.credential(n,r)}catch{return null}}}Hi.GOOGLE_SIGN_IN_METHOD="google.com";Hi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Cu{constructor(){super("github.com")}static credential(e){return ba._fromParams({providerId:Gi.PROVIDER_ID,signInMethod:Gi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gi.credentialFromTaggedObject(e)}static credentialFromError(e){return Gi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gi.credential(e.oauthAccessToken)}catch{return null}}}Gi.GITHUB_SIGN_IN_METHOD="github.com";Gi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends Cu{constructor(){super("twitter.com")}static credential(e,n){return ba._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return $i.credential(n,r)}catch{return null}}}$i.TWITTER_SIGN_IN_METHOD="twitter.com";$i.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q6(t,e){return Gv(t,"POST","/v1/accounts:signUp",xu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ir._fromIdTokenResponse(e,r,i),a=Gw(r);return new pi({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Gw(r);return new pi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Gw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $w(t){var i;if(qn(t.app))return Promise.reject(si(t));const e=Ru(t);if(await e._initializationPromise,(i=e.currentUser)!=null&&i.isAnonymous)return new pi({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await q6(e,{returnSecureToken:!0}),r=await pi._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh extends _i{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Wh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Wh(e,n,r,i)}}function pR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Wh._fromErrorAndOperation(t,s,e,r):s})}async function H6(t,e,n=!1){const r=await Qc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return pi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G6(t,e,n=!1){const{auth:r}=t;if(qn(r.app))return Promise.reject(si(r));const i="reauthenticate";try{const s=await Qc(t,pR(r,i,e,t),n);ie(s.idToken,r,"internal-error");const a=$v(s.idToken);ie(a,r,"internal-error");const{sub:o}=a;return ie(t.uid===o,r,"user-mismatch"),pi._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&di(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $6(t,e,n=!1){if(qn(t.app))return Promise.reject(si(t));const r="signIn",i=await pR(t,r,e),s=await pi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K6(t,e){return Gv(t,"POST","/v1/accounts:signInWithCustomToken",xu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q6(t,e){if(qn(t.app))return Promise.reject(si(t));const n=Ru(t),r=await K6(n,{token:e,returnSecureToken:!0}),i=await pi._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}function Y6(t,e,n,r){return Lt(t).onIdTokenChanged(e,n,r)}function X6(t,e,n){return Lt(t).beforeAuthStateChanged(e,n)}function W6(t,e,n,r){return Lt(t).onAuthStateChanged(e,n,r)}const Zh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zh,"1"),this.storage.removeItem(Zh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6=1e3,J6=10;class yR extends gR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);R6()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,J6):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Z6)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}yR.type="LOCAL";const e3=yR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR extends gR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}vR.type="SESSION";const _R=vR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Bd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async u=>u(n.origin,s)),c=await t3(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,c)=>{const u=Yv("",20);i.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(d){const p=d;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(p.data.response);break;default:clearTimeout(f),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(){return window}function r3(t){Rr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(){return typeof Rr().WorkerGlobalScope<"u"&&typeof Rr().importScripts=="function"}async function i3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function s3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function a3(){return bR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR="firebaseLocalStorageDb",o3=1,Jh="firebaseLocalStorage",ER="fbase_key";class Iu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fd(t,e){return t.transaction([Jh],e?"readwrite":"readonly").objectStore(Jh)}function l3(){const t=indexedDB.deleteDatabase(wR);return new Iu(t).toPromise()}function Qg(){const t=indexedDB.open(wR,o3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Jh,{keyPath:ER})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Jh)?e(r):(r.close(),await l3(),e(await Qg()))})})}async function Kw(t,e,n){const r=Fd(t,!0).put({[ER]:e,value:n});return new Iu(r).toPromise()}async function c3(t,e){const n=Fd(t,!1).get(e),r=await new Iu(n).toPromise();return r===void 0?null:r.value}function Qw(t,e){const n=Fd(t,!0).delete(e);return new Iu(n).toPromise()}const u3=800,f3=3;class TR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>f3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bd._getInstance(a3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await i3(),!this.activeServiceWorker)return;this.sender=new n3(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||s3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qg();return await Kw(e,Zh,"1"),await Qw(e,Zh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Kw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>c3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Qw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Fd(i,!1).getAll();return new Iu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),u3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TR.type="LOCAL";const h3=TR;new Au(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(t,e){return e?ni(e):(ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv extends dR{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Io(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Io(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Io(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function m3(t){return $6(t.auth,new Xv(t),t.bypassAuthState)}function p3(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),G6(n,new Xv(t),t.bypassAuthState)}async function g3(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),H6(n,new Xv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return m3;case"linkViaPopup":case"linkViaRedirect":return g3;case"reauthViaPopup":case"reauthViaRedirect":return p3;default:di(this.auth,"internal-error")}}resolve(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3=new Au(2e3,1e4);class ho extends SR{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ho.currentPopupAction&&ho.currentPopupAction.cancel(),ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ie(e,this.auth,"internal-error"),e}async onExecution(){mi(this.filter.length===1,"Popup operations only handle one event");const e=Yv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(xr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(xr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,y3.get())};e()}}ho.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3="pendingRedirect",Qf=new Map;class _3 extends SR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Qf.get(this.auth._key());if(!e){try{const r=await b3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Qf.set(this.auth._key(),e)}return this.bypassAuthState||Qf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function b3(t,e){const n=T3(e),r=E3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function w3(t,e){Qf.set(t._key(),e)}function E3(t){return ni(t._redirectPersistence)}function T3(t){return Kf(v3,t.config.apiKey,t.name)}async function S3(t,e,n=!1){if(qn(t.app))return Promise.reject(si(t));const r=Ru(t),i=d3(r,e),a=await new _3(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A3=10*60*1e3;class x3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!R3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!AR(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(xr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=A3&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yw(e))}saveEventToCache(e){this.cachedEventUids.add(Yw(e)),this.lastProcessedEventTime=Date.now()}}function Yw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function AR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function R3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C3(t,e={}){return El(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,N3=/^https?/;async function O3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await C3(t);for(const n of e)try{if(D3(n))return}catch{}di(t,"unauthorized-domain")}function D3(t){const e=$g(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!N3.test(n))return!1;if(I3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3=new Au(3e4,6e4);function Xw(){const t=Rr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function P3(t){return new Promise((e,n)=>{var i,s,a;function r(){Xw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Xw(),n(xr(t,"network-request-failed"))},timeout:M3.get()})}if((s=(i=Rr().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((a=Rr().gapi)!=null&&a.load)r();else{const o=k6("iframefcb");return Rr()[o]=()=>{gapi.load?r():n(xr(t,"network-request-failed"))},P6(`${V6()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw Yf=null,e})}let Yf=null;function V3(t){return Yf=Yf||P3(t),Yf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k3=new Au(5e3,15e3),L3="__/auth/iframe",j3="emulator/auth/iframe",U3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},z3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function B3(t){const e=t.config;ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Hv(e,j3):`https://${t.config.authDomain}/${L3}`,r={apiKey:e.apiKey,appName:t.name,v:wl},i=z3.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Su(r).slice(1)}`}async function F3(t){const e=await V3(t),n=Rr().gapi;return ie(n,t,"internal-error"),e.open({where:document.body,url:B3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:U3,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=xr(t,"network-request-failed"),o=Rr().setTimeout(()=>{s(a)},k3.get());function c(){Rr().clearTimeout(o),i(r)}r.ping(c).then(c,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},H3=500,G3=600,$3="_blank",K3="http://localhost";class Ww{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Q3(t,e,n,r=H3,i=G3){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const c={...q3,width:r.toString(),height:i.toString(),top:s,left:a},u=Wt().toLowerCase();n&&(o=sR(u)?$3:n),rR(u)&&(e=e||K3,c.scrollbars="yes");const f=Object.entries(c).reduce((p,[h,S])=>`${p}${h}=${S},`,"");if(x6(u)&&o!=="_self")return Y3(e||"",o),new Ww(null);const d=window.open(e||"",o,f);ie(d,t,"popup-blocked");try{d.focus()}catch{}return new Ww(d)}function Y3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3="__/auth/handler",W3="emulator/auth/handler",Z3=encodeURIComponent("fac");async function Zw(t,e,n,r,i,s){ie(t.config.authDomain,t,"auth-domain-config-required"),ie(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:wl,eventId:i};if(e instanceof mR){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",Y4(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,d]of Object.entries({}))a[f]=d}if(e instanceof Cu){const f=e.getScopes().filter(d=>d!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const f of Object.keys(o))o[f]===void 0&&delete o[f];const c=await t._getAppCheckToken(),u=c?`#${Z3}=${encodeURIComponent(c)}`:"";return`${J3(t)}?${Su(o).slice(1)}${u}`}function J3({config:t}){return t.emulator?Hv(t,W3):`https://${t.authDomain}/${X3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp="webStorageSupport";class ej{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_R,this._completeRedirectFn=S3,this._overrideRedirectResult=w3}async _openPopup(e,n,r,i){var a;mi((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await Zw(e,n,r,$g(),i);return Q3(e,s,Yv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Zw(e,n,r,$g(),i);return r3(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(mi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await F3(e),r=new x3(e);return n.register("authEvent",i=>(ie(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(yp,{type:yp},i=>{var a;const s=(a=i==null?void 0:i[0])==null?void 0:a[yp];s!==void 0&&n(!!s),di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=O3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return uR()||iR()||Kv()}}const tj=ej;var Jw="@firebase/auth",eE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ij(t){el(new _a("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;ie(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fR(t)},u=new D6(r,i,s,c);return j6(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),el(new _a("auth-internal",e=>{const n=Ru(e.getProvider("auth").getImmediate());return(r=>new nj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ms(Jw,eE,rj(t)),ms(Jw,eE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj=5*60,aj=Bx("authIdTokenMaxAge")||sj;let tE=null;const oj=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>aj)return;const i=n==null?void 0:n.token;tE!==i&&(tE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function lj(t=$x()){const e=Bv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=L6(t,{popupRedirectResolver:tj,persistence:[h3,e3,_R]}),r=Bx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=oj(s.toString());X6(n,a,()=>a(n.currentUser)),Y6(n,o=>a(o))}}const i=Ux("auth");return i&&U6(n,`http://${i}`),n}function cj(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}M6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=xr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",cj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ij("Browser");let vp=null,nE=null;const rE=()=>(!vp&&window.__firebase_config&&(vp=Fv(window.__firebase_config),nE=lj(vp)),nE),uj=()=>{const[t,e]=T.useState(null),[n,r]=T.useState(!0),[i,s]=T.useState(null);T.useEffect(()=>{console.log("Starting Firebase Auth initialization...");const c=setTimeout(()=>{console.warn("Auth check timed out after 5 seconds"),r(!1),t||(console.log("Auto-signing in anonymously after timeout"),a())},5e3),u=()=>{if(!window.__firebase_config){setTimeout(()=>{if(!window.__firebase_config){console.log("No Firebase config found, using demo mode"),clearTimeout(c),e({uid:"demo-user-"+Date.now(),isAnonymous:!0,email:null,displayName:"Demo User"}),r(!1);return}},2e3),setTimeout(u,100);return}const f=rE();if(!f){console.error("Firebase Auth initialization failed, using demo mode"),clearTimeout(c),e({uid:"demo-user-"+Date.now(),isAnonymous:!0,email:null,displayName:"Demo User"}),r(!1);return}console.log("Firebase Auth initialized, setting up listener...");const d=W6(f,h=>{clearTimeout(c),console.log("Auth state changed:",h?`User signed in: ${h.uid}`:"No user"),e(h),r(!1),s(null)},h=>{clearTimeout(c),console.error("Auth state change error:",h),e({uid:"demo-user-"+Date.now(),isAnonymous:!0,email:null,displayName:"Demo User"}),r(!1)});return(async()=>{try{window.__initial_auth_token?(console.log("Attempting sign-in with custom token..."),await Q6(f,window.__initial_auth_token)):(console.log("Attempting anonymous sign-in..."),await $w(f))}catch(h){console.error("Auto sign-in error:",h),clearTimeout(c),e({uid:"demo-user-"+Date.now(),isAnonymous:!0,email:null,displayName:"Demo User"}),r(!1)}})(),()=>{console.log("Cleaning up auth listener"),clearTimeout(c),d()}};u()},[]);const a=async()=>{try{console.log("Manual anonymous sign-in attempt..."),r(!0),s(null);const c=rE();if(!c)throw new Error("Firebase Auth not initialized");const u=await $w(c);return console.log("Manual anonymous sign-in successful:",u.user.uid),u.user}catch(c){console.error("Manual anonymous sign-in error:",c),e({uid:"demo-user-"+Date.now(),isAnonymous:!0,email:null,displayName:"Demo User"}),r(!1)}};return{user:t,loading:n,error:i,signInAnonymous:a,forceSkipAuth:()=>{console.log("Forcing skip of authentication - demo mode"),r(!1),s(null),e({uid:"demo-user-"+Date.now(),isAnonymous:!0,email:null,displayName:"Demo User"})}}};var iE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ps,xR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,A){function R(){}R.prototype=A.prototype,x.D=A.prototype,x.prototype=new R,x.prototype.constructor=x,x.C=function(I,M,O){for(var D=Array(arguments.length-2),W=2;W<arguments.length;W++)D[W-2]=arguments[W];return A.prototype[M].apply(I,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(x,A,R){R||(R=0);var I=Array(16);if(typeof A=="string")for(var M=0;16>M;++M)I[M]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(M=0;16>M;++M)I[M]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=x.g[0],R=x.g[1],M=x.g[2];var O=x.g[3],D=A+(O^R&(M^O))+I[0]+3614090360&4294967295;A=R+(D<<7&4294967295|D>>>25),D=O+(M^A&(R^M))+I[1]+3905402710&4294967295,O=A+(D<<12&4294967295|D>>>20),D=M+(R^O&(A^R))+I[2]+606105819&4294967295,M=O+(D<<17&4294967295|D>>>15),D=R+(A^M&(O^A))+I[3]+3250441966&4294967295,R=M+(D<<22&4294967295|D>>>10),D=A+(O^R&(M^O))+I[4]+4118548399&4294967295,A=R+(D<<7&4294967295|D>>>25),D=O+(M^A&(R^M))+I[5]+1200080426&4294967295,O=A+(D<<12&4294967295|D>>>20),D=M+(R^O&(A^R))+I[6]+2821735955&4294967295,M=O+(D<<17&4294967295|D>>>15),D=R+(A^M&(O^A))+I[7]+4249261313&4294967295,R=M+(D<<22&4294967295|D>>>10),D=A+(O^R&(M^O))+I[8]+1770035416&4294967295,A=R+(D<<7&4294967295|D>>>25),D=O+(M^A&(R^M))+I[9]+2336552879&4294967295,O=A+(D<<12&4294967295|D>>>20),D=M+(R^O&(A^R))+I[10]+4294925233&4294967295,M=O+(D<<17&4294967295|D>>>15),D=R+(A^M&(O^A))+I[11]+2304563134&4294967295,R=M+(D<<22&4294967295|D>>>10),D=A+(O^R&(M^O))+I[12]+1804603682&4294967295,A=R+(D<<7&4294967295|D>>>25),D=O+(M^A&(R^M))+I[13]+4254626195&4294967295,O=A+(D<<12&4294967295|D>>>20),D=M+(R^O&(A^R))+I[14]+2792965006&4294967295,M=O+(D<<17&4294967295|D>>>15),D=R+(A^M&(O^A))+I[15]+1236535329&4294967295,R=M+(D<<22&4294967295|D>>>10),D=A+(M^O&(R^M))+I[1]+4129170786&4294967295,A=R+(D<<5&4294967295|D>>>27),D=O+(R^M&(A^R))+I[6]+3225465664&4294967295,O=A+(D<<9&4294967295|D>>>23),D=M+(A^R&(O^A))+I[11]+643717713&4294967295,M=O+(D<<14&4294967295|D>>>18),D=R+(O^A&(M^O))+I[0]+3921069994&4294967295,R=M+(D<<20&4294967295|D>>>12),D=A+(M^O&(R^M))+I[5]+3593408605&4294967295,A=R+(D<<5&4294967295|D>>>27),D=O+(R^M&(A^R))+I[10]+38016083&4294967295,O=A+(D<<9&4294967295|D>>>23),D=M+(A^R&(O^A))+I[15]+3634488961&4294967295,M=O+(D<<14&4294967295|D>>>18),D=R+(O^A&(M^O))+I[4]+3889429448&4294967295,R=M+(D<<20&4294967295|D>>>12),D=A+(M^O&(R^M))+I[9]+568446438&4294967295,A=R+(D<<5&4294967295|D>>>27),D=O+(R^M&(A^R))+I[14]+3275163606&4294967295,O=A+(D<<9&4294967295|D>>>23),D=M+(A^R&(O^A))+I[3]+4107603335&4294967295,M=O+(D<<14&4294967295|D>>>18),D=R+(O^A&(M^O))+I[8]+1163531501&4294967295,R=M+(D<<20&4294967295|D>>>12),D=A+(M^O&(R^M))+I[13]+2850285829&4294967295,A=R+(D<<5&4294967295|D>>>27),D=O+(R^M&(A^R))+I[2]+4243563512&4294967295,O=A+(D<<9&4294967295|D>>>23),D=M+(A^R&(O^A))+I[7]+1735328473&4294967295,M=O+(D<<14&4294967295|D>>>18),D=R+(O^A&(M^O))+I[12]+2368359562&4294967295,R=M+(D<<20&4294967295|D>>>12),D=A+(R^M^O)+I[5]+4294588738&4294967295,A=R+(D<<4&4294967295|D>>>28),D=O+(A^R^M)+I[8]+2272392833&4294967295,O=A+(D<<11&4294967295|D>>>21),D=M+(O^A^R)+I[11]+1839030562&4294967295,M=O+(D<<16&4294967295|D>>>16),D=R+(M^O^A)+I[14]+4259657740&4294967295,R=M+(D<<23&4294967295|D>>>9),D=A+(R^M^O)+I[1]+2763975236&4294967295,A=R+(D<<4&4294967295|D>>>28),D=O+(A^R^M)+I[4]+1272893353&4294967295,O=A+(D<<11&4294967295|D>>>21),D=M+(O^A^R)+I[7]+4139469664&4294967295,M=O+(D<<16&4294967295|D>>>16),D=R+(M^O^A)+I[10]+3200236656&4294967295,R=M+(D<<23&4294967295|D>>>9),D=A+(R^M^O)+I[13]+681279174&4294967295,A=R+(D<<4&4294967295|D>>>28),D=O+(A^R^M)+I[0]+3936430074&4294967295,O=A+(D<<11&4294967295|D>>>21),D=M+(O^A^R)+I[3]+3572445317&4294967295,M=O+(D<<16&4294967295|D>>>16),D=R+(M^O^A)+I[6]+76029189&4294967295,R=M+(D<<23&4294967295|D>>>9),D=A+(R^M^O)+I[9]+3654602809&4294967295,A=R+(D<<4&4294967295|D>>>28),D=O+(A^R^M)+I[12]+3873151461&4294967295,O=A+(D<<11&4294967295|D>>>21),D=M+(O^A^R)+I[15]+530742520&4294967295,M=O+(D<<16&4294967295|D>>>16),D=R+(M^O^A)+I[2]+3299628645&4294967295,R=M+(D<<23&4294967295|D>>>9),D=A+(M^(R|~O))+I[0]+4096336452&4294967295,A=R+(D<<6&4294967295|D>>>26),D=O+(R^(A|~M))+I[7]+1126891415&4294967295,O=A+(D<<10&4294967295|D>>>22),D=M+(A^(O|~R))+I[14]+2878612391&4294967295,M=O+(D<<15&4294967295|D>>>17),D=R+(O^(M|~A))+I[5]+4237533241&4294967295,R=M+(D<<21&4294967295|D>>>11),D=A+(M^(R|~O))+I[12]+1700485571&4294967295,A=R+(D<<6&4294967295|D>>>26),D=O+(R^(A|~M))+I[3]+2399980690&4294967295,O=A+(D<<10&4294967295|D>>>22),D=M+(A^(O|~R))+I[10]+4293915773&4294967295,M=O+(D<<15&4294967295|D>>>17),D=R+(O^(M|~A))+I[1]+2240044497&4294967295,R=M+(D<<21&4294967295|D>>>11),D=A+(M^(R|~O))+I[8]+1873313359&4294967295,A=R+(D<<6&4294967295|D>>>26),D=O+(R^(A|~M))+I[15]+4264355552&4294967295,O=A+(D<<10&4294967295|D>>>22),D=M+(A^(O|~R))+I[6]+2734768916&4294967295,M=O+(D<<15&4294967295|D>>>17),D=R+(O^(M|~A))+I[13]+1309151649&4294967295,R=M+(D<<21&4294967295|D>>>11),D=A+(M^(R|~O))+I[4]+4149444226&4294967295,A=R+(D<<6&4294967295|D>>>26),D=O+(R^(A|~M))+I[11]+3174756917&4294967295,O=A+(D<<10&4294967295|D>>>22),D=M+(A^(O|~R))+I[2]+718787259&4294967295,M=O+(D<<15&4294967295|D>>>17),D=R+(O^(M|~A))+I[9]+3951481745&4294967295,x.g[0]=x.g[0]+A&4294967295,x.g[1]=x.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,x.g[2]=x.g[2]+M&4294967295,x.g[3]=x.g[3]+O&4294967295}r.prototype.u=function(x,A){A===void 0&&(A=x.length);for(var R=A-this.blockSize,I=this.B,M=this.h,O=0;O<A;){if(M==0)for(;O<=R;)i(this,x,O),O+=this.blockSize;if(typeof x=="string"){for(;O<A;)if(I[M++]=x.charCodeAt(O++),M==this.blockSize){i(this,I),M=0;break}}else for(;O<A;)if(I[M++]=x[O++],M==this.blockSize){i(this,I),M=0;break}}this.h=M,this.o+=A},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var A=1;A<x.length-8;++A)x[A]=0;var R=8*this.o;for(A=x.length-8;A<x.length;++A)x[A]=R&255,R/=256;for(this.u(x),x=Array(16),A=R=0;4>A;++A)for(var I=0;32>I;I+=8)x[R++]=this.g[A]>>>I&255;return x};function s(x,A){var R=o;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=A(x)}function a(x,A){this.h=A;for(var R=[],I=!0,M=x.length-1;0<=M;M--){var O=x[M]|0;I&&O==A||(R[M]=O,I=!1)}this.g=R}var o={};function c(x){return-128<=x&&128>x?s(x,function(A){return new a([A|0],0>A?-1:0)}):new a([x|0],0>x?-1:0)}function u(x){if(isNaN(x)||!isFinite(x))return d;if(0>x)return w(u(-x));for(var A=[],R=1,I=0;x>=R;I++)A[I]=x/R|0,R*=4294967296;return new a(A,0)}function f(x,A){if(x.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(x.charAt(0)=="-")return w(f(x.substring(1),A));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=u(Math.pow(A,8)),I=d,M=0;M<x.length;M+=8){var O=Math.min(8,x.length-M),D=parseInt(x.substring(M,M+O),A);8>O?(O=u(Math.pow(A,O)),I=I.j(O).add(u(D))):(I=I.j(R),I=I.add(u(D)))}return I}var d=c(0),p=c(1),h=c(16777216);t=a.prototype,t.m=function(){if(v(this))return-w(this).m();for(var x=0,A=1,R=0;R<this.g.length;R++){var I=this.i(R);x+=(0<=I?I:4294967296+I)*A,A*=4294967296}return x},t.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(S(this))return"0";if(v(this))return"-"+w(this).toString(x);for(var A=u(Math.pow(x,6)),R=this,I="";;){var M=N(R,A).g;R=_(R,M.j(A));var O=((0<R.g.length?R.g[0]:R.h)>>>0).toString(x);if(R=M,S(R))return O+I;for(;6>O.length;)O="0"+O;I=O+I}},t.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function S(x){if(x.h!=0)return!1;for(var A=0;A<x.g.length;A++)if(x.g[A]!=0)return!1;return!0}function v(x){return x.h==-1}t.l=function(x){return x=_(this,x),v(x)?-1:S(x)?0:1};function w(x){for(var A=x.g.length,R=[],I=0;I<A;I++)R[I]=~x.g[I];return new a(R,~x.h).add(p)}t.abs=function(){return v(this)?w(this):this},t.add=function(x){for(var A=Math.max(this.g.length,x.g.length),R=[],I=0,M=0;M<=A;M++){var O=I+(this.i(M)&65535)+(x.i(M)&65535),D=(O>>>16)+(this.i(M)>>>16)+(x.i(M)>>>16);I=D>>>16,O&=65535,D&=65535,R[M]=D<<16|O}return new a(R,R[R.length-1]&-2147483648?-1:0)};function _(x,A){return x.add(w(A))}t.j=function(x){if(S(this)||S(x))return d;if(v(this))return v(x)?w(this).j(w(x)):w(w(this).j(x));if(v(x))return w(this.j(w(x)));if(0>this.l(h)&&0>x.l(h))return u(this.m()*x.m());for(var A=this.g.length+x.g.length,R=[],I=0;I<2*A;I++)R[I]=0;for(I=0;I<this.g.length;I++)for(var M=0;M<x.g.length;M++){var O=this.i(I)>>>16,D=this.i(I)&65535,W=x.i(M)>>>16,le=x.i(M)&65535;R[2*I+2*M]+=D*le,b(R,2*I+2*M),R[2*I+2*M+1]+=O*le,b(R,2*I+2*M+1),R[2*I+2*M+1]+=D*W,b(R,2*I+2*M+1),R[2*I+2*M+2]+=O*W,b(R,2*I+2*M+2)}for(I=0;I<A;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=A;I<2*A;I++)R[I]=0;return new a(R,0)};function b(x,A){for(;(x[A]&65535)!=x[A];)x[A+1]+=x[A]>>>16,x[A]&=65535,A++}function E(x,A){this.g=x,this.h=A}function N(x,A){if(S(A))throw Error("division by zero");if(S(x))return new E(d,d);if(v(x))return A=N(w(x),A),new E(w(A.g),w(A.h));if(v(A))return A=N(x,w(A)),new E(w(A.g),A.h);if(30<x.g.length){if(v(x)||v(A))throw Error("slowDivide_ only works with positive integers.");for(var R=p,I=A;0>=I.l(x);)R=P(R),I=P(I);var M=k(R,1),O=k(I,1);for(I=k(I,2),R=k(R,2);!S(I);){var D=O.add(I);0>=D.l(x)&&(M=M.add(R),O=D),I=k(I,1),R=k(R,1)}return A=_(x,M.j(A)),new E(M,A)}for(M=d;0<=x.l(A);){for(R=Math.max(1,Math.floor(x.m()/A.m())),I=Math.ceil(Math.log(R)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),O=u(R),D=O.j(A);v(D)||0<D.l(x);)R-=I,O=u(R),D=O.j(A);S(O)&&(O=p),M=M.add(O),x=_(x,D)}return new E(M,x)}t.A=function(x){return N(this,x).h},t.and=function(x){for(var A=Math.max(this.g.length,x.g.length),R=[],I=0;I<A;I++)R[I]=this.i(I)&x.i(I);return new a(R,this.h&x.h)},t.or=function(x){for(var A=Math.max(this.g.length,x.g.length),R=[],I=0;I<A;I++)R[I]=this.i(I)|x.i(I);return new a(R,this.h|x.h)},t.xor=function(x){for(var A=Math.max(this.g.length,x.g.length),R=[],I=0;I<A;I++)R[I]=this.i(I)^x.i(I);return new a(R,this.h^x.h)};function P(x){for(var A=x.g.length+1,R=[],I=0;I<A;I++)R[I]=x.i(I)<<1|x.i(I-1)>>>31;return new a(R,x.h)}function k(x,A){var R=A>>5;A%=32;for(var I=x.g.length-R,M=[],O=0;O<I;O++)M[O]=0<A?x.i(O+R)>>>A|x.i(O+R+1)<<32-A:x.i(O+R);return new a(M,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,xR=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=f,ps=a}).apply(typeof iE<"u"?iE:typeof self<"u"?self:typeof window<"u"?window:{});var Ef=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var RR,nc,CR,Xf,Yg,IR,NR,OR;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,m,g){return l==Array.prototype||l==Object.prototype||(l[m]=g.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ef=="object"&&Ef];for(var m=0;m<l.length;++m){var g=l[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(l,m){if(m)e:{var g=r;l=l.split(".");for(var C=0;C<l.length-1;C++){var V=l[C];if(!(V in g))break e;g=g[V]}l=l[l.length-1],C=g[l],m=m(C),m!=C&&m!=null&&e(g,l,{configurable:!0,writable:!0,value:m})}}function s(l,m){l instanceof String&&(l+="");var g=0,C=!1,V={next:function(){if(!C&&g<l.length){var L=g++;return{value:m(L,l[L]),done:!1}}return C=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(l){return l||function(){return s(this,function(m,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function c(l){var m=typeof l;return m=m!="object"?m:l?Array.isArray(l)?"array":m:"null",m=="array"||m=="object"&&typeof l.length=="number"}function u(l){var m=typeof l;return m=="object"&&l!=null||m=="function"}function f(l,m,g){return l.call.apply(l.bind,arguments)}function d(l,m,g){if(!l)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,C),l.apply(m,V)}}return function(){return l.apply(m,arguments)}}function p(l,m,g){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:d,p.apply(null,arguments)}function h(l,m){var g=Array.prototype.slice.call(arguments,1);return function(){var C=g.slice();return C.push.apply(C,arguments),l.apply(this,C)}}function S(l,m){function g(){}g.prototype=m.prototype,l.aa=m.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(C,V,L){for(var K=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)K[Be-2]=arguments[Be];return m.prototype[V].apply(C,K)}}function v(l){const m=l.length;if(0<m){const g=Array(m);for(let C=0;C<m;C++)g[C]=l[C];return g}return[]}function w(l,m){for(let g=1;g<arguments.length;g++){const C=arguments[g];if(c(C)){const V=l.length||0,L=C.length||0;l.length=V+L;for(let K=0;K<L;K++)l[V+K]=C[K]}else l.push(C)}}class _{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function b(l){return/^[\s\xa0]*$/.test(l)}function E(){var l=o.navigator;return l&&(l=l.userAgent)?l:""}function N(l){return N[" "](l),l}N[" "]=function(){};var P=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function k(l,m,g){for(const C in l)m.call(g,l[C],C,l)}function x(l,m){for(const g in l)m.call(void 0,l[g],g,l)}function A(l){const m={};for(const g in l)m[g]=l[g];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(l,m){let g,C;for(let V=1;V<arguments.length;V++){C=arguments[V];for(g in C)l[g]=C[g];for(let L=0;L<R.length;L++)g=R[L],Object.prototype.hasOwnProperty.call(C,g)&&(l[g]=C[g])}}function M(l){var m=1;l=l.split(":");const g=[];for(;0<m&&l.length;)g.push(l.shift()),m--;return l.length&&g.push(l.join(":")),g}function O(l){o.setTimeout(()=>{throw l},0)}function D(){var l=H;let m=null;return l.g&&(m=l.g,l.g=l.g.next,l.g||(l.h=null),m.next=null),m}class W{constructor(){this.h=this.g=null}add(m,g){const C=le.get();C.set(m,g),this.h?this.h.next=C:this.g=C,this.h=C}}var le=new _(()=>new j,l=>l.reset());class j{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let G,q=!1,H=new W,J=()=>{const l=o.Promise.resolve(void 0);G=()=>{l.then(De)}};var De=()=>{for(var l;l=D();){try{l.h.call(l.g)}catch(g){O(g)}var m=le;m.j(l),100>m.h&&(m.h++,l.next=m.g,m.g=l)}q=!1};function re(){this.s=this.s,this.C=this.C}re.prototype.s=!1,re.prototype.ma=function(){this.s||(this.s=!0,this.N())},re.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ee(l,m){this.type=l,this.g=this.target=m,this.defaultPrevented=!1}ee.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var l=!1,m=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};o.addEventListener("test",g,m),o.removeEventListener("test",g,m)}catch{}return l}();function xe(l,m){if(ee.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,C=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=m,m=l.relatedTarget){if(P){e:{try{N(m.nodeName);var V=!0;break e}catch{}V=!1}V||(m=null)}}else g=="mouseover"?m=l.fromElement:g=="mouseout"&&(m=l.toElement);this.relatedTarget=m,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Ut[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&xe.aa.h.call(this)}}S(xe,ee);var Ut={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Q="closure_listenable_"+(1e6*Math.random()|0),Ie=0;function Xe(l,m,g,C,V){this.listener=l,this.proxy=null,this.src=m,this.type=g,this.capture=!!C,this.ha=V,this.key=++Ie,this.da=this.fa=!1}function ye(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function de(l){this.src=l,this.g={},this.h=0}de.prototype.add=function(l,m,g,C,V){var L=l.toString();l=this.g[L],l||(l=this.g[L]=[],this.h++);var K=dt(l,m,C,V);return-1<K?(m=l[K],g||(m.fa=!1)):(m=new Xe(m,this.src,L,!!C,V),m.fa=g,l.push(m)),m};function ve(l,m){var g=m.type;if(g in l.g){var C=l.g[g],V=Array.prototype.indexOf.call(C,m,void 0),L;(L=0<=V)&&Array.prototype.splice.call(C,V,1),L&&(ye(m),l.g[g].length==0&&(delete l.g[g],l.h--))}}function dt(l,m,g,C){for(var V=0;V<l.length;++V){var L=l[V];if(!L.da&&L.listener==m&&L.capture==!!g&&L.ha==C)return V}return-1}var zt="closure_lm_"+(1e6*Math.random()|0),Qn={};function Yn(l,m,g,C,V){if(Array.isArray(m)){for(var L=0;L<m.length;L++)Yn(l,m[L],g,C,V);return null}return g=ju(g),l&&l[Q]?l.K(m,g,u(C)?!!C.capture:!1,V):Lr(l,m,g,!1,C,V)}function Lr(l,m,g,C,V,L){if(!m)throw Error("Invalid event type");var K=u(V)?!!V.capture:!!V,Be=Xn(l);if(Be||(l[zt]=Be=new de(l)),g=Be.add(m,g,C,K,L),g.proxy)return g;if(C=ks(),g.proxy=C,C.src=l,C.listener=g,l.addEventListener)ue||(V=K),V===void 0&&(V=!1),l.addEventListener(m.toString(),C,V);else if(l.attachEvent)l.attachEvent(bi(m.toString()),C);else if(l.addListener&&l.removeListener)l.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return g}function ks(){function l(g){return m.call(l.src,l.listener,g)}const m=Lu;return l}function jr(l,m,g,C,V){if(Array.isArray(m))for(var L=0;L<m.length;L++)jr(l,m[L],g,C,V);else C=u(C)?!!C.capture:!!C,g=ju(g),l&&l[Q]?(l=l.i,m=String(m).toString(),m in l.g&&(L=l.g[m],g=dt(L,g,C,V),-1<g&&(ye(L[g]),Array.prototype.splice.call(L,g,1),L.length==0&&(delete l.g[m],l.h--)))):l&&(l=Xn(l))&&(m=l.g[m.toString()],l=-1,m&&(l=dt(m,g,C,V)),(g=-1<l?m[l]:null)&&Da(g))}function Da(l){if(typeof l!="number"&&l&&!l.da){var m=l.src;if(m&&m[Q])ve(m.i,l);else{var g=l.type,C=l.proxy;m.removeEventListener?m.removeEventListener(g,C,l.capture):m.detachEvent?m.detachEvent(bi(g),C):m.addListener&&m.removeListener&&m.removeListener(C),(g=Xn(m))?(ve(g,l),g.h==0&&(g.src=null,m[zt]=null)):ye(l)}}}function bi(l){return l in Qn?Qn[l]:Qn[l]="on"+l}function Lu(l,m){if(l.da)l=!0;else{m=new xe(m,this);var g=l.listener,C=l.ha||l.src;l.fa&&Da(l),l=g.call(C,m)}return l}function Xn(l){return l=l[zt],l instanceof de?l:null}var Il="__closure_events_fn_"+(1e9*Math.random()>>>0);function ju(l){return typeof l=="function"?l:(l[Il]||(l[Il]=function(m){return l.handleEvent(m)}),l[Il])}function Ve(){re.call(this),this.i=new de(this),this.M=this,this.F=null}S(Ve,re),Ve.prototype[Q]=!0,Ve.prototype.removeEventListener=function(l,m,g,C){jr(this,l,m,g,C)};function it(l,m){var g,C=l.F;if(C)for(g=[];C;C=C.F)g.push(C);if(l=l.M,C=m.type||m,typeof m=="string")m=new ee(m,l);else if(m instanceof ee)m.target=m.target||l;else{var V=m;m=new ee(C,l),I(m,V)}if(V=!0,g)for(var L=g.length-1;0<=L;L--){var K=m.g=g[L];V=Ma(K,C,!0,m)&&V}if(K=m.g=l,V=Ma(K,C,!0,m)&&V,V=Ma(K,C,!1,m)&&V,g)for(L=0;L<g.length;L++)K=m.g=g[L],V=Ma(K,C,!1,m)&&V}Ve.prototype.N=function(){if(Ve.aa.N.call(this),this.i){var l=this.i,m;for(m in l.g){for(var g=l.g[m],C=0;C<g.length;C++)ye(g[C]);delete l.g[m],l.h--}}this.F=null},Ve.prototype.K=function(l,m,g,C){return this.i.add(String(l),m,!1,g,C)},Ve.prototype.L=function(l,m,g,C){return this.i.add(String(l),m,!0,g,C)};function Ma(l,m,g,C){if(m=l.i.g[String(m)],!m)return!0;m=m.concat();for(var V=!0,L=0;L<m.length;++L){var K=m[L];if(K&&!K.da&&K.capture==g){var Be=K.listener,Ot=K.ha||K.src;K.fa&&ve(l.i,K),V=Be.call(Ot,C)!==!1&&V}}return V&&!C.defaultPrevented}function Uu(l,m,g){if(typeof l=="function")g&&(l=p(l,g));else if(l&&typeof l.handleEvent=="function")l=p(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:o.setTimeout(l,m||0)}function Ls(l){l.g=Uu(()=>{l.g=null,l.i&&(l.i=!1,Ls(l))},l.l);const m=l.h;l.h=null,l.m.apply(null,m)}class fm extends re{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ls(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wi(l){re.call(this),this.h=l,this.g={}}S(wi,re);var Pa=[];function Ur(l){k(l.g,function(m,g){this.g.hasOwnProperty(g)&&Da(m)},l),l.g={}}wi.prototype.N=function(){wi.aa.N.call(this),Ur(this)},wi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Va=o.JSON.stringify,Ei=o.JSON.parse,hm=class{stringify(l){return o.JSON.stringify(l,void 0)}parse(l){return o.JSON.parse(l,void 0)}};function Nl(){}Nl.prototype.h=null;function Ol(l){return l.h||(l.h=l.i())}function Dl(){}var js={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Us(){ee.call(this,"d")}S(Us,ee);function Vn(){ee.call(this,"c")}S(Vn,ee);var zr={},se=null;function Ae(){return se=se||new Ve}zr.La="serverreachability";function ze(l){ee.call(this,zr.La,l)}S(ze,ee);function It(l){const m=Ae();it(m,new ze(m))}zr.STAT_EVENT="statevent";function sn(l,m){ee.call(this,zr.STAT_EVENT,l),this.stat=m}S(sn,ee);function We(l){const m=Ae();it(m,new sn(m,l))}zr.Ma="timingevent";function fr(l,m){ee.call(this,zr.Ma,l),this.size=m}S(fr,ee);function Nt(l,m){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){l()},m)}function an(){this.g=!0}an.prototype.xa=function(){this.g=!1};function T2(l,m,g,C,V,L){l.info(function(){if(l.g)if(L)for(var K="",Be=L.split("&"),Ot=0;Ot<Be.length;Ot++){var Re=Be[Ot].split("=");if(1<Re.length){var Bt=Re[0];Re=Re[1];var Ft=Bt.split("_");K=2<=Ft.length&&Ft[1]=="type"?K+(Bt+"="+Re+"&"):K+(Bt+"=redacted&")}}else K=null;else K=L;return"XMLHTTP REQ ("+C+") [attempt "+V+"]: "+m+`
`+g+`
`+K})}function S2(l,m,g,C,V,L,K){l.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+V+"]: "+m+`
`+g+`
`+L+" "+K})}function ka(l,m,g,C){l.info(function(){return"XMLHTTP TEXT ("+m+"): "+x2(l,g)+(C?" "+C:"")})}function A2(l,m){l.info(function(){return"TIMEOUT: "+m})}an.prototype.info=function(){};function x2(l,m){if(!l.g)return m;if(!m)return null;try{var g=JSON.parse(m);if(g){for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var C=g[l];if(!(2>C.length)){var V=C[1];if(Array.isArray(V)&&!(1>V.length)){var L=V[0];if(L!="noop"&&L!="stop"&&L!="close")for(var K=1;K<V.length;K++)V[K]=""}}}}return Va(g)}catch{return m}}var zu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},j_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},dm;function Bu(){}S(Bu,Nl),Bu.prototype.g=function(){return new XMLHttpRequest},Bu.prototype.i=function(){return{}},dm=new Bu;function Ti(l,m,g,C){this.j=l,this.i=m,this.l=g,this.R=C||1,this.U=new wi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new U_}function U_(){this.i=null,this.g="",this.h=!1}var z_={},mm={};function pm(l,m,g){l.L=1,l.v=Gu(Br(m)),l.m=g,l.P=!0,B_(l,null)}function B_(l,m){l.F=Date.now(),Fu(l),l.A=Br(l.v);var g=l.A,C=l.R;Array.isArray(C)||(C=[String(C)]),t0(g.i,"t",C),l.C=0,g=l.j.J,l.h=new U_,l.g=_0(l.j,g?m:null,!l.m),0<l.O&&(l.M=new fm(p(l.Y,l,l.g),l.O)),m=l.U,g=l.g,C=l.ca;var V="readystatechange";Array.isArray(V)||(V&&(Pa[0]=V.toString()),V=Pa);for(var L=0;L<V.length;L++){var K=Yn(g,V[L],C||m.handleEvent,!1,m.h||m);if(!K)break;m.g[K.key]=K}m=l.H?A(l.H):{},l.m?(l.u||(l.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,m)):(l.u="GET",l.g.ea(l.A,l.u,null,m)),It(),T2(l.i,l.u,l.A,l.l,l.R,l.m)}Ti.prototype.ca=function(l){l=l.target;const m=this.M;m&&Fr(l)==3?m.j():this.Y(l)},Ti.prototype.Y=function(l){try{if(l==this.g)e:{const Ft=Fr(this.g);var m=this.g.Ba();const Ua=this.g.Z();if(!(3>Ft)&&(Ft!=3||this.g&&(this.h.h||this.g.oa()||l0(this.g)))){this.J||Ft!=4||m==7||(m==8||0>=Ua?It(3):It(2)),gm(this);var g=this.g.Z();this.X=g;t:if(F_(this)){var C=l0(this.g);l="";var V=C.length,L=Fr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zs(this),Ml(this);var K="";break t}this.h.i=new o.TextDecoder}for(m=0;m<V;m++)this.h.h=!0,l+=this.h.i.decode(C[m],{stream:!(L&&m==V-1)});C.length=0,this.h.g+=l,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=g==200,S2(this.i,this.u,this.A,this.l,this.R,Ft,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,Ot=this.g;if((Be=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(Be)){var Re=Be;break t}}Re=null}if(g=Re)ka(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ym(this,g);else{this.o=!1,this.s=3,We(12),zs(this),Ml(this);break e}}if(this.P){g=!0;let Wn;for(;!this.J&&this.C<K.length;)if(Wn=R2(this,K),Wn==mm){Ft==4&&(this.s=4,We(14),g=!1),ka(this.i,this.l,null,"[Incomplete Response]");break}else if(Wn==z_){this.s=4,We(15),ka(this.i,this.l,K,"[Invalid Chunk]"),g=!1;break}else ka(this.i,this.l,Wn,null),ym(this,Wn);if(F_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ft!=4||K.length!=0||this.h.h||(this.s=1,We(16),g=!1),this.o=this.o&&g,!g)ka(this.i,this.l,K,"[Invalid Chunked Response]"),zs(this),Ml(this);else if(0<K.length&&!this.W){this.W=!0;var Bt=this.j;Bt.g==this&&Bt.ba&&!Bt.M&&(Bt.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),Tm(Bt),Bt.M=!0,We(11))}}else ka(this.i,this.l,K,null),ym(this,K);Ft==4&&zs(this),this.o&&!this.J&&(Ft==4?p0(this.j,this):(this.o=!1,Fu(this)))}else H2(this.g),g==400&&0<K.indexOf("Unknown SID")?(this.s=3,We(12)):(this.s=0,We(13)),zs(this),Ml(this)}}}catch{}finally{}};function F_(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function R2(l,m){var g=l.C,C=m.indexOf(`
`,g);return C==-1?mm:(g=Number(m.substring(g,C)),isNaN(g)?z_:(C+=1,C+g>m.length?mm:(m=m.slice(C,C+g),l.C=C+g,m)))}Ti.prototype.cancel=function(){this.J=!0,zs(this)};function Fu(l){l.S=Date.now()+l.I,q_(l,l.I)}function q_(l,m){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Nt(p(l.ba,l),m)}function gm(l){l.B&&(o.clearTimeout(l.B),l.B=null)}Ti.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(A2(this.i,this.A),this.L!=2&&(It(),We(17)),zs(this),this.s=2,Ml(this)):q_(this,this.S-l)};function Ml(l){l.j.G==0||l.J||p0(l.j,l)}function zs(l){gm(l);var m=l.M;m&&typeof m.ma=="function"&&m.ma(),l.M=null,Ur(l.U),l.g&&(m=l.g,l.g=null,m.abort(),m.ma())}function ym(l,m){try{var g=l.j;if(g.G!=0&&(g.g==l||vm(g.h,l))){if(!l.K&&vm(g.h,l)&&g.G==3){try{var C=g.Da.g.parse(m)}catch{C=null}if(Array.isArray(C)&&C.length==3){var V=C;if(V[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<l.F)Wu(g),Yu(g);else break e;Em(g),We(18)}}else g.za=V[1],0<g.za-g.T&&37500>V[2]&&g.F&&g.v==0&&!g.C&&(g.C=Nt(p(g.Za,g),6e3));if(1>=$_(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else Fs(g,11)}else if((l.K||g.g==l)&&Wu(g),!b(m))for(V=g.Da.g.parse(m),m=0;m<V.length;m++){let Re=V[m];if(g.T=Re[0],Re=Re[1],g.G==2)if(Re[0]=="c"){g.K=Re[1],g.ia=Re[2];const Bt=Re[3];Bt!=null&&(g.la=Bt,g.j.info("VER="+g.la));const Ft=Re[4];Ft!=null&&(g.Aa=Ft,g.j.info("SVER="+g.Aa));const Ua=Re[5];Ua!=null&&typeof Ua=="number"&&0<Ua&&(C=1.5*Ua,g.L=C,g.j.info("backChannelRequestTimeoutMs_="+C)),C=g;const Wn=l.g;if(Wn){const Ju=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ju){var L=C.h;L.g||Ju.indexOf("spdy")==-1&&Ju.indexOf("quic")==-1&&Ju.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(_m(L,L.h),L.h=null))}if(C.D){const Sm=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;Sm&&(C.ya=Sm,$e(C.I,C.D,Sm))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms")),C=g;var K=l;if(C.qa=v0(C,C.J?C.ia:null,C.W),K.K){K_(C.h,K);var Be=K,Ot=C.L;Ot&&(Be.I=Ot),Be.B&&(gm(Be),Fu(Be)),C.g=K}else d0(C);0<g.i.length&&Xu(g)}else Re[0]!="stop"&&Re[0]!="close"||Fs(g,7);else g.G==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?Fs(g,7):wm(g):Re[0]!="noop"&&g.l&&g.l.ta(Re),g.v=0)}}It(4)}catch{}}var C2=class{constructor(l,m){this.g=l,this.map=m}};function H_(l){this.l=l||10,o.PerformanceNavigationTiming?(l=o.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function G_(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function $_(l){return l.h?1:l.g?l.g.size:0}function vm(l,m){return l.h?l.h==m:l.g?l.g.has(m):!1}function _m(l,m){l.g?l.g.add(m):l.h=m}function K_(l,m){l.h&&l.h==m?l.h=null:l.g&&l.g.has(m)&&l.g.delete(m)}H_.prototype.cancel=function(){if(this.i=Q_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Q_(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let m=l.i;for(const g of l.g.values())m=m.concat(g.D);return m}return v(l.i)}function I2(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var m=[],g=l.length,C=0;C<g;C++)m.push(l[C]);return m}m=[],g=0;for(C in l)m[g++]=l[C];return m}function N2(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var m=[];l=l.length;for(var g=0;g<l;g++)m.push(g);return m}m=[],g=0;for(const C in l)m[g++]=C;return m}}}function Y_(l,m){if(l.forEach&&typeof l.forEach=="function")l.forEach(m,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,m,void 0);else for(var g=N2(l),C=I2(l),V=C.length,L=0;L<V;L++)m.call(void 0,C[L],g&&g[L],l)}var X_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function O2(l,m){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var C=l[g].indexOf("="),V=null;if(0<=C){var L=l[g].substring(0,C);V=l[g].substring(C+1)}else L=l[g];m(L,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Bs(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Bs){this.h=l.h,qu(this,l.j),this.o=l.o,this.g=l.g,Hu(this,l.s),this.l=l.l;var m=l.i,g=new kl;g.i=m.i,m.g&&(g.g=new Map(m.g),g.h=m.h),W_(this,g),this.m=l.m}else l&&(m=String(l).match(X_))?(this.h=!1,qu(this,m[1]||"",!0),this.o=Pl(m[2]||""),this.g=Pl(m[3]||"",!0),Hu(this,m[4]),this.l=Pl(m[5]||"",!0),W_(this,m[6]||"",!0),this.m=Pl(m[7]||"")):(this.h=!1,this.i=new kl(null,this.h))}Bs.prototype.toString=function(){var l=[],m=this.j;m&&l.push(Vl(m,Z_,!0),":");var g=this.g;return(g||m=="file")&&(l.push("//"),(m=this.o)&&l.push(Vl(m,Z_,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&l.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(Vl(g,g.charAt(0)=="/"?P2:M2,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",Vl(g,k2)),l.join("")};function Br(l){return new Bs(l)}function qu(l,m,g){l.j=g?Pl(m,!0):m,l.j&&(l.j=l.j.replace(/:$/,""))}function Hu(l,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);l.s=m}else l.s=null}function W_(l,m,g){m instanceof kl?(l.i=m,L2(l.i,l.h)):(g||(m=Vl(m,V2)),l.i=new kl(m,l.h))}function $e(l,m,g){l.i.set(m,g)}function Gu(l){return $e(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Pl(l,m){return l?m?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Vl(l,m,g){return typeof l=="string"?(l=encodeURI(l).replace(m,D2),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function D2(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Z_=/[#\/\?@]/g,M2=/[#\?:]/g,P2=/[#\?]/g,V2=/[#\?@]/g,k2=/#/g;function kl(l,m){this.h=this.g=null,this.i=l||null,this.j=!!m}function Si(l){l.g||(l.g=new Map,l.h=0,l.i&&O2(l.i,function(m,g){l.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}t=kl.prototype,t.add=function(l,m){Si(this),this.i=null,l=La(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(m),this.h+=1,this};function J_(l,m){Si(l),m=La(l,m),l.g.has(m)&&(l.i=null,l.h-=l.g.get(m).length,l.g.delete(m))}function e0(l,m){return Si(l),m=La(l,m),l.g.has(m)}t.forEach=function(l,m){Si(this),this.g.forEach(function(g,C){g.forEach(function(V){l.call(m,V,C,this)},this)},this)},t.na=function(){Si(this);const l=Array.from(this.g.values()),m=Array.from(this.g.keys()),g=[];for(let C=0;C<m.length;C++){const V=l[C];for(let L=0;L<V.length;L++)g.push(m[C])}return g},t.V=function(l){Si(this);let m=[];if(typeof l=="string")e0(this,l)&&(m=m.concat(this.g.get(La(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)m=m.concat(l[g])}return m},t.set=function(l,m){return Si(this),this.i=null,l=La(this,l),e0(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[m]),this.h+=1,this},t.get=function(l,m){return l?(l=this.V(l),0<l.length?String(l[0]):m):m};function t0(l,m,g){J_(l,m),0<g.length&&(l.i=null,l.g.set(La(l,m),v(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],m=Array.from(this.g.keys());for(var g=0;g<m.length;g++){var C=m[g];const L=encodeURIComponent(String(C)),K=this.V(C);for(C=0;C<K.length;C++){var V=L;K[C]!==""&&(V+="="+encodeURIComponent(String(K[C]))),l.push(V)}}return this.i=l.join("&")};function La(l,m){return m=String(m),l.j&&(m=m.toLowerCase()),m}function L2(l,m){m&&!l.j&&(Si(l),l.i=null,l.g.forEach(function(g,C){var V=C.toLowerCase();C!=V&&(J_(this,C),t0(this,V,g))},l)),l.j=m}function j2(l,m){const g=new an;if(o.Image){const C=new Image;C.onload=h(Ai,g,"TestLoadImage: loaded",!0,m,C),C.onerror=h(Ai,g,"TestLoadImage: error",!1,m,C),C.onabort=h(Ai,g,"TestLoadImage: abort",!1,m,C),C.ontimeout=h(Ai,g,"TestLoadImage: timeout",!1,m,C),o.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=l}else m(!1)}function U2(l,m){const g=new an,C=new AbortController,V=setTimeout(()=>{C.abort(),Ai(g,"TestPingServer: timeout",!1,m)},1e4);fetch(l,{signal:C.signal}).then(L=>{clearTimeout(V),L.ok?Ai(g,"TestPingServer: ok",!0,m):Ai(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(V),Ai(g,"TestPingServer: error",!1,m)})}function Ai(l,m,g,C,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),C(g)}catch{}}function z2(){this.g=new hm}function B2(l,m,g){const C=g||"";try{Y_(l,function(V,L){let K=V;u(V)&&(K=Va(V)),m.push(C+L+"="+encodeURIComponent(K))})}catch(V){throw m.push(C+"type="+encodeURIComponent("_badmap")),V}}function $u(l){this.l=l.Ub||null,this.j=l.eb||!1}S($u,Nl),$u.prototype.g=function(){return new Ku(this.l,this.j)},$u.prototype.i=function(l){return function(){return l}}({});function Ku(l,m){Ve.call(this),this.D=l,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Ku,Ve),t=Ku.prototype,t.open=function(l,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=m,this.readyState=1,jl(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(m.body=l),(this.D||o).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ll(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,jl(this)),this.g&&(this.readyState=3,jl(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;n0(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function n0(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var m=l.value?l.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!l.done}))&&(this.response=this.responseText+=m)}l.done?Ll(this):jl(this),this.readyState==3&&n0(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Ll(this))},t.Qa=function(l){this.g&&(this.response=l,Ll(this))},t.ga=function(){this.g&&Ll(this)};function Ll(l){l.readyState=4,l.l=null,l.j=null,l.v=null,jl(l)}t.setRequestHeader=function(l,m){this.u.append(l,m)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=m.next();return l.join(`\r
`)};function jl(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Ku.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function r0(l){let m="";return k(l,function(g,C){m+=C,m+=":",m+=g,m+=`\r
`}),m}function bm(l,m,g){e:{for(C in g){var C=!1;break e}C=!0}C||(g=r0(g),typeof l=="string"?g!=null&&encodeURIComponent(String(g)):$e(l,m,g))}function st(l){Ve.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(st,Ve);var F2=/^https?$/i,q2=["POST","PUT"];t=st.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,m,g,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);m=m?m.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():dm.g(),this.v=this.o?Ol(this.o):Ol(dm),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(m,String(l),!0),this.B=!1}catch(L){i0(this,L);return}if(l=g||"",g=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var V in C)g.set(V,C[V]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const L of C.keys())g.set(L,C.get(L));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(g.keys()).find(L=>L.toLowerCase()=="content-type"),V=o.FormData&&l instanceof o.FormData,!(0<=Array.prototype.indexOf.call(q2,m,void 0))||C||V||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,K]of g)this.g.setRequestHeader(L,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{o0(this),this.u=!0,this.g.send(l),this.u=!1}catch(L){i0(this,L)}};function i0(l,m){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=m,l.m=5,s0(l),Qu(l)}function s0(l){l.A||(l.A=!0,it(l,"complete"),it(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,it(this,"complete"),it(this,"abort"),Qu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qu(this,!0)),st.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?a0(this):this.bb())},t.bb=function(){a0(this)};function a0(l){if(l.h&&typeof a<"u"&&(!l.v[1]||Fr(l)!=4||l.Z()!=2)){if(l.u&&Fr(l)==4)Uu(l.Ea,0,l);else if(it(l,"readystatechange"),Fr(l)==4){l.h=!1;try{const K=l.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var g;if(!(g=m)){var C;if(C=K===0){var V=String(l.D).match(X_)[1]||null;!V&&o.self&&o.self.location&&(V=o.self.location.protocol.slice(0,-1)),C=!F2.test(V?V.toLowerCase():"")}g=C}if(g)it(l,"complete"),it(l,"success");else{l.m=6;try{var L=2<Fr(l)?l.g.statusText:""}catch{L=""}l.l=L+" ["+l.Z()+"]",s0(l)}}finally{Qu(l)}}}}function Qu(l,m){if(l.g){o0(l);const g=l.g,C=l.v[0]?()=>{}:null;l.g=null,l.v=null,m||it(l,"ready");try{g.onreadystatechange=C}catch{}}}function o0(l){l.I&&(o.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Fr(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Fr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var m=this.g.responseText;return l&&m.indexOf(l)==0&&(m=m.substring(l.length)),Ei(m)}};function l0(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function H2(l){const m={};l=(l.g&&2<=Fr(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<l.length;C++){if(b(l[C]))continue;var g=M(l[C]);const V=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const L=m[V]||[];m[V]=L,L.push(g)}x(m,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ul(l,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||m}function c0(l){this.Aa=0,this.i=[],this.j=new an,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ul("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ul("baseRetryDelayMs",5e3,l),this.cb=Ul("retryDelaySeedMs",1e4,l),this.Wa=Ul("forwardChannelMaxRetries",2,l),this.wa=Ul("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new H_(l&&l.concurrentRequestLimit),this.Da=new z2,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=c0.prototype,t.la=8,t.G=1,t.connect=function(l,m,g,C){We(0),this.W=l,this.H=m||{},g&&C!==void 0&&(this.H.OSID=g,this.H.OAID=C),this.F=this.X,this.I=v0(this,null,this.W),Xu(this)};function wm(l){if(u0(l),l.G==3){var m=l.U++,g=Br(l.I);if($e(g,"SID",l.K),$e(g,"RID",m),$e(g,"TYPE","terminate"),zl(l,g),m=new Ti(l,l.j,m),m.L=2,m.v=Gu(Br(g)),g=!1,o.navigator&&o.navigator.sendBeacon)try{g=o.navigator.sendBeacon(m.v.toString(),"")}catch{}!g&&o.Image&&(new Image().src=m.v,g=!0),g||(m.g=_0(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Fu(m)}y0(l)}function Yu(l){l.g&&(Tm(l),l.g.cancel(),l.g=null)}function u0(l){Yu(l),l.u&&(o.clearTimeout(l.u),l.u=null),Wu(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&o.clearTimeout(l.s),l.s=null)}function Xu(l){if(!G_(l.h)&&!l.s){l.s=!0;var m=l.Ga;G||J(),q||(G(),q=!0),H.add(m,l),l.B=0}}function G2(l,m){return $_(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=m.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Nt(p(l.Ga,l,m),g0(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const V=new Ti(this,this.j,l);let L=this.o;if(this.S&&(L?(L=A(L),I(L,this.S)):L=this.S),this.m!==null||this.O||(V.H=L,L=null),this.P)e:{for(var m=0,g=0;g<this.i.length;g++){t:{var C=this.i[g];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(m+=C,4096<m){m=g;break e}if(m===4096||g===this.i.length-1){m=g+1;break e}}m=1e3}else m=1e3;m=h0(this,V,m),g=Br(this.I),$e(g,"RID",l),$e(g,"CVER",22),this.D&&$e(g,"X-HTTP-Session-Id",this.D),zl(this,g),L&&(this.O?m="headers="+encodeURIComponent(String(r0(L)))+"&"+m:this.m&&bm(g,this.m,L)),_m(this.h,V),this.Ua&&$e(g,"TYPE","init"),this.P?($e(g,"$req",m),$e(g,"SID","null"),V.T=!0,pm(V,g,null)):pm(V,g,m),this.G=2}}else this.G==3&&(l?f0(this,l):this.i.length==0||G_(this.h)||f0(this))};function f0(l,m){var g;m?g=m.l:g=l.U++;const C=Br(l.I);$e(C,"SID",l.K),$e(C,"RID",g),$e(C,"AID",l.T),zl(l,C),l.m&&l.o&&bm(C,l.m,l.o),g=new Ti(l,l.j,g,l.B+1),l.m===null&&(g.H=l.o),m&&(l.i=m.D.concat(l.i)),m=h0(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),_m(l.h,g),pm(g,C,m)}function zl(l,m){l.H&&k(l.H,function(g,C){$e(m,C,g)}),l.l&&Y_({},function(g,C){$e(m,C,g)})}function h0(l,m,g){g=Math.min(l.i.length,g);var C=l.l?p(l.l.Na,l.l,l):null;e:{var V=l.i;let L=-1;for(;;){const K=["count="+g];L==-1?0<g?(L=V[0].g,K.push("ofs="+L)):L=0:K.push("ofs="+L);let Be=!0;for(let Ot=0;Ot<g;Ot++){let Re=V[Ot].g;const Bt=V[Ot].map;if(Re-=L,0>Re)L=Math.max(0,V[Ot].g-100),Be=!1;else try{B2(Bt,K,"req"+Re+"_")}catch{C&&C(Bt)}}if(Be){C=K.join("&");break e}}}return l=l.i.splice(0,g),m.D=l,C}function d0(l){if(!l.g&&!l.u){l.Y=1;var m=l.Fa;G||J(),q||(G(),q=!0),H.add(m,l),l.v=0}}function Em(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Nt(p(l.Fa,l),g0(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,m0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Nt(p(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,We(10),Yu(this),m0(this))};function Tm(l){l.A!=null&&(o.clearTimeout(l.A),l.A=null)}function m0(l){l.g=new Ti(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var m=Br(l.qa);$e(m,"RID","rpc"),$e(m,"SID",l.K),$e(m,"AID",l.T),$e(m,"CI",l.F?"0":"1"),!l.F&&l.ja&&$e(m,"TO",l.ja),$e(m,"TYPE","xmlhttp"),zl(l,m),l.m&&l.o&&bm(m,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=Gu(Br(m)),g.m=null,g.P=!0,B_(g,l)}t.Za=function(){this.C!=null&&(this.C=null,Yu(this),Em(this),We(19))};function Wu(l){l.C!=null&&(o.clearTimeout(l.C),l.C=null)}function p0(l,m){var g=null;if(l.g==m){Wu(l),Tm(l),l.g=null;var C=2}else if(vm(l.h,m))g=m.D,K_(l.h,m),C=1;else return;if(l.G!=0){if(m.o)if(C==1){g=m.m?m.m.length:0,m=Date.now()-m.F;var V=l.B;C=Ae(),it(C,new fr(C,g)),Xu(l)}else d0(l);else if(V=m.s,V==3||V==0&&0<m.X||!(C==1&&G2(l,m)||C==2&&Em(l)))switch(g&&0<g.length&&(m=l.h,m.i=m.i.concat(g)),V){case 1:Fs(l,5);break;case 4:Fs(l,10);break;case 3:Fs(l,6);break;default:Fs(l,2)}}}function g0(l,m){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*m}function Fs(l,m){if(l.j.info("Error code "+m),m==2){var g=p(l.fb,l),C=l.Xa;const V=!C;C=new Bs(C||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||qu(C,"https"),Gu(C),V?j2(C.toString(),g):U2(C.toString(),g)}else We(2);l.G=0,l.l&&l.l.sa(m),y0(l),u0(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),We(2)):(this.j.info("Failed to ping google.com"),We(1))};function y0(l){if(l.G=0,l.ka=[],l.l){const m=Q_(l.h);(m.length!=0||l.i.length!=0)&&(w(l.ka,m),w(l.ka,l.i),l.h.i.length=0,v(l.i),l.i.length=0),l.l.ra()}}function v0(l,m,g){var C=g instanceof Bs?Br(g):new Bs(g);if(C.g!="")m&&(C.g=m+"."+C.g),Hu(C,C.s);else{var V=o.location;C=V.protocol,m=m?m+"."+V.hostname:V.hostname,V=+V.port;var L=new Bs(null);C&&qu(L,C),m&&(L.g=m),V&&Hu(L,V),g&&(L.l=g),C=L}return g=l.D,m=l.ya,g&&m&&$e(C,g,m),$e(C,"VER",l.la),zl(l,C),C}function _0(l,m,g){if(m&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=l.Ca&&!l.pa?new st(new $u({eb:g})):new st(l.pa),m.Ha(l.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function b0(){}t=b0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Zu(){}Zu.prototype.g=function(l,m){return new yn(l,m)};function yn(l,m){Ve.call(this),this.g=new c0(m),this.l=l,this.h=m&&m.messageUrlParams||null,l=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(l?l["X-WebChannel-Content-Type"]=m.messageContentType:l={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(l?l["X-WebChannel-Client-Profile"]=m.va:l={"X-WebChannel-Client-Profile":m.va}),this.g.S=l,(l=m&&m.Sb)&&!b(l)&&(this.g.m=l),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!b(m)&&(this.g.D=m,l=this.h,l!==null&&m in l&&(l=this.h,m in l&&delete l[m])),this.j=new ja(this)}S(yn,Ve),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){wm(this.g)},yn.prototype.o=function(l){var m=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.u&&(g={},g.__data__=Va(l),l=g);m.i.push(new C2(m.Ya++,l)),m.G==3&&Xu(m)},yn.prototype.N=function(){this.g.l=null,delete this.j,wm(this.g),delete this.g,yn.aa.N.call(this)};function w0(l){Us.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var m=l.__sm__;if(m){e:{for(const g in m){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,m=m!==null&&l in m?m[l]:void 0),this.data=m}else this.data=l}S(w0,Us);function E0(){Vn.call(this),this.status=1}S(E0,Vn);function ja(l){this.g=l}S(ja,b0),ja.prototype.ua=function(){it(this.g,"a")},ja.prototype.ta=function(l){it(this.g,new w0(l))},ja.prototype.sa=function(l){it(this.g,new E0)},ja.prototype.ra=function(){it(this.g,"b")},Zu.prototype.createWebChannel=Zu.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,OR=function(){return new Zu},NR=function(){return Ae()},IR=zr,Yg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zu.NO_ERROR=0,zu.TIMEOUT=8,zu.HTTP_ERROR=6,Xf=zu,j_.COMPLETE="complete",CR=j_,Dl.EventType=js,js.OPEN="a",js.CLOSE="b",js.ERROR="c",js.MESSAGE="d",Ve.prototype.listen=Ve.prototype.K,nc=Dl,st.prototype.listenOnce=st.prototype.L,st.prototype.getLastError=st.prototype.Ka,st.prototype.getLastErrorCode=st.prototype.Ba,st.prototype.getStatus=st.prototype.Z,st.prototype.getResponseJson=st.prototype.Oa,st.prototype.getResponseText=st.prototype.oa,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Ha,RR=st}).apply(typeof Ef<"u"?Ef:typeof self<"u"?self:typeof window<"u"?window:{});const sE="@firebase/firestore",aE="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $t=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tl="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=new Uv("@firebase/firestore");function Ya(){return wa.logLevel}function X(t,...e){if(wa.logLevel<=_e.DEBUG){const n=e.map(Wv);wa.debug(`Firestore (${Tl}): ${t}`,...n)}}function gi(t,...e){if(wa.logLevel<=_e.ERROR){const n=e.map(Wv);wa.error(`Firestore (${Tl}): ${t}`,...n)}}function tl(t,...e){if(wa.logLevel<=_e.WARN){const n=e.map(Wv);wa.warn(`Firestore (${Tl}): ${t}`,...n)}}function Wv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,DR(t,r,n)}function DR(t,e,n){let r=`FIRESTORE (${Tl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw gi(r),new Error(r)}function Me(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||DR(e,i,r)}function oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends _i{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class hj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class dj{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Me(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new fa;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new fa,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},o=c=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>o(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?o(c):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new fa)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Me(typeof r.accessToken=="string",31837,{l:r}),new MR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class mj{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class pj{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new mj(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gj{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Me(this.o===void 0,3512);const r=s=>{s.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,X("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new oE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Me(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new oE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=yj(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function be(t,e){return t<e?-1:t>e?1:0}function Xg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return _p(i)===_p(s)?be(i,s):_p(i)?1:-1}return be(t.length,e.length)}const vj=55296,_j=57343;function _p(t){const e=t.charCodeAt(0);return e>=vj&&e<=_j}function nl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="__name__";class mr{constructor(e,n,r){n===void 0?n=0:n>e.length&&te(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&te(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return mr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof mr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=mr.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return be(e.length,n.length)}static compareSegments(e,n){const r=mr.isNumericId(e),i=mr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?mr.extractNumericId(e).compare(mr.extractNumericId(n)):Xg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ps.fromString(e.substring(4,e.length-2))}}class He extends mr{construct(e,n,r){return new He(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new He(n)}static emptyPath(){return new He([])}}const bj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vt extends mr{construct(e,n,r){return new Vt(e,n,r)}static isValidIdentifier(e){return bj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lE}static keyField(){return new Vt([lE])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Y(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new Y(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Y(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new Y(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vt(n)}static emptyPath(){return new Vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.path=e}static fromPath(e){return new Z(He.fromString(e))}static fromName(e){return new Z(He.fromString(e).popFirst(5))}static empty(){return new Z(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return He.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Z(new He(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(t,e,n){if(!n)throw new Y(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function wj(t,e,n,r){if(e===!0&&r===!0)throw new Y(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function cE(t){if(!Z.isDocumentKey(t))throw new Y(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function uE(t){if(Z.isDocumentKey(t))throw new Y(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function VR(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function qd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":te(12329,{type:typeof t})}function gs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qd(t);throw new Y(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Nu(t,e){if(!VR(t))throw new Y(z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Y(z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE=-62135596800,hE=1e6;class Qe{static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*hE);return new Qe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<fE)throw new Y(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hE}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Nu(e,Qe._jsonSchema))return new Qe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-fE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qe._jsonSchemaVersion="firestore/timestamp/1.0",Qe._jsonSchema={type:yt("string",Qe._jsonSchemaVersion),seconds:yt("number"),nanoseconds:yt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{static fromTimestamp(e){return new ae(e)}static min(){return new ae(new Qe(0,0))}static max(){return new ae(new Qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc=-1;function Ej(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new Qe(n+1,0):new Qe(n,r));return new Ss(i,Z.empty(),e)}function Tj(t){return new Ss(t.readTime,t.key,Yc)}class Ss{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ss(ae.min(),Z.empty(),Yc)}static max(){return new Ss(ae.max(),Z.empty(),Yc)}}function Sj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Z.comparator(t.documentKey,e.documentKey),n!==0?n:be(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sl(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==Aj)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&n()},c=>r(c))}),a=!0,s===i&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new B((r,i)=>{const s=e.length,a=new Array(s);let o=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(f=>{a[u]=f,++o,o===s&&r(a)},f=>i(f))}})}static doWhile(e,n){return new B((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Rj(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Al(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Hd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=-1;function Gd(t){return t==null}function ed(t){return t===0&&1/t==-1/0}function Cj(t){return typeof t=="number"&&Number.isInteger(t)&&!ed(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR="";function Ij(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=dE(e)),e=Nj(t.get(n),e);return dE(e)}function Nj(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case kR:n+="";break;default:n+=s}}return n}function dE(t){return t+kR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ds(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function LR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e,n){this.comparator=e,this.root=n||Mt.EMPTY}insert(e,n){return new rt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Mt.BLACK,null,null))}remove(e){return new rt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tf(this.root,e,this.comparator,!0)}}class Tf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Mt.RED,this.left=i??Mt.EMPTY,this.right=s??Mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Mt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Mt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw te(27949);return e+(this.isRed()?0:1)}}Mt.EMPTY=null,Mt.RED=!0,Mt.BLACK=!1;Mt.EMPTY=new class{constructor(){this.size=0}get key(){throw te(57766)}get value(){throw te(16141)}get color(){throw te(16727)}get left(){throw te(29726)}get right(){throw te(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Mt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new rt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new pE(this.data.getIterator())}getIteratorFrom(e){return new pE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Et(this.comparator);return n.data=e,n}}class pE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort(Vt.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new Et(Vt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return nl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new jR("Invalid base64 string: "+s):s}}(e);return new jt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const Oj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function As(t){if(Me(!!t,39018),typeof t=="string"){let e=0;const n=Oj.exec(t);if(Me(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ft(t.seconds),nanos:ft(t.nanos)}}function ft(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xs(t){return typeof t=="string"?jt.fromBase64String(t):jt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="server_timestamp",zR="__type__",BR="__previous_value__",FR="__local_write_time__";function e_(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[zR])==null?void 0:r.stringValue)===UR}function $d(t){const e=t.mapValue.fields[BR];return e_(e)?$d(e):e}function Xc(t){const e=As(t.mapValue.fields[FR].timestampValue);return new Qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e,n,r,i,s,a,o,c,u,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=f}}const td="(default)";class Wc{constructor(e,n){this.projectId=e,this.database=n||td}static empty(){return new Wc("","")}get isDefaultDatabase(){return this.database===td}isEqual(e){return e instanceof Wc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="__type__",Mj="__max__",Sf={mapValue:{}},HR="__vector__",nd="value";function Rs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?e_(t)?4:Vj(t)?9007199254740991:Pj(t)?10:11:te(28295,{value:t})}function Mr(t,e){if(t===e)return!0;const n=Rs(t);if(n!==Rs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xc(t).isEqual(Xc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=As(i.timestampValue),o=As(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return xs(i.bytesValue).isEqual(xs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ft(i.geoPointValue.latitude)===ft(s.geoPointValue.latitude)&&ft(i.geoPointValue.longitude)===ft(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ft(i.integerValue)===ft(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=ft(i.doubleValue),o=ft(s.doubleValue);return a===o?ed(a)===ed(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return nl(t.arrayValue.values||[],e.arrayValue.values||[],Mr);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(mE(a)!==mE(o))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(o[c]===void 0||!Mr(a[c],o[c])))return!1;return!0}(t,e);default:return te(52216,{left:t})}}function Zc(t,e){return(t.values||[]).find(n=>Mr(n,e))!==void 0}function rl(t,e){if(t===e)return 0;const n=Rs(t),r=Rs(e);if(n!==r)return be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=ft(s.integerValue||s.doubleValue),c=ft(a.integerValue||a.doubleValue);return o<c?-1:o>c?1:o===c?0:isNaN(o)?isNaN(c)?0:-1:1}(t,e);case 3:return gE(t.timestampValue,e.timestampValue);case 4:return gE(Xc(t),Xc(e));case 5:return Xg(t.stringValue,e.stringValue);case 6:return function(s,a){const o=xs(s),c=xs(a);return o.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),c=a.split("/");for(let u=0;u<o.length&&u<c.length;u++){const f=be(o[u],c[u]);if(f!==0)return f}return be(o.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=be(ft(s.latitude),ft(a.latitude));return o!==0?o:be(ft(s.longitude),ft(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return yE(t.arrayValue,e.arrayValue);case 10:return function(s,a){var p,h,S,v;const o=s.fields||{},c=a.fields||{},u=(p=o[nd])==null?void 0:p.arrayValue,f=(h=c[nd])==null?void 0:h.arrayValue,d=be(((S=u==null?void 0:u.values)==null?void 0:S.length)||0,((v=f==null?void 0:f.values)==null?void 0:v.length)||0);return d!==0?d:yE(u,f)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===Sf.mapValue&&a===Sf.mapValue)return 0;if(s===Sf.mapValue)return 1;if(a===Sf.mapValue)return-1;const o=s.fields||{},c=Object.keys(o),u=a.fields||{},f=Object.keys(u);c.sort(),f.sort();for(let d=0;d<c.length&&d<f.length;++d){const p=Xg(c[d],f[d]);if(p!==0)return p;const h=rl(o[c[d]],u[f[d]]);if(h!==0)return h}return be(c.length,f.length)}(t.mapValue,e.mapValue);default:throw te(23264,{he:n})}}function gE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);const n=As(t),r=As(e),i=be(n.seconds,r.seconds);return i!==0?i:be(n.nanos,r.nanos)}function yE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=rl(n[i],r[i]);if(s)return s}return be(n.length,r.length)}function il(t){return Wg(t)}function Wg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=As(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return xs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Wg(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${Wg(n.fields[a])}`;return i+"}"}(t.mapValue):te(61005,{value:t})}function Wf(t){switch(Rs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$d(t);return e?16+Wf(e):16;case 5:return 2*t.stringValue.length;case 6:return xs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Wf(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ds(r.fields,(s,a)=>{i+=s.length+Wf(a)}),i}(t.mapValue);default:throw te(13486,{value:t})}}function vE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Zg(t){return!!t&&"integerValue"in t}function t_(t){return!!t&&"arrayValue"in t}function _E(t){return!!t&&"nullValue"in t}function bE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zf(t){return!!t&&"mapValue"in t}function Pj(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[qR])==null?void 0:r.stringValue)===HR}function Sc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ds(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Sc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sc(t.arrayValue.values[n]);return e}return{...t}}function Vj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Mj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Zf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sc(n)}setAll(e){let n=Vt.emptyPath(),r={},i=[];e.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=o.popLast()}a?r[o.lastSegment()]=Sc(a):i.push(o.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Zf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Zf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ds(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new dn(Sc(this.value))}}function GR(t){const e=[];return Ds(t.fields,(n,r)=>{const i=new Vt([n]);if(Zf(r)){const s=GR(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,n,r,i,s,a,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Kt(e,0,ae.min(),ae.min(),ae.min(),dn.empty(),0)}static newFoundDocument(e,n,r,i){return new Kt(e,1,n,ae.min(),r,i,0)}static newNoDocument(e,n){return new Kt(e,2,n,ae.min(),ae.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new Kt(e,3,n,ae.min(),ae.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,n){this.position=e,this.inclusive=n}}function wE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=Z.comparator(Z.fromName(a.referenceValue),n.key):r=rl(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function EE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Mr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n="asc"){this.field=e,this.dir=n}}function kj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $R=class{};class gt extends $R{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new jj(e,n,r):n==="array-contains"?new Bj(e,r):n==="in"?new Fj(e,r):n==="not-in"?new qj(e,r):n==="array-contains-any"?new Hj(e,r):new gt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Uj(e,r):new zj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(rl(n,this.value)):n!==null&&Rs(this.value)===Rs(n)&&this.matchesComparison(rl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cr extends $R{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new cr(e,n)}matches(e){return KR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function KR(t){return t.op==="and"}function QR(t){return Lj(t)&&KR(t)}function Lj(t){for(const e of t.filters)if(e instanceof cr)return!1;return!0}function Jg(t){if(t instanceof gt)return t.field.canonicalString()+t.op.toString()+il(t.value);if(QR(t))return t.filters.map(e=>Jg(e)).join(",");{const e=t.filters.map(n=>Jg(n)).join(",");return`${t.op}(${e})`}}function YR(t,e){return t instanceof gt?function(r,i){return i instanceof gt&&r.op===i.op&&r.field.isEqual(i.field)&&Mr(r.value,i.value)}(t,e):t instanceof cr?function(r,i){return i instanceof cr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,o)=>s&&YR(a,i.filters[o]),!0):!1}(t,e):void te(19439)}function XR(t){return t instanceof gt?function(n){return`${n.field.canonicalString()} ${n.op} ${il(n.value)}`}(t):t instanceof cr?function(n){return n.op.toString()+" {"+n.getFilters().map(XR).join(" ,")+"}"}(t):"Filter"}class jj extends gt{constructor(e,n,r){super(e,n,r),this.key=Z.fromName(r.referenceValue)}matches(e){const n=Z.comparator(e.key,this.key);return this.matchesComparison(n)}}class Uj extends gt{constructor(e,n){super(e,"in",n),this.keys=WR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class zj extends gt{constructor(e,n){super(e,"not-in",n),this.keys=WR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function WR(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Z.fromName(r.referenceValue))}class Bj extends gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return t_(n)&&Zc(n.arrayValue,this.value)}}class Fj extends gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zc(this.value.arrayValue,n)}}class qj extends gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Zc(this.value.arrayValue,n)}}class Hj extends gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!t_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Zc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e,n=null,r=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.Te=null}}function TE(t,e=null,n=[],r=[],i=null,s=null,a=null){return new Gj(t,e,n,r,i,s,a)}function n_(t){const e=oe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Jg(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Gd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>il(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>il(r)).join(",")),e.Te=n}return e.Te}function r_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!kj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!YR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!EE(t.startAt,e.startAt)&&EE(t.endAt,e.endAt)}function ey(t){return Z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n=null,r=[],i=[],s=null,a="F",o=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function $j(t,e,n,r,i,s,a,o){return new xl(t,e,n,r,i,s,a,o)}function i_(t){return new xl(t)}function SE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ZR(t){return t.collectionGroup!==null}function Ac(t){const e=oe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new Et(Vt.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Jc(s,r))}),n.has(Vt.keyField().canonicalString())||e.Ie.push(new Jc(Vt.keyField(),r))}return e.Ie}function Cr(t){const e=oe(t);return e.Ee||(e.Ee=Kj(e,Ac(t))),e.Ee}function Kj(t,e){if(t.limitType==="F")return TE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Jc(i.field,s)});const n=t.endAt?new rd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new rd(t.startAt.position,t.startAt.inclusive):null;return TE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ty(t,e){const n=t.filters.concat([e]);return new xl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ny(t,e,n){return new xl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Kd(t,e){return r_(Cr(t),Cr(e))&&t.limitType===e.limitType}function JR(t){return`${n_(Cr(t))}|lt:${t.limitType}`}function Xa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>XR(i)).join(", ")}]`),Gd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>il(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>il(i)).join(",")),`Target(${r})`}(Cr(t))}; limitType=${t.limitType})`}function Qd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Z.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Ac(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,o,c){const u=wE(a,o,c);return a.inclusive?u<=0:u<0}(r.startAt,Ac(r),i)||r.endAt&&!function(a,o,c){const u=wE(a,o,c);return a.inclusive?u>=0:u>0}(r.endAt,Ac(r),i))}(t,e)}function Qj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function eC(t){return(e,n)=>{let r=!1;for(const i of Ac(t)){const s=Yj(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Yj(t,e,n){const r=t.field.isKeyField()?Z.comparator(e.key,n.key):function(s,a,o){const c=a.data.field(s),u=o.data.field(s);return c!==null&&u!==null?rl(c,u):te(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return te(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ds(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return LR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj=new rt(Z.comparator);function yi(){return Xj}const tC=new rt(Z.comparator);function rc(...t){let e=tC;for(const n of t)e=e.insert(n.key,n);return e}function nC(t){let e=tC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ys(){return xc()}function rC(){return xc()}function xc(){return new Ia(t=>t.toString(),(t,e)=>t.isEqual(e))}const Wj=new rt(Z.comparator),Zj=new Et(Z.comparator);function we(...t){let e=Zj;for(const n of t)e=e.add(n);return e}const Jj=new Et(be);function eU(){return Jj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ed(e)?"-0":e}}function iC(t){return{integerValue:""+t}}function tU(t,e){return Cj(e)?iC(e):s_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(){this._=void 0}}function nU(t,e,n){return t instanceof eu?function(i,s){const a={fields:{[zR]:{stringValue:UR},[FR]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&e_(s)&&(s=$d(s)),s&&(a.fields[BR]=s),{mapValue:a}}(n,e):t instanceof tu?aC(t,e):t instanceof nu?oC(t,e):function(i,s){const a=sC(i,s),o=AE(a)+AE(i.Ae);return Zg(a)&&Zg(i.Ae)?iC(o):s_(i.serializer,o)}(t,e)}function rU(t,e,n){return t instanceof tu?aC(t,e):t instanceof nu?oC(t,e):n}function sC(t,e){return t instanceof id?function(r){return Zg(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class eu extends Yd{}class tu extends Yd{constructor(e){super(),this.elements=e}}function aC(t,e){const n=lC(e);for(const r of t.elements)n.some(i=>Mr(i,r))||n.push(r);return{arrayValue:{values:n}}}class nu extends Yd{constructor(e){super(),this.elements=e}}function oC(t,e){let n=lC(e);for(const r of t.elements)n=n.filter(i=>!Mr(i,r));return{arrayValue:{values:n}}}class id extends Yd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function AE(t){return ft(t.integerValue||t.doubleValue)}function lC(t){return t_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e,n){this.field=e,this.transform=n}}function sU(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof tu&&i instanceof tu||r instanceof nu&&i instanceof nu?nl(r.elements,i.elements,Mr):r instanceof id&&i instanceof id?Mr(r.Ae,i.Ae):r instanceof eu&&i instanceof eu}(t.transform,e.transform)}class aU{constructor(e,n){this.version=e,this.transformResults=n}}class ar{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ar}static exists(e){return new ar(void 0,e)}static updateTime(e){return new ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Xd{}function cC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new a_(t.key,ar.none()):new Ou(t.key,t.data,ar.none());{const n=t.data,r=dn.empty();let i=new Et(Vt.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Ms(t.key,r,new Cn(i.toArray()),ar.none())}}function oU(t,e,n){t instanceof Ou?function(i,s,a){const o=i.value.clone(),c=RE(i.fieldTransforms,s,a.transformResults);o.setAll(c),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Ms?function(i,s,a){if(!Jf(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=RE(i.fieldTransforms,s,a.transformResults),c=s.data;c.setAll(uC(i)),c.setAll(o),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Rc(t,e,n,r){return t instanceof Ou?function(s,a,o,c){if(!Jf(s.precondition,a))return o;const u=s.value.clone(),f=CE(s.fieldTransforms,c,a);return u.setAll(f),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ms?function(s,a,o,c){if(!Jf(s.precondition,a))return o;const u=CE(s.fieldTransforms,c,a),f=a.data;return f.setAll(uC(s)),f.setAll(u),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,a,o){return Jf(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,n)}function lU(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=sC(r.transform,i||null);s!=null&&(n===null&&(n=dn.empty()),n.set(r.field,s))}return n||null}function xE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&nl(r,i,(s,a)=>sU(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ou extends Xd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ms extends Xd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function uC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function RE(t,e,n){const r=new Map;Me(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);r.set(s.field,rU(a,o,n[i]))}return r}function CE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,nU(s,a,e))}return r}class a_ extends Xd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cU extends Xd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&oU(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Rc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Rc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=rC();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=n.has(i.key)?null:o;const c=cC(a,o);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),we())}isEqual(e){return this.batchId===e.batchId&&nl(this.mutations,e.mutations,(n,r)=>xE(n,r))&&nl(this.baseMutations,e.baseMutations,(n,r)=>xE(n,r))}}class o_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Me(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return Wj}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new o_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt,Te;function dU(t){switch(t){case z.OK:return te(64938);case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return te(15467,{code:t})}}function fC(t){if(t===void 0)return gi("GRPC error has no .code"),z.UNKNOWN;switch(t){case mt.OK:return z.OK;case mt.CANCELLED:return z.CANCELLED;case mt.UNKNOWN:return z.UNKNOWN;case mt.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case mt.INTERNAL:return z.INTERNAL;case mt.UNAVAILABLE:return z.UNAVAILABLE;case mt.UNAUTHENTICATED:return z.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case mt.NOT_FOUND:return z.NOT_FOUND;case mt.ALREADY_EXISTS:return z.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return z.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case mt.ABORTED:return z.ABORTED;case mt.OUT_OF_RANGE:return z.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return z.UNIMPLEMENTED;case mt.DATA_LOSS:return z.DATA_LOSS;default:return te(39323,{code:t})}}(Te=mt||(mt={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pU=new ps([4294967295,4294967295],0);function IE(t){const e=mU().encode(t),n=new xR;return n.update(e),new Uint8Array(n.digest())}function NE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ps([n,r],0),new ps([i,s],0)]}class l_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ic(`Invalid padding: ${n}`);if(r<0)throw new ic(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ic(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ic(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ps.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(ps.fromNumber(r)));return i.compare(pU)===1&&(i=new ps([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=IE(e),[r,i]=NE(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new l_(s,i,n);return r.forEach(o=>a.insert(o)),a}insert(e){if(this.ge===0)return;const n=IE(e),[r,i]=NE(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ic extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Du.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Wd(ae.min(),i,new rt(be),yi(),we())}}class Du{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Du(r,n,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class hC{constructor(e,n){this.targetId=e,this.Ce=n}}class dC{constructor(e,n,r=jt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class OE{constructor(){this.ve=0,this.Fe=DE(),this.Me=jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=we(),n=we(),r=we();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:te(38017,{changeType:s})}}),new Du(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=DE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Me(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class gU{constructor(e){this.Ge=e,this.ze=new Map,this.je=yi(),this.Je=Af(),this.He=Af(),this.Ye=new rt(be)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:te(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(ey(s))if(r===0){const a=new Z(s.path);this.et(n,a,Kt.newNoDocument(a,ae.min()))}else Me(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const o=this.ut(e),c=o?this.ct(o,e,a):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,o;try{a=xs(r).toUint8Array()}catch(c){if(c instanceof jR)return tl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{o=new l_(a,i,s)}catch(c){return tl(c instanceof ic?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Ge.ht(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,a)=>{const o=this.ot(a);if(o){if(s.current&&ey(o.target)){const c=new Z(o.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,Kt.newNoDocument(c,e))}s.Be&&(n.set(a,s.ke()),s.qe())}});let r=we();this.He.forEach((s,a)=>{let o=!0;a.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(s))}),this.je.forEach((s,a)=>a.setReadTime(e));const i=new Wd(e,n,this.Ye,this.je,r);return this.je=yi(),this.Je=Af(),this.He=Af(),this.Ye=new rt(be),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new OE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Et(be),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Et(be),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new OE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Af(){return new rt(Z.comparator)}function DE(){return new rt(Z.comparator)}const yU={asc:"ASCENDING",desc:"DESCENDING"},vU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_U={and:"AND",or:"OR"};class bU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ry(t,e){return t.useProto3Json||Gd(e)?e:{value:e}}function sd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function wU(t,e){return sd(t,e.toTimestamp())}function Ir(t){return Me(!!t,49232),ae.fromTimestamp(function(n){const r=As(n);return new Qe(r.seconds,r.nanos)}(t))}function c_(t,e){return iy(t,e).canonicalString()}function iy(t,e){const n=function(i){return new He(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function pC(t){const e=He.fromString(t);return Me(bC(e),10190,{key:e.toString()}),e}function sy(t,e){return c_(t.databaseId,e.path)}function bp(t,e){const n=pC(e);if(n.get(1)!==t.databaseId.projectId)throw new Y(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Z(yC(n))}function gC(t,e){return c_(t.databaseId,e)}function EU(t){const e=pC(t);return e.length===4?He.emptyPath():yC(e)}function ay(t){return new He(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yC(t){return Me(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ME(t,e,n){return{name:sy(t,e),fields:n.value.mapValue.fields}}function TU(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:te(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,f){return u.useProto3Json?(Me(f===void 0||typeof f=="string",58123),jt.fromBase64String(f||"")):(Me(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),jt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(u){const f=u.code===void 0?z.UNKNOWN:fC(u.code);return new Y(f,u.message||"")}(a);n=new dC(r,i,s,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=bp(t,r.document.name),s=Ir(r.document.updateTime),a=r.document.createTime?Ir(r.document.createTime):ae.min(),o=new dn({mapValue:{fields:r.document.fields}}),c=Kt.newFoundDocument(i,s,a,o),u=r.targetIds||[],f=r.removedTargetIds||[];n=new eh(u,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=bp(t,r.document),s=r.readTime?Ir(r.readTime):ae.min(),a=Kt.newNoDocument(i,s),o=r.removedTargetIds||[];n=new eh([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=bp(t,r.document),s=r.removedTargetIds||[];n=new eh([],s,i,null)}else{if(!("filter"in e))return te(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new hU(i,s),o=r.targetId;n=new hC(o,a)}}return n}function SU(t,e){let n;if(e instanceof Ou)n={update:ME(t,e.key,e.value)};else if(e instanceof a_)n={delete:sy(t,e.key)};else if(e instanceof Ms)n={update:ME(t,e.key,e.data),updateMask:MU(e.fieldMask)};else{if(!(e instanceof cU))return te(16599,{Vt:e.type});n={verify:sy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const o=a.transform;if(o instanceof eu)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof tu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof nu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof id)return{fieldPath:a.field.canonicalString(),increment:o.Ae};throw te(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:wU(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:te(27497)}(t,e.precondition)),n}function AU(t,e){return t&&t.length>0?(Me(e!==void 0,14353),t.map(n=>function(i,s){let a=i.updateTime?Ir(i.updateTime):Ir(s);return a.isEqual(ae.min())&&(a=Ir(s)),new aU(a,i.transformResults||[])}(n,e))):[]}function xU(t,e){return{documents:[gC(t,e.path)]}}function RU(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=gC(t,i);const s=function(u){if(u.length!==0)return _C(cr.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(u){if(u.length!==0)return u.map(f=>function(p){return{field:Wa(p.field),direction:NU(p.dir)}}(f))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=ry(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function CU(t){let e=EU(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Me(r===1,65062);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(d){const p=vC(d);return p instanceof cr&&QR(p)?p.getFilters():[p]}(n.where));let a=[];n.orderBy&&(a=function(d){return d.map(p=>function(S){return new Jc(Za(S.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(p))}(n.orderBy));let o=null;n.limit&&(o=function(d){let p;return p=typeof d=="object"?d.value:d,Gd(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(d){const p=!!d.before,h=d.values||[];return new rd(h,p)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const p=!d.before,h=d.values||[];return new rd(h,p)}(n.endAt)),$j(e,i,a,s,o,"F",c,u)}function IU(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return te(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function vC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Za(n.unaryFilter.field);return gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Za(n.unaryFilter.field);return gt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Za(n.unaryFilter.field);return gt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Za(n.unaryFilter.field);return gt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return te(61313);default:return te(60726)}}(t):t.fieldFilter!==void 0?function(n){return gt.create(Za(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return te(58110);default:return te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return cr.create(n.compositeFilter.filters.map(r=>vC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return te(1026)}}(n.compositeFilter.op))}(t):te(30097,{filter:t})}function NU(t){return yU[t]}function OU(t){return vU[t]}function DU(t){return _U[t]}function Wa(t){return{fieldPath:t.canonicalString()}}function Za(t){return Vt.fromServerFormat(t.fieldPath)}function _C(t){return t instanceof gt?function(n){if(n.op==="=="){if(bE(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NAN"}};if(_E(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(bE(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NAN"}};if(_E(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wa(n.field),op:OU(n.op),value:n.value}}}(t):t instanceof cr?function(n){const r=n.getFilters().map(i=>_C(i));return r.length===1?r[0]:{compositeFilter:{op:DU(n.op),filters:r}}}(t):te(54877,{filter:t})}function MU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function bC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n,r,i,s=ae.min(),a=ae.min(),o=jt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=c}withSequenceNumber(e){return new rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e){this.yt=e}}function VU(t){const e=CU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ny(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(){this.Cn=new LU}addToCollectionParentIndex(e,n){return this.Cn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Ss.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Ss.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class LU{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Et(He.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Et(He.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wC=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(wC,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new sl(0)}static cr(){return new sl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="LruGarbageCollector",jU=1048576;function kE([t,e],[n,r]){const i=be(t,n);return i===0?be(e,r):i}class UU{constructor(e){this.Ir=e,this.buffer=new Et(kE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();kE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class zU{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){X(VE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Al(n)?X(VE,"Ignoring IndexedDB error during garbage collection: ",n):await Sl(n)}await this.Vr(3e5)})}}class BU{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(Hd.ce);const r=new UU(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(PE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),PE):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,a,o,c,u;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),i=this.params.maximumSequenceNumbersToCollect):i=d,a=Date.now(),this.nthSequenceNumber(e,i))).next(d=>(r=d,o=Date.now(),this.removeTargets(e,r,n))).next(d=>(s=d,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(d=>(u=Date.now(),Ya()<=_e.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(c-o)+`ms
	Removed ${d} documents in `+(u-c)+`ms
Total Duration: ${u-f}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:d})))}}function FU(t,e){return new BU(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(){this.changes=new Ia(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Kt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Rc(r.mutation,i,Cn.empty(),Qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,n,r=we()){const i=Ys();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=rc();return s.forEach((o,c)=>{a=a.insert(o,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Ys();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,we()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{n.set(a,o)})})}computeViews(e,n,r,i){let s=yi();const a=xc(),o=function(){return xc()}();return n.forEach((c,u)=>{const f=r.get(u.key);i.has(u.key)&&(f===void 0||f.mutation instanceof Ms)?s=s.insert(u.key,u):f!==void 0?(a.set(u.key,f.mutation.getFieldMask()),Rc(f.mutation,u,f.mutation.getFieldMask(),Qe.now())):a.set(u.key,Cn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,f)=>a.set(u,f)),n.forEach((u,f)=>o.set(u,new HU(f,a.get(u)??null))),o))}recalculateAndSaveOverlays(e,n){const r=xc();let i=new rt((a,o)=>a-o),s=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const o of a)o.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let f=r.get(c)||Cn.empty();f=o.applyToLocalView(u,f),r.set(c,f);const d=(i.get(o.batchId)||we()).add(c);i=i.insert(o.batchId,d)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const c=o.getNext(),u=c.key,f=c.value,d=rC();f.forEach(p=>{if(!s.has(p)){const h=cC(n.get(p),r.get(p));h!==null&&d.set(p,h),s=s.add(p)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,d))}return B.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return Z.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ZR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):B.resolve(Ys());let o=Yc,c=s;return a.next(u=>B.forEach(u,(f,d)=>(o<d.largestBatchId&&(o=d.largestBatchId),s.get(f)?B.resolve():this.remoteDocumentCache.getEntry(e,f).next(p=>{c=c.insert(f,p)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,we())).next(f=>({batchId:o,changes:nC(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Z(n)).next(r=>{let i=rc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=rc();return this.indexManager.getCollectionParents(e,s).next(o=>B.forEach(o,c=>{const u=function(d,p){return new xl(p,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(f=>{f.forEach((d,p)=>{a=a.insert(d,p)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((c,u)=>{const f=u.getKey();a.get(f)===null&&(a=a.insert(f,Kt.newInvalidDocument(f)))});let o=rc();return a.forEach((c,u)=>{const f=s.get(c);f!==void 0&&Rc(f.mutation,u,Cn.empty(),Qe.now()),Qd(n,u)&&(o=o.insert(c,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return B.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ir(i.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:VU(i.bundledQuery),readTime:Ir(i.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(){this.overlays=new rt(Z.comparator),this.qr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ys();return B.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const i=Ys(),s=n.length+1,a=new Z(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const c=o.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return B.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new rt((u,f)=>u-f);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let f=s.get(u.largestBatchId);f===null&&(f=Ys(),s=s.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const o=Ys(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,f)=>o.set(u,f)),!(o.size()>=i)););return B.resolve(o)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new fU(n,r));let s=this.qr.get(n);s===void 0&&(s=we(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(){this.Qr=new Et(St.$r),this.Ur=new Et(St.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new St(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new St(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Z(new He([])),r=new St(n,e),i=new St(n,e+1),s=[];return this.Ur.forEachInRange([r,i],a=>{this.Gr(a),s.push(a.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Z(new He([])),r=new St(n,e),i=new St(n,e+1);let s=we();return this.Ur.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new St(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class St{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Z.comparator(e.key,n.key)||be(e.Yr,n.Yr)}static Kr(e,n){return be(e.Yr,n.Yr)||Z.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Et(St.$r)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new uU(s,n,r,i);this.mutationQueue.push(a);for(const o of i)this.Zr=this.Zr.add(new St(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return B.resolve(a)}lookupMutationBatch(e,n){return B.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return B.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?Jv:this.tr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new St(n,0),i=new St(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],a=>{const o=this.Xr(a.Yr);s.push(o)}),B.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Et(be);return n.forEach(i=>{const s=new St(i,0),a=new St(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],o=>{r=r.add(o.Yr)})}),B.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Z.isDocumentKey(s)||(s=s.child(""));const a=new St(new Z(s),0);let o=new Et(be);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(o=o.add(c.Yr)),!0)},a),B.resolve(this.ti(o))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Me(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return B.forEach(n.mutations,i=>{const s=new St(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new St(n,0),i=this.Zr.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(e){this.ri=e,this.docs=function(){return new rt(Z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Kt.newInvalidDocument(n))}getEntries(e,n){let r=yi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Kt.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=yi();const a=n.path,o=new Z(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(o);for(;c.hasNext();){const{key:u,value:{document:f}}=c.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||Sj(Tj(f),r)<=0||(i.has(f.key)||Qd(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return B.resolve(s)}getAllFromCollectionGroup(e,n,r,i){te(9500)}ii(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new WU(this)}getSize(e){return B.resolve(this.size)}}class WU extends qU{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(e){this.persistence=e,this.si=new Ia(n=>n_(n),r_),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.oi=0,this._i=new u_,this.targetCount=0,this.ai=sl.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),B.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new sl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Pr(n),B.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),B.waitFor(s).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),B.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,n){this.ui={},this.overlays={},this.ci=new Hd(0),this.li=!1,this.li=!0,this.hi=new QU,this.referenceDelegate=e(this),this.Pi=new ZU(this),this.indexManager=new kU,this.remoteDocumentCache=function(i){return new XU(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new PU(n),this.Ii=new $U(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new KU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new YU(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const i=new JU(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return B.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class JU extends xj{constructor(e){super(),this.currentSequenceNumber=e}}class f_{constructor(e){this.persistence=e,this.Ri=new u_,this.Vi=null}static mi(e){return new f_(e)}get fi(){if(this.Vi)return this.Vi;throw te(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),B.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.fi,r=>{const i=Z.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,ae.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return B.or([()=>B.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ad{constructor(e,n){this.persistence=e,this.pi=new Ia(r=>Ij(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=FU(this,n)}static mi(e,n){return new ad(e,n)}Ei(){}di(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return B.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?B.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,a=>this.br(e,a,n).next(o=>{o||(r++,s.removeEntry(a,ae.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Wf(e.data.value)),n}br(e,n,r){return B.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return B.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=we(),i=we();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new h_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return q4()?8:Rj(Wt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new e5;return this.Ss(e,n,a).next(o=>{if(s.result=o,this.Vs)return this.bs(e,n,a,o.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Ya()<=_e.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",Xa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),B.resolve()):(Ya()<=_e.DEBUG&&X("QueryEngine","Query:",Xa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Ya()<=_e.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",Xa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cr(n))):B.resolve())}ys(e,n){if(SE(n))return B.resolve(null);let r=Cr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ny(n,null,"F"),r=Cr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=we(...s);return this.ps.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Ds(n,o);return this.Cs(n,u,a,c.readTime)?this.ys(e,ny(n,null,"F")):this.vs(e,u,n,c)}))})))}ws(e,n,r,i){return SE(n)||i.isEqual(ae.min())?B.resolve(null):this.ps.getDocuments(e,r).next(s=>{const a=this.Ds(n,s);return this.Cs(n,a,r,i)?B.resolve(null):(Ya()<=_e.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xa(n)),this.vs(e,a,n,Ej(i,Yc)).next(o=>o))})}Ds(e,n){let r=new Et(eC(e));return n.forEach((i,s)=>{Qd(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Ya()<=_e.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",Xa(n)),this.ps.getDocumentsMatchingQuery(e,n,Ss.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="LocalStore",n5=3e8;class r5{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new rt(be),this.xs=new Ia(s=>n_(s),r_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GU(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function i5(t,e,n,r){return new r5(t,e,n,r)}async function TC(t,e){const n=oe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],o=[];let c=we();for(const u of i){a.push(u.batchId);for(const f of u.mutations)c=c.add(f.key)}for(const u of s){o.push(u.batchId);for(const f of u.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Ls:u,removedBatchIds:a,addedBatchIds:o}))})})}function s5(t,e){const n=oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(o,c,u,f){const d=u.batch,p=d.keys();let h=B.resolve();return p.forEach(S=>{h=h.next(()=>f.getEntry(c,S)).next(v=>{const w=u.docVersions.get(S);Me(w!==null,48541),v.version.compareTo(w)<0&&(d.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),f.addEntry(v)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(c,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let c=we();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(c=c.add(o.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function SC(t){const e=oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function a5(t,e){const n=oe(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const o=[];e.targetChanges.forEach((f,d)=>{const p=i.get(d);if(!p)return;o.push(n.Pi.removeMatchingKeys(s,f.removedDocuments,d).next(()=>n.Pi.addMatchingKeys(s,f.addedDocuments,d)));let h=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?h=h.withResumeToken(jt.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):f.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(f.resumeToken,r)),i=i.insert(d,h),function(v,w,_){return v.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=n5?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,h,f)&&o.push(n.Pi.updateTargetData(s,h))});let c=yi(),u=we();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),o.push(o5(s,a,e.documentUpdates).next(f=>{c=f.ks,u=f.qs})),!r.isEqual(ae.min())){const f=n.Pi.getLastRemoteSnapshotVersion(s).next(d=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));o.push(f)}return B.waitFor(o).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.Ms=i,s))}function o5(t,e,n){let r=we(),i=we();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=yi();return n.forEach((o,c)=>{const u=s.get(o);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),c.isNoDocument()&&c.version.isEqual(ae.min())?(e.removeEntry(o,c.readTime),a=a.insert(o,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),a=a.insert(o,c)):X(d_,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",c.version)}),{ks:a,qs:i}})}function l5(t,e){const n=oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Jv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function c5(t,e){const n=oe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,B.resolve(i)):n.Pi.allocateTargetId(r).next(a=>(i=new rs(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function oy(t,e,n){const r=oe(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Al(a))throw a;X(d_,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function LE(t,e,n){const r=oe(t);let i=ae.min(),s=we();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,u,f){const d=oe(c),p=d.xs.get(f);return p!==void 0?B.resolve(d.Ms.get(p)):d.Pi.getTargetData(u,f)}(r,a,Cr(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,o.targetId).next(c=>{s=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(a,e,n?i:ae.min(),n?s:we())).next(o=>(u5(r,Qj(e),o),{documents:o,Qs:s})))}function u5(t,e,n){let r=t.Os.get(e)||ae.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class jE{constructor(){this.activeTargetIds=eU()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class f5{constructor(){this.Mo=new jE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new jE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="ConnectivityMonitor";class zE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){X(UE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){X(UE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xf=null;function ly(){return xf===null?xf=function(){return 268435456+Math.round(2147483648*Math.random())}():xf++,"0x"+xf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp="RestConnection",d5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class m5{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===td?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const a=ly(),o=this.zo(e,n.toUriEncodedString());X(wp,`Sending RPC '${e}' ${a}:`,o,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,s);const{host:u}=new URL(o),f=bl(u);return this.Jo(e,o,c,r,f).then(d=>(X(wp,`Received RPC '${e}' ${a}: `,d),d),d=>{throw tl(wp,`RPC '${e}' ${a} failed with error: `,d,"url: ",o,"request:",r),d})}Ho(e,n,r,i,s,a){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Tl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=d5[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht="WebChannelConnection";class g5 extends m5{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const a=ly();return new Promise((o,c)=>{const u=new RR;u.setWithCredentials(!0),u.listenOnce(CR.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Xf.NO_ERROR:const d=u.getResponseJson();X(Ht,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(d)),o(d);break;case Xf.TIMEOUT:X(Ht,`RPC '${e}' ${a} timed out`),c(new Y(z.DEADLINE_EXCEEDED,"Request time out"));break;case Xf.HTTP_ERROR:const p=u.getStatus();if(X(Ht,`RPC '${e}' ${a} failed with status:`,p,"response text:",u.getResponseText()),p>0){let h=u.getResponseJson();Array.isArray(h)&&(h=h[0]);const S=h==null?void 0:h.error;if(S&&S.status&&S.message){const v=function(_){const b=_.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(b)>=0?b:z.UNKNOWN}(S.status);c(new Y(v,S.message))}else c(new Y(z.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Y(z.UNAVAILABLE,"Connection failed."));break;default:te(9055,{l_:e,streamId:a,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{X(Ht,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(i);X(Ht,`RPC '${e}' ${a} sending request:`,i),u.send(n,"POST",f,r,15)})}T_(e,n,r){const i=ly(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=OR(),o=NR(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const f=s.join("");X(Ht,`Creating RPC '${e}' stream ${i}: ${f}`,c);const d=a.createWebChannel(f,c);this.I_(d);let p=!1,h=!1;const S=new p5({Yo:w=>{h?X(Ht,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(p||(X(Ht,`Opening RPC '${e}' stream ${i} transport.`),d.open(),p=!0),X(Ht,`RPC '${e}' stream ${i} sending:`,w),d.send(w))},Zo:()=>d.close()}),v=(w,_,b)=>{w.listen(_,E=>{try{b(E)}catch(N){setTimeout(()=>{throw N},0)}})};return v(d,nc.EventType.OPEN,()=>{h||(X(Ht,`RPC '${e}' stream ${i} transport opened.`),S.o_())}),v(d,nc.EventType.CLOSE,()=>{h||(h=!0,X(Ht,`RPC '${e}' stream ${i} transport closed`),S.a_(),this.E_(d))}),v(d,nc.EventType.ERROR,w=>{h||(h=!0,tl(Ht,`RPC '${e}' stream ${i} transport errored. Name:`,w.name,"Message:",w.message),S.a_(new Y(z.UNAVAILABLE,"The operation could not be completed")))}),v(d,nc.EventType.MESSAGE,w=>{var _;if(!h){const b=w.data[0];Me(!!b,16349);const E=b,N=(E==null?void 0:E.error)||((_=E[0])==null?void 0:_.error);if(N){X(Ht,`RPC '${e}' stream ${i} received error:`,N);const P=N.status;let k=function(R){const I=mt[R];if(I!==void 0)return fC(I)}(P),x=N.message;k===void 0&&(k=z.INTERNAL,x="Unknown error status: "+P+" with message "+N.message),h=!0,S.a_(new Y(k,x)),d.close()}else X(Ht,`RPC '${e}' stream ${i} received:`,b),S.u_(b)}}),v(o,IR.STAT_EVENT,w=>{w.stat===Yg.PROXY?X(Ht,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===Yg.NOPROXY&&X(Ht,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Ep(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(t){return new bU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="PersistentStream";class xC{constructor(e,n,r,i,s,a,o,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new AC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(gi(n.toString()),gi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new Y(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return X(BE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(X(BE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class y5 extends xC{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=TU(this.serializer,e),r=function(s){if(!("targetChange"in s))return ae.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?ae.min():a.readTime?Ir(a.readTime):ae.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=ay(this.serializer),n.addTarget=function(s,a){let o;const c=a.target;if(o=ey(c)?{documents:xU(s,c)}:{query:RU(s,c).ft},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=mC(s,a.resumeToken);const u=ry(s,a.expectedCount);u!==null&&(o.expectedCount=u)}else if(a.snapshotVersion.compareTo(ae.min())>0){o.readTime=sd(s,a.snapshotVersion.toTimestamp());const u=ry(s,a.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const r=IU(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=ay(this.serializer),n.removeTarget=e,this.q_(n)}}class v5 extends xC{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Me(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Me(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Me(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=AU(e.writeResults,e.commitTime),r=Ir(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=ay(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>SU(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _5{}class b5 extends _5{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Y(z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Go(e,iy(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y(z.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Ho(e,iy(n,r),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Y(z.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class w5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gi(n),this.aa=!1):X("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea="RemoteStore";class E5{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(a=>{r.enqueueAndForget(async()=>{Na(this)&&(X(Ea,"Restarting streams for network reachability change."),await async function(c){const u=oe(c);u.Ea.add(4),await Mu(u),u.Ra.set("Unknown"),u.Ea.delete(4),await Jd(u)}(this))})}),this.Ra=new w5(r,i)}}async function Jd(t){if(Na(t))for(const e of t.da)await e(!0)}async function Mu(t){for(const e of t.da)await e(!1)}function RC(t,e){const n=oe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),y_(n)?g_(n):Rl(n).O_()&&p_(n,e))}function m_(t,e){const n=oe(t),r=Rl(n);n.Ia.delete(e),r.O_()&&CC(n,e),n.Ia.size===0&&(r.O_()?r.L_():Na(n)&&n.Ra.set("Unknown"))}function p_(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Rl(t).Y_(e)}function CC(t,e){t.Va.Ue(e),Rl(t).Z_(e)}function g_(t){t.Va=new gU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Rl(t).start(),t.Ra.ua()}function y_(t){return Na(t)&&!Rl(t).x_()&&t.Ia.size>0}function Na(t){return oe(t).Ea.size===0}function IC(t){t.Va=void 0}async function T5(t){t.Ra.set("Online")}async function S5(t){t.Ia.forEach((e,n)=>{p_(t,e)})}async function A5(t,e){IC(t),y_(t)?(t.Ra.ha(e),g_(t)):t.Ra.set("Unknown")}async function x5(t,e,n){if(t.Ra.set("Online"),e instanceof dC&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.Ia.delete(o),i.Va.removeTarget(o))}(t,e)}catch(r){X(Ea,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await od(t,r)}else if(e instanceof eh?t.Va.Ze(e):e instanceof hC?t.Va.st(e):t.Va.tt(e),!n.isEqual(ae.min()))try{const r=await SC(t.localStore);n.compareTo(r)>=0&&await function(s,a){const o=s.Va.Tt(a);return o.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const f=s.Ia.get(u);f&&s.Ia.set(u,f.withResumeToken(c.resumeToken,a))}}),o.targetMismatches.forEach((c,u)=>{const f=s.Ia.get(c);if(!f)return;s.Ia.set(c,f.withResumeToken(jt.EMPTY_BYTE_STRING,f.snapshotVersion)),CC(s,c);const d=new rs(f.target,c,u,f.sequenceNumber);p_(s,d)}),s.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){X(Ea,"Failed to raise snapshot:",r),await od(t,r)}}async function od(t,e,n){if(!Al(e))throw e;t.Ea.add(1),await Mu(t),t.Ra.set("Offline"),n||(n=()=>SC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X(Ea,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Jd(t)})}function NC(t,e){return e().catch(n=>od(t,n,e))}async function em(t){const e=oe(t),n=Cs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Jv;for(;R5(e);)try{const i=await l5(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,C5(e,i)}catch(i){await od(e,i)}OC(e)&&DC(e)}function R5(t){return Na(t)&&t.Ta.length<10}function C5(t,e){t.Ta.push(e);const n=Cs(t);n.O_()&&n.X_&&n.ea(e.mutations)}function OC(t){return Na(t)&&!Cs(t).x_()&&t.Ta.length>0}function DC(t){Cs(t).start()}async function I5(t){Cs(t).ra()}async function N5(t){const e=Cs(t);for(const n of t.Ta)e.ea(n.mutations)}async function O5(t,e,n){const r=t.Ta.shift(),i=o_.from(r,e,n);await NC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await em(t)}async function D5(t,e){e&&Cs(t).X_&&await async function(r,i){if(function(a){return dU(a)&&a!==z.ABORTED}(i.code)){const s=r.Ta.shift();Cs(r).B_(),await NC(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await em(r)}}(t,e),OC(t)&&DC(t)}async function FE(t,e){const n=oe(t);n.asyncQueue.verifyOperationInProgress(),X(Ea,"RemoteStore received new credentials");const r=Na(n);n.Ea.add(3),await Mu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Jd(n)}async function M5(t,e){const n=oe(t);e?(n.Ea.delete(2),await Jd(n)):e||(n.Ea.add(2),await Mu(n),n.Ra.set("Unknown"))}function Rl(t){return t.ma||(t.ma=function(n,r,i){const s=oe(n);return s.sa(),new y5(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:T5.bind(null,t),t_:S5.bind(null,t),r_:A5.bind(null,t),H_:x5.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),y_(t)?g_(t):t.Ra.set("Unknown")):(await t.ma.stop(),IC(t))})),t.ma}function Cs(t){return t.fa||(t.fa=function(n,r,i){const s=oe(n);return s.sa(),new v5(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:I5.bind(null,t),r_:D5.bind(null,t),ta:N5.bind(null,t),na:O5.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await em(t)):(await t.fa.stop(),t.Ta.length>0&&(X(Ea,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new fa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,o=new v_(e,n,a,i,s);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function __(t,e){if(gi("AsyncQueue",`${e}: ${t}`),Al(t))return new Y(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{static emptySet(e){return new No(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Z.comparator(n.key,r.key):(n,r)=>Z.comparator(n.key,r.key),this.keyedMap=rc(),this.sortedSet=new rt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof No)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new No;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(){this.ga=new rt(Z.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):te(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class al{constructor(e,n,r,i,s,a,o,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new al(e,n,No.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class V5{constructor(){this.queries=HE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=oe(n),s=i.queries;i.queries=HE(),s.forEach((a,o)=>{for(const c of o.Sa)c.onError(r)})})(this,new Y(z.ABORTED,"Firestore shutting down"))}}function HE(){return new Ia(t=>JR(t),Kd)}async function k5(t,e){const n=oe(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new P5,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const o=__(a,`Initialization of query '${Xa(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&b_(n)}async function L5(t,e){const n=oe(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function j5(t,e){const n=oe(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const o of a.Sa)o.Fa(i)&&(r=!0);a.wa=i}}r&&b_(n)}function U5(t,e,n){const r=oe(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function b_(t){t.Ca.forEach(e=>{e.next()})}var cy,GE;(GE=cy||(cy={})).Ma="default",GE.Cache="cache";class z5{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new al(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==cy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e){this.key=e}}class PC{constructor(e){this.key=e}}class B5{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=we(),this.mutatedKeys=we(),this.eu=eC(e),this.tu=new No(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new qE,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,o=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,d)=>{const p=i.get(f),h=Qd(this.query,d)?d:null,S=!!p&&this.mutatedKeys.has(p.key),v=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let w=!1;p&&h?p.data.isEqual(h.data)?S!==v&&(r.track({type:3,doc:h}),w=!0):this.su(p,h)||(r.track({type:2,doc:h}),w=!0,(c&&this.eu(h,c)>0||u&&this.eu(h,u)<0)&&(o=!0)):!p&&h?(r.track({type:0,doc:h}),w=!0):p&&!h&&(r.track({type:1,doc:p}),w=!0,(c||u)&&(o=!0)),w&&(h?(a=a.add(h),s=v?s.add(f):s.delete(f)):(a=a.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{tu:a,iu:r,Cs:o,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((f,d)=>function(h,S){const v=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te(20277,{Rt:w})}};return v(h)-v(S)}(f.type,d.type)||this.eu(f.doc,d.doc)),this.ou(r),i=i??!1;const o=n&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,u=c!==this.Za;return this.Za=c,a.length!==0||u?{snapshot:new al(this.query,e.tu,s,a,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=we(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new PC(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new MC(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=we();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return al.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const w_="SyncEngine";class F5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class q5{constructor(e){this.key=e,this.hu=!1}}class H5{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Ia(o=>JR(o),Kd),this.Iu=new Map,this.Eu=new Set,this.du=new rt(Z.comparator),this.Au=new Map,this.Ru=new u_,this.Vu={},this.mu=new Map,this.fu=sl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function G5(t,e,n=!0){const r=zC(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await VC(r,e,n,!0),i}async function $5(t,e){const n=zC(t);await VC(n,e,!0,!1)}async function VC(t,e,n,r){const i=await c5(t.localStore,Cr(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await K5(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&RC(t.remoteStore,i),o}async function K5(t,e,n,r,i){t.pu=(d,p,h)=>async function(v,w,_,b){let E=w.view.ru(_);E.Cs&&(E=await LE(v.localStore,w.query,!1).then(({documents:x})=>w.view.ru(x,E)));const N=b&&b.targetChanges.get(w.targetId),P=b&&b.targetMismatches.get(w.targetId)!=null,k=w.view.applyChanges(E,v.isPrimaryClient,N,P);return KE(v,w.targetId,k.au),k.snapshot}(t,d,p,h);const s=await LE(t.localStore,e,!0),a=new B5(e,s.Qs),o=a.ru(s.documents),c=Du.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(o,t.isPrimaryClient,c);KE(t,n,u.au);const f=new F5(e,n,a);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function Q5(t,e,n){const r=oe(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(a=>!Kd(a,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await oy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&m_(r.remoteStore,i.targetId),uy(r,i.targetId)}).catch(Sl)):(uy(r,i.targetId),await oy(r.localStore,i.targetId,!0))}async function Y5(t,e){const n=oe(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),m_(n.remoteStore,r.targetId))}async function X5(t,e,n){const r=r9(t);try{const i=await function(a,o){const c=oe(a),u=Qe.now(),f=o.reduce((h,S)=>h.add(S.key),we());let d,p;return c.persistence.runTransaction("Locally write mutations","readwrite",h=>{let S=yi(),v=we();return c.Ns.getEntries(h,f).next(w=>{S=w,S.forEach((_,b)=>{b.isValidDocument()||(v=v.add(_))})}).next(()=>c.localDocuments.getOverlayedDocuments(h,S)).next(w=>{d=w;const _=[];for(const b of o){const E=lU(b,d.get(b.key).overlayedDocument);E!=null&&_.push(new Ms(b.key,E,GR(E.value.mapValue),ar.exists(!0)))}return c.mutationQueue.addMutationBatch(h,u,_,o)}).next(w=>{p=w;const _=w.applyToLocalDocumentSet(d,v);return c.documentOverlayCache.saveOverlays(h,w.batchId,_)})}).then(()=>({batchId:p.batchId,changes:nC(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,o,c){let u=a.Vu[a.currentUser.toKey()];u||(u=new rt(be)),u=u.insert(o,c),a.Vu[a.currentUser.toKey()]=u}(r,i.batchId,n),await Pu(r,i.changes),await em(r.remoteStore)}catch(i){const s=__(i,"Failed to persist write");n.reject(s)}}async function kC(t,e){const n=oe(t);try{const r=await a5(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Au.get(s);a&&(Me(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?Me(a.hu,14607):i.removedDocuments.size>0&&(Me(a.hu,42227),a.hu=!1))}),await Pu(n,r,e)}catch(r){await Sl(r)}}function $E(t,e,n){const r=oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,a)=>{const o=a.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const c=oe(a);c.onlineState=o;let u=!1;c.queries.forEach((f,d)=>{for(const p of d.Sa)p.va(o)&&(u=!0)}),u&&b_(c)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function W5(t,e,n){const r=oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let a=new rt(Z.comparator);a=a.insert(s,Kt.newNoDocument(s,ae.min()));const o=we().add(s),c=new Wd(ae.min(),new Map,new rt(be),a,o);await kC(r,c),r.du=r.du.remove(s),r.Au.delete(e),E_(r)}else await oy(r.localStore,e,!1).then(()=>uy(r,e,n)).catch(Sl)}async function Z5(t,e){const n=oe(t),r=e.batch.batchId;try{const i=await s5(n.localStore,e);jC(n,r,null),LC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Pu(n,i)}catch(i){await Sl(i)}}async function J5(t,e,n){const r=oe(t);try{const i=await function(a,o){const c=oe(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let f;return c.mutationQueue.lookupMutationBatch(u,o).next(d=>(Me(d!==null,37113),f=d.keys(),c.mutationQueue.removeMutationBatch(u,d))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,f,o)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f)).next(()=>c.localDocuments.getDocuments(u,f))})}(r.localStore,e);jC(r,e,n),LC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Pu(r,i)}catch(i){await Sl(i)}}function LC(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function jC(t,e,n){const r=oe(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function uy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||UC(t,r)})}function UC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(m_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),E_(t))}function KE(t,e,n){for(const r of n)r instanceof MC?(t.Ru.addReference(r.key,e),e9(t,r)):r instanceof PC?(X(w_,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||UC(t,r.key)):te(19791,{wu:r})}function e9(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(X(w_,"New document in limbo: "+n),t.Eu.add(r),E_(t))}function E_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Z(He.fromString(e)),r=t.fu.next();t.Au.set(r,new q5(n)),t.du=t.du.insert(n,r),RC(t.remoteStore,new rs(Cr(i_(n.path)),r,"TargetPurposeLimboResolution",Hd.ce))}}async function Pu(t,e,n){const r=oe(t),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((o,c)=>{a.push(r.pu(c,e,n).then(u=>{var f;if((u||n)&&r.isPrimaryClient){const d=u?!u.fromCache:(f=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:f.current;r.sharedClientState.updateQueryState(c.targetId,d?"current":"not-current")}if(u){i.push(u);const d=h_.As(c.targetId,u);s.push(d)}}))}),await Promise.all(a),r.Pu.H_(i),await async function(c,u){const f=oe(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>B.forEach(u,p=>B.forEach(p.Es,h=>f.persistence.referenceDelegate.addReference(d,p.targetId,h)).next(()=>B.forEach(p.ds,h=>f.persistence.referenceDelegate.removeReference(d,p.targetId,h)))))}catch(d){if(!Al(d))throw d;X(d_,"Failed to update sequence numbers: "+d)}for(const d of u){const p=d.targetId;if(!d.fromCache){const h=f.Ms.get(p),S=h.snapshotVersion,v=h.withLastLimboFreeSnapshotVersion(S);f.Ms=f.Ms.insert(p,v)}}}(r.localStore,s))}async function t9(t,e){const n=oe(t);if(!n.currentUser.isEqual(e)){X(w_,"User change. New user:",e.toKey());const r=await TC(n.localStore,e);n.currentUser=e,function(s,a){s.mu.forEach(o=>{o.forEach(c=>{c.reject(new Y(z.CANCELLED,a))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Pu(n,r.Ls)}}function n9(t,e){const n=oe(t),r=n.Au.get(e);if(r&&r.hu)return we().add(r.key);{let i=we();const s=n.Iu.get(e);if(!s)return i;for(const a of s){const o=n.Tu.get(a);i=i.unionWith(o.view.nu)}return i}}function zC(t){const e=oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=n9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=W5.bind(null,e),e.Pu.H_=j5.bind(null,e.eventManager),e.Pu.yu=U5.bind(null,e.eventManager),e}function r9(t){const e=oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Z5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=J5.bind(null,e),e}class ld{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return i5(this.persistence,new t5,e.initialUser,this.serializer)}Cu(e){return new EC(f_.mi,this.serializer)}Du(e){return new f5}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ld.provider={build:()=>new ld};class i9 extends ld{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Me(this.persistence.referenceDelegate instanceof ad,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new zU(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new EC(r=>ad.mi(r,n),this.serializer)}}class fy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>$E(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=t9.bind(null,this.syncEngine),await M5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new V5}()}createDatastore(e){const n=Zd(e.databaseInfo.databaseId),r=function(s){return new g5(s)}(e.databaseInfo);return function(s,a,o,c){return new b5(s,a,o,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,o){return new E5(r,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,n=>$E(this.syncEngine,n,0),function(){return zE.v()?new zE:new h5}())}createSyncEngine(e,n){return function(i,s,a,o,c,u,f){const d=new H5(i,s,a,o,c,u);return f&&(d.gu=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=oe(i);X(Ea,"RemoteStore shutting down."),s.Ea.add(5),await Mu(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}fy.provider={build:()=>new fy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):gi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="FirestoreClient";class a9{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=$t.UNAUTHENTICATED,this.clientId=Zv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{X(Is,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(X(Is,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=__(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Tp(t,e){t.asyncQueue.verifyOperationInProgress(),X(Is,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await TC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function QE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await o9(t);X(Is,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>FE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>FE(e.remoteStore,i)),t._onlineComponents=e}async function o9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X(Is,"Using user provided OfflineComponentProvider");try{await Tp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===z.FAILED_PRECONDITION||i.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;tl("Error using user provided cache. Falling back to memory cache: "+n),await Tp(t,new ld)}}else X(Is,"Using default OfflineComponentProvider"),await Tp(t,new i9(void 0));return t._offlineComponents}async function BC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X(Is,"Using user provided OnlineComponentProvider"),await QE(t,t._uninitializedComponentsProvider._online)):(X(Is,"Using default OnlineComponentProvider"),await QE(t,new fy))),t._onlineComponents}function l9(t){return BC(t).then(e=>e.syncEngine)}async function YE(t){const e=await BC(t),n=e.eventManager;return n.onListen=G5.bind(null,e.syncEngine),n.onUnlisten=Q5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=$5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Y5.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC="firestore.googleapis.com",WE=!0;class ZE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Y(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qC,this.ssl=WE}else this.host=e.host,this.ssl=e.ssl??WE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<jU)throw new Y(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FC(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Y(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Y(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Y(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new fj;switch(r.type){case"firstParty":return new pj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=XE.get(n);r&&(X("ComponentProvider","Removing Datastore"),XE.delete(n),r.terminate())}(this),Promise.resolve()}}function c9(t,e,n,r={}){var u;t=gs(t,tm);const i=bl(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;i&&(Fx(`https://${o}`),qx("Firestore",!0)),s.host!==qC&&s.host!==o&&tl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...s,host:o,ssl:i,emulatorOptions:r};if(!va(c,a)&&(t._setSettings(c),r.mockUserToken)){let f,d;if(typeof r.mockUserToken=="string")f=r.mockUserToken,d=$t.MOCK_USER;else{f=P4(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Y(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new $t(p)}t._authCredentials=new hj(new MR(f,d))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Oa(this.firestore,e,this._query)}}class vt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vt(this.firestore,e,this._key)}toJSON(){return{type:vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Nu(n,vt._jsonSchema))return new vt(e,r||null,new Z(He.fromString(n.referencePath)))}}vt._jsonSchemaVersion="firestore/documentReference/1.0",vt._jsonSchema={type:yt("string",vt._jsonSchemaVersion),referencePath:yt("string")};class ys extends Oa{constructor(e,n,r){super(e,n,i_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vt(this.firestore,null,new Z(e))}withConverter(e){return new ys(this.firestore,e,this._path)}}function th(t,e,...n){if(t=Lt(t),PR("collection","path",e),t instanceof tm){const r=He.fromString(e,...n);return uE(r),new ys(t,null,r)}{if(!(t instanceof vt||t instanceof ys))throw new Y(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return uE(r),new ys(t.firestore,null,r)}}function Qs(t,e,...n){if(t=Lt(t),arguments.length===1&&(e=Zv.newId()),PR("doc","path",e),t instanceof tm){const r=He.fromString(e,...n);return cE(r),new vt(t,null,new Z(r))}{if(!(t instanceof vt||t instanceof ys))throw new Y(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return cE(r),new vt(t.firestore,t instanceof ys?t.converter:null,new Z(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="AsyncQueue";class eT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new AC(this,"async_queue_retry"),this._c=()=>{const r=Ep();r&&X(JE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Ep();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Ep();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new fa;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Al(e))throw e;X(JE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,gi("INTERNAL UNHANDLED ERROR: ",tT(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=v_.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&te(47125,{Pc:tT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function tT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class ol extends tm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new eT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new eT(e),this._firestoreClient=void 0,await e}}}function u9(t,e){const n=typeof t=="object"?t:$x(),r=typeof t=="string"?t:td,i=Bv(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=D4("firestore");s&&c9(i,...s)}return i}function HC(t){if(t._terminated)throw new Y(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||f9(t),t._firestoreClient}function f9(t){var r,i,s;const e=t._freezeSettings(),n=function(o,c,u,f){return new Dj(o,c,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,FC(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new a9(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(o){const c=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hn(jt.fromBase64String(e))}catch(n){throw new Y(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hn(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Nu(e,Hn._jsonSchema))return Hn.fromBase64String(e.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:yt("string",Hn._jsonSchemaVersion),bytes:yt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Nr._jsonSchemaVersion}}static fromJSON(e){if(Nu(e,Nr._jsonSchema))return new Nr(e.latitude,e.longitude)}}Nr._jsonSchemaVersion="firestore/geoPoint/1.0",Nr._jsonSchema={type:yt("string",Nr._jsonSchemaVersion),latitude:yt("number"),longitude:yt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Or._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Nu(e,Or._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Or(e.vectorValues);throw new Y(z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Or._jsonSchemaVersion="firestore/vectorValue/1.0",Or._jsonSchema={type:yt("string",Or._jsonSchemaVersion),vectorValues:yt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9=/^__.*__$/;class d9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ms(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ou(e,this.data,n,this.fieldTransforms)}}class GC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ms(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $C(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te(40011,{Ac:t})}}class T_{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new T_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return cd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if($C(this.Ac)&&h9.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class m9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Zd(e)}Cc(e,n,r,i=!1){return new T_({Ac:e,methodName:n,Dc:r,path:Vt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function S_(t){const e=t._freezeSettings(),n=Zd(t._databaseId);return new m9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function p9(t,e,n,r,i,s={}){const a=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);x_("Data must be an object, but it was:",a,r);const o=KC(r,a);let c,u;if(s.merge)c=new Cn(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const f=[];for(const d of s.mergeFields){const p=hy(e,d,n);if(!a.contains(p))throw new Y(z.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);YC(f,p)||f.push(p)}c=new Cn(f),u=a.fieldTransforms.filter(d=>c.covers(d.field))}else c=null,u=a.fieldTransforms;return new d9(new dn(o),c,u)}class im extends rm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof im}}class A_ extends rm{_toFieldTransform(e){return new iU(e.path,new eu)}isEqual(e){return e instanceof A_}}function g9(t,e,n,r){const i=t.Cc(1,e,n);x_("Data must be an object, but it was:",i,r);const s=[],a=dn.empty();Ds(r,(c,u)=>{const f=R_(e,c,n);u=Lt(u);const d=i.yc(f);if(u instanceof im)s.push(f);else{const p=Vu(u,d);p!=null&&(s.push(f),a.set(f,p))}});const o=new Cn(s);return new GC(a,o,i.fieldTransforms)}function y9(t,e,n,r,i,s){const a=t.Cc(1,e,n),o=[hy(e,r,n)],c=[i];if(s.length%2!=0)throw new Y(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)o.push(hy(e,s[p])),c.push(s[p+1]);const u=[],f=dn.empty();for(let p=o.length-1;p>=0;--p)if(!YC(u,o[p])){const h=o[p];let S=c[p];S=Lt(S);const v=a.yc(h);if(S instanceof im)u.push(h);else{const w=Vu(S,v);w!=null&&(u.push(h),f.set(h,w))}}const d=new Cn(u);return new GC(f,d,a.fieldTransforms)}function v9(t,e,n,r=!1){return Vu(n,t.Cc(r?4:3,e))}function Vu(t,e){if(QC(t=Lt(t)))return x_("Unsupported field value:",e,t),KC(t,e);if(t instanceof rm)return function(r,i){if(!$C(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const o of r){let c=Vu(o,i.wc(a));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return tU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Qe.fromDate(r);return{timestampValue:sd(i.serializer,s)}}if(r instanceof Qe){const s=new Qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sd(i.serializer,s)}}if(r instanceof Nr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hn)return{bytesValue:mC(i.serializer,r._byteString)};if(r instanceof vt){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:c_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Or)return function(a,o){return{mapValue:{fields:{[qR]:{stringValue:HR},[nd]:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw o.Sc("VectorValues must only contain numeric values.");return s_(o.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${qd(r)}`)}(t,e)}function KC(t,e){const n={};return LR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ds(t,(r,i)=>{const s=Vu(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function QC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qe||t instanceof Nr||t instanceof Hn||t instanceof vt||t instanceof rm||t instanceof Or)}function x_(t,e,n){if(!QC(n)||!VR(n)){const r=qd(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function hy(t,e,n){if((e=Lt(e))instanceof nm)return e._internalPath;if(typeof e=="string")return R_(t,e);throw cd("Field path arguments must be of type string or ",t,!1,void 0,n)}const _9=new RegExp("[~\\*/\\[\\]]");function R_(t,e,n){if(e.search(_9)>=0)throw cd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new nm(...e.split("."))._internalPath}catch{throw cd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function cd(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new Y(z.INVALID_ARGUMENT,o+t+c)}function YC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new b9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(C_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class b9 extends XC{data(){return super.data()}}function C_(t,e){return typeof e=="string"?R_(t,e):e instanceof nm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class I_{}class WC extends I_{}function dy(t,e,...n){let r=[];e instanceof I_&&r.push(e),r=r.concat(n),function(s){const a=s.filter(c=>c instanceof O_).length,o=s.filter(c=>c instanceof N_).length;if(a>1||a>0&&o>0)throw new Y(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class N_ extends WC{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new N_(e,n,r)}_apply(e){const n=this._parse(e);return ZC(e._query,n),new Oa(e.firestore,e.converter,ty(e._query,n))}_parse(e){const n=S_(e.firestore);return function(s,a,o,c,u,f,d){let p;if(u.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new Y(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){sT(d,f);const S=[];for(const v of d)S.push(iT(c,s,v));p={arrayValue:{values:S}}}else p=iT(c,s,d)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||sT(d,f),p=v9(o,a,d,f==="in"||f==="not-in");return gt.create(u,f,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class O_ extends I_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new O_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:cr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let a=i;const o=s.getFlattenedFilters();for(const c of o)ZC(a,c),a=ty(a,c)}(e._query,n),new Oa(e.firestore,e.converter,ty(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class D_ extends WC{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new D_(e,n)}_apply(e){const n=function(i,s,a){if(i.startAt!==null)throw new Y(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Y(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Jc(s,a)}(e._query,this._field,this._direction);return new Oa(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new xl(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function rT(t,e="asc"){const n=e,r=C_("orderBy",t);return D_._create(r,n)}function iT(t,e,n){if(typeof(n=Lt(n))=="string"){if(n==="")throw new Y(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZR(e)&&n.indexOf("/")!==-1)throw new Y(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(He.fromString(n));if(!Z.isDocumentKey(r))throw new Y(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return vE(t,new Z(r))}if(n instanceof vt)return vE(t,n._key);throw new Y(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qd(n)}.`)}function sT(t,e){if(!Array.isArray(t)||t.length===0)throw new Y(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZC(t,e){const n=function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Y(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Y(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class E9{convertValue(e,n="none"){switch(Rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ds(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[nd].arrayValue)==null?void 0:i.values)==null?void 0:s.map(a=>ft(a.doubleValue));return new Or(n)}convertGeoPoint(e){return new Nr(ft(e.latitude),ft(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=$d(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xc(e));default:return null}}convertTimestamp(e){const n=As(e);return new Qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=He.fromString(e);Me(bC(r),9688,{name:e});const i=new Wc(r.get(1),r.get(3)),s=new Z(r.popFirst(5));return i.isEqual(n)||gi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T9(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class sc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ha extends XC{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(C_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ha._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ha._jsonSchemaVersion="firestore/documentSnapshot/1.0",ha._jsonSchema={type:yt("string",ha._jsonSchemaVersion),bundleSource:yt("string","DocumentSnapshot"),bundleName:yt("string"),bundle:yt("string")};class nh extends ha{data(e={}){return super.data(e)}}class Oo{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new sc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new nh(this._firestore,this._userDataWriter,r.key,r,new sc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const c=new nh(i._firestore,i._userDataWriter,o.doc.key,o.doc,new sc(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const c=new nh(i._firestore,i._userDataWriter,o.doc.key,o.doc,new sc(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,f=-1;return o.type!==0&&(u=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),f=a.indexOf(o.doc.key)),{type:S9(o.type),doc:c,oldIndex:u,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Oo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Zv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function S9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return te(61501,{type:t})}}Oo._jsonSchemaVersion="firestore/querySnapshot/1.0",Oo._jsonSchema={type:yt("string",Oo._jsonSchemaVersion),bundleSource:yt("string","QuerySnapshot"),bundleName:yt("string"),bundle:yt("string")};class JC extends E9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,n)}}function Wl(t,e,n,...r){t=gs(t,vt);const i=gs(t.firestore,ol),s=S_(i);let a;return a=typeof(e=Lt(e))=="string"||e instanceof nm?y9(s,"updateDoc",t._key,e,n,r):g9(s,"updateDoc",t._key,e),M_(i,[a.toMutation(t._key,ar.exists(!0))])}function A9(t){return M_(gs(t.firestore,ol),[new a_(t._key,ar.none())])}function x9(t,e){const n=gs(t.firestore,ol),r=Qs(t),i=T9(t.converter,e);return M_(n,[p9(S_(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ar.exists(!1))]).then(()=>r)}function eI(t,...e){var c,u,f;t=Lt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||nT(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(nT(e[r])){const d=e[r];e[r]=(c=d.next)==null?void 0:c.bind(d),e[r+1]=(u=d.error)==null?void 0:u.bind(d),e[r+2]=(f=d.complete)==null?void 0:f.bind(d)}let s,a,o;if(t instanceof vt)a=gs(t.firestore,ol),o=i_(t._key.path),s={next:d=>{e[r]&&e[r](R9(a,t,d))},error:e[r+1],complete:e[r+2]};else{const d=gs(t,Oa);a=gs(d.firestore,ol),o=d._query;const p=new JC(a);s={next:h=>{e[r]&&e[r](new Oo(a,p,d,h))},error:e[r+1],complete:e[r+2]},w9(t._query)}return function(p,h,S,v){const w=new s9(v),_=new z5(h,w,S);return p.asyncQueue.enqueueAndForget(async()=>k5(await YE(p),_)),()=>{w.Nu(),p.asyncQueue.enqueueAndForget(async()=>L5(await YE(p),_))}}(HC(a),o,i,s)}function M_(t,e){return function(r,i){const s=new fa;return r.asyncQueue.enqueueAndForget(async()=>X5(await l9(r),i,s)),s.promise}(HC(t),e)}function R9(t,e,n){const r=n.docs.get(e._key),i=new JC(t);return new ha(t,i,e._key,r,new sc(n.hasPendingWrites,n.fromCache),e.converter)}function Oi(){return new A_("serverTimestamp")}(function(e,n=!0){(function(i){Tl=i})(wl),el(new _a("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),o=new ol(new dj(r.getProvider("auth-internal")),new gj(a,r.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Y(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wc(u.options.projectId,f)}(a,i),a);return s={useFetchStreams:n,...s},o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),ms(sE,aE,e),ms(sE,aE,"esm2020")})();const sm="AIzaSyAIXEsy0O_sIbiRtabItJh5DIL137WW0N0",C9=async(t,e,n)=>{var r,i,s,a,o;try{const c=`
Analyze this feature request and provide a JSON response with the following structure:

{
  "category": "enhancement|bug-fix|new-feature|ui-ux|performance|integration",
  "complexity": 1-5,
  "clarityScore": 1-10,
  "sentiment": "frustrated|neutral|excited",
  "keywords": ["keyword1", "keyword2"],
  "confidence": 0.0-1.0,
  "enhancementSuggestions": ["suggestion1", "suggestion2"]
}

Feature Request:
Title: ${t}
Description: ${e}
App Context: ${n||"General application"}

Analysis Guidelines:
- Category: Classify the type of request
- Complexity: Technical implementation difficulty (1=very simple, 5=very complex)
- Clarity Score: How well-defined the request is (1=very vague, 10=crystal clear)
- Sentiment: User's emotional tone
- Keywords: Key technical terms and concepts
- Confidence: How confident you are in this analysis
- Enhancement Suggestions: Ways to improve or clarify the request

Respond with valid JSON only.
    `,u=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${sm}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:c}]}]})});if(!u.ok)throw new Error(`Gemini API request failed: ${u.status}`);const d=(o=(a=(s=(i=(r=(await u.json()).candidates)==null?void 0:r[0])==null?void 0:i.content)==null?void 0:s.parts)==null?void 0:a[0])==null?void 0:o.text;if(!d)throw new Error("No response from AI");const p=d.replace(/```json\n?|\n?```/g,"").trim(),h=JSON.parse(p);return{category:h.category||"enhancement",complexity:Math.min(Math.max(h.complexity||3,1),5),clarityScore:Math.min(Math.max(h.clarityScore||5,1),10),sentiment:h.sentiment||"neutral",keywords:h.keywords||[],confidence:Math.min(Math.max(h.confidence||.7,0),1),enhancementSuggestions:h.enhancementSuggestions||[]}}catch(c){return console.error("AI Analysis error:",c),{category:"enhancement",complexity:3,clarityScore:5,sentiment:"neutral",keywords:my(t+" "+e),confidence:.3,enhancementSuggestions:["Consider providing more specific details about the expected behavior","Include use cases or examples to clarify the request"]}}},I9=async(t,e,n=1)=>{var r,i,s,a,o;try{const c=`
Calculate priority scores for this feature request. Return JSON with this structure:

{
  "businessImpact": 1-10,
  "userDemand": 1-10,
  "strategicAlignment": 1-10,
  "implementationFeasibility": 1-10,
  "overall": 1-10
}

Feature Request Analysis:
- Title: ${t.title}
- Description: ${t.description}
- Category: ${e.category}
- Complexity: ${e.complexity}/5
- User Priority: ${t.userPriority}
- User Role: ${t.submitterRole}
- Sentiment: ${e.sentiment}
- Clarity: ${e.clarityScore}/10

Scoring Guidelines:
- Business Impact: Revenue, retention, competitive advantage potential
- User Demand: How many users would benefit (factor in user role importance)
- Strategic Alignment: Fits with product roadmap and company goals
- Implementation Feasibility: Considering complexity and resources
- Overall: Weighted combination of above factors

Respond with valid JSON only.
    `,u=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${sm}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:c}]}]})});if(!u.ok)throw new Error(`Priority calculation failed: ${u.status}`);const p=((o=(a=(s=(i=(r=(await u.json()).candidates)==null?void 0:r[0])==null?void 0:i.content)==null?void 0:s.parts)==null?void 0:a[0])==null?void 0:o.text).replace(/```json\n?|\n?```/g,"").trim(),h=JSON.parse(p),S=Math.min(h.userDemand*n,10),v=h.businessImpact*.4+S*.25+h.strategicAlignment*.2+h.implementationFeasibility*.15;return{businessImpact:Math.min(Math.max(h.businessImpact||5,1),10),userDemand:Math.min(Math.max(S,1),10),strategicAlignment:Math.min(Math.max(h.strategicAlignment||5,1),10),implementationFeasibility:Math.min(Math.max(h.implementationFeasibility||5,1),10),overall:Math.min(Math.max(v,1),10)}}catch(c){console.error("Priority calculation error:",c);const f={low:3,medium:5,high:7,critical:9}[t.userPriority]||5;return{businessImpact:f,userDemand:f*n,strategicAlignment:f,implementationFeasibility:Math.max(10-e.complexity,1),overall:f}}},N9=async(t,e)=>{var n,r,i,s,a;try{const o=`
Estimate development effort for this feature request. Return JSON with this structure:

{
  "totalHours": number,
  "frontendHours": number,
  "backendHours": number,
  "designHours": number,
  "qaHours": number,
  "riskFactors": ["risk1", "risk2"],
  "dependencies": ["dependency1", "dependency2"],
  "teamMembers": ["Frontend Developer", "Backend Developer"]
}

Feature Analysis:
- Title: ${t.title}
- Description: ${t.description}
- Category: ${e.category}
- Complexity: ${e.complexity}/5

Estimation Guidelines:
- Consider all phases: design, development, testing, deployment
- Factor in complexity and category type
- Identify potential risks and blockers
- List required team members and skills
- Include time for code review and documentation

Respond with valid JSON only.
    `,c=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${sm}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:o}]}]})});if(!c.ok)throw new Error(`Effort estimation failed: ${c.status}`);const d=((a=(s=(i=(r=(n=(await c.json()).candidates)==null?void 0:n[0])==null?void 0:r.content)==null?void 0:i.parts)==null?void 0:s[0])==null?void 0:a.text).replace(/```json\n?|\n?```/g,"").trim(),p=JSON.parse(d);return{totalHours:p.totalHours||e.complexity*8,frontendHours:p.frontendHours||0,backendHours:p.backendHours||0,designHours:p.designHours||0,qaHours:p.qaHours||0,riskFactors:p.riskFactors||[],dependencies:p.dependencies||[],teamMembers:p.teamMembers||["Developer"]}}catch(o){console.error("Effort estimation error:",o);const c=e.complexity*8;return{totalHours:c,frontendHours:Math.floor(c*.4),backendHours:Math.floor(c*.4),designHours:Math.floor(c*.1),qaHours:Math.floor(c*.1),riskFactors:["Complexity may be higher than estimated"],dependencies:["Requirements clarification needed"],teamMembers:["Frontend Developer","Backend Developer"]}}},O9=async(t,e)=>{var n,r,i,s,a;try{const o=`
Assess business impact for this feature request. Return JSON with this structure:

{
  "retentionImpact": 1-10,
  "revenueImpact": 1-10,
  "competitiveAdvantage": 1-10,
  "uxImprovement": 1-10,
  "operationalEfficiency": 1-10
}

Feature Details:
- Title: ${t.title}
- Description: ${t.description}
- Category: ${e.category}
- User Role: ${t.submitterRole}
- Sentiment: ${e.sentiment}

Assessment Guidelines:
- Retention Impact: How likely this keeps users engaged
- Revenue Impact: Potential to drive revenue growth
- Competitive Advantage: Market differentiation value
- UX Improvement: User experience enhancement
- Operational Efficiency: Internal process improvements

Respond with valid JSON only.
    `,c=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${sm}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:o}]}]})});if(!c.ok)throw new Error(`Business impact assessment failed: ${c.status}`);const d=((a=(s=(i=(r=(n=(await c.json()).candidates)==null?void 0:n[0])==null?void 0:r.content)==null?void 0:i.parts)==null?void 0:s[0])==null?void 0:a.text).replace(/```json\n?|\n?```/g,"").trim(),p=JSON.parse(d);return{retentionImpact:Math.min(Math.max(p.retentionImpact||5,1),10),revenueImpact:Math.min(Math.max(p.revenueImpact||5,1),10),competitiveAdvantage:Math.min(Math.max(p.competitiveAdvantage||5,1),10),uxImprovement:Math.min(Math.max(p.uxImprovement||5,1),10),operationalEfficiency:Math.min(Math.max(p.operationalEfficiency||5,1),10)}}catch(o){return console.error("Business impact assessment error:",o),{retentionImpact:5,revenueImpact:5,competitiveAdvantage:5,uxImprovement:5,operationalEfficiency:5}}},D9=async(t,e)=>{var i;const n=my(t.title+" "+t.description),r=[];for(const s of e){const a=((i=s.aiAnalysis)==null?void 0:i.keywords)||my(s.title+" "+s.description);n.filter(u=>a.includes(u)).length/Math.max(n.length,a.length)>.6&&r.push(s.id)}return r},my=t=>{const e=t.toLowerCase().replace(/[^\w\s]/g,"").split(/\s+/).filter(r=>r.length>3),n=["this","that","with","have","will","from","they","been","were","said","each","which","their","time","would","there","could","other"];return[...new Set(e.filter(r=>!n.includes(r)))]};let Sp=null,aT=null;const Pi=()=>(!Sp&&window.__firebase_config&&(Sp=Fv(window.__firebase_config),aT=u9(Sp)),aT),M9=(t,e="external")=>{const[n,r]=T.useState([]),[i,s]=T.useState(!0),[a,o]=T.useState(null);T.useEffect(()=>{if(!t)return;(()=>{const S=Pi();if(!S){console.log("Using demo data - Firestore not available"),r([]),s(!1);return}const v=window.__app_id?`artifacts/${window.__app_id}/feature-requests`:"feature-requests";let w;w=dy(th(S,v),rT("timestamp","desc"));const _=eI(w,b=>{const E=[];b.forEach(N=>{const P=N.data();E.push({id:N.id,...P,timestamp:P.timestamp||null,aiAnalysis:P.aiAnalysis?{...P.aiAnalysis,analysisTimestamp:P.aiAnalysis.analysisTimestamp||null}:void 0,priorityScore:P.priorityScore?{...P.priorityScore,calculatedAt:P.priorityScore.calculatedAt||null}:void 0,effortEstimate:P.effortEstimate?{...P.effortEstimate,estimatedAt:P.effortEstimate.estimatedAt||null}:void 0,businessImpact:P.businessImpact?{...P.businessImpact,assessedAt:P.businessImpact.assessedAt||null}:void 0})}),r(E),s(!1)},b=>{console.error("Firestore error:",b),o("Failed to load feature requests"),s(!1)});return()=>_()})()},[t,e]);const c=async h=>{if(!t)throw new Error("User not authenticated");const S=Pi();if(!S){console.log("Creating demo request - Firestore not available");const v={id:"demo-"+Date.now(),title:h.title,description:h.description,submittedBy:t,submitterName:h.testerInfo.name,submitterRole:h.testerInfo.role,appId:h.appId,appName:h.appName,status:"submitted",userPriority:h.userPriority,timestamp:{toDate:()=>new Date},votes:0,comments:[],watchers:[t],tags:h.tags||[],aiAnalysis:{category:"enhancement",complexity:Math.floor(Math.random()*5)+1,clarityScore:Math.floor(Math.random()*10)+1,sentiment:"positive",keywords:h.tags||[],confidence:.8,duplicates:[],enhancementSuggestions:["Consider adding more specific requirements","Include user impact metrics"],analysisTimestamp:{toDate:()=>new Date}},priorityScore:{overall:Math.random()*10,businessImpact:Math.random()*10,userDemand:Math.random()*10,technicalFeasibility:Math.random()*10,strategicAlignment:Math.random()*10,calculatedAt:{toDate:()=>new Date}}};return r(w=>[v,...w]),v.id}try{const v={title:h.title,description:h.description,submittedBy:t,submitterName:h.testerInfo.name,submitterRole:h.testerInfo.role,appId:h.appId,appName:h.appName,status:"analyzing",userPriority:h.userPriority,timestamp:Oi(),votes:0,comments:[],watchers:[t],tags:h.tags||[],testerEmail:h.testerInfo.email},w=window.__app_id?`artifacts/${window.__app_id}/feature-requests`:"feature-requests",_=await x9(th(S,w),v);return u(_.id,h.title,h.description,h.appName),_.id}catch(v){throw console.error("Error submitting request:",v),new Error("Failed to submit feature request")}},u=async(h,S,v,w)=>{try{const _=Pi();if(!_)return;const b=await C9(S,v,w),E=await D9({title:S,description:v},n),P=`${window.__app_id?`artifacts/${window.__app_id}/feature-requests`:"feature-requests"}/${h}`;await Wl(Qs(_,P),{aiAnalysis:{...b,duplicates:E,analysisTimestamp:Oi()},status:"reviewed"});const k=n.find(I=>I.id===h);if(!k)return;const x=await I9({...k,aiAnalysis:{...b,duplicates:E,analysisTimestamp:Oi()}},b,1),A=await N9(k,b),R=await O9(k,b);await Wl(Qs(_,P),{priorityScore:{...x,calculatedAt:Oi()},effortEstimate:{...A,estimatedAt:Oi()},businessImpact:{...R,assessedAt:Oi()}})}catch(_){console.error("AI Analysis failed:",_);const b=Pi();if(b){const N=`${window.__app_id?`artifacts/${window.__app_id}/feature-requests`:"feature-requests"}/${h}`;await Wl(Qs(b,N),{status:"submitted",aiAnalysis:{category:"enhancement",complexity:3,clarityScore:5,sentiment:"neutral",keywords:[],confidence:.3,duplicates:[],enhancementSuggestions:["AI analysis failed - manual review needed"],analysisTimestamp:Oi()}})}}};return{requests:n,loading:i,error:a,submitRequest:c,updateRequestStatus:async(h,S)=>{if(!t)throw new Error("User not authenticated");const v=Pi();if(!v){r(w=>w.map(_=>_.id===h?{..._,status:S,...S==="completed"&&{actualCompletion:{toDate:()=>new Date}}}:_));return}try{const _=`${window.__app_id?`artifacts/${window.__app_id}/feature-requests`:"feature-requests"}/${h}`;await Wl(Qs(v,_),{status:S,...S==="completed"&&{actualCompletion:Oi()}})}catch(w){throw console.error("Error updating status:",w),new Error("Failed to update request status")}},voteOnRequest:async(h,S=!0)=>{if(!t)throw new Error("User not authenticated");const v=Pi();if(!v){r(w=>w.map(_=>_.id===h?{..._,votes:Math.max(0,_.votes+(S?1:-1))}:_));return}try{const w=n.find(E=>E.id===h);if(!w)return;const b=`${window.__app_id?`artifacts/${window.__app_id}/feature-requests`:"feature-requests"}/${h}`;await Wl(Qs(v,b),{votes:Math.max(0,w.votes+(S?1:-1))})}catch(w){throw console.error("Error voting on request:",w),new Error("Failed to vote on request")}},deleteRequest:async h=>{if(!t)throw new Error("User not authenticated");const S=Pi();if(!S){r(v=>v.filter(w=>w.id!==h));return}try{const w=`${window.__app_id?`artifacts/${window.__app_id}/feature-requests`:"feature-requests"}/${h}`;await A9(Qs(S,w))}catch(v){throw console.error("Error deleting request:",v),new Error("Failed to delete request")}}}},P9=t=>{const[e,n]=T.useState(null),[r,i]=T.useState(!0);return T.useEffect(()=>{if(!t)return;(()=>{const a=Pi();if(!a){n({totalRequests:0,requestsByCategory:{},requestsByStatus:{},averagePriorityScore:0,topRequestedFeatures:[],trendData:[]}),i(!1);return}const o=window.__app_id?`artifacts/${window.__app_id}/feature-requests`:"feature-requests",c=dy(th(a,o)),u=eI(c,f=>{const d=[];f.forEach(_=>{d.push({id:_.id,..._.data()})});const p=d.length,h=d.reduce((_,b)=>{var N;const E=((N=b.aiAnalysis)==null?void 0:N.category)||"uncategorized";return _[E]=(_[E]||0)+1,_},{}),S=d.reduce((_,b)=>(_[b.status]=(_[b.status]||0)+1,_),{}),v=d.filter(_=>_.priorityScore).reduce((_,b)=>{var E;return _+(((E=b.priorityScore)==null?void 0:E.overall)||0)},0)/Math.max(d.filter(_=>_.priorityScore).length,1),w=d.sort((_,b)=>{var E,N;return(((E=b.priorityScore)==null?void 0:E.overall)||0)-(((N=_.priorityScore)==null?void 0:N.overall)||0)}).slice(0,5);n({totalRequests:p,requestsByCategory:h,requestsByStatus:S,averagePriorityScore:v,topRequestedFeatures:w,trendData:[]}),i(!1)});return()=>u()})()},[t]),{analytics:e,loading:r}},bn=T.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:tt("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));bn.displayName="Card";const wn=T.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:tt("flex flex-col space-y-1.5 p-6",t),...e}));wn.displayName="CardHeader";const En=T.forwardRef(({className:t,...e},n)=>y.jsx("h3",{ref:n,className:tt("text-2xl font-semibold leading-none tracking-tight",t),...e}));En.displayName="CardTitle";const V9=T.forwardRef(({className:t,...e},n)=>y.jsx("p",{ref:n,className:tt("text-sm text-muted-foreground",t),...e}));V9.displayName="CardDescription";const Tn=T.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:tt("p-6 pt-0",t),...e}));Tn.displayName="CardContent";const k9=T.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:tt("flex items-center p-6 pt-0",t),...e}));k9.displayName="CardFooter";const oT=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,lT=mx,P_=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return lT(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(u=>{const f=n==null?void 0:n[u],d=s==null?void 0:s[u];if(f===null)return null;const p=oT(f)||oT(d);return i[u][p]}),o=n&&Object.entries(n).reduce((u,f)=>{let[d,p]=f;return p===void 0||(u[d]=p),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,f)=>{let{class:d,className:p,...h}=f;return Object.entries(h).every(S=>{let[v,w]=S;return Array.isArray(w)?w.includes({...s,...o}[v]):{...s,...o}[v]===w})?[...u,d,p]:u},[]);return lT(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)},L9=P_("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),An=T.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const a=r?wM:"button";return y.jsx(a,{className:tt(L9({variant:e,size:n,className:t})),ref:s,...i})});An.displayName="Button";const ji=T.forwardRef(({className:t,type:e,...n},r)=>y.jsx("input",{type:e,className:tt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));ji.displayName="Input";function tI(t){const e=t+"CollectionProvider",[n,r]=gl(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=v=>{const{scope:w,children:_}=v,b=$.useRef(null),E=$.useRef(new Map).current;return y.jsx(i,{scope:w,itemMap:E,collectionRef:b,children:_})};a.displayName=e;const o=t+"CollectionSlot",c=Fc(o),u=$.forwardRef((v,w)=>{const{scope:_,children:b}=v,E=s(o,_),N=ht(w,E.collectionRef);return y.jsx(c,{ref:N,children:b})});u.displayName=o;const f=t+"CollectionItemSlot",d="data-radix-collection-item",p=Fc(f),h=$.forwardRef((v,w)=>{const{scope:_,children:b,...E}=v,N=$.useRef(null),P=ht(w,N),k=s(f,_);return $.useEffect(()=>(k.itemMap.set(N,{ref:N,...E}),()=>void k.itemMap.delete(N))),y.jsx(p,{[d]:"",ref:P,children:b})});h.displayName=f;function S(v){const w=s(t+"CollectionConsumer",v);return $.useCallback(()=>{const b=w.collectionRef.current;if(!b)return[];const E=Array.from(b.querySelectorAll(`[${d}]`));return Array.from(w.itemMap.values()).sort((k,x)=>E.indexOf(k.ref.current)-E.indexOf(x.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:a,Slot:u,ItemSlot:h},S,r]}var j9=T.createContext(void 0);function V_(t){const e=T.useContext(j9);return t||e||"ltr"}var Ap="rovingFocusGroup.onEntryFocus",U9={bubbles:!1,cancelable:!0},ku="RovingFocusGroup",[py,nI,z9]=tI(ku),[B9,rI]=gl(ku,[z9]),[F9,q9]=B9(ku),iI=T.forwardRef((t,e)=>y.jsx(py.Provider,{scope:t.__scopeRovingFocusGroup,children:y.jsx(py.Slot,{scope:t.__scopeRovingFocusGroup,children:y.jsx(H9,{...t,ref:e})})}));iI.displayName=ku;var H9=T.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...d}=t,p=T.useRef(null),h=ht(e,p),S=V_(s),[v,w]=Fh({prop:a,defaultProp:o??null,onChange:c,caller:ku}),[_,b]=T.useState(!1),E=ws(u),N=nI(n),P=T.useRef(!1),[k,x]=T.useState(0);return T.useEffect(()=>{const A=p.current;if(A)return A.addEventListener(Ap,E),()=>A.removeEventListener(Ap,E)},[E]),y.jsx(F9,{scope:n,orientation:r,dir:S,loop:i,currentTabStopId:v,onItemFocus:T.useCallback(A=>w(A),[w]),onItemShiftTab:T.useCallback(()=>b(!0),[]),onFocusableItemAdd:T.useCallback(()=>x(A=>A+1),[]),onFocusableItemRemove:T.useCallback(()=>x(A=>A-1),[]),children:y.jsx(Pe.div,{tabIndex:_||k===0?-1:0,"data-orientation":r,...d,ref:h,style:{outline:"none",...t.style},onMouseDown:Ee(t.onMouseDown,()=>{P.current=!0}),onFocus:Ee(t.onFocus,A=>{const R=!P.current;if(A.target===A.currentTarget&&R&&!_){const I=new CustomEvent(Ap,U9);if(A.currentTarget.dispatchEvent(I),!I.defaultPrevented){const M=N().filter(j=>j.focusable),O=M.find(j=>j.active),D=M.find(j=>j.id===v),le=[O,D,...M].filter(Boolean).map(j=>j.ref.current);oI(le,f)}}P.current=!1}),onBlur:Ee(t.onBlur,()=>b(!1))})})}),sI="RovingFocusGroupItem",aI=T.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:a,...o}=t,c=wu(),u=s||c,f=q9(sI,n),d=f.currentTabStopId===u,p=nI(n),{onFocusableItemAdd:h,onFocusableItemRemove:S,currentTabStopId:v}=f;return T.useEffect(()=>{if(r)return h(),()=>S()},[r,h,S]),y.jsx(py.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:y.jsx(Pe.span,{tabIndex:d?0:-1,"data-orientation":f.orientation,...o,ref:e,onMouseDown:Ee(t.onMouseDown,w=>{r?f.onItemFocus(u):w.preventDefault()}),onFocus:Ee(t.onFocus,()=>f.onItemFocus(u)),onKeyDown:Ee(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){f.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const _=K9(w,f.orientation,f.dir);if(_!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let E=p().filter(N=>N.focusable).map(N=>N.ref.current);if(_==="last")E.reverse();else if(_==="prev"||_==="next"){_==="prev"&&E.reverse();const N=E.indexOf(w.currentTarget);E=f.loop?Q9(E,N+1):E.slice(N+1)}setTimeout(()=>oI(E))}}),children:typeof a=="function"?a({isCurrentTabStop:d,hasTabStop:v!=null}):a})})});aI.displayName=sI;var G9={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function $9(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function K9(t,e,n){const r=$9(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return G9[r]}function oI(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Q9(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Y9=iI,X9=aI,am="Tabs",[W9,a7]=gl(am,[rI]),lI=rI(),[Z9,k_]=W9(am),cI=T.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:o,activationMode:c="automatic",...u}=t,f=V_(o),[d,p]=Fh({prop:r,onChange:i,defaultProp:s??"",caller:am});return y.jsx(Z9,{scope:n,baseId:wu(),value:d,onValueChange:p,orientation:a,dir:f,activationMode:c,children:y.jsx(Pe.div,{dir:f,"data-orientation":a,...u,ref:e})})});cI.displayName=am;var uI="TabsList",fI=T.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=k_(uI,n),a=lI(n);return y.jsx(Y9,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:r,children:y.jsx(Pe.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});fI.displayName=uI;var hI="TabsTrigger",dI=T.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,a=k_(hI,n),o=lI(n),c=gI(a.baseId,r),u=yI(a.baseId,r),f=r===a.value;return y.jsx(X9,{asChild:!0,...o,focusable:!i,active:f,children:y.jsx(Pe.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:e,onMouseDown:Ee(t.onMouseDown,d=>{!i&&d.button===0&&d.ctrlKey===!1?a.onValueChange(r):d.preventDefault()}),onKeyDown:Ee(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&a.onValueChange(r)}),onFocus:Ee(t.onFocus,()=>{const d=a.activationMode!=="manual";!f&&!i&&d&&a.onValueChange(r)})})})});dI.displayName=hI;var mI="TabsContent",pI=T.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...a}=t,o=k_(mI,n),c=gI(o.baseId,r),u=yI(o.baseId,r),f=r===o.value,d=T.useRef(f);return T.useEffect(()=>{const p=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(p)},[]),y.jsx(Mv,{present:i||f,children:({present:p})=>y.jsx(Pe.div,{"data-state":f?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0},children:p&&s})})});pI.displayName=mI;function gI(t,e){return`${t}-trigger-${e}`}function yI(t,e){return`${t}-content-${e}`}var J9=cI,vI=fI,_I=dI,bI=pI;const ez=J9,wI=T.forwardRef(({className:t,...e},n)=>y.jsx(vI,{ref:n,className:tt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));wI.displayName=vI.displayName;const rh=T.forwardRef(({className:t,...e},n)=>y.jsx(_I,{ref:n,className:tt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));rh.displayName=_I.displayName;const ih=T.forwardRef(({className:t,...e},n)=>y.jsx(bI,{ref:n,className:tt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));ih.displayName=bI.displayName;function cT(t,[e,n]){return Math.min(n,Math.max(e,t))}var xp=0;function tz(){T.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??uT()),document.body.insertAdjacentElement("beforeend",t[1]??uT()),xp++,()=>{xp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),xp--}},[])}function uT(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Rp="focusScope.autoFocusOnMount",Cp="focusScope.autoFocusOnUnmount",fT={bubbles:!1,cancelable:!0},nz="FocusScope",EI=T.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[o,c]=T.useState(null),u=ws(i),f=ws(s),d=T.useRef(null),p=ht(e,v=>c(v)),h=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(r){let v=function(E){if(h.paused||!o)return;const N=E.target;o.contains(N)?d.current=N:Vi(d.current,{select:!0})},w=function(E){if(h.paused||!o)return;const N=E.relatedTarget;N!==null&&(o.contains(N)||Vi(d.current,{select:!0}))},_=function(E){if(document.activeElement===document.body)for(const P of E)P.removedNodes.length>0&&Vi(o)};document.addEventListener("focusin",v),document.addEventListener("focusout",w);const b=new MutationObserver(_);return o&&b.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",w),b.disconnect()}}},[r,o,h.paused]),T.useEffect(()=>{if(o){dT.add(h);const v=document.activeElement;if(!o.contains(v)){const _=new CustomEvent(Rp,fT);o.addEventListener(Rp,u),o.dispatchEvent(_),_.defaultPrevented||(rz(lz(TI(o)),{select:!0}),document.activeElement===v&&Vi(o))}return()=>{o.removeEventListener(Rp,u),setTimeout(()=>{const _=new CustomEvent(Cp,fT);o.addEventListener(Cp,f),o.dispatchEvent(_),_.defaultPrevented||Vi(v??document.body,{select:!0}),o.removeEventListener(Cp,f),dT.remove(h)},0)}}},[o,u,f,h]);const S=T.useCallback(v=>{if(!n&&!r||h.paused)return;const w=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,_=document.activeElement;if(w&&_){const b=v.currentTarget,[E,N]=iz(b);E&&N?!v.shiftKey&&_===N?(v.preventDefault(),n&&Vi(E,{select:!0})):v.shiftKey&&_===E&&(v.preventDefault(),n&&Vi(N,{select:!0})):_===b&&v.preventDefault()}},[n,r,h.paused]);return y.jsx(Pe.div,{tabIndex:-1,...a,ref:p,onKeyDown:S})});EI.displayName=nz;function rz(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Vi(r,{select:e}),document.activeElement!==n)return}function iz(t){const e=TI(t),n=hT(e,t),r=hT(e.reverse(),t);return[n,r]}function TI(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function hT(t,e){for(const n of t)if(!sz(n,{upTo:e}))return n}function sz(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function az(t){return t instanceof HTMLInputElement&&"select"in t}function Vi(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&az(t)&&e&&t.select()}}var dT=oz();function oz(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=mT(t,e),t.unshift(e)},remove(e){var n;t=mT(t,e),(n=t[0])==null||n.resume()}}}function mT(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function lz(t){return t.filter(e=>e.tagName!=="A")}function cz(t){const e=T.useRef({value:t,previous:t});return T.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var uz=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Fa=new WeakMap,Rf=new WeakMap,Cf={},Ip=0,SI=function(t){return t&&(t.host||SI(t.parentNode))},fz=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=SI(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},hz=function(t,e,n,r){var i=fz(e,Array.isArray(t)?t:[t]);Cf[n]||(Cf[n]=new WeakMap);var s=Cf[n],a=[],o=new Set,c=new Set(i),u=function(d){!d||o.has(d)||(o.add(d),u(d.parentNode))};i.forEach(u);var f=function(d){!d||c.has(d)||Array.prototype.forEach.call(d.children,function(p){if(o.has(p))f(p);else try{var h=p.getAttribute(r),S=h!==null&&h!=="false",v=(Fa.get(p)||0)+1,w=(s.get(p)||0)+1;Fa.set(p,v),s.set(p,w),a.push(p),v===1&&S&&Rf.set(p,!0),w===1&&p.setAttribute(n,"true"),S||p.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",p,_)}})};return f(e),o.clear(),Ip++,function(){a.forEach(function(d){var p=Fa.get(d)-1,h=s.get(d)-1;Fa.set(d,p),s.set(d,h),p||(Rf.has(d)||d.removeAttribute(r),Rf.delete(d)),h||d.removeAttribute(n)}),Ip--,Ip||(Fa=new WeakMap,Fa=new WeakMap,Rf=new WeakMap,Cf={})}},dz=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=uz(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),hz(r,i,n,"aria-hidden")):function(){return null}},_r=function(){return _r=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},_r.apply(this,arguments)};function AI(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function mz(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var sh="right-scroll-bar-position",ah="width-before-scroll-bar",pz="with-scroll-bars-hidden",gz="--removed-body-scroll-bar-size";function Np(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function yz(t,e){var n=T.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var vz=typeof window<"u"?T.useLayoutEffect:T.useEffect,pT=new WeakMap;function _z(t,e){var n=yz(null,function(r){return t.forEach(function(i){return Np(i,r)})});return vz(function(){var r=pT.get(n);if(r){var i=new Set(r),s=new Set(t),a=n.current;i.forEach(function(o){s.has(o)||Np(o,null)}),s.forEach(function(o){i.has(o)||Np(o,a)})}pT.set(n,t)},[t]),n}function bz(t){return t}function wz(t,e){e===void 0&&(e=bz);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var a=e(s,r);return n.push(a),function(){n=n.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(o){return s(o)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var o=n;n=[],o.forEach(s),a=n}var c=function(){var f=a;a=[],f.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(f){a.push(f),u()},filter:function(f){return a=a.filter(f),n}}}};return i}function Ez(t){t===void 0&&(t={});var e=wz(null);return e.options=_r({async:!0,ssr:!1},t),e}var xI=function(t){var e=t.sideCar,n=AI(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return T.createElement(r,_r({},n))};xI.isSideCarExport=!0;function Tz(t,e){return t.useMedium(e),xI}var RI=Ez(),Op=function(){},om=T.forwardRef(function(t,e){var n=T.useRef(null),r=T.useState({onScrollCapture:Op,onWheelCapture:Op,onTouchMoveCapture:Op}),i=r[0],s=r[1],a=t.forwardProps,o=t.children,c=t.className,u=t.removeScrollBar,f=t.enabled,d=t.shards,p=t.sideCar,h=t.noRelative,S=t.noIsolation,v=t.inert,w=t.allowPinchZoom,_=t.as,b=_===void 0?"div":_,E=t.gapMode,N=AI(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=p,k=_z([n,e]),x=_r(_r({},N),i);return T.createElement(T.Fragment,null,f&&T.createElement(P,{sideCar:RI,removeScrollBar:u,shards:d,noRelative:h,noIsolation:S,inert:v,setCallbacks:s,allowPinchZoom:!!w,lockRef:n,gapMode:E}),a?T.cloneElement(T.Children.only(o),_r(_r({},x),{ref:k})):T.createElement(b,_r({},x,{className:c,ref:k}),o))});om.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};om.classNames={fullWidth:ah,zeroRight:sh};var Sz=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Az(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Sz();return e&&t.setAttribute("nonce",e),t}function xz(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Rz(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Cz=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Az())&&(xz(e,n),Rz(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Iz=function(){var t=Cz();return function(e,n){T.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},CI=function(){var t=Iz(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Nz={left:0,top:0,right:0,gap:0},Dp=function(t){return parseInt(t||"",10)||0},Oz=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Dp(n),Dp(r),Dp(i)]},Dz=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Nz;var e=Oz(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Mz=CI(),Do="data-scroll-locked",Pz=function(t,e,n,r){var i=t.left,s=t.top,a=t.right,o=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(pz,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(Do,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(sh,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(ah,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(sh," .").concat(sh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ah," .").concat(ah,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Do,`] {
    `).concat(gz,": ").concat(o,`px;
  }
`)},gT=function(){var t=parseInt(document.body.getAttribute(Do)||"0",10);return isFinite(t)?t:0},Vz=function(){T.useEffect(function(){return document.body.setAttribute(Do,(gT()+1).toString()),function(){var t=gT()-1;t<=0?document.body.removeAttribute(Do):document.body.setAttribute(Do,t.toString())}},[])},kz=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Vz();var s=T.useMemo(function(){return Dz(i)},[i]);return T.createElement(Mz,{styles:Pz(s,!e,i,n?"":"!important")})},gy=!1;if(typeof window<"u")try{var If=Object.defineProperty({},"passive",{get:function(){return gy=!0,!0}});window.addEventListener("test",If,If),window.removeEventListener("test",If,If)}catch{gy=!1}var qa=gy?{passive:!1}:!1,Lz=function(t){return t.tagName==="TEXTAREA"},II=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Lz(t)&&n[e]==="visible")},jz=function(t){return II(t,"overflowY")},Uz=function(t){return II(t,"overflowX")},yT=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=NI(t,r);if(i){var s=OI(t,r),a=s[1],o=s[2];if(a>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},zz=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Bz=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},NI=function(t,e){return t==="v"?jz(e):Uz(e)},OI=function(t,e){return t==="v"?zz(e):Bz(e)},Fz=function(t,e){return t==="h"&&e==="rtl"?-1:1},qz=function(t,e,n,r,i){var s=Fz(t,window.getComputedStyle(e).direction),a=s*r,o=n.target,c=e.contains(o),u=!1,f=a>0,d=0,p=0;do{if(!o)break;var h=OI(t,o),S=h[0],v=h[1],w=h[2],_=v-w-s*S;(S||_)&&NI(t,o)&&(d+=_,p+=S);var b=o.parentNode;o=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&o!==document.body||c&&(e.contains(o)||e===o));return(f&&Math.abs(d)<1||!f&&Math.abs(p)<1)&&(u=!0),u},Nf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},vT=function(t){return[t.deltaX,t.deltaY]},_T=function(t){return t&&"current"in t?t.current:t},Hz=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Gz=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},$z=0,Ha=[];function Kz(t){var e=T.useRef([]),n=T.useRef([0,0]),r=T.useRef(),i=T.useState($z++)[0],s=T.useState(CI)[0],a=T.useRef(t);T.useEffect(function(){a.current=t},[t]),T.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=mz([t.lockRef.current],(t.shards||[]).map(_T),!0).filter(Boolean);return v.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var o=T.useCallback(function(v,w){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!a.current.allowPinchZoom;var _=Nf(v),b=n.current,E="deltaX"in v?v.deltaX:b[0]-_[0],N="deltaY"in v?v.deltaY:b[1]-_[1],P,k=v.target,x=Math.abs(E)>Math.abs(N)?"h":"v";if("touches"in v&&x==="h"&&k.type==="range")return!1;var A=yT(x,k);if(!A)return!0;if(A?P=x:(P=x==="v"?"h":"v",A=yT(x,k)),!A)return!1;if(!r.current&&"changedTouches"in v&&(E||N)&&(r.current=P),!P)return!0;var R=r.current||P;return qz(R,w,v,R==="h"?E:N)},[]),c=T.useCallback(function(v){var w=v;if(!(!Ha.length||Ha[Ha.length-1]!==s)){var _="deltaY"in w?vT(w):Nf(w),b=e.current.filter(function(P){return P.name===w.type&&(P.target===w.target||w.target===P.shadowParent)&&Hz(P.delta,_)})[0];if(b&&b.should){w.cancelable&&w.preventDefault();return}if(!b){var E=(a.current.shards||[]).map(_T).filter(Boolean).filter(function(P){return P.contains(w.target)}),N=E.length>0?o(w,E[0]):!a.current.noIsolation;N&&w.cancelable&&w.preventDefault()}}},[]),u=T.useCallback(function(v,w,_,b){var E={name:v,delta:w,target:_,should:b,shadowParent:Qz(_)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(N){return N!==E})},1)},[]),f=T.useCallback(function(v){n.current=Nf(v),r.current=void 0},[]),d=T.useCallback(function(v){u(v.type,vT(v),v.target,o(v,t.lockRef.current))},[]),p=T.useCallback(function(v){u(v.type,Nf(v),v.target,o(v,t.lockRef.current))},[]);T.useEffect(function(){return Ha.push(s),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:p}),document.addEventListener("wheel",c,qa),document.addEventListener("touchmove",c,qa),document.addEventListener("touchstart",f,qa),function(){Ha=Ha.filter(function(v){return v!==s}),document.removeEventListener("wheel",c,qa),document.removeEventListener("touchmove",c,qa),document.removeEventListener("touchstart",f,qa)}},[]);var h=t.removeScrollBar,S=t.inert;return T.createElement(T.Fragment,null,S?T.createElement(s,{styles:Gz(i)}):null,h?T.createElement(kz,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Qz(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Yz=Tz(RI,Kz);var DI=T.forwardRef(function(t,e){return T.createElement(om,_r({},t,{ref:e,sideCar:Yz}))});DI.classNames=om.classNames;var Xz=[" ","Enter","ArrowUp","ArrowDown"],Wz=[" ","Enter"],Ta="Select",[lm,cm,Zz]=tI(Ta),[Cl,o7]=gl(Ta,[Zz,Dd]),um=Dd(),[Jz,Ps]=Cl(Ta),[eB,tB]=Cl(Ta),MI=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:a,defaultValue:o,onValueChange:c,dir:u,name:f,autoComplete:d,disabled:p,required:h,form:S}=t,v=um(e),[w,_]=T.useState(null),[b,E]=T.useState(null),[N,P]=T.useState(!1),k=V_(u),[x,A]=Fh({prop:r,defaultProp:i??!1,onChange:s,caller:Ta}),[R,I]=Fh({prop:a,defaultProp:o,onChange:c,caller:Ta}),M=T.useRef(null),O=w?S||!!w.closest("form"):!0,[D,W]=T.useState(new Set),le=Array.from(D).map(j=>j.props.value).join(";");return y.jsx(iV,{...v,children:y.jsxs(Jz,{required:h,scope:e,trigger:w,onTriggerChange:_,valueNode:b,onValueNodeChange:E,valueNodeHasChildren:N,onValueNodeHasChildrenChange:P,contentId:wu(),value:R,onValueChange:I,open:x,onOpenChange:A,dir:k,triggerPointerDownPosRef:M,disabled:p,children:[y.jsx(lm.Provider,{scope:e,children:y.jsx(eB,{scope:t.__scopeSelect,onNativeOptionAdd:T.useCallback(j=>{W(G=>new Set(G).add(j))},[]),onNativeOptionRemove:T.useCallback(j=>{W(G=>{const q=new Set(G);return q.delete(j),q})},[]),children:n})}),O?y.jsxs(r2,{"aria-hidden":!0,required:h,tabIndex:-1,name:f,autoComplete:d,value:R,onChange:j=>I(j.target.value),disabled:p,form:S,children:[R===void 0?y.jsx("option",{value:""}):null,Array.from(D)]},le):null]})})};MI.displayName=Ta;var PI="SelectTrigger",VI=T.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=um(n),a=Ps(PI,n),o=a.disabled||r,c=ht(e,a.onTriggerChange),u=cm(n),f=T.useRef("touch"),[d,p,h]=s2(v=>{const w=u().filter(E=>!E.disabled),_=w.find(E=>E.value===a.value),b=a2(w,v,_);b!==void 0&&a.onValueChange(b.value)}),S=v=>{o||(a.onOpenChange(!0),h()),v&&(a.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return y.jsx(J1,{asChild:!0,...s,children:y.jsx(Pe.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":i2(a.value)?"":void 0,...i,ref:c,onClick:Ee(i.onClick,v=>{v.currentTarget.focus(),f.current!=="mouse"&&S(v)}),onPointerDown:Ee(i.onPointerDown,v=>{f.current=v.pointerType;const w=v.target;w.hasPointerCapture(v.pointerId)&&w.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(S(v),v.preventDefault())}),onKeyDown:Ee(i.onKeyDown,v=>{const w=d.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&p(v.key),!(w&&v.key===" ")&&Xz.includes(v.key)&&(S(),v.preventDefault())})})})});VI.displayName=PI;var kI="SelectValue",LI=T.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:a="",...o}=t,c=Ps(kI,n),{onValueNodeHasChildrenChange:u}=c,f=s!==void 0,d=ht(e,c.onValueNodeChange);return Xt(()=>{u(f)},[u,f]),y.jsx(Pe.span,{...o,ref:d,style:{pointerEvents:"none"},children:i2(c.value)?y.jsx(y.Fragment,{children:a}):s})});LI.displayName=kI;var nB="SelectIcon",jI=T.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return y.jsx(Pe.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});jI.displayName=nB;var rB="SelectPortal",UI=t=>y.jsx(nx,{asChild:!0,...t});UI.displayName=rB;var Sa="SelectContent",zI=T.forwardRef((t,e)=>{const n=Ps(Sa,t.__scopeSelect),[r,i]=T.useState();if(Xt(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?cl.createPortal(y.jsx(BI,{scope:t.__scopeSelect,children:y.jsx(lm.Slot,{scope:t.__scopeSelect,children:y.jsx("div",{children:t.children})})}),s):null}return y.jsx(FI,{...t,ref:e})});zI.displayName=Sa;var Jn=10,[BI,Vs]=Cl(Sa),iB="SelectContentImpl",sB=Fc("SelectContent.RemoveScroll"),FI=T.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:o,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:p,collisionPadding:h,sticky:S,hideWhenDetached:v,avoidCollisions:w,..._}=t,b=Ps(Sa,n),[E,N]=T.useState(null),[P,k]=T.useState(null),x=ht(e,Q=>N(Q)),[A,R]=T.useState(null),[I,M]=T.useState(null),O=cm(n),[D,W]=T.useState(!1),le=T.useRef(!1);T.useEffect(()=>{if(E)return dz(E)},[E]),tz();const j=T.useCallback(Q=>{const[Ie,...Xe]=O().map(ve=>ve.ref.current),[ye]=Xe.slice(-1),de=document.activeElement;for(const ve of Q)if(ve===de||(ve==null||ve.scrollIntoView({block:"nearest"}),ve===Ie&&P&&(P.scrollTop=0),ve===ye&&P&&(P.scrollTop=P.scrollHeight),ve==null||ve.focus(),document.activeElement!==de))return},[O,P]),G=T.useCallback(()=>j([A,E]),[j,A,E]);T.useEffect(()=>{D&&G()},[D,G]);const{onOpenChange:q,triggerPointerDownPosRef:H}=b;T.useEffect(()=>{if(E){let Q={x:0,y:0};const Ie=ye=>{var de,ve;Q={x:Math.abs(Math.round(ye.pageX)-(((de=H.current)==null?void 0:de.x)??0)),y:Math.abs(Math.round(ye.pageY)-(((ve=H.current)==null?void 0:ve.y)??0))}},Xe=ye=>{Q.x<=10&&Q.y<=10?ye.preventDefault():E.contains(ye.target)||q(!1),document.removeEventListener("pointermove",Ie),H.current=null};return H.current!==null&&(document.addEventListener("pointermove",Ie),document.addEventListener("pointerup",Xe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ie),document.removeEventListener("pointerup",Xe,{capture:!0})}}},[E,q,H]),T.useEffect(()=>{const Q=()=>q(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[q]);const[J,De]=s2(Q=>{const Ie=O().filter(de=>!de.disabled),Xe=Ie.find(de=>de.ref.current===document.activeElement),ye=a2(Ie,Q,Xe);ye&&setTimeout(()=>ye.ref.current.focus())}),re=T.useCallback((Q,Ie,Xe)=>{const ye=!le.current&&!Xe;(b.value!==void 0&&b.value===Ie||ye)&&(R(Q),ye&&(le.current=!0))},[b.value]),ee=T.useCallback(()=>E==null?void 0:E.focus(),[E]),ue=T.useCallback((Q,Ie,Xe)=>{const ye=!le.current&&!Xe;(b.value!==void 0&&b.value===Ie||ye)&&M(Q)},[b.value]),xe=r==="popper"?yy:qI,Ut=xe===yy?{side:o,sideOffset:c,align:u,alignOffset:f,arrowPadding:d,collisionBoundary:p,collisionPadding:h,sticky:S,hideWhenDetached:v,avoidCollisions:w}:{};return y.jsx(BI,{scope:n,content:E,viewport:P,onViewportChange:k,itemRefCallback:re,selectedItem:A,onItemLeave:ee,itemTextRefCallback:ue,focusSelectedItem:G,selectedItemText:I,position:r,isPositioned:D,searchRef:J,children:y.jsx(DI,{as:sB,allowPinchZoom:!0,children:y.jsx(EI,{asChild:!0,trapped:b.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:Ee(i,Q=>{var Ie;(Ie=b.trigger)==null||Ie.focus({preventScroll:!0}),Q.preventDefault()}),children:y.jsx(Tv,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:y.jsx(xe,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:Q=>Q.preventDefault(),..._,...Ut,onPlaced:()=>W(!0),ref:x,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:Ee(_.onKeyDown,Q=>{const Ie=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!Ie&&Q.key.length===1&&De(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let ye=O().filter(de=>!de.disabled).map(de=>de.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(ye=ye.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const de=Q.target,ve=ye.indexOf(de);ye=ye.slice(ve+1)}setTimeout(()=>j(ye)),Q.preventDefault()}})})})})})})});FI.displayName=iB;var aB="SelectItemAlignedPosition",qI=T.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=Ps(Sa,n),a=Vs(Sa,n),[o,c]=T.useState(null),[u,f]=T.useState(null),d=ht(e,x=>f(x)),p=cm(n),h=T.useRef(!1),S=T.useRef(!0),{viewport:v,selectedItem:w,selectedItemText:_,focusSelectedItem:b}=a,E=T.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&u&&v&&w&&_){const x=s.trigger.getBoundingClientRect(),A=u.getBoundingClientRect(),R=s.valueNode.getBoundingClientRect(),I=_.getBoundingClientRect();if(s.dir!=="rtl"){const de=I.left-A.left,ve=R.left-de,dt=x.left-ve,zt=x.width+dt,Qn=Math.max(zt,A.width),Yn=window.innerWidth-Jn,Lr=cT(ve,[Jn,Math.max(Jn,Yn-Qn)]);o.style.minWidth=zt+"px",o.style.left=Lr+"px"}else{const de=A.right-I.right,ve=window.innerWidth-R.right-de,dt=window.innerWidth-x.right-ve,zt=x.width+dt,Qn=Math.max(zt,A.width),Yn=window.innerWidth-Jn,Lr=cT(ve,[Jn,Math.max(Jn,Yn-Qn)]);o.style.minWidth=zt+"px",o.style.right=Lr+"px"}const M=p(),O=window.innerHeight-Jn*2,D=v.scrollHeight,W=window.getComputedStyle(u),le=parseInt(W.borderTopWidth,10),j=parseInt(W.paddingTop,10),G=parseInt(W.borderBottomWidth,10),q=parseInt(W.paddingBottom,10),H=le+j+D+q+G,J=Math.min(w.offsetHeight*5,H),De=window.getComputedStyle(v),re=parseInt(De.paddingTop,10),ee=parseInt(De.paddingBottom,10),ue=x.top+x.height/2-Jn,xe=O-ue,Ut=w.offsetHeight/2,Q=w.offsetTop+Ut,Ie=le+j+Q,Xe=H-Ie;if(Ie<=ue){const de=M.length>0&&w===M[M.length-1].ref.current;o.style.bottom="0px";const ve=u.clientHeight-v.offsetTop-v.offsetHeight,dt=Math.max(xe,Ut+(de?ee:0)+ve+G),zt=Ie+dt;o.style.height=zt+"px"}else{const de=M.length>0&&w===M[0].ref.current;o.style.top="0px";const dt=Math.max(ue,le+v.offsetTop+(de?re:0)+Ut)+Xe;o.style.height=dt+"px",v.scrollTop=Ie-ue+v.offsetTop}o.style.margin=`${Jn}px 0`,o.style.minHeight=J+"px",o.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>h.current=!0)}},[p,s.trigger,s.valueNode,o,u,v,w,_,s.dir,r]);Xt(()=>E(),[E]);const[N,P]=T.useState();Xt(()=>{u&&P(window.getComputedStyle(u).zIndex)},[u]);const k=T.useCallback(x=>{x&&S.current===!0&&(E(),b==null||b(),S.current=!1)},[E,b]);return y.jsx(lB,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:h,onScrollButtonChange:k,children:y.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:y.jsx(Pe.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});qI.displayName=aB;var oB="SelectPopperPosition",yy=T.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Jn,...s}=t,a=um(n);return y.jsx(ex,{...a,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});yy.displayName=oB;var[lB,L_]=Cl(Sa,{}),vy="SelectViewport",HI=T.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=Vs(vy,n),a=L_(vy,n),o=ht(e,s.onViewportChange),c=T.useRef(0);return y.jsxs(y.Fragment,{children:[y.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),y.jsx(lm.Slot,{scope:n,children:y.jsx(Pe.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ee(i.onScroll,u=>{const f=u.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:p}=a;if(p!=null&&p.current&&d){const h=Math.abs(c.current-f.scrollTop);if(h>0){const S=window.innerHeight-Jn*2,v=parseFloat(d.style.minHeight),w=parseFloat(d.style.height),_=Math.max(v,w);if(_<S){const b=_+h,E=Math.min(S,b),N=b-E;d.style.height=E+"px",d.style.bottom==="0px"&&(f.scrollTop=N>0?N:0,d.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});HI.displayName=vy;var GI="SelectGroup",[cB,uB]=Cl(GI),fB=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=wu();return y.jsx(cB,{scope:n,id:i,children:y.jsx(Pe.div,{role:"group","aria-labelledby":i,...r,ref:e})})});fB.displayName=GI;var $I="SelectLabel",KI=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=uB($I,n);return y.jsx(Pe.div,{id:i.id,...r,ref:e})});KI.displayName=$I;var ud="SelectItem",[hB,QI]=Cl(ud),YI=T.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...a}=t,o=Ps(ud,n),c=Vs(ud,n),u=o.value===r,[f,d]=T.useState(s??""),[p,h]=T.useState(!1),S=ht(e,b=>{var E;return(E=c.itemRefCallback)==null?void 0:E.call(c,b,r,i)}),v=wu(),w=T.useRef("touch"),_=()=>{i||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return y.jsx(hB,{scope:n,value:r,disabled:i,textId:v,isSelected:u,onItemTextChange:T.useCallback(b=>{d(E=>E||((b==null?void 0:b.textContent)??"").trim())},[]),children:y.jsx(lm.ItemSlot,{scope:n,value:r,disabled:i,textValue:f,children:y.jsx(Pe.div,{role:"option","aria-labelledby":v,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:S,onFocus:Ee(a.onFocus,()=>h(!0)),onBlur:Ee(a.onBlur,()=>h(!1)),onClick:Ee(a.onClick,()=>{w.current!=="mouse"&&_()}),onPointerUp:Ee(a.onPointerUp,()=>{w.current==="mouse"&&_()}),onPointerDown:Ee(a.onPointerDown,b=>{w.current=b.pointerType}),onPointerMove:Ee(a.onPointerMove,b=>{var E;w.current=b.pointerType,i?(E=c.onItemLeave)==null||E.call(c):w.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ee(a.onPointerLeave,b=>{var E;b.currentTarget===document.activeElement&&((E=c.onItemLeave)==null||E.call(c))}),onKeyDown:Ee(a.onKeyDown,b=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&b.key===" "||(Wz.includes(b.key)&&_(),b.key===" "&&b.preventDefault())})})})})});YI.displayName=ud;var ac="SelectItemText",XI=T.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,a=Ps(ac,n),o=Vs(ac,n),c=QI(ac,n),u=tB(ac,n),[f,d]=T.useState(null),p=ht(e,_=>d(_),c.onItemTextChange,_=>{var b;return(b=o.itemTextRefCallback)==null?void 0:b.call(o,_,c.value,c.disabled)}),h=f==null?void 0:f.textContent,S=T.useMemo(()=>y.jsx("option",{value:c.value,disabled:c.disabled,children:h},c.value),[c.disabled,c.value,h]),{onNativeOptionAdd:v,onNativeOptionRemove:w}=u;return Xt(()=>(v(S),()=>w(S)),[v,w,S]),y.jsxs(y.Fragment,{children:[y.jsx(Pe.span,{id:c.textId,...s,ref:p}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?cl.createPortal(s.children,a.valueNode):null]})});XI.displayName=ac;var WI="SelectItemIndicator",ZI=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return QI(WI,n).isSelected?y.jsx(Pe.span,{"aria-hidden":!0,...r,ref:e}):null});ZI.displayName=WI;var _y="SelectScrollUpButton",JI=T.forwardRef((t,e)=>{const n=Vs(_y,t.__scopeSelect),r=L_(_y,t.__scopeSelect),[i,s]=T.useState(!1),a=ht(e,r.onScrollButtonChange);return Xt(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=c.scrollTop>0;s(u)};const c=n.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?y.jsx(t2,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=n;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});JI.displayName=_y;var by="SelectScrollDownButton",e2=T.forwardRef((t,e)=>{const n=Vs(by,t.__scopeSelect),r=L_(by,t.__scopeSelect),[i,s]=T.useState(!1),a=ht(e,r.onScrollButtonChange);return Xt(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;s(f)};const c=n.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?y.jsx(t2,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=n;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});e2.displayName=by;var t2=T.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=Vs("SelectScrollButton",n),a=T.useRef(null),o=cm(n),c=T.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return T.useEffect(()=>()=>c(),[c]),Xt(()=>{var f;const u=o().find(d=>d.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[o]),y.jsx(Pe.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Ee(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:Ee(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:Ee(i.onPointerLeave,()=>{c()})})}),dB="SelectSeparator",n2=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return y.jsx(Pe.div,{"aria-hidden":!0,...r,ref:e})});n2.displayName=dB;var wy="SelectArrow",mB=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=um(n),s=Ps(wy,n),a=Vs(wy,n);return s.open&&a.position==="popper"?y.jsx(tx,{...i,...r,ref:e}):null});mB.displayName=wy;var pB="SelectBubbleInput",r2=T.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=T.useRef(null),s=ht(r,i),a=cz(e);return T.useEffect(()=>{const o=i.current;if(!o)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&f){const d=new Event("change",{bubbles:!0});f.call(o,e),o.dispatchEvent(d)}},[a,e]),y.jsx(Pe.select,{...n,style:{...rx,...n.style},ref:s,defaultValue:e})});r2.displayName=pB;function i2(t){return t===""||t===void 0}function s2(t){const e=ws(t),n=T.useRef(""),r=T.useRef(0),i=T.useCallback(a=>{const o=n.current+a;e(o),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(o)},[e]),s=T.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return T.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function a2(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=gB(t,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function gB(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var yB=MI,o2=VI,vB=LI,_B=jI,bB=UI,l2=zI,wB=HI,c2=KI,u2=YI,EB=XI,TB=ZI,f2=JI,h2=e2,d2=n2;/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),m2=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var AB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},c)=>T.createElement("svg",{ref:c,...AB,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:m2("lucide",i),...o},[...a.map(([u,f])=>T.createElement(u,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=(t,e)=>{const n=T.forwardRef(({className:r,...i},s)=>T.createElement(xB,{ref:s,iconNode:e,className:m2(`lucide-${SB(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RB=rn("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=rn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=rn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=rn("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=rn("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=rn("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=rn("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=rn("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=rn("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=rn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=rn("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=rn("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=rn("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=rn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=rn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),mo=yB,po=vB,Xs=T.forwardRef(({className:t,children:e,...n},r)=>y.jsxs(o2,{ref:r,className:tt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,y.jsx(_B,{asChild:!0,children:y.jsx(p2,{className:"h-4 w-4 opacity-50"})})]}));Xs.displayName=o2.displayName;const g2=T.forwardRef(({className:t,...e},n)=>y.jsx(f2,{ref:n,className:tt("flex cursor-default items-center justify-center py-1",t),...e,children:y.jsx(IB,{className:"h-4 w-4"})}));g2.displayName=f2.displayName;const y2=T.forwardRef(({className:t,...e},n)=>y.jsx(h2,{ref:n,className:tt("flex cursor-default items-center justify-center py-1",t),...e,children:y.jsx(p2,{className:"h-4 w-4"})}));y2.displayName=h2.displayName;const Ws=T.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>y.jsx(bB,{children:y.jsxs(l2,{ref:i,className:tt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[y.jsx(g2,{}),y.jsx(wB,{className:tt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),y.jsx(y2,{})]})}));Ws.displayName=l2.displayName;const LB=T.forwardRef(({className:t,...e},n)=>y.jsx(c2,{ref:n,className:tt("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));LB.displayName=c2.displayName;const Fe=T.forwardRef(({className:t,children:e,...n},r)=>y.jsxs(u2,{ref:r,className:tt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[y.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:y.jsx(TB,{children:y.jsx(CB,{className:"h-4 w-4"})})}),y.jsx(EB,{children:e})]}));Fe.displayName=u2.displayName;const jB=T.forwardRef(({className:t,...e},n)=>y.jsx(d2,{ref:n,className:tt("-mx-1 my-1 h-px bg-muted",t),...e}));jB.displayName=d2.displayName;const UB=P_("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function on({className:t,variant:e,...n}){return y.jsx("div",{className:tt(UB({variant:e}),t),...n})}var zB="Separator",wT="horizontal",BB=["horizontal","vertical"],v2=T.forwardRef((t,e)=>{const{decorative:n,orientation:r=wT,...i}=t,s=FB(r)?r:wT,o=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return y.jsx(Pe.div,{"data-orientation":s,...o,...i,ref:e})});v2.displayName=zB;function FB(t){return BB.includes(t)}var _2=v2;const Ja=T.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>y.jsx(_2,{ref:i,decorative:n,orientation:e,className:tt("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Ja.displayName=_2.displayName;const b2=T.forwardRef(({className:t,...e},n)=>y.jsx("textarea",{className:tt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));b2.displayName="Textarea";var qB="Label",w2=T.forwardRef((t,e)=>y.jsx(Pe.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));w2.displayName=qB;var E2=w2;const HB=P_("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),dr=T.forwardRef(({className:t,...e},n)=>y.jsx(E2,{ref:n,className:tt(HB(),t),...e}));dr.displayName=E2.displayName;const Mp=[{id:"mobile-ios",name:"iOS Mobile App",icon:"📱",description:"iPhone and iPad application"},{id:"mobile-android",name:"Android Mobile App",icon:"🤖",description:"Android smartphone and tablet app"},{id:"web-dashboard",name:"Web Dashboard",icon:"💻",description:"Admin and analytics web interface"},{id:"web-customer",name:"Customer Portal",icon:"🌐",description:"Customer-facing web application"},{id:"api-backend",name:"Backend API",icon:"⚙️",description:"Server-side API and services"},{id:"desktop-app",name:"Desktop Application",icon:"🖥️",description:"Windows/Mac desktop software"}],GB=({onSubmit:t})=>{const[e,n]=T.useState(""),[r,i]=T.useState(""),[s,a]=T.useState("medium"),[o,c]=T.useState(""),[u,f]=T.useState([]),[d,p]=T.useState(""),[h,S]=T.useState(!1),[v,w]=T.useState(""),[_,b]=T.useState(""),[E,N]=T.useState(""),[P,k]=T.useState(""),x=async O=>{if(O.preventDefault(),!e.trim()||!r.trim()||!o||!v.trim()||!_.trim())return;const D=Mp.find(W=>W.id===o);if(D){S(!0);try{await t({title:e.trim(),description:r.trim(),userPriority:s,appId:o,appName:D.name,tags:u,testerInfo:{name:v.trim(),email:_.trim(),role:E.trim()||"Beta Tester",company:P.trim()||void 0}}),n(""),i(""),a("medium"),c(""),f([]),w(""),b(""),N(""),k("")}catch(W){console.error("Failed to submit request:",W)}finally{S(!1)}}},A=()=>{d.trim()&&!u.includes(d.trim())&&(f([...u,d.trim()]),p(""))},R=O=>{f(u.filter(D=>D!==O))},I=O=>{O.key==="Enter"&&O.target===O.currentTarget&&(O.preventDefault(),A())},M=Mp.find(O=>O.id===o);return y.jsxs(bn,{children:[y.jsx(wn,{children:y.jsxs(En,{className:"flex items-center",children:[y.jsx(DB,{className:"mr-2 h-5 w-5"}),"Submit Feature Request"]})}),y.jsx(Tn,{children:y.jsxs("form",{onSubmit:x,className:"space-y-6",children:[y.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg space-y-4",children:[y.jsx("h3",{className:"font-medium text-blue-900",children:"Tester Information"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx(dr,{htmlFor:"tester-name",children:"Full Name *"}),y.jsx(ji,{id:"tester-name",value:v,onChange:O=>w(O.target.value),placeholder:"Your full name",required:!0})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(dr,{htmlFor:"tester-email",children:"Email Address *"}),y.jsx(ji,{id:"tester-email",type:"email",value:_,onChange:O=>b(O.target.value),placeholder:"your.email@company.com",required:!0})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(dr,{htmlFor:"tester-role",children:"Role/Title"}),y.jsx(ji,{id:"tester-role",value:E,onChange:O=>N(O.target.value),placeholder:"e.g., Product Manager, QA Engineer, Beta Tester"})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(dr,{htmlFor:"tester-company",children:"Company (Optional)"}),y.jsx(ji,{id:"tester-company",value:P,onChange:O=>k(O.target.value),placeholder:"Your company name"})]})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(dr,{htmlFor:"app",children:"Which Application? *"}),y.jsxs(mo,{value:o,onValueChange:c,required:!0,children:[y.jsx(Xs,{children:y.jsx(po,{placeholder:"Select the app you're providing feedback on"})}),y.jsx(Ws,{children:Mp.map(O=>y.jsx(Fe,{value:O.id,children:y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("span",{children:O.icon}),y.jsxs("div",{children:[y.jsx("div",{className:"font-medium",children:O.name}),y.jsx("div",{className:"text-xs text-gray-500",children:O.description})]})]})},O.id))})]}),M&&y.jsx("div",{className:"flex items-center space-x-2 mt-2",children:y.jsxs(on,{variant:"outline",children:[M.icon," ",M.name]})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(dr,{htmlFor:"title",children:"Feature Request Title *"}),y.jsx(ji,{id:"title",value:e,onChange:O=>n(O.target.value),placeholder:"Brief, descriptive title for your feature request",required:!0})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(dr,{htmlFor:"description",children:"Detailed Description *"}),y.jsx(b2,{id:"description",value:r,onChange:O=>i(O.target.value),placeholder:`Please provide a detailed description including:

• What problem does this solve?
• How should it work?
• Who would benefit from this feature?
• Any specific requirements or constraints?
• Steps to reproduce (if it's a bug fix)
• Expected vs actual behavior

The more detail you provide, the better our AI can analyze and prioritize your request!`,rows:8,required:!0})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(dr,{htmlFor:"priority",children:"Priority Level"}),y.jsxs(mo,{value:s,onValueChange:O=>a(O),children:[y.jsx(Xs,{children:y.jsx(po,{})}),y.jsxs(Ws,{children:[y.jsx(Fe,{value:"low",children:"🟢 Low - Nice to have enhancement"}),y.jsx(Fe,{value:"medium",children:"🟡 Medium - Would improve my workflow"}),y.jsx(Fe,{value:"high",children:"🟠 High - Important for productivity"}),y.jsx(Fe,{value:"critical",children:"🔴 Critical - Blocking my work completely"})]})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(dr,{htmlFor:"tags",children:"Tags (Optional)"}),y.jsxs("div",{className:"flex space-x-2",children:[y.jsx(ji,{id:"tags",value:d,onChange:O=>p(O.target.value),onKeyPress:I,placeholder:"Add tags (e.g., mobile, performance, ui, login, dashboard)"}),y.jsx(An,{type:"button",onClick:A,variant:"outline",size:"sm",children:y.jsx(Ey,{className:"h-4 w-4"})})]}),u.length>0&&y.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:u.map(O=>y.jsxs(on,{variant:"secondary",className:"flex items-center gap-1",children:[O,y.jsx(kB,{className:"h-3 w-3 cursor-pointer",onClick:()=>R(O)})]},O))})]}),y.jsx(An,{type:"submit",disabled:h||!e.trim()||!r.trim()||!o||!v.trim()||!_.trim(),className:"w-full",children:h?y.jsxs(y.Fragment,{children:[y.jsx(oh,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting & Running AI Analysis..."]}):y.jsxs(y.Fragment,{children:[y.jsx(Ey,{className:"mr-2 h-4 w-4"}),"Submit Feature Request"]})}),y.jsxs("div",{className:"text-sm text-gray-600 bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-lg border border-blue-200",children:[y.jsx("strong",{children:"🤖 AI-Powered Analysis:"}),y.jsxs("ul",{className:"mt-2 space-y-1 list-disc list-inside",children:[y.jsx("li",{children:"Our AI will automatically categorize your request (Enhancement, Bug Fix, New Feature, etc.)"}),y.jsx("li",{children:"Complexity and clarity scores will be calculated"}),y.jsx("li",{children:"Priority scoring based on business impact and user demand"}),y.jsx("li",{children:"Effort estimation for development planning"}),y.jsx("li",{children:"Duplicate detection to avoid redundant requests"}),y.jsx("li",{children:"Enhancement suggestions to improve your request"})]})]})]})})]})};function $B(){const{user:t,loading:e,error:n,signInAnonymous:r,forceSkipAuth:i}=uj(),s=t!=null&&t.uid.includes("demo")?"external":"admin",{requests:a,loading:o,error:c,submitRequest:u,updateRequestStatus:f,voteOnRequest:d}=M9((t==null?void 0:t.uid)||null,s),{loading:p}=P9((t==null?void 0:t.uid)||null),[h,S]=T.useState("requests"),[v,w]=T.useState("all"),[_,b]=T.useState("all"),[E,N]=T.useState("all"),[P,k]=T.useState("");if(n)return y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-6",children:y.jsxs(bn,{className:"w-full max-w-md",children:[y.jsx(wn,{className:"text-center",children:y.jsxs(En,{className:"flex items-center justify-center text-red-600",children:[y.jsx(bT,{className:"mr-2 h-5 w-5"}),"Authentication Error"]})}),y.jsxs(Tn,{className:"space-y-4",children:[y.jsx("p",{className:"text-sm text-gray-600 text-center",children:n}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(An,{onClick:r,className:"w-full",children:[y.jsx(Of,{className:"mr-2 h-4 w-4"}),"Try Anonymous Sign-In"]}),y.jsx(An,{onClick:i,variant:"outline",className:"w-full",children:"Continue as Demo User"}),y.jsxs(An,{onClick:()=>window.location.reload(),variant:"ghost",className:"w-full",children:[y.jsx(MB,{className:"mr-2 h-4 w-4"}),"Reload Page"]})]})]})]})});if(e)return y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-6",children:y.jsxs(bn,{className:"w-full max-w-md",children:[y.jsx(wn,{className:"text-center",children:y.jsxs(En,{className:"flex items-center justify-center",children:[y.jsx(oh,{className:"mr-2 h-5 w-5 animate-spin"}),"Loading System"]})}),y.jsxs(Tn,{className:"space-y-4",children:[y.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Initializing AI-Enhanced Feature Request System..."}),y.jsxs("div",{className:"flex items-center justify-center space-x-2 text-xs text-gray-500",children:[y.jsx(NB,{className:"h-3 w-3"}),y.jsx("span",{children:"Taking too long? Try demo mode below"})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(An,{onClick:i,className:"w-full",size:"lg",children:[y.jsx(Of,{className:"mr-2 h-4 w-4"}),"Continue with Demo Mode"]}),y.jsx(An,{onClick:r,variant:"outline",className:"w-full",children:"Try Authentication"})]}),y.jsx("div",{className:"text-xs text-gray-500 text-center",children:"Demo mode provides full functionality without authentication"})]})]})});if(!t)return setTimeout(()=>{!t&&!e&&i()},2e3),y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-6",children:y.jsxs(bn,{className:"w-full max-w-md",children:[y.jsx(wn,{className:"text-center",children:y.jsx(En,{children:"AI-Enhanced Feature Request System"})}),y.jsxs(Tn,{className:"space-y-4",children:[y.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Advanced feature request management with AI-powered analysis, priority scoring, and business impact assessment"}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(An,{onClick:i,className:"w-full",size:"lg",children:[y.jsx(Of,{className:"mr-2 h-4 w-4"}),"Start Demo Mode"]}),y.jsx(An,{onClick:r,variant:"outline",className:"w-full",children:"Sign In as Beta Tester"})]}),y.jsx("div",{className:"text-xs text-gray-500 text-center",children:"Auto-starting demo mode in 2 seconds..."})]})]})});const x=a.filter(R=>{var I;return!(v!=="all"&&R.status!==v||_!=="all"&&((I=R.aiAnalysis)==null?void 0:I.category)!==_||E!=="all"&&R.userPriority!==E||P&&!R.title.toLowerCase().includes(P.toLowerCase())&&!R.description.toLowerCase().includes(P.toLowerCase()))}),A=[...new Set(a.map(R=>{var I;return(I=R.aiAnalysis)==null?void 0:I.category}).filter(Boolean))];return y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6",children:y.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[y.jsxs("div",{className:"text-center space-y-4",children:[y.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"AI-Enhanced Feature Request System"}),y.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[y.jsxs(on,{variant:"secondary",className:"px-3 py-1",children:[y.jsx(Of,{className:"mr-1 h-3 w-3"}),s==="admin"?"Admin":"Beta Tester",": ",t.uid.substring(0,8),"..."]}),t.uid.includes("demo")&&y.jsx(on,{variant:"outline",className:"px-3 py-1",children:"Demo Mode - Fully Functional"})]}),y.jsx("p",{className:"text-sm text-gray-600 max-w-2xl mx-auto",children:"Submit feature requests with automatic AI analysis, priority scoring, and comprehensive tracking. Select your specific app/platform for targeted feedback management."})]}),y.jsxs(ez,{value:h,onValueChange:S,className:"w-full",children:[y.jsxs(wI,{className:"grid w-full grid-cols-3",children:[y.jsxs(rh,{value:"requests",className:"flex items-center",children:[y.jsx(Ey,{className:"mr-2 h-4 w-4"}),"Feature Requests"]}),y.jsxs(rh,{value:"dashboard",className:"flex items-center",children:[y.jsx(RB,{className:"mr-2 h-4 w-4"}),"Analytics"]}),y.jsxs(rh,{value:"settings",className:"flex items-center",children:[y.jsx(VB,{className:"mr-2 h-4 w-4"}),"Settings"]})]}),y.jsxs(ih,{value:"requests",className:"space-y-6",children:[y.jsx(GB,{onSubmit:u}),y.jsx(Ja,{}),y.jsxs(bn,{children:[y.jsx(wn,{children:y.jsxs(En,{className:"flex items-center",children:[y.jsx(OB,{className:"mr-2 h-5 w-5"}),"Filter & Search Requests"]})}),y.jsx(Tn,{children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-sm font-medium",children:"Search"}),y.jsxs("div",{className:"relative",children:[y.jsx(PB,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),y.jsx(ji,{placeholder:"Search requests...",value:P,onChange:R=>k(R.target.value),className:"pl-10"})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-sm font-medium",children:"Status"}),y.jsxs(mo,{value:v,onValueChange:w,children:[y.jsx(Xs,{children:y.jsx(po,{})}),y.jsxs(Ws,{children:[y.jsx(Fe,{value:"all",children:"All Statuses"}),y.jsx(Fe,{value:"submitted",children:"Submitted"}),y.jsx(Fe,{value:"analyzing",children:"Analyzing"}),y.jsx(Fe,{value:"reviewed",children:"Reviewed"}),y.jsx(Fe,{value:"approved",children:"Approved"}),y.jsx(Fe,{value:"in-progress",children:"In Progress"}),y.jsx(Fe,{value:"completed",children:"Completed"}),y.jsx(Fe,{value:"rejected",children:"Rejected"})]})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-sm font-medium",children:"Category"}),y.jsxs(mo,{value:_,onValueChange:b,children:[y.jsx(Xs,{children:y.jsx(po,{})}),y.jsxs(Ws,{children:[y.jsx(Fe,{value:"all",children:"All Categories"}),A.map(R=>y.jsx(Fe,{value:R,children:R},R))]})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("label",{className:"text-sm font-medium",children:"Priority"}),y.jsxs(mo,{value:E,onValueChange:N,children:[y.jsx(Xs,{children:y.jsx(po,{})}),y.jsxs(Ws,{children:[y.jsx(Fe,{value:"all",children:"All Priorities"}),y.jsx(Fe,{value:"low",children:"Low"}),y.jsx(Fe,{value:"medium",children:"Medium"}),y.jsx(Fe,{value:"high",children:"High"}),y.jsx(Fe,{value:"critical",children:"Critical"})]})]})]})]})})]}),y.jsxs(bn,{children:[y.jsx(wn,{children:y.jsxs(En,{children:["Feature Requests (",x.length," of ",a.length,")"]})}),y.jsx(Tn,{children:o?y.jsxs("div",{className:"flex items-center justify-center py-8",children:[y.jsx(oh,{className:"h-6 w-6 animate-spin mr-2"}),y.jsx("span",{children:"Loading requests..."})]}):c?y.jsxs("div",{className:"text-center py-8 text-red-500",children:[y.jsx(bT,{className:"h-8 w-8 mx-auto mb-2"}),y.jsxs("p",{children:["Error: ",c]})]}):x.length===0?y.jsxs("div",{className:"text-center py-8 text-gray-500",children:[y.jsx("p",{children:"No feature requests found"}),y.jsx("p",{className:"text-sm",children:"Submit your first request above or adjust filters"})]}):y.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:x.map(R=>y.jsxs(bn,{className:"border-l-4 border-l-blue-500",children:[y.jsx(wn,{className:"pb-3",children:y.jsx("div",{className:"flex items-start justify-between",children:y.jsxs("div",{className:"flex-1",children:[y.jsx(En,{className:"text-lg",children:R.title}),y.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[y.jsx(on,{variant:"outline",children:R.status}),y.jsx(on,{variant:"secondary",children:R.userPriority}),y.jsx(on,{variant:"outline",children:R.appName})]})]})})}),y.jsxs(Tn,{children:[y.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-3",children:R.description}),R.aiAnalysis&&y.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg mb-4",children:[y.jsx("h4",{className:"text-sm font-medium mb-2",children:"AI Analysis"}),y.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[y.jsxs("div",{children:["Category: ",R.aiAnalysis.category]}),y.jsxs("div",{children:["Complexity: ",R.aiAnalysis.complexity,"/5"]}),y.jsxs("div",{children:["Clarity: ",R.aiAnalysis.clarityScore,"/10"]}),y.jsxs("div",{children:["Sentiment: ",R.aiAnalysis.sentiment]})]})]}),y.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[y.jsxs("div",{children:["By: ",R.submitterName||"Anonymous"]}),y.jsxs("div",{children:["Votes: ",R.votes]})]}),y.jsxs("div",{className:"flex items-center space-x-2 mt-4",children:[y.jsx(An,{size:"sm",variant:"outline",onClick:()=>d(R.id,!0),children:"👍 Vote"}),s==="admin"&&y.jsxs(mo,{value:R.status,onValueChange:I=>f(R.id,I),children:[y.jsx(Xs,{className:"w-32",children:y.jsx(po,{})}),y.jsxs(Ws,{children:[y.jsx(Fe,{value:"submitted",children:"Submitted"}),y.jsx(Fe,{value:"reviewed",children:"Reviewed"}),y.jsx(Fe,{value:"approved",children:"Approved"}),y.jsx(Fe,{value:"in-progress",children:"In Progress"}),y.jsx(Fe,{value:"completed",children:"Completed"}),y.jsx(Fe,{value:"rejected",children:"Rejected"})]})]})]})]})]},R.id))})})]})]}),y.jsx(ih,{value:"dashboard",children:y.jsxs(bn,{children:[y.jsx(wn,{children:y.jsx(En,{children:"Analytics Dashboard"})}),y.jsx(Tn,{children:p?y.jsxs("div",{className:"flex items-center justify-center py-12",children:[y.jsx(oh,{className:"h-8 w-8 animate-spin mr-2"}),y.jsx("span",{children:"Loading analytics..."})]}):y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[y.jsxs(bn,{children:[y.jsx(wn,{className:"pb-2",children:y.jsx(En,{className:"text-sm font-medium",children:"Total Requests"})}),y.jsx(Tn,{children:y.jsx("div",{className:"text-2xl font-bold",children:a.length})})]}),y.jsxs(bn,{children:[y.jsx(wn,{className:"pb-2",children:y.jsx(En,{className:"text-sm font-medium",children:"Pending Review"})}),y.jsx(Tn,{children:y.jsx("div",{className:"text-2xl font-bold text-orange-600",children:a.filter(R=>["submitted","analyzing","reviewed"].includes(R.status)).length})})]}),y.jsxs(bn,{children:[y.jsx(wn,{className:"pb-2",children:y.jsx(En,{className:"text-sm font-medium",children:"Completed"})}),y.jsx(Tn,{children:y.jsx("div",{className:"text-2xl font-bold text-green-600",children:a.filter(R=>R.status==="completed").length})})]})]})})]})}),y.jsx(ih,{value:"settings",children:y.jsxs(bn,{children:[y.jsx(wn,{children:y.jsx(En,{children:"System Settings & Status"})}),y.jsxs(Tn,{className:"space-y-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("h3",{className:"font-medium",children:"User Role & Access"}),y.jsx(on,{variant:s==="admin"?"default":"secondary",children:s==="admin"?"Administrator":"Beta Tester"}),y.jsx("p",{className:"text-sm text-gray-600",children:s==="admin"?"You have full access to manage all feature requests, view analytics, and use admin tools.":"You can submit feature requests, vote on existing ones, and view public analytics."})]}),y.jsx(Ja,{}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("h3",{className:"font-medium",children:"Authentication Status"}),y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx(on,{variant:"outline",className:"text-green-600",children:"✅ System Active"}),y.jsx(on,{variant:"outline",className:t.uid.includes("demo")?"text-blue-600":"text-green-600",children:t.uid.includes("demo")?"🔄 Demo Mode":"🔐 Authenticated"})]}),y.jsx("p",{className:"text-sm text-gray-600",children:t.uid.includes("demo")?"Running in demo mode with full functionality. All data is stored locally.":"Connected to live database with real-time synchronization."})]}),y.jsx(Ja,{}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("h3",{className:"font-medium",children:"Enhanced Features Implemented"}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx("h4",{className:"text-sm font-medium text-green-600",children:"✅ Completed"}),y.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[y.jsx("li",{children:"• Enhanced app selection with 6 platform options"}),y.jsx("li",{children:"• Comprehensive admin interface"}),y.jsx("li",{children:"• Complete status workflow tracking"}),y.jsx("li",{children:"• Detailed user identification system"}),y.jsx("li",{children:"• Fixed authentication loading issues"}),y.jsx("li",{children:"• Demo mode with full functionality"})]})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("h4",{className:"text-sm font-medium text-blue-600",children:"🔄 Available Features"}),y.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[y.jsx("li",{children:"• Bulk status updates and management"}),y.jsx("li",{children:"• Advanced priority filtering and sorting"}),y.jsx("li",{children:"• Tester contact information tracking"}),y.jsx("li",{children:"• Complete request lifecycle management"}),y.jsx("li",{children:"• Real-time analytics and reporting"}),y.jsx("li",{children:"• AI-powered request analysis"})]})]})]})]}),y.jsx(Ja,{}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("h3",{className:"font-medium",children:"AI Analysis Features"}),y.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[y.jsx("li",{children:"✅ Automated request categorization"}),y.jsx("li",{children:"✅ Complexity and clarity scoring"}),y.jsx("li",{children:"✅ Priority calculation algorithm"}),y.jsx("li",{children:"✅ Effort estimation"}),y.jsx("li",{children:"✅ Business impact assessment"}),y.jsx("li",{children:"✅ Duplicate detection"}),y.jsx("li",{children:"✅ Enhancement suggestions"})]})]}),y.jsx(Ja,{}),y.jsxs("div",{className:"space-y-2",children:[y.jsx("h3",{className:"font-medium",children:"System Status"}),y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx(on,{variant:"outline",className:"text-green-600",children:"✅ AI Analysis Engine"}),y.jsx(on,{variant:"outline",className:"text-green-600",children:"✅ Request Management"}),y.jsx(on,{variant:"outline",className:"text-green-600",children:"✅ Analytics Dashboard"}),y.jsx(on,{variant:"outline",className:"text-green-600",children:"✅ Demo Mode Active"})]})]})]})]})})]})]})})}function KB(){return y.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-gray-50 to-blue-50 p-6 text-center",children:y.jsxs("div",{className:"space-y-6 max-w-md",children:[y.jsxs("div",{className:"space-y-3",children:[y.jsx("h1",{className:"text-8xl font-bold text-blue-600",children:"404"}),y.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Page Not Found"}),y.jsx("p",{className:"text-muted-foreground",children:"The page you're looking for doesn't exist or may have been moved."})]}),y.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[y.jsx(An,{asChild:!0,children:y.jsx("a",{href:"/",children:"Return Home"})}),y.jsx(An,{variant:"outline",onClick:()=>window.history.back(),children:"Go Back"})]})]})})}const QB=new Mk,YB=()=>y.jsx(Vk,{client:QB,children:y.jsxs(ck,{children:[y.jsx(_M,{}),y.jsx(T4,{children:y.jsxs(b4,{children:[y.jsx(Ug,{path:"/",element:y.jsx($B,{})}),y.jsx(Ug,{path:"*",element:y.jsx(KB,{})})]})})]})});BD.createRoot(document.getElementById("root")).render(y.jsx(YB,{}));
