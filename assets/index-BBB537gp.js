var A0=t=>{throw TypeError(t)};var Cm=(t,e,n)=>e.has(t)||A0("Cannot "+n);var U=(t,e,n)=>(Cm(t,e,"read from private field"),n?n.call(t):e.get(t)),Ee=(t,e,n)=>e.has(t)?A0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ie=(t,e,n,r)=>(Cm(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Bt=(t,e,n)=>(Cm(t,e,"access private method"),n);var ef=(t,e,n,r)=>({set _(i){ie(t,e,i,n)},get _(){return U(t,e,r)}});function G2(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function VT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kT={exports:{}},fd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $2=Symbol.for("react.transitional.element"),K2=Symbol.for("react.fragment");function LT(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:$2,type:t,key:r,ref:e!==void 0?e:null,props:n}}fd.Fragment=K2;fd.jsx=LT;fd.jsxs=LT;kT.exports=fd;var g=kT.exports,jT={exports:{}},hd={},UT={exports:{}},zT={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,$){var q=j.length;j.push($);e:for(;0<q;){var H=q-1>>>1,J=j[H];if(0<i(J,$))j[H]=$,j[q]=J,q=H;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var $=j[0],q=j.pop();if(q!==$){j[0]=q;e:for(var H=0,J=j.length,Ce=J>>>1;H<Ce;){var ce=2*(H+1)-1,me=j[ce],ae=ce+1,Oe=j[ae];if(0>i(me,q))ae<J&&0>i(Oe,me)?(j[H]=Oe,j[ae]=q,H=ae):(j[H]=me,j[ce]=q,H=ce);else if(ae<J&&0>i(Oe,q))j[H]=Oe,j[ae]=q,H=ae;else break e}}return $}function i(j,$){var q=j.sortIndex-$.sortIndex;return q!==0?q:j.id-$.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var c=[],u=[],f=1,h=null,m=3,d=!1,x=!1,_=!1,w=!1,y=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function I(j){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=j)r(u),$.sortIndex=$.expirationTime,e(c,$);else break;$=n(u)}}function P(j){if(_=!1,I(j),!x)if(n(c)!==null)x=!0,k||(k=!0,O());else{var $=n(u);$!==null&&se(P,$.startTime-j)}}var k=!1,A=-1,S=5,R=-1;function N(){return w?!0:!(t.unstable_now()-R<S)}function M(){if(w=!1,k){var j=t.unstable_now();R=j;var $=!0;try{e:{x=!1,_&&(_=!1,b(A),A=-1),d=!0;var q=m;try{t:{for(I(j),h=n(c);h!==null&&!(h.expirationTime>j&&N());){var H=h.callback;if(typeof H=="function"){h.callback=null,m=h.priorityLevel;var J=H(h.expirationTime<=j);if(j=t.unstable_now(),typeof J=="function"){h.callback=J,I(j),$=!0;break t}h===n(c)&&r(c),I(j)}else r(c);h=n(c)}if(h!==null)$=!0;else{var Ce=n(u);Ce!==null&&se(P,Ce.startTime-j),$=!1}}break e}finally{h=null,m=q,d=!1}$=void 0}}finally{$?O():k=!1}}}var O;if(typeof E=="function")O=function(){E(M)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,W=D.port2;D.port1.onmessage=M,O=function(){W.postMessage(null)}}else O=function(){y(M,0)};function se(j,$){A=y(function(){j(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_next=function(j){switch(m){case 1:case 2:case 3:var $=3;break;default:$=m}var q=m;m=$;try{return j()}finally{m=q}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(j,$){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var q=m;m=j;try{return $()}finally{m=q}},t.unstable_scheduleCallback=function(j,$,q){var H=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?H+q:H):q=H,j){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=q+J,j={id:f++,callback:$,priorityLevel:j,startTime:q,expirationTime:J,sortIndex:-1},q>H?(j.sortIndex=q,e(u,j),n(c)===null&&j===n(u)&&(_?(b(A),A=-1):_=!0,se(P,q-H))):(j.sortIndex=J,e(c,j),x||d||(x=!0,k||(k=!0,O()))),j},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(j){var $=m;return function(){var q=m;m=$;try{return j.apply(this,arguments)}finally{m=q}}}})(zT);UT.exports=zT;var Q2=UT.exports,BT={exports:{}},he={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy=Symbol.for("react.transitional.element"),Y2=Symbol.for("react.portal"),X2=Symbol.for("react.fragment"),W2=Symbol.for("react.strict_mode"),Z2=Symbol.for("react.profiler"),J2=Symbol.for("react.consumer"),eN=Symbol.for("react.context"),tN=Symbol.for("react.forward_ref"),nN=Symbol.for("react.suspense"),rN=Symbol.for("react.memo"),FT=Symbol.for("react.lazy"),x0=Symbol.iterator;function iN(t){return t===null||typeof t!="object"?null:(t=x0&&t[x0]||t["@@iterator"],typeof t=="function"?t:null)}var qT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},HT=Object.assign,GT={};function cl(t,e,n){this.props=t,this.context=e,this.refs=GT,this.updater=n||qT}cl.prototype.isReactComponent={};cl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};cl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function $T(){}$T.prototype=cl.prototype;function Iy(t,e,n){this.props=t,this.context=e,this.refs=GT,this.updater=n||qT}var Ny=Iy.prototype=new $T;Ny.constructor=Iy;HT(Ny,cl.prototype);Ny.isPureReactComponent=!0;var R0=Array.isArray,We={H:null,A:null,T:null,S:null,V:null},KT=Object.prototype.hasOwnProperty;function Oy(t,e,n,r,i,s){return n=s.ref,{$$typeof:Cy,type:t,key:e,ref:n!==void 0?n:null,props:s}}function sN(t,e){return Oy(t.type,e,void 0,void 0,void 0,t.props)}function Dy(t){return typeof t=="object"&&t!==null&&t.$$typeof===Cy}function aN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var C0=/\/+/g;function Im(t,e){return typeof t=="object"&&t!==null&&t.key!=null?aN(""+t.key):e.toString(36)}function I0(){}function oN(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(I0,I0):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function $a(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Cy:case Y2:a=!0;break;case FT:return a=t._init,$a(a(t._payload),e,n,r,i)}}if(a)return i=i(t),a=r===""?"."+Im(t,0):r,R0(i)?(n="",a!=null&&(n=a.replace(C0,"$&/")+"/"),$a(i,e,n,"",function(u){return u})):i!=null&&(Dy(i)&&(i=sN(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(C0,"$&/")+"/")+a)),e.push(i)),1;a=0;var o=r===""?".":r+":";if(R0(t))for(var c=0;c<t.length;c++)r=t[c],s=o+Im(r,c),a+=$a(r,e,n,s,i);else if(c=iN(t),typeof c=="function")for(t=c.call(t),c=0;!(r=t.next()).done;)r=r.value,s=o+Im(r,c++),a+=$a(r,e,n,s,i);else if(s==="object"){if(typeof t.then=="function")return $a(oN(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function tf(t,e,n){if(t==null)return t;var r=[],i=0;return $a(t,r,"","",function(s){return e.call(n,s,i++)}),r}function lN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var N0=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function cN(){}he.Children={map:tf,forEach:function(t,e,n){tf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return tf(t,function(){e++}),e},toArray:function(t){return tf(t,function(e){return e})||[]},only:function(t){if(!Dy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};he.Component=cl;he.Fragment=X2;he.Profiler=Z2;he.PureComponent=Iy;he.StrictMode=W2;he.Suspense=nN;he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=We;he.__COMPILER_RUNTIME={__proto__:null,c:function(t){return We.H.useMemoCache(t)}};he.cache=function(t){return function(){return t.apply(null,arguments)}};he.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=HT({},t.props),i=t.key,s=void 0;if(e!=null)for(a in e.ref!==void 0&&(s=void 0),e.key!==void 0&&(i=""+e.key),e)!KT.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(r[a]=e[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),c=0;c<a;c++)o[c]=arguments[c+2];r.children=o}return Oy(t.type,i,void 0,void 0,s,r)};he.createContext=function(t){return t={$$typeof:eN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:J2,_context:t},t};he.createElement=function(t,e,n){var r,i={},s=null;if(e!=null)for(r in e.key!==void 0&&(s=""+e.key),e)KT.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var o=Array(a),c=0;c<a;c++)o[c]=arguments[c+2];i.children=o}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return Oy(t,s,void 0,void 0,null,i)};he.createRef=function(){return{current:null}};he.forwardRef=function(t){return{$$typeof:tN,render:t}};he.isValidElement=Dy;he.lazy=function(t){return{$$typeof:FT,_payload:{_status:-1,_result:t},_init:lN}};he.memo=function(t,e){return{$$typeof:rN,type:t,compare:e===void 0?null:e}};he.startTransition=function(t){var e=We.T,n={};We.T=n;try{var r=t(),i=We.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(cN,N0)}catch(s){N0(s)}finally{We.T=e}};he.unstable_useCacheRefresh=function(){return We.H.useCacheRefresh()};he.use=function(t){return We.H.use(t)};he.useActionState=function(t,e,n){return We.H.useActionState(t,e,n)};he.useCallback=function(t,e){return We.H.useCallback(t,e)};he.useContext=function(t){return We.H.useContext(t)};he.useDebugValue=function(){};he.useDeferredValue=function(t,e){return We.H.useDeferredValue(t,e)};he.useEffect=function(t,e,n){var r=We.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(t,e)};he.useId=function(){return We.H.useId()};he.useImperativeHandle=function(t,e,n){return We.H.useImperativeHandle(t,e,n)};he.useInsertionEffect=function(t,e){return We.H.useInsertionEffect(t,e)};he.useLayoutEffect=function(t,e){return We.H.useLayoutEffect(t,e)};he.useMemo=function(t,e){return We.H.useMemo(t,e)};he.useOptimistic=function(t,e){return We.H.useOptimistic(t,e)};he.useReducer=function(t,e,n){return We.H.useReducer(t,e,n)};he.useRef=function(t){return We.H.useRef(t)};he.useState=function(t){return We.H.useState(t)};he.useSyncExternalStore=function(t,e,n){return We.H.useSyncExternalStore(t,e,n)};he.useTransition=function(){return We.H.useTransition()};he.version="19.1.1";BT.exports=he;var T=BT.exports;const G=VT(T),My=G2({__proto__:null,default:G},[T]);var QT={exports:{}},tn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uN=T;function YT(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ni(){}var en={d:{f:Ni,r:function(){throw Error(YT(522))},D:Ni,C:Ni,L:Ni,m:Ni,X:Ni,S:Ni,M:Ni},p:0,findDOMNode:null},fN=Symbol.for("react.portal");function hN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fN,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var uc=uN.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function dd(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=en;tn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(YT(299));return hN(t,e,null,n)};tn.flushSync=function(t){var e=uc.T,n=en.p;try{if(uc.T=null,en.p=2,t)return t()}finally{uc.T=e,en.p=n,en.d.f()}};tn.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,en.d.C(t,e))};tn.prefetchDNS=function(t){typeof t=="string"&&en.d.D(t)};tn.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=dd(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,s=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?en.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):n==="script"&&en.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};tn.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=dd(e.as,e.crossOrigin);en.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&en.d.M(t)};tn.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=dd(n,e.crossOrigin);en.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};tn.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=dd(e.as,e.crossOrigin);en.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else en.d.m(t)};tn.requestFormReset=function(t){en.d.r(t)};tn.unstable_batchedUpdates=function(t,e){return t(e)};tn.useFormState=function(t,e,n){return uc.H.useFormState(t,e,n)};tn.useFormStatus=function(){return uc.H.useHostTransitionStatus()};tn.version="19.1.1";function XT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(XT)}catch(t){console.error(t)}}XT(),QT.exports=tn;var ul=QT.exports;const WT=VT(ul);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tt=Q2,ZT=T,dN=ul;function F(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function JT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function cu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function eS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function O0(t){if(cu(t)!==t)throw Error(F(188))}function mN(t){var e=t.alternate;if(!e){if(e=cu(t),e===null)throw Error(F(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return O0(i),t;if(s===r)return O0(i),e;s=s.sibling}throw Error(F(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?t:e}function tS(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=tS(t),e!==null)return e;t=t.sibling}return null}var Ye=Object.assign,pN=Symbol.for("react.element"),nf=Symbol.for("react.transitional.element"),tc=Symbol.for("react.portal"),to=Symbol.for("react.fragment"),nS=Symbol.for("react.strict_mode"),kp=Symbol.for("react.profiler"),gN=Symbol.for("react.provider"),rS=Symbol.for("react.consumer"),Zr=Symbol.for("react.context"),Py=Symbol.for("react.forward_ref"),Lp=Symbol.for("react.suspense"),jp=Symbol.for("react.suspense_list"),Vy=Symbol.for("react.memo"),zi=Symbol.for("react.lazy"),Up=Symbol.for("react.activity"),yN=Symbol.for("react.memo_cache_sentinel"),D0=Symbol.iterator;function Hl(t){return t===null||typeof t!="object"?null:(t=D0&&t[D0]||t["@@iterator"],typeof t=="function"?t:null)}var vN=Symbol.for("react.client.reference");function zp(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===vN?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case to:return"Fragment";case kp:return"Profiler";case nS:return"StrictMode";case Lp:return"Suspense";case jp:return"SuspenseList";case Up:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case tc:return"Portal";case Zr:return(t.displayName||"Context")+".Provider";case rS:return(t._context.displayName||"Context")+".Consumer";case Py:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Vy:return e=t.displayName||null,e!==null?e:zp(t.type)||"Memo";case zi:e=t._payload,t=t._init;try{return zp(t(e))}catch{}}return null}var nc=Array.isArray,ne=ZT.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ne=dN.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,la={pending:!1,data:null,method:null,action:null},Bp=[],no=-1;function Ur(t){return{current:t}}function Mt(t){0>no||(t.current=Bp[no],Bp[no]=null,no--)}function Ze(t,e){no++,Bp[no]=t.current,t.current=e}var Rr=Ur(null),Oc=Ur(null),cs=Ur(null),lh=Ur(null);function ch(t,e){switch(Ze(cs,e),Ze(Oc,t),Ze(Rr,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Lb(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Lb(e),t=b1(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Mt(Rr),Ze(Rr,t)}function Fo(){Mt(Rr),Mt(Oc),Mt(cs)}function Fp(t){t.memoizedState!==null&&Ze(lh,t);var e=Rr.current,n=b1(e,t.type);e!==n&&(Ze(Oc,t),Ze(Rr,n))}function uh(t){Oc.current===t&&(Mt(Rr),Mt(Oc)),lh.current===t&&(Mt(lh),Bc._currentValue=la)}var qp=Object.prototype.hasOwnProperty,ky=Tt.unstable_scheduleCallback,Nm=Tt.unstable_cancelCallback,_N=Tt.unstable_shouldYield,bN=Tt.unstable_requestPaint,Cr=Tt.unstable_now,wN=Tt.unstable_getCurrentPriorityLevel,iS=Tt.unstable_ImmediatePriority,sS=Tt.unstable_UserBlockingPriority,fh=Tt.unstable_NormalPriority,EN=Tt.unstable_LowPriority,aS=Tt.unstable_IdlePriority,TN=Tt.log,SN=Tt.unstable_setDisableYieldValue,uu=null,In=null;function rs(t){if(typeof TN=="function"&&SN(t),In&&typeof In.setStrictMode=="function")try{In.setStrictMode(uu,t)}catch{}}var Nn=Math.clz32?Math.clz32:RN,AN=Math.log,xN=Math.LN2;function RN(t){return t>>>=0,t===0?32:31-(AN(t)/xN|0)|0}var rf=256,sf=4194304;function Qs(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function md(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var i=0,s=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var o=r&134217727;return o!==0?(r=o&~s,r!==0?i=Qs(r):(a&=o,a!==0?i=Qs(a):n||(n=o&~t,n!==0&&(i=Qs(n))))):(o=r&~s,o!==0?i=Qs(o):a!==0?i=Qs(a):n||(n=r&~t,n!==0&&(i=Qs(n)))),i===0?0:e!==0&&e!==i&&!(e&s)&&(s=i&-i,n=e&-e,s>=n||s===32&&(n&4194048)!==0)?e:i}function fu(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function CN(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function oS(){var t=rf;return rf<<=1,!(rf&4194048)&&(rf=256),t}function lS(){var t=sf;return sf<<=1,!(sf&62914560)&&(sf=4194304),t}function Om(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function hu(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function IN(t,e,n,r,i,s){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,c=t.expirationTimes,u=t.hiddenUpdates;for(n=a&~n;0<n;){var f=31-Nn(n),h=1<<f;o[f]=0,c[f]=-1;var m=u[f];if(m!==null)for(u[f]=null,f=0;f<m.length;f++){var d=m[f];d!==null&&(d.lane&=-536870913)}n&=~h}r!==0&&cS(t,r,0),s!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=s&~(a&~e))}function cS(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-Nn(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&4194090}function uS(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Nn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function Ly(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function jy(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function fS(){var t=Ne.p;return t!==0?t:(t=window.event,t===void 0?32:N1(t.type))}function NN(t,e){var n=Ne.p;try{return Ne.p=t,e()}finally{Ne.p=n}}var Vs=Math.random().toString(36).slice(2),Gt="__reactFiber$"+Vs,dn="__reactProps$"+Vs,fl="__reactContainer$"+Vs,Hp="__reactEvents$"+Vs,ON="__reactListeners$"+Vs,DN="__reactHandles$"+Vs,M0="__reactResources$"+Vs,du="__reactMarker$"+Vs;function Uy(t){delete t[Gt],delete t[dn],delete t[Hp],delete t[ON],delete t[DN]}function ro(t){var e=t[Gt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[fl]||n[Gt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=zb(t);t!==null;){if(n=t[Gt])return n;t=zb(t)}return e}t=n,n=t.parentNode}return null}function hl(t){if(t=t[Gt]||t[fl]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function rc(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(F(33))}function yo(t){var e=t[M0];return e||(e=t[M0]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Ot(t){t[du]=!0}var hS=new Set,dS={};function Ia(t,e){qo(t,e),qo(t+"Capture",e)}function qo(t,e){for(dS[t]=e,t=0;t<e.length;t++)hS.add(e[t])}var MN=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),P0={},V0={};function PN(t){return qp.call(V0,t)?!0:qp.call(P0,t)?!1:MN.test(t)?V0[t]=!0:(P0[t]=!0,!1)}function Df(t,e,n){if(PN(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function af(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Gr(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}var Dm,k0;function Ka(t){if(Dm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Dm=e&&e[1]||"",k0=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Dm+t+k0}var Mm=!1;function Pm(t,e){if(!t||Mm)return"";Mm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var h=function(){throw Error()};if(Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(d){var m=d}Reflect.construct(t,[],h)}else{try{h.call()}catch(d){m=d}t.call(h.prototype)}}else{try{throw Error()}catch(d){m=d}(h=t())&&typeof h.catch=="function"&&h.catch(function(){})}}catch(d){if(d&&m&&typeof d.stack=="string")return[d.stack,m.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var c=a.split(`
`),u=o.split(`
`);for(i=r=0;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===c.length||i===u.length)for(r=c.length-1,i=u.length-1;1<=r&&0<=i&&c[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==u[i]){if(r!==1||i!==1)do if(r--,i--,0>i||c[r]!==u[i]){var f=`
`+c[r].replace(" at new "," at ");return t.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",t.displayName)),f}while(1<=r&&0<=i);break}}}finally{Mm=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Ka(n):""}function VN(t){switch(t.tag){case 26:case 27:case 5:return Ka(t.type);case 16:return Ka("Lazy");case 13:return Ka("Suspense");case 19:return Ka("SuspenseList");case 0:case 15:return Pm(t.type,!1);case 11:return Pm(t.type.render,!1);case 1:return Pm(t.type,!0);case 31:return Ka("Activity");default:return""}}function L0(t){try{var e="";do e+=VN(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function Un(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function kN(t){var e=mS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function hh(t){t._valueTracker||(t._valueTracker=kN(t))}function pS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=mS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function dh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var LN=/[\n"\\]/g;function Fn(t){return t.replace(LN,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Gp(t,e,n,r,i,s,a,o){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+Un(e)):t.value!==""+Un(e)&&(t.value=""+Un(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?$p(t,a,Un(e)):n!=null?$p(t,a,Un(n)):r!=null&&t.removeAttribute("value"),i==null&&s!=null&&(t.defaultChecked=!!s),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+Un(o):t.removeAttribute("name")}function gS(t,e,n,r,i,s,a,o){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null))return;n=n!=null?""+Un(n):"",e=e!=null?""+Un(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=o?t.checked:!!r,t.defaultChecked=!!r,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a)}function $p(t,e,n){e==="number"&&dh(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function vo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Un(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function yS(t,e,n){if(e!=null&&(e=""+Un(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+Un(n):""}function vS(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(F(92));if(nc(r)){if(1<r.length)throw Error(F(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=Un(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r)}function Ho(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var jN=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function j0(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||jN.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function _S(t,e,n){if(e!=null&&typeof e!="object")throw Error(F(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&j0(t,i,r)}else for(var s in e)e.hasOwnProperty(s)&&j0(t,s,e[s])}function zy(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var UN=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zN=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mf(t){return zN.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Kp=null;function By(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var io=null,_o=null;function U0(t){var e=hl(t);if(e&&(t=e.stateNode)){var n=t[dn]||null;e:switch(t=e.stateNode,e.type){case"input":if(Gp(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Fn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[dn]||null;if(!i)throw Error(F(90));Gp(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&pS(r)}break e;case"textarea":yS(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&vo(t,!!n.multiple,e,!1)}}}var Vm=!1;function bS(t,e,n){if(Vm)return t(e,n);Vm=!0;try{var r=t(e);return r}finally{if(Vm=!1,(io!==null||_o!==null)&&(Sd(),io&&(e=io,t=_o,_o=io=null,U0(e),t)))for(e=0;e<t.length;e++)U0(t[e])}}function Dc(t,e){var n=t.stateNode;if(n===null)return null;var r=n[dn]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(F(231,e,typeof n));return n}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qp=!1;if(li)try{var Gl={};Object.defineProperty(Gl,"passive",{get:function(){Qp=!0}}),window.addEventListener("test",Gl,Gl),window.removeEventListener("test",Gl,Gl)}catch{Qp=!1}var is=null,Fy=null,Pf=null;function wS(){if(Pf)return Pf;var t,e=Fy,n=e.length,r,i="value"in is?is.value:is.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Pf=i.slice(t,1<r?1-r:void 0)}function Vf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function of(){return!0}function z0(){return!1}function pn(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?of:z0,this.isPropagationStopped=z0,this}return Ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=of)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=of)},persist:function(){},isPersistent:of}),e}var Na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pd=pn(Na),mu=Ye({},Na,{view:0,detail:0}),BN=pn(mu),km,Lm,$l,gd=Ye({},mu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$l&&($l&&t.type==="mousemove"?(km=t.screenX-$l.screenX,Lm=t.screenY-$l.screenY):Lm=km=0,$l=t),km)},movementY:function(t){return"movementY"in t?t.movementY:Lm}}),B0=pn(gd),FN=Ye({},gd,{dataTransfer:0}),qN=pn(FN),HN=Ye({},mu,{relatedTarget:0}),jm=pn(HN),GN=Ye({},Na,{animationName:0,elapsedTime:0,pseudoElement:0}),$N=pn(GN),KN=Ye({},Na,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),QN=pn(KN),YN=Ye({},Na,{data:0}),F0=pn(YN),XN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ZN[t])?!!e[t]:!1}function qy(){return JN}var eO=Ye({},mu,{key:function(t){if(t.key){var e=XN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Vf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?WN[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qy,charCode:function(t){return t.type==="keypress"?Vf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tO=pn(eO),nO=Ye({},gd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),q0=pn(nO),rO=Ye({},mu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qy}),iO=pn(rO),sO=Ye({},Na,{propertyName:0,elapsedTime:0,pseudoElement:0}),aO=pn(sO),oO=Ye({},gd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lO=pn(oO),cO=Ye({},Na,{newState:0,oldState:0}),uO=pn(cO),fO=[9,13,27,32],Hy=li&&"CompositionEvent"in window,fc=null;li&&"documentMode"in document&&(fc=document.documentMode);var hO=li&&"TextEvent"in window&&!fc,ES=li&&(!Hy||fc&&8<fc&&11>=fc),H0=" ",G0=!1;function TS(t,e){switch(t){case"keyup":return fO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function SS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var so=!1;function dO(t,e){switch(t){case"compositionend":return SS(e);case"keypress":return e.which!==32?null:(G0=!0,H0);case"textInput":return t=e.data,t===H0&&G0?null:t;default:return null}}function mO(t,e){if(so)return t==="compositionend"||!Hy&&TS(t,e)?(t=wS(),Pf=Fy=is=null,so=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ES&&e.locale!=="ko"?null:e.data;default:return null}}var pO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!pO[t.type]:e==="textarea"}function AS(t,e,n,r){io?_o?_o.push(r):_o=[r]:io=r,e=Oh(e,"onChange"),0<e.length&&(n=new pd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var hc=null,Mc=null;function gO(t){y1(t,0)}function yd(t){var e=rc(t);if(pS(e))return t}function K0(t,e){if(t==="change")return e}var xS=!1;if(li){var Um;if(li){var zm="oninput"in document;if(!zm){var Q0=document.createElement("div");Q0.setAttribute("oninput","return;"),zm=typeof Q0.oninput=="function"}Um=zm}else Um=!1;xS=Um&&(!document.documentMode||9<document.documentMode)}function Y0(){hc&&(hc.detachEvent("onpropertychange",RS),Mc=hc=null)}function RS(t){if(t.propertyName==="value"&&yd(Mc)){var e=[];AS(e,Mc,t,By(t)),bS(gO,e)}}function yO(t,e,n){t==="focusin"?(Y0(),hc=e,Mc=n,hc.attachEvent("onpropertychange",RS)):t==="focusout"&&Y0()}function vO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yd(Mc)}function _O(t,e){if(t==="click")return yd(e)}function bO(t,e){if(t==="input"||t==="change")return yd(e)}function wO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Pn=typeof Object.is=="function"?Object.is:wO;function Pc(t,e){if(Pn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!qp.call(e,i)||!Pn(t[i],e[i]))return!1}return!0}function X0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function W0(t,e){var n=X0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=X0(n)}}function CS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?CS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function IS(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=dh(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=dh(t.document)}return e}function Gy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var EO=li&&"documentMode"in document&&11>=document.documentMode,ao=null,Yp=null,dc=null,Xp=!1;function Z0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xp||ao==null||ao!==dh(r)||(r=ao,"selectionStart"in r&&Gy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),dc&&Pc(dc,r)||(dc=r,r=Oh(Yp,"onSelect"),0<r.length&&(e=new pd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ao)))}function Ks(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var oo={animationend:Ks("Animation","AnimationEnd"),animationiteration:Ks("Animation","AnimationIteration"),animationstart:Ks("Animation","AnimationStart"),transitionrun:Ks("Transition","TransitionRun"),transitionstart:Ks("Transition","TransitionStart"),transitioncancel:Ks("Transition","TransitionCancel"),transitionend:Ks("Transition","TransitionEnd")},Bm={},NS={};li&&(NS=document.createElement("div").style,"AnimationEvent"in window||(delete oo.animationend.animation,delete oo.animationiteration.animation,delete oo.animationstart.animation),"TransitionEvent"in window||delete oo.transitionend.transition);function Oa(t){if(Bm[t])return Bm[t];if(!oo[t])return t;var e=oo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in NS)return Bm[t]=e[n];return t}var OS=Oa("animationend"),DS=Oa("animationiteration"),MS=Oa("animationstart"),TO=Oa("transitionrun"),SO=Oa("transitionstart"),AO=Oa("transitioncancel"),PS=Oa("transitionend"),VS=new Map,Wp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wp.push("scrollEnd");function ur(t,e){VS.set(t,e),Ia(e,[t])}var J0=new WeakMap;function qn(t,e){if(typeof t=="object"&&t!==null){var n=J0.get(t);return n!==void 0?n:(e={value:t,source:e,stack:L0(e)},J0.set(t,e),e)}return{value:t,source:e,stack:L0(e)}}var jn=[],lo=0,$y=0;function vd(){for(var t=lo,e=$y=lo=0;e<t;){var n=jn[e];jn[e++]=null;var r=jn[e];jn[e++]=null;var i=jn[e];jn[e++]=null;var s=jn[e];if(jn[e++]=null,r!==null&&i!==null){var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}s!==0&&kS(n,i,s)}}function _d(t,e,n,r){jn[lo++]=t,jn[lo++]=e,jn[lo++]=n,jn[lo++]=r,$y|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function Ky(t,e,n,r){return _d(t,e,n,r),mh(t)}function dl(t,e){return _d(t,null,null,e),mh(t)}function kS(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,s=t.return;s!==null;)s.childLanes|=n,r=s.alternate,r!==null&&(r.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(i=!0)),t=s,s=s.return;return t.tag===3?(s=t.stateNode,i&&e!==null&&(i=31-Nn(n),t=s.hiddenUpdates,r=t[i],r===null?t[i]=[e]:r.push(e),e.lane=n|536870912),s):null}function mh(t){if(50<Tc)throw Tc=0,vg=null,Error(F(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var co={};function xO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,e,n,r){return new xO(t,e,n,r)}function Qy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function si(t,e){var n=t.alternate;return n===null?(n=Rn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function LS(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function kf(t,e,n,r,i,s){var a=0;if(r=t,typeof t=="function")Qy(t)&&(a=1);else if(typeof t=="string")a=CD(t,n,Rr.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Up:return t=Rn(31,n,e,i),t.elementType=Up,t.lanes=s,t;case to:return ca(n.children,i,s,e);case nS:a=8,i|=24;break;case kp:return t=Rn(12,n,e,i|2),t.elementType=kp,t.lanes=s,t;case Lp:return t=Rn(13,n,e,i),t.elementType=Lp,t.lanes=s,t;case jp:return t=Rn(19,n,e,i),t.elementType=jp,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case gN:case Zr:a=10;break e;case rS:a=9;break e;case Py:a=11;break e;case Vy:a=14;break e;case zi:a=16,r=null;break e}a=29,n=Error(F(130,t===null?"null":typeof t,"")),r=null}return e=Rn(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function ca(t,e,n,r){return t=Rn(7,t,r,e),t.lanes=n,t}function Fm(t,e,n){return t=Rn(6,t,null,e),t.lanes=n,t}function qm(t,e,n){return e=Rn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var uo=[],fo=0,ph=null,gh=0,zn=[],Bn=0,ua=null,Jr=1,ei="";function Ys(t,e){uo[fo++]=gh,uo[fo++]=ph,ph=t,gh=e}function jS(t,e,n){zn[Bn++]=Jr,zn[Bn++]=ei,zn[Bn++]=ua,ua=t;var r=Jr;t=ei;var i=32-Nn(r)-1;r&=~(1<<i),n+=1;var s=32-Nn(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Jr=1<<32-Nn(e)+i|n<<i|r,ei=s+t}else Jr=1<<s|n<<i|r,ei=t}function Yy(t){t.return!==null&&(Ys(t,1),jS(t,1,0))}function Xy(t){for(;t===ph;)ph=uo[--fo],uo[fo]=null,gh=uo[--fo],uo[fo]=null;for(;t===ua;)ua=zn[--Bn],zn[Bn]=null,ei=zn[--Bn],zn[Bn]=null,Jr=zn[--Bn],zn[Bn]=null}var Jt=null,st=null,Ie=!1,fa=null,Tr=!1,Zp=Error(F(519));function ya(t){var e=Error(F(418,""));throw Vc(qn(e,t)),Zp}function eb(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[Gt]=t,e[dn]=r,n){case"dialog":pe("cancel",e),pe("close",e);break;case"iframe":case"object":case"embed":pe("load",e);break;case"video":case"audio":for(n=0;n<jc.length;n++)pe(jc[n],e);break;case"source":pe("error",e);break;case"img":case"image":case"link":pe("error",e),pe("load",e);break;case"details":pe("toggle",e);break;case"input":pe("invalid",e),gS(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),hh(e);break;case"select":pe("invalid",e);break;case"textarea":pe("invalid",e),vS(e,r.value,r.defaultValue,r.children),hh(e)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||_1(e.textContent,n)?(r.popover!=null&&(pe("beforetoggle",e),pe("toggle",e)),r.onScroll!=null&&pe("scroll",e),r.onScrollEnd!=null&&pe("scrollend",e),r.onClick!=null&&(e.onclick=Rd),e=!0):e=!1,e||ya(t)}function tb(t){for(Jt=t.return;Jt;)switch(Jt.tag){case 5:case 13:Tr=!1;return;case 27:case 3:Tr=!0;return;default:Jt=Jt.return}}function Kl(t){if(t!==Jt)return!1;if(!Ie)return tb(t),Ie=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Sg(t.type,t.memoizedProps)),n=!n),n&&st&&ya(t),tb(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){st=sr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}st=null}}else e===27?(e=st,ks(t.type)?(t=Rg,Rg=null,st=t):st=e):st=Jt?sr(t.stateNode.nextSibling):null;return!0}function pu(){st=Jt=null,Ie=!1}function nb(){var t=fa;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),fa=null),t}function Vc(t){fa===null?fa=[t]:fa.push(t)}var Jp=Ur(null),Da=null,ti=null;function qi(t,e,n){Ze(Jp,e._currentValue),e._currentValue=n}function ai(t){t._currentValue=Jp.current,Mt(Jp)}function eg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function tg(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){var a=i.child;s=s.firstContext;e:for(;s!==null;){var o=s;s=i;for(var c=0;c<e.length;c++)if(o.context===e[c]){s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),eg(s.return,n,t),r||(a=null);break e}s=o.next}}else if(i.tag===18){if(a=i.return,a===null)throw Error(F(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),eg(a,n,t),a=null}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}}function gu(t,e,n,r){t=null;for(var i=e,s=!1;i!==null;){if(!s){if(i.flags&524288)s=!0;else if(i.flags&262144)break}if(i.tag===10){var a=i.alternate;if(a===null)throw Error(F(387));if(a=a.memoizedProps,a!==null){var o=i.type;Pn(i.pendingProps.value,a.value)||(t!==null?t.push(o):t=[o])}}else if(i===lh.current){if(a=i.alternate,a===null)throw Error(F(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(Bc):t=[Bc])}i=i.return}t!==null&&tg(e,t,n,r),e.flags|=262144}function yh(t){for(t=t.firstContext;t!==null;){if(!Pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function va(t){Da=t,ti=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return US(Da,t)}function lf(t,e){return Da===null&&va(t),US(t,e)}function US(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},ti===null){if(t===null)throw Error(F(308));ti=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else ti=ti.next=e;return n}var RO=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},CO=Tt.unstable_scheduleCallback,IO=Tt.unstable_NormalPriority,bt={$$typeof:Zr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wy(){return{controller:new RO,data:new Map,refCount:0}}function yu(t){t.refCount--,t.refCount===0&&CO(IO,function(){t.controller.abort()})}var mc=null,ng=0,Go=0,bo=null;function NO(t,e){if(mc===null){var n=mc=[];ng=0,Go=bv(),bo={status:"pending",value:void 0,then:function(r){n.push(r)}}}return ng++,e.then(rb,rb),e}function rb(){if(--ng===0&&mc!==null){bo!==null&&(bo.status="fulfilled");var t=mc;mc=null,Go=0,bo=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function OO(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var ib=ne.S;ne.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&NO(t,e),ib!==null&&ib(t,e)};var ha=Ur(null);function Zy(){var t=ha.current;return t!==null?t:He.pooledCache}function Lf(t,e){e===null?Ze(ha,ha.current):Ze(ha,e.pool)}function zS(){var t=Zy();return t===null?null:{parent:bt._currentValue,pool:t}}var vu=Error(F(460)),BS=Error(F(474)),bd=Error(F(542)),rg={then:function(){}};function sb(t){return t=t.status,t==="fulfilled"||t==="rejected"}function cf(){}function FS(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(cf,cf),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,ob(t),t;default:if(typeof e.status=="string")e.then(cf,cf);else{if(t=He,t!==null&&100<t.shellSuspendCounter)throw Error(F(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,ob(t),t}throw pc=e,vu}}var pc=null;function ab(){if(pc===null)throw Error(F(459));var t=pc;return pc=null,t}function ob(t){if(t===vu||t===bd)throw Error(F(483))}var Bi=!1;function Jy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ig(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function us(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function fs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ke&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=mh(t),kS(t,null,n),e}return _d(t,r,e,n),mh(t)}function gc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,uS(t,n)}}function Hm(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var sg=!1;function yc(){if(sg){var t=bo;if(t!==null)throw t}}function vc(t,e,n,r){sg=!1;var i=t.updateQueue;Bi=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,u=c.next;c.next=null,a===null?s=u:a.next=u,a=c;var f=t.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==a&&(o===null?f.firstBaseUpdate=u:o.next=u,f.lastBaseUpdate=c))}if(s!==null){var h=i.baseState;a=0,f=u=c=null,o=s;do{var m=o.lane&-536870913,d=m!==o.lane;if(d?(Ae&m)===m:(r&m)===m){m!==0&&m===Go&&(sg=!0),f!==null&&(f=f.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var x=t,_=o;m=e;var w=n;switch(_.tag){case 1:if(x=_.payload,typeof x=="function"){h=x.call(w,h,m);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=_.payload,m=typeof x=="function"?x.call(w,h,m):x,m==null)break e;h=Ye({},h,m);break e;case 2:Bi=!0}}m=o.callback,m!==null&&(t.flags|=64,d&&(t.flags|=8192),d=i.callbacks,d===null?i.callbacks=[m]:d.push(m))}else d={lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(u=f=d,c=h):f=f.next=d,a|=m;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;d=o,o=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);f===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=f,s===null&&(i.shared.lanes=0),As|=a,t.lanes=a,t.memoizedState=h}}function qS(t,e){if(typeof t!="function")throw Error(F(191,t));t.call(e)}function HS(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)qS(n[t],e)}var $o=Ur(null),vh=Ur(0);function lb(t,e){t=fi,Ze(vh,t),Ze($o,e),fi=t|e.baseLanes}function ag(){Ze(vh,fi),Ze($o,$o.current)}function ev(){fi=vh.current,Mt($o),Mt(vh)}var Ts=0,de=null,je=null,dt=null,_h=!1,wo=!1,_a=!1,bh=0,kc=0,Eo=null,DO=0;function ot(){throw Error(F(321))}function tv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Pn(t[n],e[n]))return!1;return!0}function nv(t,e,n,r,i,s){return Ts=s,de=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ne.H=t===null||t.memoizedState===null?wA:EA,_a=!1,s=n(r,i),_a=!1,wo&&(s=$S(e,n,r,i)),GS(t),s}function GS(t){ne.H=wh;var e=je!==null&&je.next!==null;if(Ts=0,dt=je=de=null,_h=!1,kc=0,Eo=null,e)throw Error(F(300));t===null||Dt||(t=t.dependencies,t!==null&&yh(t)&&(Dt=!0))}function $S(t,e,n,r){de=t;var i=0;do{if(wo&&(Eo=null),kc=0,wo=!1,25<=i)throw Error(F(301));if(i+=1,dt=je=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}ne.H=UO,s=e(n,r)}while(wo);return s}function MO(){var t=ne.H,e=t.useState()[0];return e=typeof e.then=="function"?_u(e):e,t=t.useState()[0],(je!==null?je.memoizedState:null)!==t&&(de.flags|=1024),e}function rv(){var t=bh!==0;return bh=0,t}function iv(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function sv(t){if(_h){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}_h=!1}Ts=0,dt=je=de=null,wo=!1,kc=bh=0,Eo=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?de.memoizedState=dt=t:dt=dt.next=t,dt}function yt(){if(je===null){var t=de.alternate;t=t!==null?t.memoizedState:null}else t=je.next;var e=dt===null?de.memoizedState:dt.next;if(e!==null)dt=e,je=t;else{if(t===null)throw de.alternate===null?Error(F(467)):Error(F(310));je=t,t={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},dt===null?de.memoizedState=dt=t:dt=dt.next=t}return dt}function av(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _u(t){var e=kc;return kc+=1,Eo===null&&(Eo=[]),t=FS(Eo,t,e),e=de,(dt===null?e.memoizedState:dt.next)===null&&(e=e.alternate,ne.H=e===null||e.memoizedState===null?wA:EA),t}function wd(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return _u(t);if(t.$$typeof===Zr)return $t(t)}throw Error(F(438,String(t)))}function ov(t){var e=null,n=de.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=de.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=av(),de.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=yN;return e.index++,n}function ci(t,e){return typeof e=="function"?e(t):e}function jf(t){var e=yt();return lv(e,je,t)}function lv(t,e,n){var r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=n;var i=t.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}e.baseQueue=i=s,r.pending=null}if(s=t.baseState,i===null)t.memoizedState=s;else{e=i.next;var o=a=null,c=null,u=e,f=!1;do{var h=u.lane&-536870913;if(h!==u.lane?(Ae&h)===h:(Ts&h)===h){var m=u.revertLane;if(m===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Go&&(f=!0);else if((Ts&m)===m){u=u.next,m===Go&&(f=!0);continue}else h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(o=c=h,a=s):c=c.next=h,de.lanes|=m,As|=m;h=u.action,_a&&n(s,h),s=u.hasEagerState?u.eagerState:n(s,h)}else m={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(o=c=m,a=s):c=c.next=m,de.lanes|=h,As|=h;u=u.next}while(u!==null&&u!==e);if(c===null?a=s:c.next=o,!Pn(s,t.memoizedState)&&(Dt=!0,f&&(n=bo,n!==null)))throw n;t.memoizedState=s,t.baseState=a,t.baseQueue=c,r.lastRenderedState=s}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Gm(t){var e=yt(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Pn(s,e.memoizedState)||(Dt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function KS(t,e,n){var r=de,i=yt(),s=Ie;if(s){if(n===void 0)throw Error(F(407));n=n()}else n=e();var a=!Pn((je||i).memoizedState,n);a&&(i.memoizedState=n,Dt=!0),i=i.queue;var o=XS.bind(null,r,i,t);if(bu(2048,8,o,[t]),i.getSnapshot!==e||a||dt!==null&&dt.memoizedState.tag&1){if(r.flags|=2048,Ko(9,Ed(),YS.bind(null,r,i,n,e),null),He===null)throw Error(F(349));s||Ts&124||QS(r,e,n)}return n}function QS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=de.updateQueue,e===null?(e=av(),de.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function YS(t,e,n,r){e.value=n,e.getSnapshot=r,WS(e)&&ZS(t)}function XS(t,e,n){return n(function(){WS(e)&&ZS(t)})}function WS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Pn(t,n)}catch{return!0}}function ZS(t){var e=dl(t,2);e!==null&&Dn(e,t,2)}function og(t){var e=on();if(typeof t=="function"){var n=t;if(t=n(),_a){rs(!0);try{n()}finally{rs(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:t},e}function JS(t,e,n,r){return t.baseState=n,lv(t,je,typeof r=="function"?r:ci)}function PO(t,e,n,r,i){if(Td(t))throw Error(F(485));if(t=e.action,t!==null){var s={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};ne.T!==null?n(!0):s.isTransition=!1,r(s),n=e.pending,n===null?(s.next=e.pending=s,eA(e,s)):(s.next=n.next,e.pending=n.next=s)}}function eA(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var s=ne.T,a={};ne.T=a;try{var o=n(i,r),c=ne.S;c!==null&&c(a,o),cb(t,e,o)}catch(u){lg(t,e,u)}finally{ne.T=s}}else try{s=n(i,r),cb(t,e,s)}catch(u){lg(t,e,u)}}function cb(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){ub(t,e,r)},function(r){return lg(t,e,r)}):ub(t,e,n)}function ub(t,e,n){e.status="fulfilled",e.value=n,tA(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,eA(t,n)))}function lg(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,tA(e),e=e.next;while(e!==r)}t.action=null}function tA(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function nA(t,e){return e}function fb(t,e){if(Ie){var n=He.formState;if(n!==null){e:{var r=de;if(Ie){if(st){t:{for(var i=st,s=Tr;i.nodeType!==8;){if(!s){i=null;break t}if(i=sr(i.nextSibling),i===null){i=null;break t}}s=i.data,i=s==="F!"||s==="F"?i:null}if(i){st=sr(i.nextSibling),r=i.data==="F!";break e}}ya(r)}r=!1}r&&(e=n[0])}}return n=on(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nA,lastRenderedState:e},n.queue=r,n=vA.bind(null,de,r),r.dispatch=n,r=og(!1),s=hv.bind(null,de,!1,r.queue),r=on(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=PO.bind(null,de,i,s,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function hb(t){var e=yt();return rA(e,je,t)}function rA(t,e,n){if(e=lv(t,e,nA)[0],t=jf(ci)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=_u(e)}catch(a){throw a===vu?bd:a}else r=e;e=yt();var i=e.queue,s=i.dispatch;return n!==e.memoizedState&&(de.flags|=2048,Ko(9,Ed(),VO.bind(null,i,n),null)),[r,s,t]}function VO(t,e){t.action=e}function db(t){var e=yt(),n=je;if(n!==null)return rA(e,n,t);yt(),e=e.memoizedState,n=yt();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function Ko(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=de.updateQueue,e===null&&(e=av(),de.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function Ed(){return{destroy:void 0,resource:void 0}}function iA(){return yt().memoizedState}function Uf(t,e,n,r){var i=on();r=r===void 0?null:r,de.flags|=t,i.memoizedState=Ko(1|e,Ed(),n,r)}function bu(t,e,n,r){var i=yt();r=r===void 0?null:r;var s=i.memoizedState.inst;je!==null&&r!==null&&tv(r,je.memoizedState.deps)?i.memoizedState=Ko(e,s,n,r):(de.flags|=t,i.memoizedState=Ko(1|e,s,n,r))}function mb(t,e){Uf(8390656,8,t,e)}function sA(t,e){bu(2048,8,t,e)}function aA(t,e){return bu(4,2,t,e)}function oA(t,e){return bu(4,4,t,e)}function lA(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function cA(t,e,n){n=n!=null?n.concat([t]):null,bu(4,4,lA.bind(null,e,t),n)}function cv(){}function uA(t,e){var n=yt();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&tv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function fA(t,e){var n=yt();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&tv(e,r[1]))return r[0];if(r=t(),_a){rs(!0);try{t()}finally{rs(!1)}}return n.memoizedState=[r,e],r}function uv(t,e,n){return n===void 0||Ts&1073741824?t.memoizedState=e:(t.memoizedState=n,t=t1(),de.lanes|=t,As|=t,n)}function hA(t,e,n,r){return Pn(n,e)?n:$o.current!==null?(t=uv(t,n,r),Pn(t,e)||(Dt=!0),t):Ts&42?(t=t1(),de.lanes|=t,As|=t,e):(Dt=!0,t.memoizedState=n)}function dA(t,e,n,r,i){var s=Ne.p;Ne.p=s!==0&&8>s?s:8;var a=ne.T,o={};ne.T=o,hv(t,!1,e,n);try{var c=i(),u=ne.S;if(u!==null&&u(o,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var f=OO(c,r);_c(t,e,f,On(t))}else _c(t,e,r,On(t))}catch(h){_c(t,e,{then:function(){},status:"rejected",reason:h},On())}finally{Ne.p=s,ne.T=a}}function kO(){}function cg(t,e,n,r){if(t.tag!==5)throw Error(F(476));var i=mA(t).queue;dA(t,i,e,la,n===null?kO:function(){return pA(t),n(r)})}function mA(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:la,baseState:la,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:la},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ci,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function pA(t){var e=mA(t).next.queue;_c(t,e,{},On())}function fv(){return $t(Bc)}function gA(){return yt().memoizedState}function yA(){return yt().memoizedState}function LO(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=On();t=us(n);var r=fs(e,t,n);r!==null&&(Dn(r,e,n),gc(r,e,n)),e={cache:Wy()},t.payload=e;return}e=e.return}}function jO(t,e,n){var r=On();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Td(t)?_A(e,n):(n=Ky(t,e,n,r),n!==null&&(Dn(n,t,r),bA(n,e,r)))}function vA(t,e,n){var r=On();_c(t,e,n,r)}function _c(t,e,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Td(t))_A(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Pn(o,a))return _d(t,e,i,0),He===null&&vd(),!1}catch{}finally{}if(n=Ky(t,e,i,r),n!==null)return Dn(n,t,r),bA(n,e,r),!0}return!1}function hv(t,e,n,r){if(r={lane:2,revertLane:bv(),action:r,hasEagerState:!1,eagerState:null,next:null},Td(t)){if(e)throw Error(F(479))}else e=Ky(t,n,r,2),e!==null&&Dn(e,t,2)}function Td(t){var e=t.alternate;return t===de||e!==null&&e===de}function _A(t,e){wo=_h=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function bA(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,uS(t,n)}}var wh={readContext:$t,use:wd,useCallback:ot,useContext:ot,useEffect:ot,useImperativeHandle:ot,useLayoutEffect:ot,useInsertionEffect:ot,useMemo:ot,useReducer:ot,useRef:ot,useState:ot,useDebugValue:ot,useDeferredValue:ot,useTransition:ot,useSyncExternalStore:ot,useId:ot,useHostTransitionStatus:ot,useFormState:ot,useActionState:ot,useOptimistic:ot,useMemoCache:ot,useCacheRefresh:ot},wA={readContext:$t,use:wd,useCallback:function(t,e){return on().memoizedState=[t,e===void 0?null:e],t},useContext:$t,useEffect:mb,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Uf(4194308,4,lA.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Uf(4194308,4,t,e)},useInsertionEffect:function(t,e){Uf(4,2,t,e)},useMemo:function(t,e){var n=on();e=e===void 0?null:e;var r=t();if(_a){rs(!0);try{t()}finally{rs(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=on();if(n!==void 0){var i=n(e);if(_a){rs(!0);try{n(e)}finally{rs(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=jO.bind(null,de,t),[r.memoizedState,t]},useRef:function(t){var e=on();return t={current:t},e.memoizedState=t},useState:function(t){t=og(t);var e=t.queue,n=vA.bind(null,de,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:cv,useDeferredValue:function(t,e){var n=on();return uv(n,t,e)},useTransition:function(){var t=og(!1);return t=dA.bind(null,de,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=de,i=on();if(Ie){if(n===void 0)throw Error(F(407));n=n()}else{if(n=e(),He===null)throw Error(F(349));Ae&124||QS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,mb(XS.bind(null,r,s,t),[t]),r.flags|=2048,Ko(9,Ed(),YS.bind(null,r,s,n,e),null),n},useId:function(){var t=on(),e=He.identifierPrefix;if(Ie){var n=ei,r=Jr;n=(r&~(1<<32-Nn(r)-1)).toString(32)+n,e="«"+e+"R"+n,n=bh++,0<n&&(e+="H"+n.toString(32)),e+="»"}else n=DO++,e="«"+e+"r"+n.toString(32)+"»";return t.memoizedState=e},useHostTransitionStatus:fv,useFormState:fb,useActionState:fb,useOptimistic:function(t){var e=on();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=hv.bind(null,de,!0,n),n.dispatch=e,[t,e]},useMemoCache:ov,useCacheRefresh:function(){return on().memoizedState=LO.bind(null,de)}},EA={readContext:$t,use:wd,useCallback:uA,useContext:$t,useEffect:sA,useImperativeHandle:cA,useInsertionEffect:aA,useLayoutEffect:oA,useMemo:fA,useReducer:jf,useRef:iA,useState:function(){return jf(ci)},useDebugValue:cv,useDeferredValue:function(t,e){var n=yt();return hA(n,je.memoizedState,t,e)},useTransition:function(){var t=jf(ci)[0],e=yt().memoizedState;return[typeof t=="boolean"?t:_u(t),e]},useSyncExternalStore:KS,useId:gA,useHostTransitionStatus:fv,useFormState:hb,useActionState:hb,useOptimistic:function(t,e){var n=yt();return JS(n,je,t,e)},useMemoCache:ov,useCacheRefresh:yA},UO={readContext:$t,use:wd,useCallback:uA,useContext:$t,useEffect:sA,useImperativeHandle:cA,useInsertionEffect:aA,useLayoutEffect:oA,useMemo:fA,useReducer:Gm,useRef:iA,useState:function(){return Gm(ci)},useDebugValue:cv,useDeferredValue:function(t,e){var n=yt();return je===null?uv(n,t,e):hA(n,je.memoizedState,t,e)},useTransition:function(){var t=Gm(ci)[0],e=yt().memoizedState;return[typeof t=="boolean"?t:_u(t),e]},useSyncExternalStore:KS,useId:gA,useHostTransitionStatus:fv,useFormState:db,useActionState:db,useOptimistic:function(t,e){var n=yt();return je!==null?JS(n,je,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:ov,useCacheRefresh:yA},To=null,Lc=0;function uf(t){var e=Lc;return Lc+=1,To===null&&(To=[]),FS(To,t,e)}function Ql(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function ff(t,e){throw e.$$typeof===pN?Error(F(525)):(t=Object.prototype.toString.call(e),Error(F(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function pb(t){var e=t._init;return e(t._payload)}function TA(t){function e(y,b){if(t){var E=y.deletions;E===null?(y.deletions=[b],y.flags|=16):E.push(b)}}function n(y,b){if(!t)return null;for(;b!==null;)e(y,b),b=b.sibling;return null}function r(y){for(var b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function i(y,b){return y=si(y,b),y.index=0,y.sibling=null,y}function s(y,b,E){return y.index=E,t?(E=y.alternate,E!==null?(E=E.index,E<b?(y.flags|=67108866,b):E):(y.flags|=67108866,b)):(y.flags|=1048576,b)}function a(y){return t&&y.alternate===null&&(y.flags|=67108866),y}function o(y,b,E,I){return b===null||b.tag!==6?(b=Fm(E,y.mode,I),b.return=y,b):(b=i(b,E),b.return=y,b)}function c(y,b,E,I){var P=E.type;return P===to?f(y,b,E.props.children,I,E.key):b!==null&&(b.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===zi&&pb(P)===b.type)?(b=i(b,E.props),Ql(b,E),b.return=y,b):(b=kf(E.type,E.key,E.props,null,y.mode,I),Ql(b,E),b.return=y,b)}function u(y,b,E,I){return b===null||b.tag!==4||b.stateNode.containerInfo!==E.containerInfo||b.stateNode.implementation!==E.implementation?(b=qm(E,y.mode,I),b.return=y,b):(b=i(b,E.children||[]),b.return=y,b)}function f(y,b,E,I,P){return b===null||b.tag!==7?(b=ca(E,y.mode,I,P),b.return=y,b):(b=i(b,E),b.return=y,b)}function h(y,b,E){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=Fm(""+b,y.mode,E),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case nf:return E=kf(b.type,b.key,b.props,null,y.mode,E),Ql(E,b),E.return=y,E;case tc:return b=qm(b,y.mode,E),b.return=y,b;case zi:var I=b._init;return b=I(b._payload),h(y,b,E)}if(nc(b)||Hl(b))return b=ca(b,y.mode,E,null),b.return=y,b;if(typeof b.then=="function")return h(y,uf(b),E);if(b.$$typeof===Zr)return h(y,lf(y,b),E);ff(y,b)}return null}function m(y,b,E,I){var P=b!==null?b.key:null;if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return P!==null?null:o(y,b,""+E,I);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case nf:return E.key===P?c(y,b,E,I):null;case tc:return E.key===P?u(y,b,E,I):null;case zi:return P=E._init,E=P(E._payload),m(y,b,E,I)}if(nc(E)||Hl(E))return P!==null?null:f(y,b,E,I,null);if(typeof E.then=="function")return m(y,b,uf(E),I);if(E.$$typeof===Zr)return m(y,b,lf(y,E),I);ff(y,E)}return null}function d(y,b,E,I,P){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return y=y.get(E)||null,o(b,y,""+I,P);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case nf:return y=y.get(I.key===null?E:I.key)||null,c(b,y,I,P);case tc:return y=y.get(I.key===null?E:I.key)||null,u(b,y,I,P);case zi:var k=I._init;return I=k(I._payload),d(y,b,E,I,P)}if(nc(I)||Hl(I))return y=y.get(E)||null,f(b,y,I,P,null);if(typeof I.then=="function")return d(y,b,E,uf(I),P);if(I.$$typeof===Zr)return d(y,b,E,lf(b,I),P);ff(b,I)}return null}function x(y,b,E,I){for(var P=null,k=null,A=b,S=b=0,R=null;A!==null&&S<E.length;S++){A.index>S?(R=A,A=null):R=A.sibling;var N=m(y,A,E[S],I);if(N===null){A===null&&(A=R);break}t&&A&&N.alternate===null&&e(y,A),b=s(N,b,S),k===null?P=N:k.sibling=N,k=N,A=R}if(S===E.length)return n(y,A),Ie&&Ys(y,S),P;if(A===null){for(;S<E.length;S++)A=h(y,E[S],I),A!==null&&(b=s(A,b,S),k===null?P=A:k.sibling=A,k=A);return Ie&&Ys(y,S),P}for(A=r(A);S<E.length;S++)R=d(A,y,S,E[S],I),R!==null&&(t&&R.alternate!==null&&A.delete(R.key===null?S:R.key),b=s(R,b,S),k===null?P=R:k.sibling=R,k=R);return t&&A.forEach(function(M){return e(y,M)}),Ie&&Ys(y,S),P}function _(y,b,E,I){if(E==null)throw Error(F(151));for(var P=null,k=null,A=b,S=b=0,R=null,N=E.next();A!==null&&!N.done;S++,N=E.next()){A.index>S?(R=A,A=null):R=A.sibling;var M=m(y,A,N.value,I);if(M===null){A===null&&(A=R);break}t&&A&&M.alternate===null&&e(y,A),b=s(M,b,S),k===null?P=M:k.sibling=M,k=M,A=R}if(N.done)return n(y,A),Ie&&Ys(y,S),P;if(A===null){for(;!N.done;S++,N=E.next())N=h(y,N.value,I),N!==null&&(b=s(N,b,S),k===null?P=N:k.sibling=N,k=N);return Ie&&Ys(y,S),P}for(A=r(A);!N.done;S++,N=E.next())N=d(A,y,S,N.value,I),N!==null&&(t&&N.alternate!==null&&A.delete(N.key===null?S:N.key),b=s(N,b,S),k===null?P=N:k.sibling=N,k=N);return t&&A.forEach(function(O){return e(y,O)}),Ie&&Ys(y,S),P}function w(y,b,E,I){if(typeof E=="object"&&E!==null&&E.type===to&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case nf:e:{for(var P=E.key;b!==null;){if(b.key===P){if(P=E.type,P===to){if(b.tag===7){n(y,b.sibling),I=i(b,E.props.children),I.return=y,y=I;break e}}else if(b.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===zi&&pb(P)===b.type){n(y,b.sibling),I=i(b,E.props),Ql(I,E),I.return=y,y=I;break e}n(y,b);break}else e(y,b);b=b.sibling}E.type===to?(I=ca(E.props.children,y.mode,I,E.key),I.return=y,y=I):(I=kf(E.type,E.key,E.props,null,y.mode,I),Ql(I,E),I.return=y,y=I)}return a(y);case tc:e:{for(P=E.key;b!==null;){if(b.key===P)if(b.tag===4&&b.stateNode.containerInfo===E.containerInfo&&b.stateNode.implementation===E.implementation){n(y,b.sibling),I=i(b,E.children||[]),I.return=y,y=I;break e}else{n(y,b);break}else e(y,b);b=b.sibling}I=qm(E,y.mode,I),I.return=y,y=I}return a(y);case zi:return P=E._init,E=P(E._payload),w(y,b,E,I)}if(nc(E))return x(y,b,E,I);if(Hl(E)){if(P=Hl(E),typeof P!="function")throw Error(F(150));return E=P.call(E),_(y,b,E,I)}if(typeof E.then=="function")return w(y,b,uf(E),I);if(E.$$typeof===Zr)return w(y,b,lf(y,E),I);ff(y,E)}return typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint"?(E=""+E,b!==null&&b.tag===6?(n(y,b.sibling),I=i(b,E),I.return=y,y=I):(n(y,b),I=Fm(E,y.mode,I),I.return=y,y=I),a(y)):n(y,b)}return function(y,b,E,I){try{Lc=0;var P=w(y,b,E,I);return To=null,P}catch(A){if(A===vu||A===bd)throw A;var k=Rn(29,A,null,y.mode);return k.lanes=I,k.return=y,k}finally{}}}var Qo=TA(!0),SA=TA(!1),Kn=Ur(null),Ir=null;function Hi(t){var e=t.alternate;Ze(wt,wt.current&1),Ze(Kn,t),Ir===null&&(e===null||$o.current!==null||e.memoizedState!==null)&&(Ir=t)}function AA(t){if(t.tag===22){if(Ze(wt,wt.current),Ze(Kn,t),Ir===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Ir=t)}}else Gi()}function Gi(){Ze(wt,wt.current),Ze(Kn,Kn.current)}function ni(t){Mt(Kn),Ir===t&&(Ir=null),Mt(wt)}var wt=Ur(0);function Eh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||xg(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function $m(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ug={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=On(),i=us(r);i.payload=e,n!=null&&(i.callback=n),e=fs(t,i,r),e!==null&&(Dn(e,t,r),gc(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=On(),i=us(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=fs(t,i,r),e!==null&&(Dn(e,t,r),gc(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=On(),r=us(n);r.tag=2,e!=null&&(r.callback=e),e=fs(t,r,n),e!==null&&(Dn(e,t,n),gc(e,t,n))}};function gb(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Pc(n,r)||!Pc(i,s):!0}function yb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ug.enqueueReplaceState(e,e.state,null)}function ba(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=Ye({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}var Th=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function xA(t){Th(t)}function RA(t){console.error(t)}function CA(t){Th(t)}function Sh(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function vb(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function fg(t,e,n){return n=us(n),n.tag=3,n.payload={element:null},n.callback=function(){Sh(t,e)},n}function IA(t){return t=us(t),t.tag=3,t}function NA(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=r.value;t.payload=function(){return i(s)},t.callback=function(){vb(e,n,r)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){vb(e,n,r),typeof i!="function"&&(hs===null?hs=new Set([this]):hs.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})})}function zO(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&gu(e,n,i,!0),n=Kn.current,n!==null){switch(n.tag){case 13:return Ir===null?_g():n.alternate===null&&at===0&&(at=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===rg?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),rp(t,r,i)),!1;case 22:return n.flags|=65536,r===rg?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),rp(t,r,i)),!1}throw Error(F(435,n.tag))}return rp(t,r,i),_g(),!1}if(Ie)return e=Kn.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==Zp&&(t=Error(F(422),{cause:r}),Vc(qn(t,n)))):(r!==Zp&&(e=Error(F(423),{cause:r}),Vc(qn(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=qn(r,n),i=fg(t.stateNode,r,i),Hm(t,i),at!==4&&(at=2)),!1;var s=Error(F(520),{cause:r});if(s=qn(s,n),Ec===null?Ec=[s]:Ec.push(s),at!==4&&(at=2),e===null)return!0;r=qn(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=fg(n.stateNode,r,t),Hm(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(hs===null||!hs.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,i=IA(i),NA(i,t,n,r),Hm(n,i),!1}n=n.return}while(n!==null);return!1}var OA=Error(F(461)),Dt=!1;function Pt(t,e,n,r){e.child=t===null?SA(e,null,n,r):Qo(e,t.child,n,r)}function _b(t,e,n,r,i){n=n.render;var s=e.ref;if("ref"in r){var a={};for(var o in r)o!=="ref"&&(a[o]=r[o])}else a=r;return va(e),r=nv(t,e,n,a,s,i),o=rv(),t!==null&&!Dt?(iv(t,e,i),ui(t,e,i)):(Ie&&o&&Yy(e),e.flags|=1,Pt(t,e,r,i),e.child)}function bb(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Qy(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,DA(t,e,s,r,i)):(t=kf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!dv(t,i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Pc,n(a,r)&&t.ref===e.ref)return ui(t,e,i)}return e.flags|=1,t=si(s,r),t.ref=e.ref,t.return=e,e.child=t}function DA(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Pc(s,r)&&t.ref===e.ref)if(Dt=!1,e.pendingProps=r=s,dv(t,i))t.flags&131072&&(Dt=!0);else return e.lanes=t.lanes,ui(t,e,i)}return hg(t,e,n,r,i)}function MA(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden"){if(e.flags&128){if(r=s!==null?s.baseLanes|n:n,t!==null){for(i=e.child=t.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;e.childLanes=s&~r}else e.childLanes=0,e.child=null;return wb(t,e,r,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Lf(e,s!==null?s.cachePool:null),s!==null?lb(e,s):ag(),AA(e);else return e.lanes=e.childLanes=536870912,wb(t,e,s!==null?s.baseLanes|n:n,n)}else s!==null?(Lf(e,s.cachePool),lb(e,s),Gi(),e.memoizedState=null):(t!==null&&Lf(e,null),ag(),Gi());return Pt(t,e,i,n),e.child}function wb(t,e,n,r){var i=Zy();return i=i===null?null:{parent:bt._currentValue,pool:i},e.memoizedState={baseLanes:n,cachePool:i},t!==null&&Lf(e,null),ag(),AA(e),t!==null&&gu(t,e,r,!0),null}function zf(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(F(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function hg(t,e,n,r,i){return va(e),n=nv(t,e,n,r,void 0,i),r=rv(),t!==null&&!Dt?(iv(t,e,i),ui(t,e,i)):(Ie&&r&&Yy(e),e.flags|=1,Pt(t,e,n,i),e.child)}function Eb(t,e,n,r,i,s){return va(e),e.updateQueue=null,n=$S(e,r,n,i),GS(t),r=rv(),t!==null&&!Dt?(iv(t,e,s),ui(t,e,s)):(Ie&&r&&Yy(e),e.flags|=1,Pt(t,e,n,s),e.child)}function Tb(t,e,n,r,i){if(va(e),e.stateNode===null){var s=co,a=n.contextType;typeof a=="object"&&a!==null&&(s=$t(a)),s=new n(r,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=ug,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=r,s.state=e.memoizedState,s.refs={},Jy(e),a=n.contextType,s.context=typeof a=="object"&&a!==null?$t(a):co,s.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&($m(e,n,a,r),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&ug.enqueueReplaceState(s,s.state,null),vc(e,r,s,i),yc(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){s=e.stateNode;var o=e.memoizedProps,c=ba(n,o);s.props=c;var u=s.context,f=n.contextType;a=co,typeof f=="object"&&f!==null&&(a=$t(f));var h=n.getDerivedStateFromProps;f=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o||u!==a)&&yb(e,s,r,a),Bi=!1;var m=e.memoizedState;s.state=m,vc(e,r,s,i),yc(),u=e.memoizedState,o||m!==u||Bi?(typeof h=="function"&&($m(e,n,h,r),u=e.memoizedState),(c=Bi||gb(e,n,c,r,m,u,a))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=a,r=c):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,ig(t,e),a=e.memoizedProps,f=ba(n,a),s.props=f,h=e.pendingProps,m=s.context,u=n.contextType,c=co,typeof u=="object"&&u!==null&&(c=$t(u)),o=n.getDerivedStateFromProps,(u=typeof o=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||m!==c)&&yb(e,s,r,c),Bi=!1,m=e.memoizedState,s.state=m,vc(e,r,s,i),yc();var d=e.memoizedState;a!==h||m!==d||Bi||t!==null&&t.dependencies!==null&&yh(t.dependencies)?(typeof o=="function"&&($m(e,n,o,r),d=e.memoizedState),(f=Bi||gb(e,n,f,r,m,d,c)||t!==null&&t.dependencies!==null&&yh(t.dependencies))?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,d,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,d,c)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=d),s.props=r,s.state=d,s.context=c,r=f):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return s=r,zf(t,e),r=(e.flags&128)!==0,s||r?(s=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&r?(e.child=Qo(e,t.child,null,i),e.child=Qo(e,null,n,i)):Pt(t,e,n,i),e.memoizedState=s.state,t=e.child):t=ui(t,e,i),t}function Sb(t,e,n,r){return pu(),e.flags|=256,Pt(t,e,n,r),e.child}var Km={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qm(t){return{baseLanes:t,cachePool:zS()}}function Ym(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=$n),t}function PA(t,e,n){var r=e.pendingProps,i=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(wt.current&2)!==0),a&&(i=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(Ie){if(i?Hi(e):Gi(),Ie){var o=st,c;if(c=o){e:{for(c=o,o=Tr;c.nodeType!==8;){if(!o){o=null;break e}if(c=sr(c.nextSibling),c===null){o=null;break e}}o=c}o!==null?(e.memoizedState={dehydrated:o,treeContext:ua!==null?{id:Jr,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},c=Rn(18,null,null,0),c.stateNode=o,c.return=e,e.child=c,Jt=e,st=null,c=!0):c=!1}c||ya(e)}if(o=e.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return xg(o)?e.lanes=32:e.lanes=536870912,null;ni(e)}return o=r.children,r=r.fallback,i?(Gi(),i=e.mode,o=Ah({mode:"hidden",children:o},i),r=ca(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,i=e.child,i.memoizedState=Qm(n),i.childLanes=Ym(t,a,n),e.memoizedState=Km,r):(Hi(e),dg(e,o))}if(c=t.memoizedState,c!==null&&(o=c.dehydrated,o!==null)){if(s)e.flags&256?(Hi(e),e.flags&=-257,e=Xm(t,e,n)):e.memoizedState!==null?(Gi(),e.child=t.child,e.flags|=128,e=null):(Gi(),i=r.fallback,o=e.mode,r=Ah({mode:"visible",children:r.children},o),i=ca(i,o,n,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,Qo(e,t.child,null,n),r=e.child,r.memoizedState=Qm(n),r.childLanes=Ym(t,a,n),e.memoizedState=Km,e=i);else if(Hi(e),xg(o)){if(a=o.nextSibling&&o.nextSibling.dataset,a)var u=a.dgst;a=u,r=Error(F(419)),r.stack="",r.digest=a,Vc({value:r,source:null,stack:null}),e=Xm(t,e,n)}else if(Dt||gu(t,e,n,!1),a=(n&t.childLanes)!==0,Dt||a){if(a=He,a!==null&&(r=n&-n,r=r&42?1:Ly(r),r=r&(a.suspendedLanes|n)?0:r,r!==0&&r!==c.retryLane))throw c.retryLane=r,dl(t,r),Dn(a,t,r),OA;o.data==="$?"||_g(),e=Xm(t,e,n)}else o.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=c.treeContext,st=sr(o.nextSibling),Jt=e,Ie=!0,fa=null,Tr=!1,t!==null&&(zn[Bn++]=Jr,zn[Bn++]=ei,zn[Bn++]=ua,Jr=t.id,ei=t.overflow,ua=e),e=dg(e,r.children),e.flags|=4096);return e}return i?(Gi(),i=r.fallback,o=e.mode,c=t.child,u=c.sibling,r=si(c,{mode:"hidden",children:r.children}),r.subtreeFlags=c.subtreeFlags&65011712,u!==null?i=si(u,i):(i=ca(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o===null?o=Qm(n):(c=o.cachePool,c!==null?(u=bt._currentValue,c=c.parent!==u?{parent:u,pool:u}:c):c=zS(),o={baseLanes:o.baseLanes|n,cachePool:c}),i.memoizedState=o,i.childLanes=Ym(t,a,n),e.memoizedState=Km,r):(Hi(e),n=t.child,t=n.sibling,n=si(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function dg(t,e){return e=Ah({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Ah(t,e){return t=Rn(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Xm(t,e,n){return Qo(e,t.child,null,n),t=dg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ab(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),eg(t.return,e,n)}function Wm(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function VA(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Pt(t,e,r.children,n),r=wt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ab(t,n,e);else if(t.tag===19)Ab(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(Ze(wt,r),i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Eh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Wm(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Eh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Wm(e,!0,n,null,s);break;case"together":Wm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ui(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),As|=e.lanes,!(n&e.childLanes))if(t!==null){if(gu(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(F(153));if(e.child!==null){for(t=e.child,n=si(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=si(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function dv(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&yh(t)))}function BO(t,e,n){switch(e.tag){case 3:ch(e,e.stateNode.containerInfo),qi(e,bt,t.memoizedState.cache),pu();break;case 27:case 5:Fp(e);break;case 4:ch(e,e.stateNode.containerInfo);break;case 10:qi(e,e.type,e.memoizedProps.value);break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(Hi(e),e.flags|=128,null):n&e.child.childLanes?PA(t,e,n):(Hi(e),t=ui(t,e,n),t!==null?t.sibling:null);Hi(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(gu(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return VA(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ze(wt,wt.current),r)break;return null;case 22:case 23:return e.lanes=0,MA(t,e,n);case 24:qi(e,bt,t.memoizedState.cache)}return ui(t,e,n)}function kA(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Dt=!0;else{if(!dv(t,n)&&!(e.flags&128))return Dt=!1,BO(t,e,n);Dt=!!(t.flags&131072)}else Dt=!1,Ie&&e.flags&1048576&&jS(e,gh,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var r=e.elementType,i=r._init;if(r=i(r._payload),e.type=r,typeof r=="function")Qy(r)?(t=ba(r,t),e.tag=1,e=Tb(null,e,r,t,n)):(e.tag=0,e=hg(null,e,r,t,n));else{if(r!=null){if(i=r.$$typeof,i===Py){e.tag=11,e=_b(null,e,r,t,n);break e}else if(i===Vy){e.tag=14,e=bb(null,e,r,t,n);break e}}throw e=zp(r)||r,Error(F(306,e,""))}}return e;case 0:return hg(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=ba(r,e.pendingProps),Tb(t,e,r,i,n);case 3:e:{if(ch(e,e.stateNode.containerInfo),t===null)throw Error(F(387));r=e.pendingProps;var s=e.memoizedState;i=s.element,ig(t,e),vc(e,r,null,n);var a=e.memoizedState;if(r=a.cache,qi(e,bt,r),r!==s.cache&&tg(e,[bt],n,!0),yc(),r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=Sb(t,e,r,n);break e}else if(r!==i){i=qn(Error(F(424)),e),Vc(i),e=Sb(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(st=sr(t.firstChild),Jt=e,Ie=!0,fa=null,Tr=!0,n=SA(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(pu(),r===i){e=ui(t,e,n);break e}Pt(t,e,r,n)}e=e.child}return e;case 26:return zf(t,e),t===null?(n=Fb(e.type,null,e.pendingProps,null))?e.memoizedState=n:Ie||(n=e.type,t=e.pendingProps,r=Dh(cs.current).createElement(n),r[Gt]=e,r[dn]=t,jt(r,n,t),Ot(r),e.stateNode=r):e.memoizedState=Fb(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Fp(e),t===null&&Ie&&(r=e.stateNode=E1(e.type,e.pendingProps,cs.current),Jt=e,Tr=!0,i=st,ks(e.type)?(Rg=i,st=sr(r.firstChild)):st=i),Pt(t,e,e.pendingProps.children,n),zf(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Ie&&((i=r=st)&&(r=pD(r,e.type,e.pendingProps,Tr),r!==null?(e.stateNode=r,Jt=e,st=sr(r.firstChild),Tr=!1,i=!0):i=!1),i||ya(e)),Fp(e),i=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,r=s.children,Sg(i,s)?r=null:a!==null&&Sg(i,a)&&(e.flags|=32),e.memoizedState!==null&&(i=nv(t,e,MO,null,null,n),Bc._currentValue=i),zf(t,e),Pt(t,e,r,n),e.child;case 6:return t===null&&Ie&&((t=n=st)&&(n=gD(n,e.pendingProps,Tr),n!==null?(e.stateNode=n,Jt=e,st=null,t=!0):t=!1),t||ya(e)),null;case 13:return PA(t,e,n);case 4:return ch(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Qo(e,null,r,n):Pt(t,e,r,n),e.child;case 11:return _b(t,e,e.type,e.pendingProps,n);case 7:return Pt(t,e,e.pendingProps,n),e.child;case 8:return Pt(t,e,e.pendingProps.children,n),e.child;case 12:return Pt(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,qi(e,e.type,r.value),Pt(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,va(e),i=$t(i),r=r(i),e.flags|=1,Pt(t,e,r,n),e.child;case 14:return bb(t,e,e.type,e.pendingProps,n);case 15:return DA(t,e,e.type,e.pendingProps,n);case 19:return VA(t,e,n);case 31:return r=e.pendingProps,n=e.mode,r={mode:r.mode,children:r.children},t===null?(n=Ah(r,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=si(t.child,r),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return MA(t,e,n);case 24:return va(e),r=$t(bt),t===null?(i=Zy(),i===null&&(i=He,s=Wy(),i.pooledCache=s,s.refCount++,s!==null&&(i.pooledCacheLanes|=n),i=s),e.memoizedState={parent:r,cache:i},Jy(e),qi(e,bt,i)):(t.lanes&n&&(ig(t,e),vc(e,null,null,n),yc()),i=t.memoizedState,s=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),qi(e,bt,r)):(r=s.cache,qi(e,bt,r),r!==i.cache&&tg(e,[bt],n,!0))),Pt(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(F(156,e.tag))}function $r(t){t.flags|=4}function xb(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!A1(e)){if(e=Kn.current,e!==null&&((Ae&4194048)===Ae?Ir!==null:(Ae&62914560)!==Ae&&!(Ae&536870912)||e!==Ir))throw pc=rg,BS;t.flags|=8192}}function hf(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?lS():536870912,t.lanes|=e,Yo|=e)}function Yl(t,e){if(!Ie)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function tt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function FO(t,e,n){var r=e.pendingProps;switch(Xy(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(e),null;case 1:return tt(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),ai(bt),Fo(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Kl(e)?$r(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,nb())),tt(e),null;case 26:return n=e.memoizedState,t===null?($r(e),n!==null?(tt(e),xb(e,n)):(tt(e),e.flags&=-16777217)):n?n!==t.memoizedState?($r(e),tt(e),xb(e,n)):(tt(e),e.flags&=-16777217):(t.memoizedProps!==r&&$r(e),tt(e),e.flags&=-16777217),null;case 27:uh(e),n=cs.current;var i=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==r&&$r(e);else{if(!r){if(e.stateNode===null)throw Error(F(166));return tt(e),null}t=Rr.current,Kl(e)?eb(e):(t=E1(i,r,n),e.stateNode=t,$r(e))}return tt(e),null;case 5:if(uh(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&$r(e);else{if(!r){if(e.stateNode===null)throw Error(F(166));return tt(e),null}if(t=Rr.current,Kl(e))eb(e);else{switch(i=Dh(cs.current),t){case 1:t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?i.createElement(n,{is:r.is}):i.createElement(n)}}t[Gt]=e,t[dn]=r;e:for(i=e.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}e.stateNode=t;e:switch(jt(t,n,r),n){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&$r(e)}}return tt(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&$r(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(F(166));if(t=cs.current,Kl(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=Jt,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[Gt]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||_1(t.nodeValue,n)),t||ya(e)}else t=Dh(t).createTextNode(r),t[Gt]=e,e.stateNode=t}return tt(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=Kl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(F(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(F(317));i[Gt]=e}else pu(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;tt(e),i=!1}else i=nb(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(ni(e),e):(ni(e),null)}if(ni(e),e.flags&128)return e.lanes=n,e;if(n=r!==null,t=t!==null&&t.memoizedState!==null,n){r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool);var s=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),hf(e,e.updateQueue),tt(e),null;case 4:return Fo(),t===null&&wv(e.stateNode.containerInfo),tt(e),null;case 10:return ai(e.type),tt(e),null;case 19:if(Mt(wt),i=e.memoizedState,i===null)return tt(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)Yl(i,!1);else{if(at!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Eh(t),s!==null){for(e.flags|=128,Yl(i,!1),t=s.updateQueue,e.updateQueue=t,hf(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)LS(n,t),n=n.sibling;return Ze(wt,wt.current&1|2),e.child}t=t.sibling}i.tail!==null&&Cr()>Rh&&(e.flags|=128,r=!0,Yl(i,!1),e.lanes=4194304)}else{if(!r)if(t=Eh(s),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,hf(e,t),Yl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Ie)return tt(e),null}else 2*Cr()-i.renderingStartTime>Rh&&n!==536870912&&(e.flags|=128,r=!0,Yl(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(t=i.last,t!==null?t.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Cr(),e.sibling=null,t=wt.current,Ze(wt,r?t&1|2:t&1),e):(tt(e),null);case 22:case 23:return ni(e),ev(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(tt(e),e.subtreeFlags&6&&(e.flags|=8192)):tt(e),n=e.updateQueue,n!==null&&hf(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&Mt(ha),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),ai(bt),tt(e),null;case 25:return null;case 30:return null}throw Error(F(156,e.tag))}function qO(t,e){switch(Xy(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ai(bt),Fo(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return uh(e),null;case 13:if(ni(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(F(340));pu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Mt(wt),null;case 4:return Fo(),null;case 10:return ai(e.type),null;case 22:case 23:return ni(e),ev(),t!==null&&Mt(ha),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return ai(bt),null;case 25:return null;default:return null}}function LA(t,e){switch(Xy(e),e.tag){case 3:ai(bt),Fo();break;case 26:case 27:case 5:uh(e);break;case 4:Fo();break;case 13:ni(e);break;case 19:Mt(wt);break;case 10:ai(e.type);break;case 22:case 23:ni(e),ev(),t!==null&&Mt(ha);break;case 24:ai(bt)}}function wu(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var s=n.create,a=n.inst;r=s(),a.destroy=r}n=n.next}while(n!==i)}}catch(o){Be(e,e.return,o)}}function Ss(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var s=i.next;r=s;do{if((r.tag&t)===t){var a=r.inst,o=a.destroy;if(o!==void 0){a.destroy=void 0,i=e;var c=n,u=o;try{u()}catch(f){Be(i,c,f)}}}r=r.next}while(r!==s)}}catch(f){Be(e,e.return,f)}}function jA(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{HS(e,n)}catch(r){Be(t,t.return,r)}}}function UA(t,e,n){n.props=ba(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){Be(t,e,r)}}function bc(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(i){Be(t,e,i)}}function Ar(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){Be(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){Be(t,e,i)}else n.current=null}function zA(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Be(t,t.return,i)}}function Zm(t,e,n){try{var r=t.stateNode;uD(r,t.type,n,e),r[dn]=e}catch(i){Be(t,t.return,i)}}function BA(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ks(t.type)||t.tag===4}function Jm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||BA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ks(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Rd));else if(r!==4&&(r===27&&ks(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(mg(t,e,n),t=t.sibling;t!==null;)mg(t,e,n),t=t.sibling}function xh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&ks(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(xh(t,e,n),t=t.sibling;t!==null;)xh(t,e,n),t=t.sibling}function FA(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);jt(e,r,n),e[Gt]=t,e[dn]=n}catch(s){Be(t,t.return,s)}}var Wr=!1,lt=!1,ep=!1,Rb=typeof WeakSet=="function"?WeakSet:Set,Nt=null;function HO(t,e){if(t=t.containerInfo,Eg=kh,t=IS(t),Gy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,c=-1,u=0,f=0,h=t,m=null;t:for(;;){for(var d;h!==n||i!==0&&h.nodeType!==3||(o=a+i),h!==s||r!==0&&h.nodeType!==3||(c=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(d=h.firstChild)!==null;)m=h,h=d;for(;;){if(h===t)break t;if(m===n&&++u===i&&(o=a),m===s&&++f===r&&(c=a),(d=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=d}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Tg={focusedElem:t,selectionRange:n},kh=!1,Nt=e;Nt!==null;)if(e=Nt,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,Nt=t;else for(;Nt!==null;){switch(e=Nt,s=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&s!==null){t=void 0,n=e,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var x=ba(n.type,i,n.elementType===n.type);t=r.getSnapshotBeforeUpdate(x,s),r.__reactInternalSnapshotBeforeUpdate=t}catch(_){Be(n,n.return,_)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Ag(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ag(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(F(163))}if(t=e.sibling,t!==null){t.return=e.return,Nt=t;break}Nt=e.return}}function qA(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Oi(t,n),r&4&&wu(5,n);break;case 1:if(Oi(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){Be(n,n.return,a)}else{var i=ba(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){Be(n,n.return,a)}}r&64&&jA(n),r&512&&bc(n,n.return);break;case 3:if(Oi(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{HS(t,e)}catch(a){Be(n,n.return,a)}}break;case 27:e===null&&r&4&&FA(n);case 26:case 5:Oi(t,n),e===null&&r&4&&zA(n),r&512&&bc(n,n.return);break;case 12:Oi(t,n);break;case 13:Oi(t,n),r&4&&$A(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=JO.bind(null,n),yD(t,n))));break;case 22:if(r=n.memoizedState!==null||Wr,!r){e=e!==null&&e.memoizedState!==null||lt,i=Wr;var s=lt;Wr=r,(lt=e)&&!s?ki(t,n,(n.subtreeFlags&8772)!==0):Oi(t,n),Wr=i,lt=s}break;case 30:break;default:Oi(t,n)}}function HA(t){var e=t.alternate;e!==null&&(t.alternate=null,HA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Uy(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Xe=null,ln=!1;function Kr(t,e,n){for(n=n.child;n!==null;)GA(t,e,n),n=n.sibling}function GA(t,e,n){if(In&&typeof In.onCommitFiberUnmount=="function")try{In.onCommitFiberUnmount(uu,n)}catch{}switch(n.tag){case 26:lt||Ar(n,e),Kr(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:lt||Ar(n,e);var r=Xe,i=ln;ks(n.type)&&(Xe=n.stateNode,ln=!1),Kr(t,e,n),Sc(n.stateNode),Xe=r,ln=i;break;case 5:lt||Ar(n,e);case 6:if(r=Xe,i=ln,Xe=null,Kr(t,e,n),Xe=r,ln=i,Xe!==null)if(ln)try{(Xe.nodeType===9?Xe.body:Xe.nodeName==="HTML"?Xe.ownerDocument.body:Xe).removeChild(n.stateNode)}catch(s){Be(n,e,s)}else try{Xe.removeChild(n.stateNode)}catch(s){Be(n,e,s)}break;case 18:Xe!==null&&(ln?(t=Xe,Ub(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Hc(t)):Ub(Xe,n.stateNode));break;case 4:r=Xe,i=ln,Xe=n.stateNode.containerInfo,ln=!0,Kr(t,e,n),Xe=r,ln=i;break;case 0:case 11:case 14:case 15:lt||Ss(2,n,e),lt||Ss(4,n,e),Kr(t,e,n);break;case 1:lt||(Ar(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&UA(n,e,r)),Kr(t,e,n);break;case 21:Kr(t,e,n);break;case 22:lt=(r=lt)||n.memoizedState!==null,Kr(t,e,n),lt=r;break;default:Kr(t,e,n)}}function $A(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Hc(t)}catch(n){Be(e,e.return,n)}}function GO(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Rb),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Rb),e;default:throw Error(F(435,t.tag))}}function tp(t,e){var n=GO(t);e.forEach(function(r){var i=eD.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}function vn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 27:if(ks(o.type)){Xe=o.stateNode,ln=!1;break e}break;case 5:Xe=o.stateNode,ln=!1;break e;case 3:case 4:Xe=o.stateNode.containerInfo,ln=!0;break e}o=o.return}if(Xe===null)throw Error(F(160));GA(s,a,i),Xe=null,ln=!1,s=i.alternate,s!==null&&(s.return=null),i.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)KA(e,t),e=e.sibling}var rr=null;function KA(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:vn(e,t),_n(t),r&4&&(Ss(3,t,t.return),wu(3,t),Ss(5,t,t.return));break;case 1:vn(e,t),_n(t),r&512&&(lt||n===null||Ar(n,n.return)),r&64&&Wr&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=rr;if(vn(e,t),_n(t),r&512&&(lt||n===null||Ar(n,n.return)),r&4){var s=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":s=i.getElementsByTagName("title")[0],(!s||s[du]||s[Gt]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),jt(s,r,n),s[Gt]=t,Ot(s),r=s;break e;case"link":var a=Hb("link","href",i).get(r+(n.href||""));if(a){for(var o=0;o<a.length;o++)if(s=a[o],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(o,1);break t}}s=i.createElement(r),jt(s,r,n),i.head.appendChild(s);break;case"meta":if(a=Hb("meta","content",i).get(r+(n.content||""))){for(o=0;o<a.length;o++)if(s=a[o],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(o,1);break t}}s=i.createElement(r),jt(s,r,n),i.head.appendChild(s);break;default:throw Error(F(468,r))}s[Gt]=t,Ot(s),r=s}t.stateNode=r}else Gb(i,t.type,t.stateNode);else t.stateNode=qb(i,r,t.memoizedProps);else s!==r?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,r===null?Gb(i,t.type,t.stateNode):qb(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&Zm(t,t.memoizedProps,n.memoizedProps)}break;case 27:vn(e,t),_n(t),r&512&&(lt||n===null||Ar(n,n.return)),n!==null&&r&4&&Zm(t,t.memoizedProps,n.memoizedProps);break;case 5:if(vn(e,t),_n(t),r&512&&(lt||n===null||Ar(n,n.return)),t.flags&32){i=t.stateNode;try{Ho(i,"")}catch(d){Be(t,t.return,d)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,Zm(t,i,n!==null?n.memoizedProps:i)),r&1024&&(ep=!0);break;case 6:if(vn(e,t),_n(t),r&4){if(t.stateNode===null)throw Error(F(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(d){Be(t,t.return,d)}}break;case 3:if(qf=null,i=rr,rr=Mh(e.containerInfo),vn(e,t),rr=i,_n(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Hc(e.containerInfo)}catch(d){Be(t,t.return,d)}ep&&(ep=!1,QA(t));break;case 4:r=rr,rr=Mh(t.stateNode.containerInfo),vn(e,t),_n(t),rr=r;break;case 12:vn(e,t),_n(t);break;case 13:vn(e,t),_n(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(vv=Cr()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,tp(t,r)));break;case 22:i=t.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,u=Wr,f=lt;if(Wr=u||i,lt=f||c,vn(e,t),lt=f,Wr=u,_n(t),r&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||c||Wr||lt||Xs(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){c=n=e;try{if(s=c.stateNode,i)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{o=c.stateNode;var h=c.memoizedProps.style,m=h!=null&&h.hasOwnProperty("display")?h.display:null;o.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(d){Be(c,c.return,d)}}}else if(e.tag===6){if(n===null){c=e;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(d){Be(c,c.return,d)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,tp(t,n))));break;case 19:vn(e,t),_n(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,tp(t,r)));break;case 30:break;case 21:break;default:vn(e,t),_n(t)}}function _n(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(BA(r)){n=r;break}r=r.return}if(n==null)throw Error(F(160));switch(n.tag){case 27:var i=n.stateNode,s=Jm(t);xh(t,s,i);break;case 5:var a=n.stateNode;n.flags&32&&(Ho(a,""),n.flags&=-33);var o=Jm(t);xh(t,o,a);break;case 3:case 4:var c=n.stateNode.containerInfo,u=Jm(t);mg(t,u,c);break;default:throw Error(F(161))}}catch(f){Be(t,t.return,f)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function QA(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;QA(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Oi(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)qA(t,e.alternate,e),e=e.sibling}function Xs(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Ss(4,e,e.return),Xs(e);break;case 1:Ar(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&UA(e,e.return,n),Xs(e);break;case 27:Sc(e.stateNode);case 26:case 5:Ar(e,e.return),Xs(e);break;case 22:e.memoizedState===null&&Xs(e);break;case 30:Xs(e);break;default:Xs(e)}t=t.sibling}}function ki(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,s=e,a=s.flags;switch(s.tag){case 0:case 11:case 15:ki(i,s,n),wu(4,s);break;case 1:if(ki(i,s,n),r=s,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){Be(r,r.return,u)}if(r=s,i=r.updateQueue,i!==null){var o=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)qS(c[i],o)}catch(u){Be(r,r.return,u)}}n&&a&64&&jA(s),bc(s,s.return);break;case 27:FA(s);case 26:case 5:ki(i,s,n),n&&r===null&&a&4&&zA(s),bc(s,s.return);break;case 12:ki(i,s,n);break;case 13:ki(i,s,n),n&&a&4&&$A(i,s);break;case 22:s.memoizedState===null&&ki(i,s,n),bc(s,s.return);break;case 30:break;default:ki(i,s,n)}e=e.sibling}}function mv(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&yu(n))}function pv(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&yu(t))}function yr(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)YA(t,e,n,r),e=e.sibling}function YA(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:yr(t,e,n,r),i&2048&&wu(9,e);break;case 1:yr(t,e,n,r);break;case 3:yr(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&yu(t)));break;case 12:if(i&2048){yr(t,e,n,r),t=e.stateNode;try{var s=e.memoizedProps,a=s.id,o=s.onPostCommit;typeof o=="function"&&o(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){Be(e,e.return,c)}}else yr(t,e,n,r);break;case 13:yr(t,e,n,r);break;case 23:break;case 22:s=e.stateNode,a=e.alternate,e.memoizedState!==null?s._visibility&2?yr(t,e,n,r):wc(t,e):s._visibility&2?yr(t,e,n,r):(s._visibility|=2,Qa(t,e,n,r,(e.subtreeFlags&10256)!==0)),i&2048&&mv(a,e);break;case 24:yr(t,e,n,r),i&2048&&pv(e.alternate,e);break;default:yr(t,e,n,r)}}function Qa(t,e,n,r,i){for(i=i&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var s=t,a=e,o=n,c=r,u=a.flags;switch(a.tag){case 0:case 11:case 15:Qa(s,a,o,c,i),wu(8,a);break;case 23:break;case 22:var f=a.stateNode;a.memoizedState!==null?f._visibility&2?Qa(s,a,o,c,i):wc(s,a):(f._visibility|=2,Qa(s,a,o,c,i)),i&&u&2048&&mv(a.alternate,a);break;case 24:Qa(s,a,o,c,i),i&&u&2048&&pv(a.alternate,a);break;default:Qa(s,a,o,c,i)}e=e.sibling}}function wc(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:wc(n,r),i&2048&&mv(r.alternate,r);break;case 24:wc(n,r),i&2048&&pv(r.alternate,r);break;default:wc(n,r)}e=e.sibling}}var ic=8192;function Ba(t){if(t.subtreeFlags&ic)for(t=t.child;t!==null;)XA(t),t=t.sibling}function XA(t){switch(t.tag){case 26:Ba(t),t.flags&ic&&t.memoizedState!==null&&ND(rr,t.memoizedState,t.memoizedProps);break;case 5:Ba(t);break;case 3:case 4:var e=rr;rr=Mh(t.stateNode.containerInfo),Ba(t),rr=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=ic,ic=16777216,Ba(t),ic=e):Ba(t));break;default:Ba(t)}}function WA(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Xl(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];Nt=r,JA(r,t)}WA(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ZA(t),t=t.sibling}function ZA(t){switch(t.tag){case 0:case 11:case 15:Xl(t),t.flags&2048&&Ss(9,t,t.return);break;case 3:Xl(t);break;case 12:Xl(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Bf(t)):Xl(t);break;default:Xl(t)}}function Bf(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];Nt=r,JA(r,t)}WA(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Ss(8,e,e.return),Bf(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Bf(e));break;default:Bf(e)}t=t.sibling}}function JA(t,e){for(;Nt!==null;){var n=Nt;switch(n.tag){case 0:case 11:case 15:Ss(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:yu(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,Nt=r;else e:for(n=t;Nt!==null;){r=Nt;var i=r.sibling,s=r.return;if(HA(r),r===n){Nt=null;break e}if(i!==null){i.return=s,Nt=i;break e}Nt=s}}}var $O={getCacheForType:function(t){var e=$t(bt),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},KO=typeof WeakMap=="function"?WeakMap:Map,ke=0,He=null,ge=null,Ae=0,Ve=0,Sn=null,ss=!1,ml=!1,gv=!1,fi=0,at=0,As=0,da=0,yv=0,$n=0,Yo=0,Ec=null,cn=null,pg=!1,vv=0,Rh=1/0,Ch=null,hs=null,kt=0,ds=null,Xo=null,So=0,gg=0,yg=null,e1=null,Tc=0,vg=null;function On(){if(ke&2&&Ae!==0)return Ae&-Ae;if(ne.T!==null){var t=Go;return t!==0?t:bv()}return fS()}function t1(){$n===0&&($n=!(Ae&536870912)||Ie?oS():536870912);var t=Kn.current;return t!==null&&(t.flags|=32),$n}function Dn(t,e,n){(t===He&&(Ve===2||Ve===9)||t.cancelPendingCommit!==null)&&(Wo(t,0),as(t,Ae,$n,!1)),hu(t,n),(!(ke&2)||t!==He)&&(t===He&&(!(ke&2)&&(da|=n),at===4&&as(t,Ae,$n,!1)),zr(t))}function n1(t,e,n){if(ke&6)throw Error(F(327));var r=!n&&(e&124)===0&&(e&t.expiredLanes)===0||fu(t,e),i=r?XO(t,e):np(t,e,!0),s=r;do{if(i===0){ml&&!r&&as(t,e,0,!1);break}else{if(n=t.current.alternate,s&&!QO(n)){i=np(t,e,!1),s=!1;continue}if(i===2){if(s=e,t.errorRecoveryDisabledLanes&s)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var o=t;i=Ec;var c=o.current.memoizedState.isDehydrated;if(c&&(Wo(o,a).flags|=256),a=np(o,a,!1),a!==2){if(gv&&!c){o.errorRecoveryDisabledLanes|=s,da|=s,i=4;break e}s=cn,cn=i,s!==null&&(cn===null?cn=s:cn.push.apply(cn,s))}i=a}if(s=!1,i!==2)continue}}if(i===1){Wo(t,0),as(t,e,0,!0);break}e:{switch(r=t,s=i,s){case 0:case 1:throw Error(F(345));case 4:if((e&4194048)!==e)break;case 6:as(r,e,$n,!ss);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(F(329))}if((e&62914560)===e&&(i=vv+300-Cr(),10<i)){if(as(r,e,$n,!ss),md(r,0,!0)!==0)break e;r.timeoutHandle=w1(Cb.bind(null,r,n,cn,Ch,pg,e,$n,da,Yo,ss,s,2,-0,0),i);break e}Cb(r,n,cn,Ch,pg,e,$n,da,Yo,ss,s,0,-0,0)}}break}while(!0);zr(t)}function Cb(t,e,n,r,i,s,a,o,c,u,f,h,m,d){if(t.timeoutHandle=-1,h=e.subtreeFlags,(h&8192||(h&16785408)===16785408)&&(zc={stylesheets:null,count:0,unsuspend:ID},XA(e),h=OD(),h!==null)){t.cancelPendingCommit=h(Nb.bind(null,t,e,s,n,r,i,a,o,c,f,1,m,d)),as(t,s,a,!u);return}Nb(t,e,s,n,r,i,a,o,c)}function QO(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Pn(s(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function as(t,e,n,r){e&=~yv,e&=~da,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var s=31-Nn(i),a=1<<s;r[s]=-1,i&=~a}n!==0&&cS(t,n,e)}function Sd(){return ke&6?!0:(Eu(0),!1)}function _v(){if(ge!==null){if(Ve===0)var t=ge.return;else t=ge,ti=Da=null,sv(t),To=null,Lc=0,t=ge;for(;t!==null;)LA(t.alternate,t),t=t.return;ge=null}}function Wo(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,hD(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),_v(),He=t,ge=n=si(t.current,null),Ae=e,Ve=0,Sn=null,ss=!1,ml=fu(t,e),gv=!1,Yo=$n=yv=da=As=at=0,cn=Ec=null,pg=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-Nn(r),s=1<<i;e|=t[i],r&=~s}return fi=e,vd(),n}function r1(t,e){de=null,ne.H=wh,e===vu||e===bd?(e=ab(),Ve=3):e===BS?(e=ab(),Ve=4):Ve=e===OA?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Sn=e,ge===null&&(at=1,Sh(t,qn(e,t.current)))}function i1(){var t=ne.H;return ne.H=wh,t===null?wh:t}function s1(){var t=ne.A;return ne.A=$O,t}function _g(){at=4,ss||(Ae&4194048)!==Ae&&Kn.current!==null||(ml=!0),!(As&134217727)&&!(da&134217727)||He===null||as(He,Ae,$n,!1)}function np(t,e,n){var r=ke;ke|=2;var i=i1(),s=s1();(He!==t||Ae!==e)&&(Ch=null,Wo(t,e)),e=!1;var a=at;e:do try{if(Ve!==0&&ge!==null){var o=ge,c=Sn;switch(Ve){case 8:_v(),a=6;break e;case 3:case 2:case 9:case 6:Kn.current===null&&(e=!0);var u=Ve;if(Ve=0,Sn=null,ho(t,o,c,u),n&&ml){a=0;break e}break;default:u=Ve,Ve=0,Sn=null,ho(t,o,c,u)}}YO(),a=at;break}catch(f){r1(t,f)}while(!0);return e&&t.shellSuspendCounter++,ti=Da=null,ke=r,ne.H=i,ne.A=s,ge===null&&(He=null,Ae=0,vd()),a}function YO(){for(;ge!==null;)a1(ge)}function XO(t,e){var n=ke;ke|=2;var r=i1(),i=s1();He!==t||Ae!==e?(Ch=null,Rh=Cr()+500,Wo(t,e)):ml=fu(t,e);e:do try{if(Ve!==0&&ge!==null){e=ge;var s=Sn;t:switch(Ve){case 1:Ve=0,Sn=null,ho(t,e,s,1);break;case 2:case 9:if(sb(s)){Ve=0,Sn=null,Ib(e);break}e=function(){Ve!==2&&Ve!==9||He!==t||(Ve=7),zr(t)},s.then(e,e);break e;case 3:Ve=7;break e;case 4:Ve=5;break e;case 7:sb(s)?(Ve=0,Sn=null,Ib(e)):(Ve=0,Sn=null,ho(t,e,s,7));break;case 5:var a=null;switch(ge.tag){case 26:a=ge.memoizedState;case 5:case 27:var o=ge;if(!a||A1(a)){Ve=0,Sn=null;var c=o.sibling;if(c!==null)ge=c;else{var u=o.return;u!==null?(ge=u,Ad(u)):ge=null}break t}}Ve=0,Sn=null,ho(t,e,s,5);break;case 6:Ve=0,Sn=null,ho(t,e,s,6);break;case 8:_v(),at=6;break e;default:throw Error(F(462))}}WO();break}catch(f){r1(t,f)}while(!0);return ti=Da=null,ne.H=r,ne.A=i,ke=n,ge!==null?0:(He=null,Ae=0,vd(),at)}function WO(){for(;ge!==null&&!_N();)a1(ge)}function a1(t){var e=kA(t.alternate,t,fi);t.memoizedProps=t.pendingProps,e===null?Ad(t):ge=e}function Ib(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Eb(n,e,e.pendingProps,e.type,void 0,Ae);break;case 11:e=Eb(n,e,e.pendingProps,e.type.render,e.ref,Ae);break;case 5:sv(e);default:LA(n,e),e=ge=LS(e,fi),e=kA(n,e,fi)}t.memoizedProps=t.pendingProps,e===null?Ad(t):ge=e}function ho(t,e,n,r){ti=Da=null,sv(e),To=null,Lc=0;var i=e.return;try{if(zO(t,i,e,n,Ae)){at=1,Sh(t,qn(n,t.current)),ge=null;return}}catch(s){if(i!==null)throw ge=i,s;at=1,Sh(t,qn(n,t.current)),ge=null;return}e.flags&32768?(Ie||r===1?t=!0:ml||Ae&536870912?t=!1:(ss=t=!0,(r===2||r===9||r===3||r===6)&&(r=Kn.current,r!==null&&r.tag===13&&(r.flags|=16384))),o1(e,t)):Ad(e)}function Ad(t){var e=t;do{if(e.flags&32768){o1(e,ss);return}t=e.return;var n=FO(e.alternate,e,fi);if(n!==null){ge=n;return}if(e=e.sibling,e!==null){ge=e;return}ge=e=t}while(e!==null);at===0&&(at=5)}function o1(t,e){do{var n=qO(t.alternate,t);if(n!==null){n.flags&=32767,ge=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){ge=t;return}ge=t=n}while(t!==null);at=6,ge=null}function Nb(t,e,n,r,i,s,a,o,c){t.cancelPendingCommit=null;do xd();while(kt!==0);if(ke&6)throw Error(F(327));if(e!==null){if(e===t.current)throw Error(F(177));if(s=e.lanes|e.childLanes,s|=$y,IN(t,n,s,a,o,c),t===He&&(ge=He=null,Ae=0),Xo=e,ds=t,So=n,gg=s,yg=i,e1=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,tD(fh,function(){return h1(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=ne.T,ne.T=null,i=Ne.p,Ne.p=2,a=ke,ke|=4;try{HO(t,e,n)}finally{ke=a,Ne.p=i,ne.T=r}}kt=1,l1(),c1(),u1()}}function l1(){if(kt===1){kt=0;var t=ds,e=Xo,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=ne.T,ne.T=null;var r=Ne.p;Ne.p=2;var i=ke;ke|=4;try{KA(e,t);var s=Tg,a=IS(t.containerInfo),o=s.focusedElem,c=s.selectionRange;if(a!==o&&o&&o.ownerDocument&&CS(o.ownerDocument.documentElement,o)){if(c!==null&&Gy(o)){var u=c.start,f=c.end;if(f===void 0&&(f=u),"selectionStart"in o)o.selectionStart=u,o.selectionEnd=Math.min(f,o.value.length);else{var h=o.ownerDocument||document,m=h&&h.defaultView||window;if(m.getSelection){var d=m.getSelection(),x=o.textContent.length,_=Math.min(c.start,x),w=c.end===void 0?_:Math.min(c.end,x);!d.extend&&_>w&&(a=w,w=_,_=a);var y=W0(o,_),b=W0(o,w);if(y&&b&&(d.rangeCount!==1||d.anchorNode!==y.node||d.anchorOffset!==y.offset||d.focusNode!==b.node||d.focusOffset!==b.offset)){var E=h.createRange();E.setStart(y.node,y.offset),d.removeAllRanges(),_>w?(d.addRange(E),d.extend(b.node,b.offset)):(E.setEnd(b.node,b.offset),d.addRange(E))}}}}for(h=[],d=o;d=d.parentNode;)d.nodeType===1&&h.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<h.length;o++){var I=h[o];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}kh=!!Eg,Tg=Eg=null}finally{ke=i,Ne.p=r,ne.T=n}}t.current=e,kt=2}}function c1(){if(kt===2){kt=0;var t=ds,e=Xo,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=ne.T,ne.T=null;var r=Ne.p;Ne.p=2;var i=ke;ke|=4;try{qA(t,e.alternate,e)}finally{ke=i,Ne.p=r,ne.T=n}}kt=3}}function u1(){if(kt===4||kt===3){kt=0,bN();var t=ds,e=Xo,n=So,r=e1;e.subtreeFlags&10256||e.flags&10256?kt=5:(kt=0,Xo=ds=null,f1(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(hs=null),jy(n),e=e.stateNode,In&&typeof In.onCommitFiberRoot=="function")try{In.onCommitFiberRoot(uu,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=ne.T,i=Ne.p,Ne.p=2,ne.T=null;try{for(var s=t.onRecoverableError,a=0;a<r.length;a++){var o=r[a];s(o.value,{componentStack:o.stack})}}finally{ne.T=e,Ne.p=i}}So&3&&xd(),zr(t),i=t.pendingLanes,n&4194090&&i&42?t===vg?Tc++:(Tc=0,vg=t):Tc=0,Eu(0)}}function f1(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,yu(e)))}function xd(t){return l1(),c1(),u1(),h1()}function h1(){if(kt!==5)return!1;var t=ds,e=gg;gg=0;var n=jy(So),r=ne.T,i=Ne.p;try{Ne.p=32>n?32:n,ne.T=null,n=yg,yg=null;var s=ds,a=So;if(kt=0,Xo=ds=null,So=0,ke&6)throw Error(F(331));var o=ke;if(ke|=4,ZA(s.current),YA(s,s.current,a,n),ke=o,Eu(0,!1),In&&typeof In.onPostCommitFiberRoot=="function")try{In.onPostCommitFiberRoot(uu,s)}catch{}return!0}finally{Ne.p=i,ne.T=r,f1(t,e)}}function Ob(t,e,n){e=qn(n,e),e=fg(t.stateNode,e,2),t=fs(t,e,2),t!==null&&(hu(t,2),zr(t))}function Be(t,e,n){if(t.tag===3)Ob(t,t,n);else for(;e!==null;){if(e.tag===3){Ob(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(hs===null||!hs.has(r))){t=qn(n,t),n=IA(2),r=fs(e,n,2),r!==null&&(NA(n,r,e,t),hu(r,2),zr(r));break}}e=e.return}}function rp(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new KO;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(gv=!0,i.add(n),t=ZO.bind(null,t,e,n),e.then(t,t))}function ZO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,He===t&&(Ae&n)===n&&(at===4||at===3&&(Ae&62914560)===Ae&&300>Cr()-vv?!(ke&2)&&Wo(t,0):yv|=n,Yo===Ae&&(Yo=0)),zr(t)}function d1(t,e){e===0&&(e=lS()),t=dl(t,e),t!==null&&(hu(t,e),zr(t))}function JO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),d1(t,n)}function eD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(F(314))}r!==null&&r.delete(e),d1(t,n)}function tD(t,e){return ky(t,e)}var Ih=null,Ya=null,bg=!1,Nh=!1,ip=!1,ma=0;function zr(t){t!==Ya&&t.next===null&&(Ya===null?Ih=Ya=t:Ya=Ya.next=t),Nh=!0,bg||(bg=!0,rD())}function Eu(t,e){if(!ip&&Nh){ip=!0;do for(var n=!1,r=Ih;r!==null;){if(t!==0){var i=r.pendingLanes;if(i===0)var s=0;else{var a=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-Nn(42|t)+1)-1,s&=i&~(a&~o),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,Db(r,s))}else s=Ae,s=md(r,r===He?s:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(s&3)||fu(r,s)||(n=!0,Db(r,s));r=r.next}while(n);ip=!1}}function nD(){m1()}function m1(){Nh=bg=!1;var t=0;ma!==0&&(fD()&&(t=ma),ma=0);for(var e=Cr(),n=null,r=Ih;r!==null;){var i=r.next,s=p1(r,e);s===0?(r.next=null,n===null?Ih=i:n.next=i,i===null&&(Ya=n)):(n=r,(t!==0||s&3)&&(Nh=!0)),r=i}Eu(t)}function p1(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var a=31-Nn(s),o=1<<a,c=i[a];c===-1?(!(o&n)||o&r)&&(i[a]=CN(o,e)):c<=e&&(t.expiredLanes|=o),s&=~o}if(e=He,n=Ae,n=md(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(Ve===2||Ve===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Nm(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||fu(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&Nm(r),jy(n)){case 2:case 8:n=sS;break;case 32:n=fh;break;case 268435456:n=aS;break;default:n=fh}return r=g1.bind(null,t),n=ky(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&Nm(r),t.callbackPriority=2,t.callbackNode=null,2}function g1(t,e){if(kt!==0&&kt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(xd()&&t.callbackNode!==n)return null;var r=Ae;return r=md(t,t===He?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(n1(t,r,e),p1(t,Cr()),t.callbackNode!=null&&t.callbackNode===n?g1.bind(null,t):null)}function Db(t,e){if(xd())return null;n1(t,e,!0)}function rD(){dD(function(){ke&6?ky(iS,nD):m1()})}function bv(){return ma===0&&(ma=oS()),ma}function Mb(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Mf(""+t)}function Pb(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function iD(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var s=Mb((i[dn]||null).action),a=r.submitter;a&&(e=(e=a[dn]||null)?Mb(e.formAction):a.getAttribute("formAction"),e!==null&&(s=e,a=null));var o=new pd("action","action",null,r,i);t.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ma!==0){var c=a?Pb(i,a):new FormData(i);cg(n,{pending:!0,data:c,method:i.method,action:s},null,c)}}else typeof s=="function"&&(o.preventDefault(),c=a?Pb(i,a):new FormData(i),cg(n,{pending:!0,data:c,method:i.method,action:s},s,c))},currentTarget:i}]})}}for(var sp=0;sp<Wp.length;sp++){var ap=Wp[sp],sD=ap.toLowerCase(),aD=ap[0].toUpperCase()+ap.slice(1);ur(sD,"on"+aD)}ur(OS,"onAnimationEnd");ur(DS,"onAnimationIteration");ur(MS,"onAnimationStart");ur("dblclick","onDoubleClick");ur("focusin","onFocus");ur("focusout","onBlur");ur(TO,"onTransitionRun");ur(SO,"onTransitionStart");ur(AO,"onTransitionCancel");ur(PS,"onTransitionEnd");qo("onMouseEnter",["mouseout","mouseover"]);qo("onMouseLeave",["mouseout","mouseover"]);qo("onPointerEnter",["pointerout","pointerover"]);qo("onPointerLeave",["pointerout","pointerover"]);Ia("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ia("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ia("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ia("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ia("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ia("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jc));function y1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=u;try{s(i)}catch(f){Th(f)}i.currentTarget=null,s=c}else for(a=0;a<r.length;a++){if(o=r[a],c=o.instance,u=o.currentTarget,o=o.listener,c!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=u;try{s(i)}catch(f){Th(f)}i.currentTarget=null,s=c}}}}function pe(t,e){var n=e[Hp];n===void 0&&(n=e[Hp]=new Set);var r=t+"__bubble";n.has(r)||(v1(e,t,2,!1),n.add(r))}function op(t,e,n){var r=0;e&&(r|=4),v1(n,t,r,e)}var df="_reactListening"+Math.random().toString(36).slice(2);function wv(t){if(!t[df]){t[df]=!0,hS.forEach(function(n){n!=="selectionchange"&&(oD.has(n)||op(n,!1,t),op(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[df]||(e[df]=!0,op("selectionchange",!1,e))}}function v1(t,e,n,r){switch(N1(e)){case 2:var i=PD;break;case 8:i=VD;break;default:i=Av}n=i.bind(null,e,n,t),i=void 0,!Qp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function lp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&a.stateNode.containerInfo===i)return;a=a.return}for(;o!==null;){if(a=ro(o),a===null)return;if(c=a.tag,c===5||c===6||c===26||c===27){r=s=a;continue e}o=o.parentNode}}r=r.return}bS(function(){var u=s,f=By(n),h=[];e:{var m=VS.get(t);if(m!==void 0){var d=pd,x=t;switch(t){case"keypress":if(Vf(n)===0)break e;case"keydown":case"keyup":d=tO;break;case"focusin":x="focus",d=jm;break;case"focusout":x="blur",d=jm;break;case"beforeblur":case"afterblur":d=jm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=B0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=qN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=iO;break;case OS:case DS:case MS:d=$N;break;case PS:d=aO;break;case"scroll":case"scrollend":d=BN;break;case"wheel":d=lO;break;case"copy":case"cut":case"paste":d=QN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=q0;break;case"toggle":case"beforetoggle":d=uO}var _=(e&4)!==0,w=!_&&(t==="scroll"||t==="scrollend"),y=_?m!==null?m+"Capture":null:m;_=[];for(var b=u,E;b!==null;){var I=b;if(E=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||E===null||y===null||(I=Dc(b,y),I!=null&&_.push(Uc(b,I,E))),w)break;b=b.return}0<_.length&&(m=new d(m,x,null,n,f),h.push({event:m,listeners:_}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",m&&n!==Kp&&(x=n.relatedTarget||n.fromElement)&&(ro(x)||x[fl]))break e;if((d||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,d?(x=n.relatedTarget||n.toElement,d=u,x=x?ro(x):null,x!==null&&(w=cu(x),_=x.tag,x!==w||_!==5&&_!==27&&_!==6)&&(x=null)):(d=null,x=u),d!==x)){if(_=B0,I="onMouseLeave",y="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(_=q0,I="onPointerLeave",y="onPointerEnter",b="pointer"),w=d==null?m:rc(d),E=x==null?m:rc(x),m=new _(I,b+"leave",d,n,f),m.target=w,m.relatedTarget=E,I=null,ro(f)===u&&(_=new _(y,b+"enter",x,n,f),_.target=E,_.relatedTarget=w,I=_),w=I,d&&x)t:{for(_=d,y=x,b=0,E=_;E;E=Fa(E))b++;for(E=0,I=y;I;I=Fa(I))E++;for(;0<b-E;)_=Fa(_),b--;for(;0<E-b;)y=Fa(y),E--;for(;b--;){if(_===y||y!==null&&_===y.alternate)break t;_=Fa(_),y=Fa(y)}_=null}else _=null;d!==null&&Vb(h,m,d,_,!1),x!==null&&w!==null&&Vb(h,w,x,_,!0)}}e:{if(m=u?rc(u):window,d=m.nodeName&&m.nodeName.toLowerCase(),d==="select"||d==="input"&&m.type==="file")var P=K0;else if($0(m))if(xS)P=bO;else{P=vO;var k=yO}else d=m.nodeName,!d||d.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?u&&zy(u.elementType)&&(P=K0):P=_O;if(P&&(P=P(t,u))){AS(h,P,n,f);break e}k&&k(t,m,u),t==="focusout"&&u&&m.type==="number"&&u.memoizedProps.value!=null&&$p(m,"number",m.value)}switch(k=u?rc(u):window,t){case"focusin":($0(k)||k.contentEditable==="true")&&(ao=k,Yp=u,dc=null);break;case"focusout":dc=Yp=ao=null;break;case"mousedown":Xp=!0;break;case"contextmenu":case"mouseup":case"dragend":Xp=!1,Z0(h,n,f);break;case"selectionchange":if(EO)break;case"keydown":case"keyup":Z0(h,n,f)}var A;if(Hy)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else so?TS(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(ES&&n.locale!=="ko"&&(so||S!=="onCompositionStart"?S==="onCompositionEnd"&&so&&(A=wS()):(is=f,Fy="value"in is?is.value:is.textContent,so=!0)),k=Oh(u,S),0<k.length&&(S=new F0(S,t,null,n,f),h.push({event:S,listeners:k}),A?S.data=A:(A=SS(n),A!==null&&(S.data=A)))),(A=hO?dO(t,n):mO(t,n))&&(S=Oh(u,"onBeforeInput"),0<S.length&&(k=new F0("onBeforeInput","beforeinput",null,n,f),h.push({event:k,listeners:S}),k.data=A)),iD(h,t,u,n,f)}y1(h,e)})}function Uc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Oh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||s===null||(i=Dc(t,n),i!=null&&r.unshift(Uc(t,i,s)),i=Dc(t,e),i!=null&&r.push(Uc(t,i,s))),t.tag===3)return r;t=t.return}return[]}function Fa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Vb(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,c=o.alternate,u=o.stateNode;if(o=o.tag,c!==null&&c===r)break;o!==5&&o!==26&&o!==27||u===null||(c=u,i?(u=Dc(n,s),u!=null&&a.unshift(Uc(n,u,c))):i||(u=Dc(n,s),u!=null&&a.push(Uc(n,u,c)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var lD=/\r\n?/g,cD=/\u0000|\uFFFD/g;function kb(t){return(typeof t=="string"?t:""+t).replace(lD,`
`).replace(cD,"")}function _1(t,e){return e=kb(e),kb(t)===e}function Rd(){}function Le(t,e,n,r,i,s){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||Ho(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&Ho(t,""+r);break;case"className":af(t,"class",r);break;case"tabIndex":af(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":af(t,n,r);break;case"style":_S(t,r,s);break;case"data":if(e!=="object"){af(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=Mf(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&Le(t,e,"name",i.name,i,null),Le(t,e,"formEncType",i.formEncType,i,null),Le(t,e,"formMethod",i.formMethod,i,null),Le(t,e,"formTarget",i.formTarget,i,null)):(Le(t,e,"encType",i.encType,i,null),Le(t,e,"method",i.method,i,null),Le(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=Mf(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=Rd);break;case"onScroll":r!=null&&pe("scroll",t);break;case"onScrollEnd":r!=null&&pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(F(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(F(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=Mf(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":pe("beforetoggle",t),pe("toggle",t),Df(t,"popover",r);break;case"xlinkActuate":Gr(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Gr(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Gr(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Gr(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Gr(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Gr(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Gr(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Gr(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Gr(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Df(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=UN.get(n)||n,Df(t,n,r))}}function wg(t,e,n,r,i,s){switch(n){case"style":_S(t,r,s);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(F(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(F(60));t.innerHTML=n}}break;case"children":typeof r=="string"?Ho(t,r):(typeof r=="number"||typeof r=="bigint")&&Ho(t,""+r);break;case"onScroll":r!=null&&pe("scroll",t);break;case"onScrollEnd":r!=null&&pe("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Rd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dS.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),s=t[dn]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,i),typeof r=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):Df(t,n,r)}}}function jt(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pe("error",t),pe("load",t);var r=!1,i=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(F(137,e));default:Le(t,e,s,a,n,null)}}i&&Le(t,e,"srcSet",n.srcSet,n,null),r&&Le(t,e,"src",n.src,n,null);return;case"input":pe("invalid",t);var o=s=a=i=null,c=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var f=n[r];if(f!=null)switch(r){case"name":i=f;break;case"type":a=f;break;case"checked":c=f;break;case"defaultChecked":u=f;break;case"value":s=f;break;case"defaultValue":o=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(F(137,e));break;default:Le(t,e,r,f,n,null)}}gS(t,s,o,c,u,a,i,!1),hh(t);return;case"select":pe("invalid",t),r=a=s=null;for(i in n)if(n.hasOwnProperty(i)&&(o=n[i],o!=null))switch(i){case"value":s=o;break;case"defaultValue":a=o;break;case"multiple":r=o;default:Le(t,e,i,o,n,null)}e=s,n=a,t.multiple=!!r,e!=null?vo(t,!!r,e,!1):n!=null&&vo(t,!!r,n,!0);return;case"textarea":pe("invalid",t),s=i=r=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":r=o;break;case"defaultValue":i=o;break;case"children":s=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(F(91));break;default:Le(t,e,a,o,n,null)}vS(t,r,i,s),hh(t);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(r=n[c],r!=null))switch(c){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Le(t,e,c,r,n,null)}return;case"dialog":pe("beforetoggle",t),pe("toggle",t),pe("cancel",t),pe("close",t);break;case"iframe":case"object":pe("load",t);break;case"video":case"audio":for(r=0;r<jc.length;r++)pe(jc[r],t);break;case"image":pe("error",t),pe("load",t);break;case"details":pe("toggle",t);break;case"embed":case"source":case"link":pe("error",t),pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(F(137,e));default:Le(t,e,u,r,n,null)}return;default:if(zy(e)){for(f in n)n.hasOwnProperty(f)&&(r=n[f],r!==void 0&&wg(t,e,f,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(r=n[o],r!=null&&Le(t,e,o,r,n,null))}function uD(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,a=null,o=null,c=null,u=null,f=null;for(d in n){var h=n[d];if(n.hasOwnProperty(d)&&h!=null)switch(d){case"checked":break;case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(d)||Le(t,e,d,null,r,h)}}for(var m in r){var d=r[m];if(h=n[m],r.hasOwnProperty(m)&&(d!=null||h!=null))switch(m){case"type":s=d;break;case"name":i=d;break;case"checked":u=d;break;case"defaultChecked":f=d;break;case"value":a=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(F(137,e));break;default:d!==h&&Le(t,e,m,d,r,h)}}Gp(t,a,o,c,u,f,s,i);return;case"select":d=a=o=m=null;for(s in n)if(c=n[s],n.hasOwnProperty(s)&&c!=null)switch(s){case"value":break;case"multiple":d=c;default:r.hasOwnProperty(s)||Le(t,e,s,null,r,c)}for(i in r)if(s=r[i],c=n[i],r.hasOwnProperty(i)&&(s!=null||c!=null))switch(i){case"value":m=s;break;case"defaultValue":o=s;break;case"multiple":a=s;default:s!==c&&Le(t,e,i,s,r,c)}e=o,n=a,r=d,m!=null?vo(t,!!n,m,!1):!!r!=!!n&&(e!=null?vo(t,!!n,e,!0):vo(t,!!n,n?[]:"",!1));return;case"textarea":d=m=null;for(o in n)if(i=n[o],n.hasOwnProperty(o)&&i!=null&&!r.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Le(t,e,o,null,r,i)}for(a in r)if(i=r[a],s=n[a],r.hasOwnProperty(a)&&(i!=null||s!=null))switch(a){case"value":m=i;break;case"defaultValue":d=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(F(91));break;default:i!==s&&Le(t,e,a,i,r,s)}yS(t,m,d);return;case"option":for(var x in n)if(m=n[x],n.hasOwnProperty(x)&&m!=null&&!r.hasOwnProperty(x))switch(x){case"selected":t.selected=!1;break;default:Le(t,e,x,null,r,m)}for(c in r)if(m=r[c],d=n[c],r.hasOwnProperty(c)&&m!==d&&(m!=null||d!=null))switch(c){case"selected":t.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Le(t,e,c,m,r,d)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _ in n)m=n[_],n.hasOwnProperty(_)&&m!=null&&!r.hasOwnProperty(_)&&Le(t,e,_,null,r,m);for(u in r)if(m=r[u],d=n[u],r.hasOwnProperty(u)&&m!==d&&(m!=null||d!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(F(137,e));break;default:Le(t,e,u,m,r,d)}return;default:if(zy(e)){for(var w in n)m=n[w],n.hasOwnProperty(w)&&m!==void 0&&!r.hasOwnProperty(w)&&wg(t,e,w,void 0,r,m);for(f in r)m=r[f],d=n[f],!r.hasOwnProperty(f)||m===d||m===void 0&&d===void 0||wg(t,e,f,m,r,d);return}}for(var y in n)m=n[y],n.hasOwnProperty(y)&&m!=null&&!r.hasOwnProperty(y)&&Le(t,e,y,null,r,m);for(h in r)m=r[h],d=n[h],!r.hasOwnProperty(h)||m===d||m==null&&d==null||Le(t,e,h,m,r,d)}var Eg=null,Tg=null;function Dh(t){return t.nodeType===9?t:t.ownerDocument}function Lb(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function b1(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Sg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var cp=null;function fD(){var t=window.event;return t&&t.type==="popstate"?t===cp?!1:(cp=t,!0):(cp=null,!1)}var w1=typeof setTimeout=="function"?setTimeout:void 0,hD=typeof clearTimeout=="function"?clearTimeout:void 0,jb=typeof Promise=="function"?Promise:void 0,dD=typeof queueMicrotask=="function"?queueMicrotask:typeof jb<"u"?function(t){return jb.resolve(null).then(t).catch(mD)}:w1;function mD(t){setTimeout(function(){throw t})}function ks(t){return t==="head"}function Ub(t,e){var n=e,r=0,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(0<r&&8>r){n=r;var a=t.ownerDocument;if(n&1&&Sc(a.documentElement),n&2&&Sc(a.body),n&4)for(n=a.head,Sc(n),a=n.firstChild;a;){var o=a.nextSibling,c=a.nodeName;a[du]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=o}}if(i===0){t.removeChild(s),Hc(e);return}i--}else n==="$"||n==="$?"||n==="$!"?i++:r=n.charCodeAt(0)-48;else r=0;n=s}while(n);Hc(e)}function Ag(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ag(n),Uy(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function pD(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[du])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=sr(t.nextSibling),t===null)break}return null}function gD(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=sr(t.nextSibling),t===null))return null;return t}function xg(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function yD(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function sr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var Rg=null;function zb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function E1(t,e,n){switch(e=Dh(n),t){case"html":if(t=e.documentElement,!t)throw Error(F(452));return t;case"head":if(t=e.head,!t)throw Error(F(453));return t;case"body":if(t=e.body,!t)throw Error(F(454));return t;default:throw Error(F(451))}}function Sc(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Uy(t)}var Qn=new Map,Bb=new Set;function Mh(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var bi=Ne.d;Ne.d={f:vD,r:_D,D:bD,C:wD,L:ED,m:TD,X:AD,S:SD,M:xD};function vD(){var t=bi.f(),e=Sd();return t||e}function _D(t){var e=hl(t);e!==null&&e.tag===5&&e.type==="form"?pA(e):bi.r(t)}var pl=typeof document>"u"?null:document;function T1(t,e,n){var r=pl;if(r&&typeof e=="string"&&e){var i=Fn(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),Bb.has(i)||(Bb.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),jt(e,"link",t),Ot(e),r.head.appendChild(e)))}}function bD(t){bi.D(t),T1("dns-prefetch",t,null)}function wD(t,e){bi.C(t,e),T1("preconnect",t,e)}function ED(t,e,n){bi.L(t,e,n);var r=pl;if(r&&t&&e){var i='link[rel="preload"][as="'+Fn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Fn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Fn(n.imageSizes)+'"]')):i+='[href="'+Fn(t)+'"]';var s=i;switch(e){case"style":s=Zo(t);break;case"script":s=gl(t)}Qn.has(s)||(t=Ye({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Qn.set(s,t),r.querySelector(i)!==null||e==="style"&&r.querySelector(Tu(s))||e==="script"&&r.querySelector(Su(s))||(e=r.createElement("link"),jt(e,"link",t),Ot(e),r.head.appendChild(e)))}}function TD(t,e){bi.m(t,e);var n=pl;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+Fn(r)+'"][href="'+Fn(t)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=gl(t)}if(!Qn.has(s)&&(t=Ye({rel:"modulepreload",href:t},e),Qn.set(s,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Su(s)))return}r=n.createElement("link"),jt(r,"link",t),Ot(r),n.head.appendChild(r)}}}function SD(t,e,n){bi.S(t,e,n);var r=pl;if(r&&t){var i=yo(r).hoistableStyles,s=Zo(t);e=e||"default";var a=i.get(s);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(Tu(s)))o.loading=5;else{t=Ye({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Qn.get(s))&&Ev(t,n);var c=a=r.createElement("link");Ot(c),jt(c,"link",t),c._p=new Promise(function(u,f){c.onload=u,c.onerror=f}),c.addEventListener("load",function(){o.loading|=1}),c.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Ff(a,e,r)}a={type:"stylesheet",instance:a,count:1,state:o},i.set(s,a)}}}function AD(t,e){bi.X(t,e);var n=pl;if(n&&t){var r=yo(n).hoistableScripts,i=gl(t),s=r.get(i);s||(s=n.querySelector(Su(i)),s||(t=Ye({src:t,async:!0},e),(e=Qn.get(i))&&Tv(t,e),s=n.createElement("script"),Ot(s),jt(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}function xD(t,e){bi.M(t,e);var n=pl;if(n&&t){var r=yo(n).hoistableScripts,i=gl(t),s=r.get(i);s||(s=n.querySelector(Su(i)),s||(t=Ye({src:t,async:!0,type:"module"},e),(e=Qn.get(i))&&Tv(t,e),s=n.createElement("script"),Ot(s),jt(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}function Fb(t,e,n,r){var i=(i=cs.current)?Mh(i):null;if(!i)throw Error(F(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Zo(n.href),n=yo(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Zo(n.href);var s=yo(i).hoistableStyles,a=s.get(t);if(a||(i=i.ownerDocument||i,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,a),(s=i.querySelector(Tu(t)))&&!s._p&&(a.instance=s,a.state.loading=5),Qn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Qn.set(t,n),s||RD(i,t,n,a.state))),e&&r===null)throw Error(F(528,""));return a}if(e&&r!==null)throw Error(F(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=gl(n),n=yo(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(F(444,t))}}function Zo(t){return'href="'+Fn(t)+'"'}function Tu(t){return'link[rel="stylesheet"]['+t+"]"}function S1(t){return Ye({},t,{"data-precedence":t.precedence,precedence:null})}function RD(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),jt(e,"link",n),Ot(e),t.head.appendChild(e))}function gl(t){return'[src="'+Fn(t)+'"]'}function Su(t){return"script[async]"+t}function qb(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+Fn(n.href)+'"]');if(r)return e.instance=r,Ot(r),r;var i=Ye({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),Ot(r),jt(r,"style",i),Ff(r,n.precedence,t),e.instance=r;case"stylesheet":i=Zo(n.href);var s=t.querySelector(Tu(i));if(s)return e.state.loading|=4,e.instance=s,Ot(s),s;r=S1(n),(i=Qn.get(i))&&Ev(r,i),s=(t.ownerDocument||t).createElement("link"),Ot(s);var a=s;return a._p=new Promise(function(o,c){a.onload=o,a.onerror=c}),jt(s,"link",r),e.state.loading|=4,Ff(s,n.precedence,t),e.instance=s;case"script":return s=gl(n.src),(i=t.querySelector(Su(s)))?(e.instance=i,Ot(i),i):(r=n,(i=Qn.get(s))&&(r=Ye({},n),Tv(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),Ot(i),jt(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(F(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,Ff(r,n.precedence,t));return e.instance}function Ff(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===e)s=o;else if(s!==i)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Ev(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Tv(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var qf=null;function Hb(t,e,n){if(qf===null){var r=new Map,i=qf=new Map;i.set(n,r)}else i=qf,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var s=n[i];if(!(s[du]||s[Gt]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(e)||"";a=t+a;var o=r.get(a);o?o.push(s):r.set(a,[s])}}return r}function Gb(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function CD(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function A1(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var zc=null;function ID(){}function ND(t,e,n){if(zc===null)throw Error(F(475));var r=zc;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var i=Zo(n.href),s=t.querySelector(Tu(i));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=Ph.bind(r),t.then(r,r)),e.state.loading|=4,e.instance=s,Ot(s);return}s=t.ownerDocument||t,n=S1(n),(i=Qn.get(i))&&Ev(n,i),s=s.createElement("link"),Ot(s);var a=s;a._p=new Promise(function(o,c){a.onload=o,a.onerror=c}),jt(s,"link",n),e.instance=s}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(r.count++,e=Ph.bind(r),t.addEventListener("load",e),t.addEventListener("error",e))}}function OD(){if(zc===null)throw Error(F(475));var t=zc;return t.stylesheets&&t.count===0&&Cg(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&Cg(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function Ph(){if(this.count--,this.count===0){if(this.stylesheets)Cg(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Vh=null;function Cg(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Vh=new Map,e.forEach(DD,t),Vh=null,Ph.call(t))}function DD(t,e){if(!(e.state.loading&4)){var n=Vh.get(t);if(n)var r=n.get(null);else{n=new Map,Vh.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var a=i[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}i=e.instance,a=i.getAttribute("data-precedence"),s=n.get(a)||r,s===r&&n.set(null,i),n.set(a,i),this.count++,r=Ph.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var Bc={$$typeof:Zr,Provider:null,Consumer:null,_currentValue:la,_currentValue2:la,_threadCount:0};function MD(t,e,n,r,i,s,a,o){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Om(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Om(0),this.hiddenUpdates=Om(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function x1(t,e,n,r,i,s,a,o,c,u,f,h){return t=new MD(t,e,n,a,o,c,u,h),e=1,s===!0&&(e|=24),s=Rn(3,null,null,e),t.current=s,s.stateNode=t,e=Wy(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:e},Jy(s),t}function R1(t){return t?(t=co,t):co}function C1(t,e,n,r,i,s){i=R1(i),r.context===null?r.context=i:r.pendingContext=i,r=us(e),r.payload={element:n},s=s===void 0?null:s,s!==null&&(r.callback=s),n=fs(t,r,e),n!==null&&(Dn(n,t,e),gc(n,t,e))}function $b(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Sv(t,e){$b(t,e),(t=t.alternate)&&$b(t,e)}function I1(t){if(t.tag===13){var e=dl(t,67108864);e!==null&&Dn(e,t,67108864),Sv(t,67108864)}}var kh=!0;function PD(t,e,n,r){var i=ne.T;ne.T=null;var s=Ne.p;try{Ne.p=2,Av(t,e,n,r)}finally{Ne.p=s,ne.T=i}}function VD(t,e,n,r){var i=ne.T;ne.T=null;var s=Ne.p;try{Ne.p=8,Av(t,e,n,r)}finally{Ne.p=s,ne.T=i}}function Av(t,e,n,r){if(kh){var i=Ig(r);if(i===null)lp(t,e,r,Lh,n),Kb(t,r);else if(LD(i,t,e,n,r))r.stopPropagation();else if(Kb(t,r),e&4&&-1<kD.indexOf(t)){for(;i!==null;){var s=hl(i);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=Qs(s.pendingLanes);if(a!==0){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var c=1<<31-Nn(a);o.entanglements[1]|=c,a&=~c}zr(s),!(ke&6)&&(Rh=Cr()+500,Eu(0))}}break;case 13:o=dl(s,2),o!==null&&Dn(o,s,2),Sd(),Sv(s,2)}if(s=Ig(r),s===null&&lp(t,e,r,Lh,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else lp(t,e,r,null,n)}}function Ig(t){return t=By(t),xv(t)}var Lh=null;function xv(t){if(Lh=null,t=ro(t),t!==null){var e=cu(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=eS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Lh=t,null}function N1(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wN()){case iS:return 2;case sS:return 8;case fh:case EN:return 32;case aS:return 268435456;default:return 32}default:return 32}}var Ng=!1,ms=null,ps=null,gs=null,Fc=new Map,qc=new Map,$i=[],kD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kb(t,e){switch(t){case"focusin":case"focusout":ms=null;break;case"dragenter":case"dragleave":ps=null;break;case"mouseover":case"mouseout":gs=null;break;case"pointerover":case"pointerout":Fc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":qc.delete(e.pointerId)}}function Wl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=hl(e),e!==null&&I1(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function LD(t,e,n,r,i){switch(e){case"focusin":return ms=Wl(ms,t,e,n,r,i),!0;case"dragenter":return ps=Wl(ps,t,e,n,r,i),!0;case"mouseover":return gs=Wl(gs,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Fc.set(s,Wl(Fc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,qc.set(s,Wl(qc.get(s)||null,t,e,n,r,i)),!0}return!1}function O1(t){var e=ro(t.target);if(e!==null){var n=cu(e);if(n!==null){if(e=n.tag,e===13){if(e=eS(n),e!==null){t.blockedOn=e,NN(t.priority,function(){if(n.tag===13){var r=On();r=Ly(r);var i=dl(n,r);i!==null&&Dn(i,n,r),Sv(n,r)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ig(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Kp=r,n.target.dispatchEvent(r),Kp=null}else return e=hl(n),e!==null&&I1(e),t.blockedOn=n,!1;e.shift()}return!0}function Qb(t,e,n){Hf(t)&&n.delete(e)}function jD(){Ng=!1,ms!==null&&Hf(ms)&&(ms=null),ps!==null&&Hf(ps)&&(ps=null),gs!==null&&Hf(gs)&&(gs=null),Fc.forEach(Qb),qc.forEach(Qb)}function mf(t,e){t.blockedOn===e&&(t.blockedOn=null,Ng||(Ng=!0,Tt.unstable_scheduleCallback(Tt.unstable_NormalPriority,jD)))}var pf=null;function Yb(t){pf!==t&&(pf=t,Tt.unstable_scheduleCallback(Tt.unstable_NormalPriority,function(){pf===t&&(pf=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(xv(r||n)===null)continue;break}var s=hl(n);s!==null&&(t.splice(e,3),e-=3,cg(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Hc(t){function e(c){return mf(c,t)}ms!==null&&mf(ms,t),ps!==null&&mf(ps,t),gs!==null&&mf(gs,t),Fc.forEach(e),qc.forEach(e);for(var n=0;n<$i.length;n++){var r=$i[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<$i.length&&(n=$i[0],n.blockedOn===null);)O1(n),n.blockedOn===null&&$i.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],a=i[dn]||null;if(typeof s=="function")a||Yb(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(i=s,a=s[dn]||null)o=a.formAction;else if(xv(i)!==null)continue}else o=a.action;typeof o=="function"?n[r+1]=o:(n.splice(r,3),r-=3),Yb(n)}}}function Rv(t){this._internalRoot=t}Cd.prototype.render=Rv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(F(409));var n=e.current,r=On();C1(n,r,t,e,null,null)};Cd.prototype.unmount=Rv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;C1(t.current,2,null,t,null,null),Sd(),e[fl]=null}};function Cd(t){this._internalRoot=t}Cd.prototype.unstable_scheduleHydration=function(t){if(t){var e=fS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<$i.length&&e!==0&&e<$i[n].priority;n++);$i.splice(n,0,t),n===0&&O1(t)}};var Xb=ZT.version;if(Xb!=="19.1.1")throw Error(F(527,Xb,"19.1.1"));Ne.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(F(188)):(t=Object.keys(t).join(","),Error(F(268,t)));return t=mN(e),t=t!==null?tS(t):null,t=t===null?null:t.stateNode,t};var UD={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:ne,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gf.isDisabled&&gf.supportsFiber)try{uu=gf.inject(UD),In=gf}catch{}}hd.createRoot=function(t,e){if(!JT(t))throw Error(F(299));var n=!1,r="",i=xA,s=RA,a=CA,o=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(o=e.unstable_transitionCallbacks)),e=x1(t,1,!1,null,null,n,r,i,s,a,o,null),t[fl]=e.current,wv(t),new Rv(e)};hd.hydrateRoot=function(t,e,n){if(!JT(t))throw Error(F(299));var r=!1,i="",s=xA,a=RA,o=CA,c=null,u=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(c=n.unstable_transitionCallbacks),n.formState!==void 0&&(u=n.formState)),e=x1(t,1,!0,e,n??null,r,i,s,a,o,c,u),e.context=R1(null),n=e.current,r=On(),r=Ly(r),i=us(r),i.callback=null,fs(n,i,r),n=r,e.current.lanes=n,hu(e,n),zr(e),t[fl]=e.current,wv(t),new Cd(e)};hd.version="19.1.1";function D1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(D1)}catch(t){console.error(t)}}D1(),jT.exports=hd;var zD=jT.exports,BD=(t,e,n,r,i,s,a,o)=>{let c=document.documentElement,u=["light","dark"];function f(d){(Array.isArray(t)?t:[t]).forEach(x=>{let _=x==="class",w=_&&s?i.map(y=>s[y]||y):i;_?(c.classList.remove(...w),c.classList.add(s&&s[d]?s[d]:d)):c.setAttribute(x,d)}),h(d)}function h(d){o&&u.includes(d)&&(c.style.colorScheme=d)}function m(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)f(r);else try{let d=localStorage.getItem(e)||n,x=a&&d==="system"?m():d;f(x)}catch{}},FD=T.createContext(void 0),qD={setTheme:t=>{},themes:[]},HD=()=>{var t;return(t=T.useContext(FD))!=null?t:qD};T.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:a,themes:o,nonce:c,scriptProps:u})=>{let f=JSON.stringify([n,e,s,t,o,a,r,i]).slice(1,-1);return T.createElement("script",{...u,suppressHydrationWarning:!0,nonce:typeof window>"u"?c:"",dangerouslySetInnerHTML:{__html:`(${BD.toString()})(${f})`}})});var GD=t=>{switch(t){case"success":return QD;case"info":return XD;case"warning":return YD;case"error":return WD;default:return null}},$D=Array(12).fill(0),KD=({visible:t,className:e})=>G.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},G.createElement("div",{className:"sonner-spinner"},$D.map((n,r)=>G.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),QD=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),YD=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),XD=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),WD=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),ZD=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},G.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),G.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),JD=()=>{let[t,e]=G.useState(document.hidden);return G.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Og=1,eM=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Og++,a=this.toasts.find(c=>c.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(c=>c.id===s?(this.publish({...c,...e,id:s,title:r}),{...c,...e,id:s,dismissible:o,title:r}):c):this.addToast({title:r,...i,dismissible:o,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let i=e instanceof Promise?e:e(),s=r!==void 0,a,o=i.then(async u=>{if(a=["resolve",u],G.isValidElement(u))s=!1,this.create({id:r,type:"default",message:u});else if(nM(u)&&!u.ok){s=!1;let f=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,h=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description;this.create({id:r,type:"error",message:f,description:h})}else if(n.success!==void 0){s=!1;let f=typeof n.success=="function"?await n.success(u):n.success,h=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"success",message:f,description:h})}}).catch(async u=>{if(a=["reject",u],n.error!==void 0){s=!1;let f=typeof n.error=="function"?await n.error(u):n.error,h=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"error",message:f,description:h})}}).finally(()=>{var u;s&&(this.dismiss(r),r=void 0),(u=n.finally)==null||u.call(n)}),c=()=>new Promise((u,f)=>o.then(()=>a[0]==="reject"?f(a[1]):u(a[1])).catch(f));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||Og++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},un=new eM,tM=(t,e)=>{let n=(e==null?void 0:e.id)||Og++;return un.addToast({title:t,...e,id:n}),n},nM=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",rM=tM,iM=()=>un.toasts,sM=()=>un.getActiveToasts();Object.assign(rM,{success:un.success,info:un.info,warning:un.warning,error:un.error,custom:un.custom,message:un.message,promise:un.promise,dismiss:un.dismiss,loading:un.loading},{getHistory:iM,getToasts:sM});function aM(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}aM(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function yf(t){return t.label!==void 0}var oM=3,lM="32px",cM="16px",Wb=4e3,uM=356,fM=14,hM=20,dM=200;function Zn(...t){return t.filter(Boolean).join(" ")}function mM(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var pM=t=>{var e,n,r,i,s,a,o,c,u,f,h;let{invert:m,toast:d,unstyled:x,interacting:_,setHeights:w,visibleToasts:y,heights:b,index:E,toasts:I,expanded:P,removeToast:k,defaultRichColors:A,closeButton:S,style:R,cancelButtonStyle:N,actionButtonStyle:M,className:O="",descriptionClassName:D="",duration:W,position:se,gap:j,loadingIcon:$,expandByDefault:q,classNames:H,icons:J,closeButtonAriaLabel:Ce="Close toast",pauseWhenPageIsHidden:ce}=t,[me,ae]=G.useState(null),[Oe,St]=G.useState(null),[Q,xe]=G.useState(!1),[Ge,Re]=G.useState(!1),[ye,we]=G.useState(!1),[ft,Yt]=G.useState(!1),[Fr,Vn]=G.useState(!1),[Yn,Ei]=G.useState(0),[et,At]=G.useState(0),fr=G.useRef(d.duration||W||Wb),Bu=G.useRef(null),hr=G.useRef(null),hm=E===0,Bs=E+1<=y,Xt=d.type,qr=d.dismissible!==!1,Nl=d.className||"",dm=d.descriptionClassName||"",ka=G.useMemo(()=>b.findIndex(ee=>ee.toastId===d.id)||0,[b,d.id]),Fu=G.useMemo(()=>{var ee;return(ee=d.closeButton)!=null?ee:S},[d.closeButton,S]),Ol=G.useMemo(()=>d.duration||W||Wb,[d.duration,W]),Hr=G.useRef(0),dr=G.useRef(0),La=G.useRef(0),rn=G.useRef(null),[qu,ja]=se.split("-"),Dl=G.useMemo(()=>b.reduce((ee,De,Fe)=>Fe>=ka?ee:ee+De.height,0),[b,ka]),Ti=JD(),Hu=d.invert||m,vt=Xt==="loading";dr.current=G.useMemo(()=>ka*j+Dl,[ka,Dl]),G.useEffect(()=>{fr.current=Ol},[Ol]),G.useEffect(()=>{xe(!0)},[]),G.useEffect(()=>{let ee=hr.current;if(ee){let De=ee.getBoundingClientRect().height;return At(De),w(Fe=>[{toastId:d.id,height:De,position:d.position},...Fe]),()=>w(Fe=>Fe.filter(xt=>xt.toastId!==d.id))}},[w,d.id]),G.useLayoutEffect(()=>{if(!Q)return;let ee=hr.current,De=ee.style.height;ee.style.height="auto";let Fe=ee.getBoundingClientRect().height;ee.style.height=De,At(Fe),w(xt=>xt.find(gn=>gn.toastId===d.id)?xt.map(gn=>gn.toastId===d.id?{...gn,height:Fe}:gn):[{toastId:d.id,height:Fe,position:d.position},...xt])},[Q,d.title,d.description,w,d.id]);let Xn=G.useCallback(()=>{Re(!0),Ei(dr.current),w(ee=>ee.filter(De=>De.toastId!==d.id)),setTimeout(()=>{k(d)},dM)},[d,k,w,dr]);G.useEffect(()=>{if(d.promise&&Xt==="loading"||d.duration===1/0||d.type==="loading")return;let ee;return P||_||ce&&Ti?(()=>{if(La.current<Hr.current){let De=new Date().getTime()-Hr.current;fr.current=fr.current-De}La.current=new Date().getTime()})():fr.current!==1/0&&(Hr.current=new Date().getTime(),ee=setTimeout(()=>{var De;(De=d.onAutoClose)==null||De.call(d,d),Xn()},fr.current)),()=>clearTimeout(ee)},[P,_,d,Xt,ce,Ti,Xn]),G.useEffect(()=>{d.delete&&Xn()},[Xn,d.delete]);function Fs(){var ee,De,Fe;return J!=null&&J.loading?G.createElement("div",{className:Zn(H==null?void 0:H.loader,(ee=d==null?void 0:d.classNames)==null?void 0:ee.loader,"sonner-loader"),"data-visible":Xt==="loading"},J.loading):$?G.createElement("div",{className:Zn(H==null?void 0:H.loader,(De=d==null?void 0:d.classNames)==null?void 0:De.loader,"sonner-loader"),"data-visible":Xt==="loading"},$):G.createElement(KD,{className:Zn(H==null?void 0:H.loader,(Fe=d==null?void 0:d.classNames)==null?void 0:Fe.loader),visible:Xt==="loading"})}return G.createElement("li",{tabIndex:0,ref:hr,className:Zn(O,Nl,H==null?void 0:H.toast,(e=d==null?void 0:d.classNames)==null?void 0:e.toast,H==null?void 0:H.default,H==null?void 0:H[Xt],(n=d==null?void 0:d.classNames)==null?void 0:n[Xt]),"data-sonner-toast":"","data-rich-colors":(r=d.richColors)!=null?r:A,"data-styled":!(d.jsx||d.unstyled||x),"data-mounted":Q,"data-promise":!!d.promise,"data-swiped":Fr,"data-removed":Ge,"data-visible":Bs,"data-y-position":qu,"data-x-position":ja,"data-index":E,"data-front":hm,"data-swiping":ye,"data-dismissible":qr,"data-type":Xt,"data-invert":Hu,"data-swipe-out":ft,"data-swipe-direction":Oe,"data-expanded":!!(P||q&&Q),style:{"--index":E,"--toasts-before":E,"--z-index":I.length-E,"--offset":`${Ge?Yn:dr.current}px`,"--initial-height":q?"auto":`${et}px`,...R,...d.style},onDragEnd:()=>{we(!1),ae(null),rn.current=null},onPointerDown:ee=>{vt||!qr||(Bu.current=new Date,Ei(dr.current),ee.target.setPointerCapture(ee.pointerId),ee.target.tagName!=="BUTTON"&&(we(!0),rn.current={x:ee.clientX,y:ee.clientY}))},onPointerUp:()=>{var ee,De,Fe,xt;if(ft||!qr)return;rn.current=null;let gn=Number(((ee=hr.current)==null?void 0:ee.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),mr=Number(((De=hr.current)==null?void 0:De.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),kn=new Date().getTime()-((Fe=Bu.current)==null?void 0:Fe.getTime()),sn=me==="x"?gn:mr,Wn=Math.abs(sn)/kn;if(Math.abs(sn)>=hM||Wn>.11){Ei(dr.current),(xt=d.onDismiss)==null||xt.call(d,d),St(me==="x"?gn>0?"right":"left":mr>0?"down":"up"),Xn(),Yt(!0),Vn(!1);return}we(!1),ae(null)},onPointerMove:ee=>{var De,Fe,xt,gn;if(!rn.current||!qr||((De=window.getSelection())==null?void 0:De.toString().length)>0)return;let mr=ee.clientY-rn.current.y,kn=ee.clientX-rn.current.x,sn=(Fe=t.swipeDirections)!=null?Fe:mM(se);!me&&(Math.abs(kn)>1||Math.abs(mr)>1)&&ae(Math.abs(kn)>Math.abs(mr)?"x":"y");let Wn={x:0,y:0};me==="y"?(sn.includes("top")||sn.includes("bottom"))&&(sn.includes("top")&&mr<0||sn.includes("bottom")&&mr>0)&&(Wn.y=mr):me==="x"&&(sn.includes("left")||sn.includes("right"))&&(sn.includes("left")&&kn<0||sn.includes("right")&&kn>0)&&(Wn.x=kn),(Math.abs(Wn.x)>0||Math.abs(Wn.y)>0)&&Vn(!0),(xt=hr.current)==null||xt.style.setProperty("--swipe-amount-x",`${Wn.x}px`),(gn=hr.current)==null||gn.style.setProperty("--swipe-amount-y",`${Wn.y}px`)}},Fu&&!d.jsx?G.createElement("button",{"aria-label":Ce,"data-disabled":vt,"data-close-button":!0,onClick:vt||!qr?()=>{}:()=>{var ee;Xn(),(ee=d.onDismiss)==null||ee.call(d,d)},className:Zn(H==null?void 0:H.closeButton,(i=d==null?void 0:d.classNames)==null?void 0:i.closeButton)},(s=J==null?void 0:J.close)!=null?s:ZD):null,d.jsx||T.isValidElement(d.title)?d.jsx?d.jsx:typeof d.title=="function"?d.title():d.title:G.createElement(G.Fragment,null,Xt||d.icon||d.promise?G.createElement("div",{"data-icon":"",className:Zn(H==null?void 0:H.icon,(a=d==null?void 0:d.classNames)==null?void 0:a.icon)},d.promise||d.type==="loading"&&!d.icon?d.icon||Fs():null,d.type!=="loading"?d.icon||(J==null?void 0:J[Xt])||GD(Xt):null):null,G.createElement("div",{"data-content":"",className:Zn(H==null?void 0:H.content,(o=d==null?void 0:d.classNames)==null?void 0:o.content)},G.createElement("div",{"data-title":"",className:Zn(H==null?void 0:H.title,(c=d==null?void 0:d.classNames)==null?void 0:c.title)},typeof d.title=="function"?d.title():d.title),d.description?G.createElement("div",{"data-description":"",className:Zn(D,dm,H==null?void 0:H.description,(u=d==null?void 0:d.classNames)==null?void 0:u.description)},typeof d.description=="function"?d.description():d.description):null),T.isValidElement(d.cancel)?d.cancel:d.cancel&&yf(d.cancel)?G.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||N,onClick:ee=>{var De,Fe;yf(d.cancel)&&qr&&((Fe=(De=d.cancel).onClick)==null||Fe.call(De,ee),Xn())},className:Zn(H==null?void 0:H.cancelButton,(f=d==null?void 0:d.classNames)==null?void 0:f.cancelButton)},d.cancel.label):null,T.isValidElement(d.action)?d.action:d.action&&yf(d.action)?G.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||M,onClick:ee=>{var De,Fe;yf(d.action)&&((Fe=(De=d.action).onClick)==null||Fe.call(De,ee),!ee.defaultPrevented&&Xn())},className:Zn(H==null?void 0:H.actionButton,(h=d==null?void 0:d.classNames)==null?void 0:h.actionButton)},d.action.label):null))};function Zb(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function gM(t,e){let n={};return[t,e].forEach((r,i)=>{let s=i===1,a=s?"--mobile-offset":"--offset",o=s?cM:lM;function c(u){["top","right","bottom","left"].forEach(f=>{n[`${a}-${f}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${a}-${u}`]=o:n[`${a}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(o)}),n}var yM=T.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:a,className:o,offset:c,mobileOffset:u,theme:f="light",richColors:h,duration:m,style:d,visibleToasts:x=oM,toastOptions:_,dir:w=Zb(),gap:y=fM,loadingIcon:b,icons:E,containerAriaLabel:I="Notifications",pauseWhenPageIsHidden:P}=t,[k,A]=G.useState([]),S=G.useMemo(()=>Array.from(new Set([r].concat(k.filter(ce=>ce.position).map(ce=>ce.position)))),[k,r]),[R,N]=G.useState([]),[M,O]=G.useState(!1),[D,W]=G.useState(!1),[se,j]=G.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),$=G.useRef(null),q=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),H=G.useRef(null),J=G.useRef(!1),Ce=G.useCallback(ce=>{A(me=>{var ae;return(ae=me.find(Oe=>Oe.id===ce.id))!=null&&ae.delete||un.dismiss(ce.id),me.filter(({id:Oe})=>Oe!==ce.id)})},[]);return G.useEffect(()=>un.subscribe(ce=>{if(ce.dismiss){A(me=>me.map(ae=>ae.id===ce.id?{...ae,delete:!0}:ae));return}setTimeout(()=>{WT.flushSync(()=>{A(me=>{let ae=me.findIndex(Oe=>Oe.id===ce.id);return ae!==-1?[...me.slice(0,ae),{...me[ae],...ce},...me.slice(ae+1)]:[ce,...me]})})})}),[]),G.useEffect(()=>{if(f!=="system"){j(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?j("dark"):j("light")),typeof window>"u")return;let ce=window.matchMedia("(prefers-color-scheme: dark)");try{ce.addEventListener("change",({matches:me})=>{j(me?"dark":"light")})}catch{ce.addListener(({matches:ae})=>{try{j(ae?"dark":"light")}catch(Oe){console.error(Oe)}})}},[f]),G.useEffect(()=>{k.length<=1&&O(!1)},[k]),G.useEffect(()=>{let ce=me=>{var ae,Oe;i.every(St=>me[St]||me.code===St)&&(O(!0),(ae=$.current)==null||ae.focus()),me.code==="Escape"&&(document.activeElement===$.current||(Oe=$.current)!=null&&Oe.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",ce),()=>document.removeEventListener("keydown",ce)},[i]),G.useEffect(()=>{if($.current)return()=>{H.current&&(H.current.focus({preventScroll:!0}),H.current=null,J.current=!1)}},[$.current]),G.createElement("section",{ref:e,"aria-label":`${I} ${q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},S.map((ce,me)=>{var ae;let[Oe,St]=ce.split("-");return k.length?G.createElement("ol",{key:ce,dir:w==="auto"?Zb():w,tabIndex:-1,ref:$,className:o,"data-sonner-toaster":!0,"data-theme":se,"data-y-position":Oe,"data-lifted":M&&k.length>1&&!s,"data-x-position":St,style:{"--front-toast-height":`${((ae=R[0])==null?void 0:ae.height)||0}px`,"--width":`${uM}px`,"--gap":`${y}px`,...d,...gM(c,u)},onBlur:Q=>{J.current&&!Q.currentTarget.contains(Q.relatedTarget)&&(J.current=!1,H.current&&(H.current.focus({preventScroll:!0}),H.current=null))},onFocus:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||J.current||(J.current=!0,H.current=Q.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{D||O(!1)},onDragEnd:()=>O(!1),onPointerDown:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||W(!0)},onPointerUp:()=>W(!1)},k.filter(Q=>!Q.position&&me===0||Q.position===ce).map((Q,xe)=>{var Ge,Re;return G.createElement(pM,{key:Q.id,icons:E,index:xe,toast:Q,defaultRichColors:h,duration:(Ge=_==null?void 0:_.duration)!=null?Ge:m,className:_==null?void 0:_.className,descriptionClassName:_==null?void 0:_.descriptionClassName,invert:n,visibleToasts:x,closeButton:(Re=_==null?void 0:_.closeButton)!=null?Re:a,interacting:D,position:ce,style:_==null?void 0:_.style,unstyled:_==null?void 0:_.unstyled,classNames:_==null?void 0:_.classNames,cancelButtonStyle:_==null?void 0:_.cancelButtonStyle,actionButtonStyle:_==null?void 0:_.actionButtonStyle,removeToast:Ce,toasts:k.filter(ye=>ye.position==Q.position),heights:R.filter(ye=>ye.position==Q.position),setHeights:N,expandByDefault:s,gap:y,loadingIcon:b,expanded:M,pauseWhenPageIsHidden:P,swipeDirections:t.swipeDirections})})):null}))});const vM=({...t})=>{const{theme:e="system"}=HD();return g.jsx(yM,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};function Te(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Jb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function M1(...t){return e=>{let n=!1;const r=t.map(i=>{const s=Jb(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():Jb(t[i],null)}}}}function ut(...t){return T.useCallback(M1(...t),t)}function yl(t,e=[]){let n=[];function r(s,a){const o=T.createContext(a),c=n.length;n=[...n,a];const u=h=>{var y;const{scope:m,children:d,...x}=h,_=((y=m==null?void 0:m[t])==null?void 0:y[c])||o,w=T.useMemo(()=>x,Object.values(x));return g.jsx(_.Provider,{value:w,children:d})};u.displayName=s+"Provider";function f(h,m){var _;const d=((_=m==null?void 0:m[t])==null?void 0:_[c])||o,x=T.useContext(d);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[u,f]}const i=()=>{const s=n.map(a=>T.createContext(a));return function(o){const c=(o==null?void 0:o[t])||s;return T.useMemo(()=>({[`__scope${t}`]:{...o,[t]:c}}),[o,c])}};return i.scopeName=t,[r,_M(i,...e)]}function _M(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:c,scopeName:u})=>{const h=c(s)[`__scope${u}`];return{...o,...h}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function Gc(t){const e=wM(t),n=T.forwardRef((r,i)=>{const{children:s,...a}=r,o=T.Children.toArray(s),c=o.find(TM);if(c){const u=c.props.children,f=o.map(h=>h===c?T.Children.count(u)>1?T.Children.only(null):T.isValidElement(u)?u.props.children:null:h);return g.jsx(e,{...a,ref:i,children:T.isValidElement(u)?T.cloneElement(u,void 0,f):null})}return g.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var bM=Gc("Slot");function wM(t){const e=T.forwardRef((n,r)=>{const{children:i,...s}=n;if(T.isValidElement(i)){const a=AM(i),o=SM(s,i.props);return i.type!==T.Fragment&&(o.ref=r?M1(r,a):a),T.cloneElement(i,o)}return T.Children.count(i)>1?T.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var P1=Symbol("radix.slottable");function EM(t){const e=({children:n})=>g.jsx(g.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=P1,e}function TM(t){return T.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===P1}function SM(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{const c=s(...o);return i(...o),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function AM(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var xM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Pe=xM.reduce((t,e)=>{const n=Gc(`Primitive.${e}`),r=T.forwardRef((i,s)=>{const{asChild:a,...o}=i,c=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(c,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function RM(t,e){t&&ul.flushSync(()=>t.dispatchEvent(e))}function xs(t){const e=T.useRef(t);return T.useEffect(()=>{e.current=t}),T.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function CM(t,e=globalThis==null?void 0:globalThis.document){const n=xs(t);T.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var IM="DismissableLayer",Dg="dismissableLayer.update",NM="dismissableLayer.pointerDownOutside",OM="dismissableLayer.focusOutside",ew,V1=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Cv=T.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...c}=t,u=T.useContext(V1),[f,h]=T.useState(null),m=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,d]=T.useState({}),x=ut(e,A=>h(A)),_=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=_.indexOf(w),b=f?_.indexOf(f):-1,E=u.layersWithOutsidePointerEventsDisabled.size>0,I=b>=y,P=PM(A=>{const S=A.target,R=[...u.branches].some(N=>N.contains(S));!I||R||(i==null||i(A),a==null||a(A),A.defaultPrevented||o==null||o())},m),k=VM(A=>{const S=A.target;[...u.branches].some(N=>N.contains(S))||(s==null||s(A),a==null||a(A),A.defaultPrevented||o==null||o())},m);return CM(A=>{b===u.layers.size-1&&(r==null||r(A),!A.defaultPrevented&&o&&(A.preventDefault(),o()))},m),T.useEffect(()=>{if(f)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(ew=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),tw(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=ew)}},[f,m,n,u]),T.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),tw())},[f,u]),T.useEffect(()=>{const A=()=>d({});return document.addEventListener(Dg,A),()=>document.removeEventListener(Dg,A)},[]),g.jsx(Pe.div,{...c,ref:x,style:{pointerEvents:E?I?"auto":"none":void 0,...t.style},onFocusCapture:Te(t.onFocusCapture,k.onFocusCapture),onBlurCapture:Te(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Te(t.onPointerDownCapture,P.onPointerDownCapture)})});Cv.displayName=IM;var DM="DismissableLayerBranch",MM=T.forwardRef((t,e)=>{const n=T.useContext(V1),r=T.useRef(null),i=ut(e,r);return T.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),g.jsx(Pe.div,{...t,ref:i})});MM.displayName=DM;function PM(t,e=globalThis==null?void 0:globalThis.document){const n=xs(t),r=T.useRef(!1),i=T.useRef(()=>{});return T.useEffect(()=>{const s=o=>{if(o.target&&!r.current){let c=function(){k1(NM,n,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function VM(t,e=globalThis==null?void 0:globalThis.document){const n=xs(t),r=T.useRef(!1);return T.useEffect(()=>{const i=s=>{s.target&&!r.current&&k1(OM,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function tw(){const t=new CustomEvent(Dg);document.dispatchEvent(t)}function k1(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?RM(i,s):i.dispatchEvent(s)}var Kt=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},kM=My[" useId ".trim().toString()]||(()=>{}),LM=0;function Au(t){const[e,n]=T.useState(kM());return Kt(()=>{n(r=>r??String(LM++))},[t]),e?`radix-${e}`:""}const jM=["top","right","bottom","left"],Rs=Math.min,xn=Math.max,jh=Math.round,vf=Math.floor,Nr=t=>({x:t,y:t}),UM={left:"right",right:"left",bottom:"top",top:"bottom"},zM={start:"end",end:"start"};function Mg(t,e,n){return xn(t,Rs(e,n))}function hi(t,e){return typeof t=="function"?t(e):t}function di(t){return t.split("-")[0]}function vl(t){return t.split("-")[1]}function Iv(t){return t==="x"?"y":"x"}function Nv(t){return t==="y"?"height":"width"}const BM=new Set(["top","bottom"]);function xr(t){return BM.has(di(t))?"y":"x"}function Ov(t){return Iv(xr(t))}function FM(t,e,n){n===void 0&&(n=!1);const r=vl(t),i=Ov(t),s=Nv(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=Uh(a)),[a,Uh(a)]}function qM(t){const e=Uh(t);return[Pg(t),e,Pg(e)]}function Pg(t){return t.replace(/start|end/g,e=>zM[e])}const nw=["left","right"],rw=["right","left"],HM=["top","bottom"],GM=["bottom","top"];function $M(t,e,n){switch(t){case"top":case"bottom":return n?e?rw:nw:e?nw:rw;case"left":case"right":return e?HM:GM;default:return[]}}function KM(t,e,n,r){const i=vl(t);let s=$M(di(t),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(Pg)))),s}function Uh(t){return t.replace(/left|right|bottom|top/g,e=>UM[e])}function QM(t){return{top:0,right:0,bottom:0,left:0,...t}}function L1(t){return typeof t!="number"?QM(t):{top:t,right:t,bottom:t,left:t}}function zh(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function iw(t,e,n){let{reference:r,floating:i}=t;const s=xr(e),a=Ov(e),o=Nv(a),c=di(e),u=s==="y",f=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,m=r[o]/2-i[o]/2;let d;switch(c){case"top":d={x:f,y:r.y-i.height};break;case"bottom":d={x:f,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:h};break;case"left":d={x:r.x-i.width,y:h};break;default:d={x:r.x,y:r.y}}switch(vl(e)){case"start":d[a]-=m*(n&&u?-1:1);break;case"end":d[a]+=m*(n&&u?-1:1);break}return d}const YM=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,o=s.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:h}=iw(u,r,c),m=r,d={},x=0;for(let _=0;_<o.length;_++){const{name:w,fn:y}=o[_],{x:b,y:E,data:I,reset:P}=await y({x:f,y:h,initialPlacement:r,placement:m,strategy:i,middlewareData:d,rects:u,platform:a,elements:{reference:t,floating:e}});f=b??f,h=E??h,d={...d,[w]:{...d[w],...I}},P&&x<=50&&(x++,typeof P=="object"&&(P.placement&&(m=P.placement),P.rects&&(u=P.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):P.rects),{x:f,y:h}=iw(u,m,c)),_=-1)}return{x:f,y:h,placement:m,strategy:i,middlewareData:d}};async function $c(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:m=!1,padding:d=0}=hi(e,t),x=L1(d),w=o[m?h==="floating"?"reference":"floating":h],y=zh(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(w)))==null||n?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:u,rootBoundary:f,strategy:c})),b=h==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,E=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),I=await(s.isElement==null?void 0:s.isElement(E))?await(s.getScale==null?void 0:s.getScale(E))||{x:1,y:1}:{x:1,y:1},P=zh(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:b,offsetParent:E,strategy:c}):b);return{top:(y.top-P.top+x.top)/I.y,bottom:(P.bottom-y.bottom+x.bottom)/I.y,left:(y.left-P.left+x.left)/I.x,right:(P.right-y.right+x.right)/I.x}}const XM=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:a,elements:o,middlewareData:c}=e,{element:u,padding:f=0}=hi(t,e)||{};if(u==null)return{};const h=L1(f),m={x:n,y:r},d=Ov(i),x=Nv(d),_=await a.getDimensions(u),w=d==="y",y=w?"top":"left",b=w?"bottom":"right",E=w?"clientHeight":"clientWidth",I=s.reference[x]+s.reference[d]-m[d]-s.floating[x],P=m[d]-s.reference[d],k=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let A=k?k[E]:0;(!A||!await(a.isElement==null?void 0:a.isElement(k)))&&(A=o.floating[E]||s.floating[x]);const S=I/2-P/2,R=A/2-_[x]/2-1,N=Rs(h[y],R),M=Rs(h[b],R),O=N,D=A-_[x]-M,W=A/2-_[x]/2+S,se=Mg(O,W,D),j=!c.arrow&&vl(i)!=null&&W!==se&&s.reference[x]/2-(W<O?N:M)-_[x]/2<0,$=j?W<O?W-O:W-D:0;return{[d]:m[d]+$,data:{[d]:se,centerOffset:W-se-$,...j&&{alignmentOffset:$}},reset:j}}}),WM=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:c,elements:u}=e,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:_=!0,...w}=hi(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=di(i),b=xr(o),E=di(o)===o,I=await(c.isRTL==null?void 0:c.isRTL(u.floating)),P=m||(E||!_?[Uh(o)]:qM(o)),k=x!=="none";!m&&k&&P.push(...KM(o,_,x,I));const A=[o,...P],S=await $c(e,w),R=[];let N=((r=s.flip)==null?void 0:r.overflows)||[];if(f&&R.push(S[y]),h){const W=FM(i,a,I);R.push(S[W[0]],S[W[1]])}if(N=[...N,{placement:i,overflows:R}],!R.every(W=>W<=0)){var M,O;const W=(((M=s.flip)==null?void 0:M.index)||0)+1,se=A[W];if(se&&(!(h==="alignment"?b!==xr(se):!1)||N.every(q=>xr(q.placement)===b?q.overflows[0]>0:!0)))return{data:{index:W,overflows:N},reset:{placement:se}};let j=(O=N.filter($=>$.overflows[0]<=0).sort(($,q)=>$.overflows[1]-q.overflows[1])[0])==null?void 0:O.placement;if(!j)switch(d){case"bestFit":{var D;const $=(D=N.filter(q=>{if(k){const H=xr(q.placement);return H===b||H==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(H=>H>0).reduce((H,J)=>H+J,0)]).sort((q,H)=>q[1]-H[1])[0])==null?void 0:D[0];$&&(j=$);break}case"initialPlacement":j=o;break}if(i!==j)return{reset:{placement:j}}}return{}}}};function sw(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function aw(t){return jM.some(e=>t[e]>=0)}const ZM=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=hi(t,e);switch(r){case"referenceHidden":{const s=await $c(e,{...i,elementContext:"reference"}),a=sw(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:aw(a)}}}case"escaped":{const s=await $c(e,{...i,altBoundary:!0}),a=sw(s,n.floating);return{data:{escapedOffsets:a,escaped:aw(a)}}}default:return{}}}}},j1=new Set(["left","top"]);async function JM(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=di(n),o=vl(n),c=xr(n)==="y",u=j1.has(a)?-1:1,f=s&&c?-1:1,h=hi(e,t);let{mainAxis:m,crossAxis:d,alignmentAxis:x}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof x=="number"&&(d=o==="end"?x*-1:x),c?{x:d*f,y:m*u}:{x:m*u,y:d*f}}const eP=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:a,middlewareData:o}=e,c=await JM(e,t);return a===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:a}}}}},tP=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:w=>{let{x:y,y:b}=w;return{x:y,y:b}}},...c}=hi(t,e),u={x:n,y:r},f=await $c(e,c),h=xr(di(i)),m=Iv(h);let d=u[m],x=u[h];if(s){const w=m==="y"?"top":"left",y=m==="y"?"bottom":"right",b=d+f[w],E=d-f[y];d=Mg(b,d,E)}if(a){const w=h==="y"?"top":"left",y=h==="y"?"bottom":"right",b=x+f[w],E=x-f[y];x=Mg(b,x,E)}const _=o.fn({...e,[m]:d,[h]:x});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[m]:s,[h]:a}}}}}},nP=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=e,{offset:o=0,mainAxis:c=!0,crossAxis:u=!0}=hi(t,e),f={x:n,y:r},h=xr(i),m=Iv(h);let d=f[m],x=f[h];const _=hi(o,e),w=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(c){const E=m==="y"?"height":"width",I=s.reference[m]-s.floating[E]+w.mainAxis,P=s.reference[m]+s.reference[E]-w.mainAxis;d<I?d=I:d>P&&(d=P)}if(u){var y,b;const E=m==="y"?"width":"height",I=j1.has(di(i)),P=s.reference[h]-s.floating[E]+(I&&((y=a.offset)==null?void 0:y[h])||0)+(I?0:w.crossAxis),k=s.reference[h]+s.reference[E]+(I?0:((b=a.offset)==null?void 0:b[h])||0)-(I?w.crossAxis:0);x<P?x=P:x>k&&(x=k)}return{[m]:d,[h]:x}}}},rP=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:a,elements:o}=e,{apply:c=()=>{},...u}=hi(t,e),f=await $c(e,u),h=di(i),m=vl(i),d=xr(i)==="y",{width:x,height:_}=s.floating;let w,y;h==="top"||h==="bottom"?(w=h,y=m===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(y=h,w=m==="end"?"top":"bottom");const b=_-f.top-f.bottom,E=x-f.left-f.right,I=Rs(_-f[w],b),P=Rs(x-f[y],E),k=!e.middlewareData.shift;let A=I,S=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=E),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(A=b),k&&!m){const N=xn(f.left,0),M=xn(f.right,0),O=xn(f.top,0),D=xn(f.bottom,0);d?S=x-2*(N!==0||M!==0?N+M:xn(f.left,f.right)):A=_-2*(O!==0||D!==0?O+D:xn(f.top,f.bottom))}await c({...e,availableWidth:S,availableHeight:A});const R=await a.getDimensions(o.floating);return x!==R.width||_!==R.height?{reset:{rects:!0}}:{}}}};function Id(){return typeof window<"u"}function _l(t){return U1(t)?(t.nodeName||"").toLowerCase():"#document"}function Mn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Br(t){var e;return(e=(U1(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function U1(t){return Id()?t instanceof Node||t instanceof Mn(t).Node:!1}function or(t){return Id()?t instanceof Element||t instanceof Mn(t).Element:!1}function Lr(t){return Id()?t instanceof HTMLElement||t instanceof Mn(t).HTMLElement:!1}function ow(t){return!Id()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Mn(t).ShadowRoot}const iP=new Set(["inline","contents"]);function xu(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=lr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!iP.has(i)}const sP=new Set(["table","td","th"]);function aP(t){return sP.has(_l(t))}const oP=[":popover-open",":modal"];function Nd(t){return oP.some(e=>{try{return t.matches(e)}catch{return!1}})}const lP=["transform","translate","scale","rotate","perspective"],cP=["transform","translate","scale","rotate","perspective","filter"],uP=["paint","layout","strict","content"];function Dv(t){const e=Mv(),n=or(t)?lr(t):t;return lP.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||cP.some(r=>(n.willChange||"").includes(r))||uP.some(r=>(n.contain||"").includes(r))}function fP(t){let e=Cs(t);for(;Lr(e)&&!Jo(e);){if(Dv(e))return e;if(Nd(e))return null;e=Cs(e)}return null}function Mv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const hP=new Set(["html","body","#document"]);function Jo(t){return hP.has(_l(t))}function lr(t){return Mn(t).getComputedStyle(t)}function Od(t){return or(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Cs(t){if(_l(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ow(t)&&t.host||Br(t);return ow(e)?e.host:e}function z1(t){const e=Cs(t);return Jo(e)?t.ownerDocument?t.ownerDocument.body:t.body:Lr(e)&&xu(e)?e:z1(e)}function Kc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=z1(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),a=Mn(i);if(s){const o=Vg(a);return e.concat(a,a.visualViewport||[],xu(i)?i:[],o&&n?Kc(o):[])}return e.concat(i,Kc(i,[],n))}function Vg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function B1(t){const e=lr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Lr(t),s=i?t.offsetWidth:n,a=i?t.offsetHeight:r,o=jh(n)!==s||jh(r)!==a;return o&&(n=s,r=a),{width:n,height:r,$:o}}function Pv(t){return or(t)?t:t.contextElement}function Ao(t){const e=Pv(t);if(!Lr(e))return Nr(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=B1(e);let a=(s?jh(n.width):n.width)/r,o=(s?jh(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const dP=Nr(0);function F1(t){const e=Mn(t);return!Mv()||!e.visualViewport?dP:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function mP(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Mn(t)?!1:e}function wa(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=Pv(t);let a=Nr(1);e&&(r?or(r)&&(a=Ao(r)):a=Ao(t));const o=mP(s,n,r)?F1(s):Nr(0);let c=(i.left+o.x)/a.x,u=(i.top+o.y)/a.y,f=i.width/a.x,h=i.height/a.y;if(s){const m=Mn(s),d=r&&or(r)?Mn(r):r;let x=m,_=Vg(x);for(;_&&r&&d!==x;){const w=Ao(_),y=_.getBoundingClientRect(),b=lr(_),E=y.left+(_.clientLeft+parseFloat(b.paddingLeft))*w.x,I=y.top+(_.clientTop+parseFloat(b.paddingTop))*w.y;c*=w.x,u*=w.y,f*=w.x,h*=w.y,c+=E,u+=I,x=Mn(_),_=Vg(x)}}return zh({width:f,height:h,x:c,y:u})}function Dd(t,e){const n=Od(t).scrollLeft;return e?e.left+n:wa(Br(t)).left+n}function q1(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Dd(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function pP(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",a=Br(r),o=e?Nd(e.floating):!1;if(r===a||o&&s)return n;let c={scrollLeft:0,scrollTop:0},u=Nr(1);const f=Nr(0),h=Lr(r);if((h||!h&&!s)&&((_l(r)!=="body"||xu(a))&&(c=Od(r)),Lr(r))){const d=wa(r);u=Ao(r),f.x=d.x+r.clientLeft,f.y=d.y+r.clientTop}const m=a&&!h&&!s?q1(a,c):Nr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+f.x+m.x,y:n.y*u.y-c.scrollTop*u.y+f.y+m.y}}function gP(t){return Array.from(t.getClientRects())}function yP(t){const e=Br(t),n=Od(t),r=t.ownerDocument.body,i=xn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=xn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Dd(t);const o=-n.scrollTop;return lr(r).direction==="rtl"&&(a+=xn(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}const lw=25;function vP(t,e){const n=Mn(t),r=Br(t),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,c=0;if(i){s=i.width,a=i.height;const f=Mv();(!f||f&&e==="fixed")&&(o=i.offsetLeft,c=i.offsetTop)}const u=Dd(r);if(u<=0){const f=r.ownerDocument,h=f.body,m=getComputedStyle(h),d=f.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,x=Math.abs(r.clientWidth-h.clientWidth-d);x<=lw&&(s-=x)}else u<=lw&&(s+=u);return{width:s,height:a,x:o,y:c}}const _P=new Set(["absolute","fixed"]);function bP(t,e){const n=wa(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Lr(t)?Ao(t):Nr(1),a=t.clientWidth*s.x,o=t.clientHeight*s.y,c=i*s.x,u=r*s.y;return{width:a,height:o,x:c,y:u}}function cw(t,e,n){let r;if(e==="viewport")r=vP(t,n);else if(e==="document")r=yP(Br(t));else if(or(e))r=bP(e,n);else{const i=F1(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return zh(r)}function H1(t,e){const n=Cs(t);return n===e||!or(n)||Jo(n)?!1:lr(n).position==="fixed"||H1(n,e)}function wP(t,e){const n=e.get(t);if(n)return n;let r=Kc(t,[],!1).filter(o=>or(o)&&_l(o)!=="body"),i=null;const s=lr(t).position==="fixed";let a=s?Cs(t):t;for(;or(a)&&!Jo(a);){const o=lr(a),c=Dv(a);!c&&o.position==="fixed"&&(i=null),(s?!c&&!i:!c&&o.position==="static"&&!!i&&_P.has(i.position)||xu(a)&&!c&&H1(t,a))?r=r.filter(f=>f!==a):i=o,a=Cs(a)}return e.set(t,r),r}function EP(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?Nd(e)?[]:wP(e,this._c):[].concat(n),r],o=a[0],c=a.reduce((u,f)=>{const h=cw(e,f,i);return u.top=xn(h.top,u.top),u.right=Rs(h.right,u.right),u.bottom=Rs(h.bottom,u.bottom),u.left=xn(h.left,u.left),u},cw(e,o,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function TP(t){const{width:e,height:n}=B1(t);return{width:e,height:n}}function SP(t,e,n){const r=Lr(e),i=Br(e),s=n==="fixed",a=wa(t,!0,s,e);let o={scrollLeft:0,scrollTop:0};const c=Nr(0);function u(){c.x=Dd(i)}if(r||!r&&!s)if((_l(e)!=="body"||xu(i))&&(o=Od(e)),r){const d=wa(e,!0,s,e);c.x=d.x+e.clientLeft,c.y=d.y+e.clientTop}else i&&u();s&&!r&&i&&u();const f=i&&!r&&!s?q1(i,o):Nr(0),h=a.left+o.scrollLeft-c.x-f.x,m=a.top+o.scrollTop-c.y-f.y;return{x:h,y:m,width:a.width,height:a.height}}function up(t){return lr(t).position==="static"}function uw(t,e){if(!Lr(t)||lr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Br(t)===n&&(n=n.ownerDocument.body),n}function G1(t,e){const n=Mn(t);if(Nd(t))return n;if(!Lr(t)){let i=Cs(t);for(;i&&!Jo(i);){if(or(i)&&!up(i))return i;i=Cs(i)}return n}let r=uw(t,e);for(;r&&aP(r)&&up(r);)r=uw(r,e);return r&&Jo(r)&&up(r)&&!Dv(r)?n:r||fP(t)||n}const AP=async function(t){const e=this.getOffsetParent||G1,n=this.getDimensions,r=await n(t.floating);return{reference:SP(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function xP(t){return lr(t).direction==="rtl"}const RP={convertOffsetParentRelativeRectToViewportRelativeRect:pP,getDocumentElement:Br,getClippingRect:EP,getOffsetParent:G1,getElementRects:AP,getClientRects:gP,getDimensions:TP,getScale:Ao,isElement:or,isRTL:xP};function $1(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function CP(t,e){let n=null,r;const i=Br(t);function s(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function a(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),s();const u=t.getBoundingClientRect(),{left:f,top:h,width:m,height:d}=u;if(o||e(),!m||!d)return;const x=vf(h),_=vf(i.clientWidth-(f+m)),w=vf(i.clientHeight-(h+d)),y=vf(f),E={rootMargin:-x+"px "+-_+"px "+-w+"px "+-y+"px",threshold:xn(0,Rs(1,c))||1};let I=!0;function P(k){const A=k[0].intersectionRatio;if(A!==c){if(!I)return a();A?a(!1,A):r=setTimeout(()=>{a(!1,1e-7)},1e3)}A===1&&!$1(u,t.getBoundingClientRect())&&a(),I=!1}try{n=new IntersectionObserver(P,{...E,root:i.ownerDocument})}catch{n=new IntersectionObserver(P,E)}n.observe(t)}return a(!0),s}function IP(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Pv(t),f=i||s?[...u?Kc(u):[],...Kc(e)]:[];f.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const h=u&&o?CP(u,n):null;let m=-1,d=null;a&&(d=new ResizeObserver(y=>{let[b]=y;b&&b.target===u&&d&&(d.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var E;(E=d)==null||E.observe(e)})),n()}),u&&!c&&d.observe(u),d.observe(e));let x,_=c?wa(t):null;c&&w();function w(){const y=wa(t);_&&!$1(_,y)&&n(),_=y,x=requestAnimationFrame(w)}return n(),()=>{var y;f.forEach(b=>{i&&b.removeEventListener("scroll",n),s&&b.removeEventListener("resize",n)}),h==null||h(),(y=d)==null||y.disconnect(),d=null,c&&cancelAnimationFrame(x)}}const NP=eP,OP=tP,DP=WM,MP=rP,PP=ZM,fw=XM,VP=nP,kP=(t,e,n)=>{const r=new Map,i={platform:RP,...n},s={...i.platform,_c:r};return YM(t,e,{...i,platform:s})};var LP=typeof document<"u",jP=function(){},Gf=LP?T.useLayoutEffect:jP;function Bh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Bh(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Bh(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function K1(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function hw(t,e){const n=K1(t);return Math.round(e*n)/n}function fp(t){const e=T.useRef(t);return Gf(()=>{e.current=t}),e}function UP(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:c,open:u}=t,[f,h]=T.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,d]=T.useState(r);Bh(m,r)||d(r);const[x,_]=T.useState(null),[w,y]=T.useState(null),b=T.useCallback(q=>{q!==k.current&&(k.current=q,_(q))},[]),E=T.useCallback(q=>{q!==A.current&&(A.current=q,y(q))},[]),I=s||x,P=a||w,k=T.useRef(null),A=T.useRef(null),S=T.useRef(f),R=c!=null,N=fp(c),M=fp(i),O=fp(u),D=T.useCallback(()=>{if(!k.current||!A.current)return;const q={placement:e,strategy:n,middleware:m};M.current&&(q.platform=M.current),kP(k.current,A.current,q).then(H=>{const J={...H,isPositioned:O.current!==!1};W.current&&!Bh(S.current,J)&&(S.current=J,ul.flushSync(()=>{h(J)}))})},[m,e,n,M,O]);Gf(()=>{u===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,h(q=>({...q,isPositioned:!1})))},[u]);const W=T.useRef(!1);Gf(()=>(W.current=!0,()=>{W.current=!1}),[]),Gf(()=>{if(I&&(k.current=I),P&&(A.current=P),I&&P){if(N.current)return N.current(I,P,D);D()}},[I,P,D,N,R]);const se=T.useMemo(()=>({reference:k,floating:A,setReference:b,setFloating:E}),[b,E]),j=T.useMemo(()=>({reference:I,floating:P}),[I,P]),$=T.useMemo(()=>{const q={position:n,left:0,top:0};if(!j.floating)return q;const H=hw(j.floating,f.x),J=hw(j.floating,f.y);return o?{...q,transform:"translate("+H+"px, "+J+"px)",...K1(j.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:H,top:J}},[n,o,j.floating,f.x,f.y]);return T.useMemo(()=>({...f,update:D,refs:se,elements:j,floatingStyles:$}),[f,D,se,j,$])}const zP=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?fw({element:r.current,padding:i}).fn(n):{}:r?fw({element:r,padding:i}).fn(n):{}}}},BP=(t,e)=>({...NP(t),options:[t,e]}),FP=(t,e)=>({...OP(t),options:[t,e]}),qP=(t,e)=>({...VP(t),options:[t,e]}),HP=(t,e)=>({...DP(t),options:[t,e]}),GP=(t,e)=>({...MP(t),options:[t,e]}),$P=(t,e)=>({...PP(t),options:[t,e]}),KP=(t,e)=>({...zP(t),options:[t,e]});var QP="Arrow",Q1=T.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return g.jsx(Pe.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});Q1.displayName=QP;var YP=Q1;function XP(t){const[e,n]=T.useState(void 0);return Kt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,o;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;a=u.inlineSize,o=u.blockSize}else a=t.offsetWidth,o=t.offsetHeight;n({width:a,height:o})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Vv="Popper",[Y1,Md]=yl(Vv),[WP,X1]=Y1(Vv),W1=t=>{const{__scopePopper:e,children:n}=t,[r,i]=T.useState(null);return g.jsx(WP,{scope:e,anchor:r,onAnchorChange:i,children:n})};W1.displayName=Vv;var Z1="PopperAnchor",J1=T.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=X1(Z1,n),a=T.useRef(null),o=ut(e,a),c=T.useRef(null);return T.useEffect(()=>{const u=c.current;c.current=(r==null?void 0:r.current)||a.current,u!==c.current&&s.onAnchorChange(c.current)}),r?null:g.jsx(Pe.div,{...i,ref:o})});J1.displayName=Z1;var kv="PopperContent",[ZP,JP]=Y1(kv),ex=T.forwardRef((t,e)=>{var Q,xe,Ge,Re,ye,we;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:d="optimized",onPlaced:x,..._}=t,w=X1(kv,n),[y,b]=T.useState(null),E=ut(e,ft=>b(ft)),[I,P]=T.useState(null),k=XP(I),A=(k==null?void 0:k.width)??0,S=(k==null?void 0:k.height)??0,R=r+(s!=="center"?"-"+s:""),N=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},M=Array.isArray(u)?u:[u],O=M.length>0,D={padding:N,boundary:M.filter(tV),altBoundary:O},{refs:W,floatingStyles:se,placement:j,isPositioned:$,middlewareData:q}=UP({strategy:"fixed",placement:R,whileElementsMounted:(...ft)=>IP(...ft,{animationFrame:d==="always"}),elements:{reference:w.anchor},middleware:[BP({mainAxis:i+S,alignmentAxis:a}),c&&FP({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?qP():void 0,...D}),c&&HP({...D}),GP({...D,apply:({elements:ft,rects:Yt,availableWidth:Fr,availableHeight:Vn})=>{const{width:Yn,height:Ei}=Yt.reference,et=ft.floating.style;et.setProperty("--radix-popper-available-width",`${Fr}px`),et.setProperty("--radix-popper-available-height",`${Vn}px`),et.setProperty("--radix-popper-anchor-width",`${Yn}px`),et.setProperty("--radix-popper-anchor-height",`${Ei}px`)}}),I&&KP({element:I,padding:o}),nV({arrowWidth:A,arrowHeight:S}),m&&$P({strategy:"referenceHidden",...D})]}),[H,J]=rx(j),Ce=xs(x);Kt(()=>{$&&(Ce==null||Ce())},[$,Ce]);const ce=(Q=q.arrow)==null?void 0:Q.x,me=(xe=q.arrow)==null?void 0:xe.y,ae=((Ge=q.arrow)==null?void 0:Ge.centerOffset)!==0,[Oe,St]=T.useState();return Kt(()=>{y&&St(window.getComputedStyle(y).zIndex)},[y]),g.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:$?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Oe,"--radix-popper-transform-origin":[(Re=q.transformOrigin)==null?void 0:Re.x,(ye=q.transformOrigin)==null?void 0:ye.y].join(" "),...((we=q.hide)==null?void 0:we.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:g.jsx(ZP,{scope:n,placedSide:H,onArrowChange:P,arrowX:ce,arrowY:me,shouldHideArrow:ae,children:g.jsx(Pe.div,{"data-side":H,"data-align":J,..._,ref:E,style:{..._.style,animation:$?void 0:"none"}})})})});ex.displayName=kv;var tx="PopperArrow",eV={top:"bottom",right:"left",bottom:"top",left:"right"},nx=T.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=JP(tx,r),a=eV[s.placedSide];return g.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:g.jsx(YP,{...i,ref:n,style:{...i.style,display:"block"}})})});nx.displayName=tx;function tV(t){return t!==null}var nV=t=>({name:"transformOrigin",options:t,fn(e){var w,y,b;const{placement:n,rects:r,middlewareData:i}=e,a=((w=i.arrow)==null?void 0:w.centerOffset)!==0,o=a?0:t.arrowWidth,c=a?0:t.arrowHeight,[u,f]=rx(n),h={start:"0%",center:"50%",end:"100%"}[f],m=(((y=i.arrow)==null?void 0:y.x)??0)+o/2,d=(((b=i.arrow)==null?void 0:b.y)??0)+c/2;let x="",_="";return u==="bottom"?(x=a?h:`${m}px`,_=`${-c}px`):u==="top"?(x=a?h:`${m}px`,_=`${r.floating.height+c}px`):u==="right"?(x=`${-c}px`,_=a?h:`${d}px`):u==="left"&&(x=`${r.floating.width+c}px`,_=a?h:`${d}px`),{data:{x,y:_}}}});function rx(t){const[e,n="center"]=t.split("-");return[e,n]}var rV=W1,ix=J1,sx=ex,ax=nx,iV="Portal",ox=T.forwardRef((t,e)=>{var o;const{container:n,...r}=t,[i,s]=T.useState(!1);Kt(()=>s(!0),[]);const a=n||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?WT.createPortal(g.jsx(Pe.div,{...r,ref:e}),a):null});ox.displayName=iV;function sV(t,e){return T.useReducer((n,r)=>e[n][r]??n,t)}var Lv=t=>{const{present:e,children:n}=t,r=aV(e),i=typeof n=="function"?n({present:r.isPresent}):T.Children.only(n),s=ut(r.ref,oV(i));return typeof n=="function"||r.isPresent?T.cloneElement(i,{ref:s}):null};Lv.displayName="Presence";function aV(t){const[e,n]=T.useState(),r=T.useRef(null),i=T.useRef(t),s=T.useRef("none"),a=t?"mounted":"unmounted",[o,c]=sV(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const u=_f(r.current);s.current=o==="mounted"?u:"none"},[o]),Kt(()=>{const u=r.current,f=i.current;if(f!==t){const m=s.current,d=_f(u);t?c("MOUNT"):d==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(f&&m!==d?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),Kt(()=>{if(e){let u;const f=e.ownerDocument.defaultView??window,h=d=>{const _=_f(r.current).includes(CSS.escape(d.animationName));if(d.target===e&&_&&(c("ANIMATION_END"),!i.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",u=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},m=d=>{d.target===e&&(s.current=_f(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{f.clearTimeout(u),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:T.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function _f(t){return(t==null?void 0:t.animationName)||"none"}function oV(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var lV=My[" useInsertionEffect ".trim().toString()]||Kt;function Fh({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,a]=cV({defaultProp:e,onChange:n}),o=t!==void 0,c=o?t:i;{const f=T.useRef(t!==void 0);T.useEffect(()=>{const h=f.current;h!==o&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=o},[o,r])}const u=T.useCallback(f=>{var h;if(o){const m=uV(f)?f(t):f;m!==t&&((h=a.current)==null||h.call(a,m))}else s(f)},[o,t,s,a]);return[c,u]}function cV({defaultProp:t,onChange:e}){const[n,r]=T.useState(t),i=T.useRef(n),s=T.useRef(e);return lV(()=>{s.current=e},[e]),T.useEffect(()=>{var a;i.current!==n&&((a=s.current)==null||a.call(s,n),i.current=n)},[n,i]),[n,r,s]}function uV(t){return typeof t=="function"}var lx=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),fV="VisuallyHidden",cx=T.forwardRef((t,e)=>g.jsx(Pe.span,{...t,ref:e,style:{...lx,...t.style}}));cx.displayName=fV;var hV=cx,[Pd]=yl("Tooltip",[Md]),jv=Md(),ux="TooltipProvider",dV=700,dw="tooltip.open",[mV,fx]=Pd(ux),hx=t=>{const{__scopeTooltip:e,delayDuration:n=dV,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,a=T.useRef(!0),o=T.useRef(!1),c=T.useRef(0);return T.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),g.jsx(mV,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:T.useCallback(()=>{window.clearTimeout(c.current),a.current=!1},[]),onClose:T.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:o,onPointerInTransitChange:T.useCallback(u=>{o.current=u},[]),disableHoverableContent:i,children:s})};hx.displayName=ux;var dx="Tooltip",[e7,Vd]=Pd(dx),kg="TooltipTrigger",pV=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Vd(kg,n),s=fx(kg,n),a=jv(n),o=T.useRef(null),c=ut(e,o,i.onTriggerChange),u=T.useRef(!1),f=T.useRef(!1),h=T.useCallback(()=>u.current=!1,[]);return T.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),g.jsx(ix,{asChild:!0,...a,children:g.jsx(Pe.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:Te(t.onPointerMove,m=>{m.pointerType!=="touch"&&!f.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:Te(t.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:Te(t.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Te(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:Te(t.onBlur,i.onClose),onClick:Te(t.onClick,i.onClose)})})});pV.displayName=kg;var gV="TooltipPortal",[t7,yV]=Pd(gV,{forceMount:void 0}),el="TooltipContent",mx=T.forwardRef((t,e)=>{const n=yV(el,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,a=Vd(el,t.__scopeTooltip);return g.jsx(Lv,{present:r||a.open,children:a.disableHoverableContent?g.jsx(px,{side:i,...s,ref:e}):g.jsx(vV,{side:i,...s,ref:e})})}),vV=T.forwardRef((t,e)=>{const n=Vd(el,t.__scopeTooltip),r=fx(el,t.__scopeTooltip),i=T.useRef(null),s=ut(e,i),[a,o]=T.useState(null),{trigger:c,onClose:u}=n,f=i.current,{onPointerInTransitChange:h}=r,m=T.useCallback(()=>{o(null),h(!1)},[h]),d=T.useCallback((x,_)=>{const w=x.currentTarget,y={x:x.clientX,y:x.clientY},b=TV(y,w.getBoundingClientRect()),E=SV(y,b),I=AV(_.getBoundingClientRect()),P=RV([...E,...I]);o(P),h(!0)},[h]);return T.useEffect(()=>()=>m(),[m]),T.useEffect(()=>{if(c&&f){const x=w=>d(w,f),_=w=>d(w,c);return c.addEventListener("pointerleave",x),f.addEventListener("pointerleave",_),()=>{c.removeEventListener("pointerleave",x),f.removeEventListener("pointerleave",_)}}},[c,f,d,m]),T.useEffect(()=>{if(a){const x=_=>{const w=_.target,y={x:_.clientX,y:_.clientY},b=(c==null?void 0:c.contains(w))||(f==null?void 0:f.contains(w)),E=!xV(y,a);b?m():E&&(m(),u())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[c,f,a,u,m]),g.jsx(px,{...t,ref:s})}),[_V,bV]=Pd(dx,{isInside:!1}),wV=EM("TooltipContent"),px=T.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...o}=t,c=Vd(el,n),u=jv(n),{onClose:f}=c;return T.useEffect(()=>(document.addEventListener(dw,f),()=>document.removeEventListener(dw,f)),[f]),T.useEffect(()=>{if(c.trigger){const h=m=>{const d=m.target;d!=null&&d.contains(c.trigger)&&f()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,f]),g.jsx(Cv,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:h=>h.preventDefault(),onDismiss:f,children:g.jsxs(sx,{"data-state":c.stateAttribute,...u,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[g.jsx(wV,{children:r}),g.jsx(_V,{scope:n,isInside:!0,children:g.jsx(hV,{id:c.contentId,role:"tooltip",children:i||r})})]})})});mx.displayName=el;var gx="TooltipArrow",EV=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=jv(n);return bV(gx,n).isInside?null:g.jsx(ax,{...i,...r,ref:e})});EV.displayName=gx;function TV(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function SV(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function AV(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function xV(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const o=e[s],c=e[a],u=o.x,f=o.y,h=c.x,m=c.y;f>r!=m>r&&n<(h-u)*(r-f)/(m-f)+u&&(i=!i)}return i}function RV(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),CV(e)}function CV(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],a=e[e.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],a=n[n.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var IV=hx,yx=mx;function vx(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=vx(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function _x(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=vx(t))&&(r&&(r+=" "),r+=e);return r}const Uv="-",NV=t=>{const e=DV(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const o=a.split(Uv);return o[0]===""&&o.length!==1&&o.shift(),bx(o,e)||OV(a)},getConflictingClassGroupIds:(a,o)=>{const c=n[a]||[];return o&&r[a]?[...c,...r[a]]:c}}},bx=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?bx(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(Uv);return(a=e.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},mw=/^\[(.+)\]$/,OV=t=>{if(mw.test(t)){const e=mw.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},DV=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return PV(Object.entries(t.classGroups),n).forEach(([s,a])=>{Lg(a,r,s,e)}),r},Lg=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:pw(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(MV(i)){Lg(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{Lg(a,pw(e,s),n,r)})})},pw=(t,e)=>{let n=t;return e.split(Uv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},MV=t=>t.isThemeGetter,PV=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[e+a,o])):s);return[n,i]}):t,VV=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,a)=>{n.set(s,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},wx="!",kV=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,a=o=>{const c=[];let u=0,f=0,h;for(let w=0;w<o.length;w++){let y=o[w];if(u===0){if(y===i&&(r||o.slice(w,w+s)===e)){c.push(o.slice(f,w)),f=w+s;continue}if(y==="/"){h=w;continue}}y==="["?u++:y==="]"&&u--}const m=c.length===0?o:o.substring(f),d=m.startsWith(wx),x=d?m.substring(1):m,_=h&&h>f?h-f:void 0;return{modifiers:c,hasImportantModifier:d,baseClassName:x,maybePostfixModifierPosition:_}};return n?o=>n({className:o,parseClassName:a}):a},LV=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},jV=t=>({cache:VV(t.cacheSize),parseClassName:kV(t),...NV(t)}),UV=/\s+/,zV=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],a=t.trim().split(UV);let o="";for(let c=a.length-1;c>=0;c-=1){const u=a[c],{modifiers:f,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:d}=n(u);let x=!!d,_=r(x?m.substring(0,d):m);if(!_){if(!x){o=u+(o.length>0?" "+o:o);continue}if(_=r(m),!_){o=u+(o.length>0?" "+o:o);continue}x=!1}const w=LV(f).join(":"),y=h?w+wx:w,b=y+_;if(s.includes(b))continue;s.push(b);const E=i(_,x);for(let I=0;I<E.length;++I){const P=E[I];s.push(y+P)}o=u+(o.length>0?" "+o:o)}return o};function BV(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Ex(e))&&(r&&(r+=" "),r+=n);return r}const Ex=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Ex(t[r]))&&(n&&(n+=" "),n+=e);return n};function FV(t,...e){let n,r,i,s=a;function a(c){const u=e.reduce((f,h)=>h(f),t());return n=jV(u),r=n.cache.get,i=n.cache.set,s=o,o(c)}function o(c){const u=r(c);if(u)return u;const f=zV(c,n);return i(c,f),f}return function(){return s(BV.apply(null,arguments))}}const Ke=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Tx=/^\[(?:([a-z-]+):)?(.+)\]$/i,qV=/^\d+\/\d+$/,HV=new Set(["px","full","screen"]),GV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$V=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,KV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,QV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,YV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qr=t=>xo(t)||HV.has(t)||qV.test(t),Di=t=>bl(t,"length",r4),xo=t=>!!t&&!Number.isNaN(Number(t)),hp=t=>bl(t,"number",xo),Zl=t=>!!t&&Number.isInteger(Number(t)),XV=t=>t.endsWith("%")&&xo(t.slice(0,-1)),ue=t=>Tx.test(t),Mi=t=>GV.test(t),WV=new Set(["length","size","percentage"]),ZV=t=>bl(t,WV,Sx),JV=t=>bl(t,"position",Sx),e4=new Set(["image","url"]),t4=t=>bl(t,e4,s4),n4=t=>bl(t,"",i4),Jl=()=>!0,bl=(t,e,n)=>{const r=Tx.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},r4=t=>$V.test(t)&&!KV.test(t),Sx=()=>!1,i4=t=>QV.test(t),s4=t=>YV.test(t),a4=()=>{const t=Ke("colors"),e=Ke("spacing"),n=Ke("blur"),r=Ke("brightness"),i=Ke("borderColor"),s=Ke("borderRadius"),a=Ke("borderSpacing"),o=Ke("borderWidth"),c=Ke("contrast"),u=Ke("grayscale"),f=Ke("hueRotate"),h=Ke("invert"),m=Ke("gap"),d=Ke("gradientColorStops"),x=Ke("gradientColorStopPositions"),_=Ke("inset"),w=Ke("margin"),y=Ke("opacity"),b=Ke("padding"),E=Ke("saturate"),I=Ke("scale"),P=Ke("sepia"),k=Ke("skew"),A=Ke("space"),S=Ke("translate"),R=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto",ue,e],O=()=>[ue,e],D=()=>["",Qr,Di],W=()=>["auto",xo,ue],se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],j=()=>["solid","dashed","dotted","double","none"],$=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],H=()=>["","0",ue],J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Ce=()=>[xo,ue];return{cacheSize:500,separator:":",theme:{colors:[Jl],spacing:[Qr,Di],blur:["none","",Mi,ue],brightness:Ce(),borderColor:[t],borderRadius:["none","","full",Mi,ue],borderSpacing:O(),borderWidth:D(),contrast:Ce(),grayscale:H(),hueRotate:Ce(),invert:H(),gap:O(),gradientColorStops:[t],gradientColorStopPositions:[XV,Di],inset:M(),margin:M(),opacity:Ce(),padding:O(),saturate:Ce(),scale:Ce(),sepia:H(),skew:Ce(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",ue]}],container:["container"],columns:[{columns:[Mi]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...se(),ue]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Zl,ue]}],basis:[{basis:M()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ue]}],grow:[{grow:H()}],shrink:[{shrink:H()}],order:[{order:["first","last","none",Zl,ue]}],"grid-cols":[{"grid-cols":[Jl]}],"col-start-end":[{col:["auto",{span:["full",Zl,ue]},ue]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[Jl]}],"row-start-end":[{row:["auto",{span:[Zl,ue]},ue]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ue]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ue]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ue,e]}],"min-w":[{"min-w":[ue,e,"min","max","fit"]}],"max-w":[{"max-w":[ue,e,"none","full","min","max","fit","prose",{screen:[Mi]},Mi]}],h:[{h:[ue,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ue,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ue,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ue,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Mi,Di]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",hp]}],"font-family":[{font:[Jl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ue]}],"line-clamp":[{"line-clamp":["none",xo,hp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qr,ue]}],"list-image":[{"list-image":["none",ue]}],"list-style-type":[{list:["none","disc","decimal",ue]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...j(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qr,Di]}],"underline-offset":[{"underline-offset":["auto",Qr,ue]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...se(),JV]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ZV]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},t4]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[d]}],"gradient-via":[{via:[d]}],"gradient-to":[{to:[d]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...j(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:j()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...j()]}],"outline-offset":[{"outline-offset":[Qr,ue]}],"outline-w":[{outline:[Qr,Di]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Qr,Di]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Mi,n4]}],"shadow-color":[{shadow:[Jl]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...$(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":$()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Mi,ue]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[h]}],saturate:[{saturate:[E]}],sepia:[{sepia:[P]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[P]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ue]}],duration:[{duration:Ce()}],ease:[{ease:["linear","in","out","in-out",ue]}],delay:[{delay:Ce()}],animate:[{animate:["none","spin","ping","pulse","bounce",ue]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[Zl,ue]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ue]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ue]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ue]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Qr,Di,hp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},o4=FV(a4);function Je(...t){return o4(_x(t))}const l4=IV,c4=T.forwardRef(({className:t,sideOffset:e=4,...n},r)=>g.jsx(yx,{ref:r,sideOffset:e,className:Je("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));c4.displayName=yx.displayName;var kd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},u4={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Wi,Ry,xT,f4=(xT=class{constructor(){Ee(this,Wi,u4);Ee(this,Ry,!1)}setTimeoutProvider(t){ie(this,Wi,t)}setTimeout(t,e){return U(this,Wi).setTimeout(t,e)}clearTimeout(t){U(this,Wi).clearTimeout(t)}setInterval(t,e){return U(this,Wi).setInterval(t,e)}clearInterval(t){U(this,Wi).clearInterval(t)}},Wi=new WeakMap,Ry=new WeakMap,xT),jg=new f4;function h4(t){setTimeout(t,0)}var Ld=typeof window>"u"||"Deno"in globalThis;function er(){}function d4(t,e){return typeof t=="function"?t(e):t}function m4(t){return typeof t=="number"&&t>=0&&t!==1/0}function p4(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Ug(t,e){return typeof t=="function"?t(e):t}function g4(t,e){return typeof t=="function"?t(e):t}function gw(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:o}=t;if(a){if(r){if(e.queryHash!==zv(a,e.options))return!1}else if(!Yc(e.queryKey,a))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||s&&!s(e))}function yw(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Qc(e.options.mutationKey)!==Qc(s))return!1}else if(!Yc(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function zv(t,e){return((e==null?void 0:e.queryKeyHashFn)||Qc)(t)}function Qc(t){return JSON.stringify(t,(e,n)=>zg(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Yc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Yc(t[n],e[n])):!1}var y4=Object.prototype.hasOwnProperty;function Ax(t,e){if(t===e)return t;const n=vw(t)&&vw(e);if(!n&&!(zg(t)&&zg(e)))return e;const i=(n?t:Object.keys(t)).length,s=n?e:Object.keys(e),a=s.length,o=n?new Array(a):{};let c=0;for(let u=0;u<a;u++){const f=n?u:s[u],h=t[f],m=e[f];if(h===m){o[f]=h,(n?u<i:y4.call(t,f))&&c++;continue}if(h===null||m===null||typeof h!="object"||typeof m!="object"){o[f]=m;continue}const d=Ax(h,m);o[f]=d,d===h&&c++}return i===a&&c===i?t:o}function vw(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function zg(t){if(!_w(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!_w(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function _w(t){return Object.prototype.toString.call(t)==="[object Object]"}function v4(t){return new Promise(e=>{jg.setTimeout(e,t)})}function _4(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Ax(t,e):e}function b4(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function w4(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Bv=Symbol();function xx(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Bv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var na,Zi,Po,RT,E4=(RT=class extends kd{constructor(){super();Ee(this,na);Ee(this,Zi);Ee(this,Po);ie(this,Po,e=>{if(!Ld&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,Zi)||this.setEventListener(U(this,Po))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,Zi))==null||e.call(this),ie(this,Zi,void 0))}setEventListener(e){var n;ie(this,Po,e),(n=U(this,Zi))==null||n.call(this),ie(this,Zi,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){U(this,na)!==e&&(ie(this,na,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof U(this,na)=="boolean"?U(this,na):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},na=new WeakMap,Zi=new WeakMap,Po=new WeakMap,RT),Rx=new E4;function T4(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}var S4=h4;function A4(){let t=[],e=0,n=o=>{o()},r=o=>{o()},i=S4;const s=o=>{e?t.push(o):i(()=>{n(o)})},a=()=>{const o=t;t=[],o.length&&i(()=>{r(()=>{o.forEach(c=>{n(c)})})})};return{batch:o=>{let c;e++;try{c=o()}finally{e--,e||a()}return c},batchCalls:o=>(...c)=>{s(()=>{o(...c)})},schedule:s,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{i=o}}}var Zt=A4(),Vo,Ji,ko,CT,x4=(CT=class extends kd{constructor(){super();Ee(this,Vo,!0);Ee(this,Ji);Ee(this,ko);ie(this,ko,e=>{if(!Ld&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){U(this,Ji)||this.setEventListener(U(this,ko))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,Ji))==null||e.call(this),ie(this,Ji,void 0))}setEventListener(e){var n;ie(this,ko,e),(n=U(this,Ji))==null||n.call(this),ie(this,Ji,e(this.setOnline.bind(this)))}setOnline(e){U(this,Vo)!==e&&(ie(this,Vo,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return U(this,Vo)}},Vo=new WeakMap,Ji=new WeakMap,ko=new WeakMap,CT),qh=new x4;function R4(t){return Math.min(1e3*2**t,3e4)}function Cx(t){return(t??"online")==="online"?qh.isOnline():!0}var Bg=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Ix(t){let e=!1,n=0,r;const i=T4(),s=()=>i.status!=="pending",a=_=>{var w;if(!s()){const y=new Bg(_);m(y),(w=t.onCancel)==null||w.call(t,y)}},o=()=>{e=!0},c=()=>{e=!1},u=()=>Rx.isFocused()&&(t.networkMode==="always"||qh.isOnline())&&t.canRun(),f=()=>Cx(t.networkMode)&&t.canRun(),h=_=>{s()||(r==null||r(),i.resolve(_))},m=_=>{s()||(r==null||r(),i.reject(_))},d=()=>new Promise(_=>{var w;r=y=>{(s()||u())&&_(y)},(w=t.onPause)==null||w.call(t)}).then(()=>{var _;r=void 0,s()||(_=t.onContinue)==null||_.call(t)}),x=()=>{if(s())return;let _;const w=n===0?t.initialPromise:void 0;try{_=w??t.fn()}catch(y){_=Promise.reject(y)}Promise.resolve(_).then(h).catch(y=>{var k;if(s())return;const b=t.retry??(Ld?0:3),E=t.retryDelay??R4,I=typeof E=="function"?E(n,y):E,P=b===!0||typeof b=="number"&&n<b||typeof b=="function"&&b(n,y);if(e||!P){m(y);return}n++,(k=t.onFail)==null||k.call(t,n,y),v4(I).then(()=>u()?void 0:d()).then(()=>{e?m(y):x()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(r==null||r(),i),cancelRetry:o,continueRetry:c,canStart:f,start:()=>(f()?x():d().then(x),i)}}var ra,IT,Nx=(IT=class{constructor(){Ee(this,ra)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),m4(this.gcTime)&&ie(this,ra,jg.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Ld?1/0:5*60*1e3))}clearGcTimeout(){U(this,ra)&&(jg.clearTimeout(U(this,ra)),ie(this,ra,void 0))}},ra=new WeakMap,IT),ia,Lo,Ln,sa,Ct,au,aa,tr,Yr,NT,C4=(NT=class extends Nx{constructor(n){super();Ee(this,tr);Ee(this,ia);Ee(this,Lo);Ee(this,Ln);Ee(this,sa);Ee(this,Ct);Ee(this,au);Ee(this,aa);ie(this,aa,!1),ie(this,au,n.defaultOptions),this.setOptions(n.options),this.observers=[],ie(this,sa,n.client),ie(this,Ln,U(this,sa).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ie(this,ia,bw(this.options)),this.state=n.state??U(this,ia),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=U(this,Ct))==null?void 0:n.promise}setOptions(n){if(this.options={...U(this,au),...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=bw(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),ie(this,ia,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,Ln).remove(this)}setData(n,r){const i=_4(this.state.data,n,this.options);return Bt(this,tr,Yr).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){Bt(this,tr,Yr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=U(this,Ct))==null?void 0:i.promise;return(s=U(this,Ct))==null||s.cancel(n),r?r.then(er).catch(er):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,ia))}isActive(){return this.observers.some(n=>g4(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Bv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Ug(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!p4(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,Ct))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,Ct))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),U(this,Ln).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(U(this,Ct)&&(U(this,aa)?U(this,Ct).cancel({revert:!0}):U(this,Ct).cancelRetry()),this.scheduleGc()),U(this,Ln).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Bt(this,tr,Yr).call(this,{type:"invalidate"})}async fetch(n,r){var u,f,h,m,d,x,_,w,y,b,E,I;if(this.state.fetchStatus!=="idle"&&((u=U(this,Ct))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,Ct))return U(this,Ct).continueRetry(),U(this,Ct).promise}if(n&&this.setOptions(n),!this.options.queryFn){const P=this.observers.find(k=>k.options.queryFn);P&&this.setOptions(P.options)}const i=new AbortController,s=P=>{Object.defineProperty(P,"signal",{enumerable:!0,get:()=>(ie(this,aa,!0),i.signal)})},a=()=>{const P=xx(this.options,r),A=(()=>{const S={client:U(this,sa),queryKey:this.queryKey,meta:this.meta};return s(S),S})();return ie(this,aa,!1),this.options.persister?this.options.persister(P,A,this):P(A)},c=(()=>{const P={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:U(this,sa),state:this.state,fetchFn:a};return s(P),P})();(f=this.options.behavior)==null||f.onFetch(c,this),ie(this,Lo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=c.fetchOptions)==null?void 0:h.meta))&&Bt(this,tr,Yr).call(this,{type:"fetch",meta:(m=c.fetchOptions)==null?void 0:m.meta}),ie(this,Ct,Ix({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,onCancel:P=>{P instanceof Bg&&P.revert&&this.setState({...U(this,Lo),fetchStatus:"idle"}),i.abort()},onFail:(P,k)=>{Bt(this,tr,Yr).call(this,{type:"failed",failureCount:P,error:k})},onPause:()=>{Bt(this,tr,Yr).call(this,{type:"pause"})},onContinue:()=>{Bt(this,tr,Yr).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}));try{const P=await U(this,Ct).start();if(P===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(P),(x=(d=U(this,Ln).config).onSuccess)==null||x.call(d,P,this),(w=(_=U(this,Ln).config).onSettled)==null||w.call(_,P,this.state.error,this),P}catch(P){if(P instanceof Bg){if(P.silent)return U(this,Ct).promise;if(P.revert){if(this.state.data===void 0)throw P;return this.state.data}}throw Bt(this,tr,Yr).call(this,{type:"error",error:P}),(b=(y=U(this,Ln).config).onError)==null||b.call(y,P,this),(I=(E=U(this,Ln).config).onSettled)==null||I.call(E,this.state.data,P,this),P}finally{this.scheduleGc()}}},ia=new WeakMap,Lo=new WeakMap,Ln=new WeakMap,sa=new WeakMap,Ct=new WeakMap,au=new WeakMap,aa=new WeakMap,tr=new WeakSet,Yr=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...I4(i.data,this.options),fetchMeta:n.meta??null};case"success":const s={...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ie(this,Lo,n.manual?s:void 0),s;case"error":const a=n.error;return{...i,error:a,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),Zt.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),U(this,Ln).notify({query:this,type:"updated",action:n})})},NT);function I4(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Cx(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function bw(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function ww(t){return{onFetch:(e,n)=>{var f,h,m,d,x;const r=e.options,i=(m=(h=(f=e.fetchOptions)==null?void 0:f.meta)==null?void 0:h.fetchMore)==null?void 0:m.direction,s=((d=e.state.data)==null?void 0:d.pages)||[],a=((x=e.state.data)==null?void 0:x.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const u=async()=>{let _=!1;const w=E=>{Object.defineProperty(E,"signal",{enumerable:!0,get:()=>(e.signal.aborted?_=!0:e.signal.addEventListener("abort",()=>{_=!0}),e.signal)})},y=xx(e.options,e.fetchOptions),b=async(E,I,P)=>{if(_)return Promise.reject();if(I==null&&E.pages.length)return Promise.resolve(E);const A=(()=>{const M={client:e.client,queryKey:e.queryKey,pageParam:I,direction:P?"backward":"forward",meta:e.options.meta};return w(M),M})(),S=await y(A),{maxPages:R}=e.options,N=P?w4:b4;return{pages:N(E.pages,S,R),pageParams:N(E.pageParams,I,R)}};if(i&&s.length){const E=i==="backward",I=E?N4:Ew,P={pages:s,pageParams:a},k=I(r,P);o=await b(P,k,E)}else{const E=t??s.length;do{const I=c===0?a[0]??r.initialPageParam:Ew(r,o);if(c>0&&I==null)break;o=await b(o,I),c++}while(c<E)}return o};e.options.persister?e.fetchFn=()=>{var _,w;return(w=(_=e.options).persister)==null?void 0:w.call(_,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function Ew(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function N4(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var ou,br,Wt,oa,wr,Li,OT,O4=(OT=class extends Nx{constructor(n){super();Ee(this,wr);Ee(this,ou);Ee(this,br);Ee(this,Wt);Ee(this,oa);ie(this,ou,n.client),this.mutationId=n.mutationId,ie(this,Wt,n.mutationCache),ie(this,br,[]),this.state=n.state||D4(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){U(this,br).includes(n)||(U(this,br).push(n),this.clearGcTimeout(),U(this,Wt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ie(this,br,U(this,br).filter(r=>r!==n)),this.scheduleGc(),U(this,Wt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){U(this,br).length||(this.state.status==="pending"?this.scheduleGc():U(this,Wt).remove(this))}continue(){var n;return((n=U(this,oa))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,c,u,f,h,m,d,x,_,w,y,b,E,I,P,k,A,S,R,N;const r=()=>{Bt(this,wr,Li).call(this,{type:"continue"})},i={client:U(this,ou),meta:this.options.meta,mutationKey:this.options.mutationKey};ie(this,oa,Ix({fn:()=>this.options.mutationFn?this.options.mutationFn(n,i):Promise.reject(new Error("No mutationFn found")),onFail:(M,O)=>{Bt(this,wr,Li).call(this,{type:"failed",failureCount:M,error:O})},onPause:()=>{Bt(this,wr,Li).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Wt).canRun(this)}));const s=this.state.status==="pending",a=!U(this,oa).canStart();try{if(s)r();else{Bt(this,wr,Li).call(this,{type:"pending",variables:n,isPaused:a}),await((c=(o=U(this,Wt).config).onMutate)==null?void 0:c.call(o,n,this,i));const O=await((f=(u=this.options).onMutate)==null?void 0:f.call(u,n,i));O!==this.state.context&&Bt(this,wr,Li).call(this,{type:"pending",context:O,variables:n,isPaused:a})}const M=await U(this,oa).start();return await((m=(h=U(this,Wt).config).onSuccess)==null?void 0:m.call(h,M,n,this.state.context,this,i)),await((x=(d=this.options).onSuccess)==null?void 0:x.call(d,M,n,this.state.context,i)),await((w=(_=U(this,Wt).config).onSettled)==null?void 0:w.call(_,M,null,this.state.variables,this.state.context,this,i)),await((b=(y=this.options).onSettled)==null?void 0:b.call(y,M,null,n,this.state.context,i)),Bt(this,wr,Li).call(this,{type:"success",data:M}),M}catch(M){try{throw await((I=(E=U(this,Wt).config).onError)==null?void 0:I.call(E,M,n,this.state.context,this,i)),await((k=(P=this.options).onError)==null?void 0:k.call(P,M,n,this.state.context,i)),await((S=(A=U(this,Wt).config).onSettled)==null?void 0:S.call(A,void 0,M,this.state.variables,this.state.context,this,i)),await((N=(R=this.options).onSettled)==null?void 0:N.call(R,void 0,M,n,this.state.context,i)),M}finally{Bt(this,wr,Li).call(this,{type:"error",error:M})}}finally{U(this,Wt).runNext(this)}}},ou=new WeakMap,br=new WeakMap,Wt=new WeakMap,oa=new WeakMap,wr=new WeakSet,Li=function(n){const r=i=>{switch(n.type){case"failed":return{...i,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...i,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:n.error,failureCount:i.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Zt.batch(()=>{U(this,br).forEach(i=>{i.onMutationUpdate(n)}),U(this,Wt).notify({mutation:this,type:"updated",action:n})})},OT);function D4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Xr,nr,lu,DT,M4=(DT=class extends kd{constructor(e={}){super();Ee(this,Xr);Ee(this,nr);Ee(this,lu);this.config=e,ie(this,Xr,new Set),ie(this,nr,new Map),ie(this,lu,0)}build(e,n,r){const i=new O4({client:e,mutationCache:this,mutationId:++ef(this,lu)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){U(this,Xr).add(e);const n=bf(e);if(typeof n=="string"){const r=U(this,nr).get(n);r?r.push(e):U(this,nr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(U(this,Xr).delete(e)){const n=bf(e);if(typeof n=="string"){const r=U(this,nr).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&U(this,nr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=bf(e);if(typeof n=="string"){const r=U(this,nr).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=bf(e);if(typeof n=="string"){const i=(r=U(this,nr).get(n))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Zt.batch(()=>{U(this,Xr).forEach(e=>{this.notify({type:"removed",mutation:e})}),U(this,Xr).clear(),U(this,nr).clear()})}getAll(){return Array.from(U(this,Xr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>yw(n,r))}findAll(e={}){return this.getAll().filter(n=>yw(e,n))}notify(e){Zt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Zt.batch(()=>Promise.all(e.map(n=>n.continue().catch(er))))}},Xr=new WeakMap,nr=new WeakMap,lu=new WeakMap,DT);function bf(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Er,MT,P4=(MT=class extends kd{constructor(e={}){super();Ee(this,Er);this.config=e,ie(this,Er,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??zv(i,n);let a=this.get(s);return a||(a=new C4({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){U(this,Er).has(e.queryHash)||(U(this,Er).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=U(this,Er).get(e.queryHash);n&&(e.destroy(),n===e&&U(this,Er).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Zt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return U(this,Er).get(e)}getAll(){return[...U(this,Er).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>gw(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>gw(e,r)):n}notify(e){Zt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Zt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Zt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Er=new WeakMap,MT),it,es,ts,jo,Uo,ns,zo,Bo,PT,V4=(PT=class{constructor(t={}){Ee(this,it);Ee(this,es);Ee(this,ts);Ee(this,jo);Ee(this,Uo);Ee(this,ns);Ee(this,zo);Ee(this,Bo);ie(this,it,t.queryCache||new P4),ie(this,es,t.mutationCache||new M4),ie(this,ts,t.defaultOptions||{}),ie(this,jo,new Map),ie(this,Uo,new Map),ie(this,ns,0)}mount(){ef(this,ns)._++,U(this,ns)===1&&(ie(this,zo,Rx.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,it).onFocus())})),ie(this,Bo,qh.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,it).onOnline())})))}unmount(){var t,e;ef(this,ns)._--,U(this,ns)===0&&((t=U(this,zo))==null||t.call(this),ie(this,zo,void 0),(e=U(this,Bo))==null||e.call(this),ie(this,Bo,void 0))}isFetching(t){return U(this,it).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return U(this,es).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,it).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=U(this,it).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Ug(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return U(this,it).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=U(this,it).get(r.queryHash),s=i==null?void 0:i.state.data,a=d4(e,s);if(a!==void 0)return U(this,it).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return Zt.batch(()=>U(this,it).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,it).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=U(this,it);Zt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=U(this,it);return Zt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Zt.batch(()=>U(this,it).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(er).catch(er)}invalidateQueries(t,e={}){return Zt.batch(()=>(U(this,it).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Zt.batch(()=>U(this,it).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(er)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(er)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=U(this,it).build(this,e);return n.isStaleByTime(Ug(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(er).catch(er)}fetchInfiniteQuery(t){return t.behavior=ww(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(er).catch(er)}ensureInfiniteQueryData(t){return t.behavior=ww(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return qh.isOnline()?U(this,es).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,it)}getMutationCache(){return U(this,es)}getDefaultOptions(){return U(this,ts)}setDefaultOptions(t){ie(this,ts,t)}setQueryDefaults(t,e){U(this,jo).set(Qc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...U(this,jo).values()],n={};return e.forEach(r=>{Yc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){U(this,Uo).set(Qc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...U(this,Uo).values()],n={};return e.forEach(r=>{Yc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...U(this,ts).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=zv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Bv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...U(this,ts).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){U(this,it).clear(),U(this,es).clear()}},it=new WeakMap,es=new WeakMap,ts=new WeakMap,jo=new WeakMap,Uo=new WeakMap,ns=new WeakMap,zo=new WeakMap,Bo=new WeakMap,PT),k4=T.createContext(void 0),L4=({client:t,children:e})=>(T.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),g.jsx(k4.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hh(){return Hh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hh.apply(this,arguments)}var os;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(os||(os={}));const Tw="popstate";function j4(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return Fg("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Dx(i)}return z4(e,n,null,t)}function mn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ox(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function U4(){return Math.random().toString(36).substr(2,8)}function Sw(t,e){return{usr:t.state,key:t.key,idx:e}}function Fg(t,e,n,r){return n===void 0&&(n=null),Hh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?jd(e):e,{state:n,key:e&&e.key||r||U4()})}function Dx(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function jd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function z4(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=os.Pop,c=null,u=f();u==null&&(u=0,a.replaceState(Hh({},a.state,{idx:u}),""));function f(){return(a.state||{idx:null}).idx}function h(){o=os.Pop;let w=f(),y=w==null?null:w-u;u=w,c&&c({action:o,location:_.location,delta:y})}function m(w,y){o=os.Push;let b=Fg(_.location,w,y);u=f()+1;let E=Sw(b,u),I=_.createHref(b);try{a.pushState(E,"",I)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(I)}s&&c&&c({action:o,location:_.location,delta:1})}function d(w,y){o=os.Replace;let b=Fg(_.location,w,y);u=f();let E=Sw(b,u),I=_.createHref(b);a.replaceState(E,"",I),s&&c&&c({action:o,location:_.location,delta:0})}function x(w){let y=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof w=="string"?w:Dx(w);return b=b.replace(/ $/,"%20"),mn(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let _={get action(){return o},get location(){return t(i,a)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Tw,h),c=w,()=>{i.removeEventListener(Tw,h),c=null}},createHref(w){return e(i,w)},createURL:x,encodeLocation(w){let y=x(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:d,go(w){return a.go(w)}};return _}var Aw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Aw||(Aw={}));function B4(t,e,n){return n===void 0&&(n="/"),F4(t,e,n)}function F4(t,e,n,r){let i=typeof e=="string"?jd(e):e,s=Vx(i.pathname||"/",n);if(s==null)return null;let a=Mx(t);q4(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let u=tk(s);o=Z4(a[c],u)}return o}function Mx(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let c={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(mn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Ro([r,c.relativePath]),f=n.concat(c);s.children&&s.children.length>0&&(mn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Mx(s.children,e,f,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:X4(u,s.index),routesMeta:f})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let c of Px(s.path))i(s,a,c)}),e}function Px(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=Px(r.join("/")),o=[];return o.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&o.push(...a),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function q4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:W4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const H4=/^:[\w-]+$/,G4=3,$4=2,K4=1,Q4=10,Y4=-2,xw=t=>t==="*";function X4(t,e){let n=t.split("/"),r=n.length;return n.some(xw)&&(r+=Y4),e&&(r+=$4),n.filter(i=>!xw(i)).reduce((i,s)=>i+(H4.test(s)?G4:s===""?K4:Q4),r)}function W4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Z4(t,e,n){let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let c=r[o],u=o===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",h=J4({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),m=c.route;if(!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:Ro([s,h.pathname]),pathnameBase:nk(Ro([s,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(s=Ro([s,h.pathnameBase]))}return a}function J4(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=ek(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((u,f,h)=>{let{paramName:m,isOptional:d}=f;if(m==="*"){let _=o[h]||"";a=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const x=o[h];return d&&!x?u[m]=void 0:u[m]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function ek(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ox(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function tk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ox(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Vx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const Ro=t=>t.join("/").replace(/\/\/+/g,"/"),nk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/");function rk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const kx=["post","put","patch","delete"];new Set(kx);const ik=["get",...kx];new Set(ik);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gh(){return Gh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gh.apply(this,arguments)}const sk=T.createContext(null),ak=T.createContext(null),Lx=T.createContext(null),Ud=T.createContext(null),zd=T.createContext({outlet:null,matches:[],isDataRoute:!1}),jx=T.createContext(null);function Fv(){return T.useContext(Ud)!=null}function ok(){return Fv()||mn(!1),T.useContext(Ud).location}function lk(t,e){return ck(t,e)}function ck(t,e,n,r){Fv()||mn(!1);let{navigator:i}=T.useContext(Lx),{matches:s}=T.useContext(zd),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=ok(),f;if(e){var h;let w=typeof e=="string"?jd(e):e;c==="/"||(h=w.pathname)!=null&&h.startsWith(c)||mn(!1),f=w}else f=u;let m=f.pathname||"/",d=m;if(c!=="/"){let w=c.replace(/^\//,"").split("/");d="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=B4(t,{pathname:d}),_=mk(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:Ro([c,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Ro([c,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r);return e&&_?T.createElement(Ud.Provider,{value:{location:Gh({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:os.Pop}},_):_}function uk(){let t=vk(),e=rk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,null)}const fk=T.createElement(uk,null);class hk extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?T.createElement(zd.Provider,{value:this.props.routeContext},T.createElement(jx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function dk(t){let{routeContext:e,match:n,children:r}=t,i=T.useContext(sk);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(zd.Provider,{value:e},r)}function mk(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let f=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);f>=0||mn(!1),a=a.slice(0,Math.min(a.length,f+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<a.length;f++){let h=a[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=f),h.route.id){let{loaderData:m,errors:d}=n,x=h.route.loader&&m[h.route.id]===void 0&&(!d||d[h.route.id]===void 0);if(h.route.lazy||x){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((f,h,m)=>{let d,x=!1,_=null,w=null;n&&(d=o&&h.route.id?o[h.route.id]:void 0,_=h.route.errorElement||fk,c&&(u<0&&m===0?(_k("route-fallback"),x=!0,w=null):u===m&&(x=!0,w=h.route.hydrateFallbackElement||null)));let y=e.concat(a.slice(0,m+1)),b=()=>{let E;return d?E=_:x?E=w:h.route.Component?E=T.createElement(h.route.Component,null):h.route.element?E=h.route.element:E=f,T.createElement(dk,{match:h,routeContext:{outlet:f,matches:y,isDataRoute:n!=null},children:E})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?T.createElement(hk,{location:n.location,revalidation:n.revalidation,component:_,error:d,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var Ux=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ux||{});function pk(t){let e=T.useContext(ak);return e||mn(!1),e}function gk(t){let e=T.useContext(zd);return e||mn(!1),e}function yk(t){let e=gk(),n=e.matches[e.matches.length-1];return n.route.id||mn(!1),n.route.id}function vk(){var t;let e=T.useContext(jx),n=pk(Ux.UseRouteError),r=yk();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}const Rw={};function _k(t,e,n){Rw[t]||(Rw[t]=!0)}function bk(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function qg(t){mn(!1)}function wk(t){let{basename:e="/",children:n=null,location:r,navigationType:i=os.Pop,navigator:s,static:a=!1,future:o}=t;Fv()&&mn(!1);let c=e.replace(/^\/*/,"/"),u=T.useMemo(()=>({basename:c,navigator:s,static:a,future:Gh({v7_relativeSplatPath:!1},o)}),[c,o,s,a]);typeof r=="string"&&(r=jd(r));let{pathname:f="/",search:h="",hash:m="",state:d=null,key:x="default"}=r,_=T.useMemo(()=>{let w=Vx(f,c);return w==null?null:{location:{pathname:w,search:h,hash:m,state:d,key:x},navigationType:i}},[c,f,h,m,d,x,i]);return _==null?null:T.createElement(Lx.Provider,{value:u},T.createElement(Ud.Provider,{children:n,value:_}))}function Ek(t){let{children:e,location:n}=t;return lk(Hg(e),n)}new Promise(()=>{});function Hg(t,e){e===void 0&&(e=[]);let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;let s=[...e,i];if(r.type===T.Fragment){n.push.apply(n,Hg(r.props.children,s));return}r.type!==qg&&mn(!1),!r.props.index||!r.props.children||mn(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=Hg(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Tk="6";try{window.__reactRouterVersion=Tk}catch{}const Sk="startTransition",Cw=My[Sk];function Ak(t){let{basename:e,children:n,future:r,window:i}=t,s=T.useRef();s.current==null&&(s.current=j4({window:i,v5Compat:!0}));let a=s.current,[o,c]=T.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},f=T.useCallback(h=>{u&&Cw?Cw(()=>c(h)):c(h)},[c,u]);return T.useLayoutEffect(()=>a.listen(f),[a,f]),T.useEffect(()=>bk(r),[r]),T.createElement(wk,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}var Iw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Iw||(Iw={}));var Nw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Nw||(Nw={}));const xk=()=>{};var Ow={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Rk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],o=t[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},Bx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,f=s>>2,h=(s&3)<<4|o>>4;let m=(o&15)<<2|u>>6,d=u&63;c||(d=64,a||(m=64)),r.push(n[f],n[h],n[m],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Rk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||u==null||h==null)throw new Ck;const m=s<<2|o>>4;if(r.push(m),u!==64){const d=o<<4&240|u>>2;if(r.push(d),h!==64){const x=u<<6&192|h;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ck extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ik=function(t){const e=zx(t);return Bx.encodeByteArray(e,!0)},$h=function(t){return Ik(t).replace(/\./g,"")},Fx=function(t){try{return Bx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ok=()=>Nk().__FIREBASE_DEFAULTS__,Dk=()=>{if(typeof process>"u"||typeof Ow>"u")return;const t=Ow.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Mk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Fx(t[1]);return e&&JSON.parse(e)},Bd=()=>{try{return xk()||Ok()||Dk()||Mk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},qx=t=>{var e,n;return(n=(e=Bd())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},Pk=t=>{const e=qx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Hx=()=>{var t;return(t=Bd())==null?void 0:t.config},Gx=t=>{var e;return(e=Bd())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $x(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[$h(JSON.stringify(n)),$h(JSON.stringify(a)),""].join(".")}const Ac={};function Lk(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ac))Ac[e]?t.emulator.push(e):t.prod.push(e);return t}function jk(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Dw=!1;function Kx(t,e){if(typeof window>"u"||typeof document>"u"||!wl(window.location.host)||Ac[t]===e||Ac[t]||Dw)return;Ac[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",s=Lk().prod.length>0;function a(){const m=document.getElementById(r);m&&m.remove()}function o(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,d){m.setAttribute("width","24"),m.setAttribute("id",d),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Dw=!0,a()},m}function f(m,d){m.setAttribute("id",d),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function h(){const m=jk(r),d=n("text"),x=document.getElementById(d)||document.createElement("span"),_=n("learnmore"),w=document.getElementById(_)||document.createElement("a"),y=n("preprendIcon"),b=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const E=m.element;o(E),f(w,_);const I=u();c(b,y),E.append(b,x,w,I),document.body.appendChild(E)}s?(x.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",d)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Uk(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qt())}function zk(){var e;const t=(e=Bd())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Bk(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Fk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function qk(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Hk(){const t=Qt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Gk(){return!zk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $k(){try{return typeof indexedDB=="object"}catch{return!1}}function Kk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk="FirebaseError";class wi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Qk,Object.setPrototypeOf(this,wi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ru.prototype.create)}}class Ru{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?Yk(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new wi(i,o,r)}}function Yk(t,e){return t.replace(Xk,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Xk=/\{\$([^}]+)}/g;function Wk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ea(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(Mw(s)&&Mw(a)){if(!Ea(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Mw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Zk(t,e){const n=new Jk(t,e);return n.subscribe.bind(n)}class Jk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");eL(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=dp),i.error===void 0&&(i.error=dp),i.complete===void 0&&(i.complete=dp);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function dp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(t){return t&&t._delegate?t._delegate:t}class Ta{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Vk;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rL(e))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ws){return this.instances.has(e)}getOptions(e=Ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ws){return this.component?this.component.multipleInstances?e:Ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nL(t){return t===Ws?void 0:t}function rL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ve||(ve={}));const sL={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},aL=ve.INFO,oL={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},lL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=oL[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qv{constructor(e){this.name=e,this._logLevel=aL,this._logHandler=lL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}}const cL=(t,e)=>e.some(n=>t instanceof n);let Pw,Vw;function uL(){return Pw||(Pw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fL(){return Vw||(Vw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Qx=new WeakMap,Gg=new WeakMap,Yx=new WeakMap,mp=new WeakMap,Hv=new WeakMap;function hL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(ys(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&Qx.set(n,t)}).catch(()=>{}),Hv.set(e,t),e}function dL(t){if(Gg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Gg.set(t,e)}let $g={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Gg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Yx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ys(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function mL(t){$g=t($g)}function pL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(pp(this),e,...n);return Yx.set(r,e.sort?e.sort():[e]),ys(r)}:fL().includes(t)?function(...e){return t.apply(pp(this),e),ys(Qx.get(this))}:function(...e){return ys(t.apply(pp(this),e))}}function gL(t){return typeof t=="function"?pL(t):(t instanceof IDBTransaction&&dL(t),cL(t,uL())?new Proxy(t,$g):t)}function ys(t){if(t instanceof IDBRequest)return hL(t);if(mp.has(t))return mp.get(t);const e=gL(t);return e!==t&&(mp.set(t,e),Hv.set(e,t)),e}const pp=t=>Hv.get(t);function yL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=ys(a);return r&&a.addEventListener("upgradeneeded",c=>{r(ys(a.result),c.oldVersion,c.newVersion,ys(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),o.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const vL=["get","getKey","getAll","getAllKeys","count"],_L=["put","add","delete","clear"],gp=new Map;function kw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gp.get(e))return gp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=_L.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||vL.includes(n)))return;const s=async function(a,...o){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),i&&c.done]))[0]};return gp.set(e,s),s}mL(t=>({...t,get:(e,n,r)=>kw(e,n)||t.get(e,n,r),has:(e,n)=>!!kw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function wL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Kg="@firebase/app",Lw="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi=new qv("@firebase/app"),EL="@firebase/app-compat",TL="@firebase/analytics-compat",SL="@firebase/analytics",AL="@firebase/app-check-compat",xL="@firebase/app-check",RL="@firebase/auth",CL="@firebase/auth-compat",IL="@firebase/database",NL="@firebase/data-connect",OL="@firebase/database-compat",DL="@firebase/functions",ML="@firebase/functions-compat",PL="@firebase/installations",VL="@firebase/installations-compat",kL="@firebase/messaging",LL="@firebase/messaging-compat",jL="@firebase/performance",UL="@firebase/performance-compat",zL="@firebase/remote-config",BL="@firebase/remote-config-compat",FL="@firebase/storage",qL="@firebase/storage-compat",HL="@firebase/firestore",GL="@firebase/ai",$L="@firebase/firestore-compat",KL="firebase",QL="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qg="[DEFAULT]",YL={[Kg]:"fire-core",[EL]:"fire-core-compat",[SL]:"fire-analytics",[TL]:"fire-analytics-compat",[xL]:"fire-app-check",[AL]:"fire-app-check-compat",[RL]:"fire-auth",[CL]:"fire-auth-compat",[IL]:"fire-rtdb",[NL]:"fire-data-connect",[OL]:"fire-rtdb-compat",[DL]:"fire-fn",[ML]:"fire-fn-compat",[PL]:"fire-iid",[VL]:"fire-iid-compat",[kL]:"fire-fcm",[LL]:"fire-fcm-compat",[jL]:"fire-perf",[UL]:"fire-perf-compat",[zL]:"fire-rc",[BL]:"fire-rc-compat",[FL]:"fire-gcs",[qL]:"fire-gcs-compat",[HL]:"fire-fst",[$L]:"fire-fst-compat",[GL]:"fire-vertex","fire-js":"fire-js",[KL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh=new Map,XL=new Map,Yg=new Map;function jw(t,e){try{t.container.addComponent(e)}catch(n){mi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function tl(t){const e=t.name;if(Yg.has(e))return mi.debug(`There were multiple attempts to register component ${e}.`),!1;Yg.set(e,t);for(const n of Kh.values())jw(n,t);for(const n of XL.values())jw(n,t);return!0}function Gv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Hn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vs=new Ru("app","Firebase",WL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El=QL;function $v(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Qg,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw vs.create("bad-app-name",{appName:String(i)});if(n||(n=Hx()),!n)throw vs.create("no-options");const s=Kh.get(i);if(s){if(Ea(n,s.options)&&Ea(r,s.config))return s;throw vs.create("duplicate-app",{appName:i})}const a=new iL(i);for(const c of Yg.values())a.addComponent(c);const o=new ZL(n,r,a);return Kh.set(i,o),o}function Xx(t=Qg){const e=Kh.get(t);if(!e&&t===Qg&&Hx())return $v();if(!e)throw vs.create("no-app",{appName:t});return e}function _s(t,e,n){let r=YL[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mi.warn(a.join(" "));return}tl(new Ta(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL="firebase-heartbeat-database",e6=1,Xc="firebase-heartbeat-store";let yp=null;function Wx(){return yp||(yp=yL(JL,e6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Xc)}catch(n){console.warn(n)}}}}).catch(t=>{throw vs.create("idb-open",{originalErrorMessage:t.message})})),yp}async function t6(t){try{const n=(await Wx()).transaction(Xc),r=await n.objectStore(Xc).get(Zx(t));return await n.done,r}catch(e){if(e instanceof wi)mi.warn(e.message);else{const n=vs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});mi.warn(n.message)}}}async function Uw(t,e){try{const r=(await Wx()).transaction(Xc,"readwrite");await r.objectStore(Xc).put(e,Zx(t)),await r.done}catch(n){if(n instanceof wi)mi.warn(n.message);else{const r=vs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});mi.warn(r.message)}}}function Zx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6=1024,r6=30;class i6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new a6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=zw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>r6){const a=o6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){mi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=zw(),{heartbeatsToSend:r,unsentEntries:i}=s6(this._heartbeatsCache.heartbeats),s=$h(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return mi.warn(n),""}}}function zw(){return new Date().toISOString().substring(0,10)}function s6(t,e=n6){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),Bw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Bw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class a6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $k()?Kk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await t6(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Uw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Uw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Bw(t){return $h(JSON.stringify({version:2,heartbeats:t})).length}function o6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l6(t){tl(new Ta("platform-logger",e=>new bL(e),"PRIVATE")),tl(new Ta("heartbeat",e=>new i6(e),"PRIVATE")),_s(Kg,Lw,t),_s(Kg,Lw,"esm2020"),_s("fire-js","")}l6("");var c6="firebase",u6="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_s(c6,u6,"app");function Jx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const f6=Jx,eR=new Ru("auth","Firebase",Jx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh=new qv("@firebase/auth");function h6(t,...e){Qh.logLevel<=ve.WARN&&Qh.warn(`Auth (${El}): ${t}`,...e)}function $f(t,...e){Qh.logLevel<=ve.ERROR&&Qh.error(`Auth (${El}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(t,...e){throw Kv(t,...e)}function Or(t,...e){return Kv(t,...e)}function tR(t,e,n){const r={...f6(),[e]:n};return new Ru("auth","Firebase",r).create(e,{appName:t.name})}function oi(t){return tR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return eR.create(t,...e)}function re(t,e,...n){if(!t)throw Kv(e,...n)}function ri(t){const e="INTERNAL ASSERTION FAILED: "+t;throw $f(e),new Error(e)}function gi(t,e){t||ri(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function d6(){return Fw()==="http:"||Fw()==="https:"}function Fw(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(d6()||Fk()||"connection"in navigator)?navigator.onLine:!0}function p6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n){this.shortDelay=e,this.longDelay=n,gi(n>e,"Short delay should be less than long delay!"),this.isMobile=Uk()||qk()}get(){return m6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(t,e){gi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],v6=new Iu(3e4,6e4);function Nu(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Tl(t,e,n,r,i={}){return rR(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const o=Cu({key:t.config.apiKey,...a}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...s};return Bk()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&wl(t.emulatorConfig.host)&&(u.credentials="include"),nR.fetch()(await iR(t,t.config.apiHost,n,o),u)})}async function rR(t,e,n){t._canInitEmulator=!1;const r={...g6,...e};try{const i=new _6(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw wf(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[c,u]=o.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw wf(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw wf(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw wf(t,"user-disabled",a);const f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw tR(t,f,u);pi(t,f)}}catch(i){if(i instanceof wi)throw i;pi(t,"network-request-failed",{message:String(i)})}}async function Yv(t,e,n,r,i={}){const s=await Tl(t,e,n,r,i);return"mfaPendingCredential"in s&&pi(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function iR(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?Qv(t.config,i):`${t.config.apiScheme}://${i}`;return y6.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}class _6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Or(this.auth,"network-request-failed")),v6.get())})}}function wf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Or(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b6(t,e){return Tl(t,"POST","/v1/accounts:delete",e)}async function Yh(t,e){return Tl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function w6(t,e=!1){const n=Ut(t),r=await n.getIdToken(e),i=Xv(r);re(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:xc(vp(i.auth_time)),issuedAtTime:xc(vp(i.iat)),expirationTime:xc(vp(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function vp(t){return Number(t)*1e3}function Xv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return $f("JWT malformed, contained fewer than 3 sections"),null;try{const i=Fx(n);return i?JSON.parse(i):($f("Failed to decode base64 JWT payload"),null)}catch(i){return $f("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function qw(t){const e=Xv(t);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof wi&&E6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function E6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xc(this.lastLoginAt),this.creationTime=xc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xh(t){var h;const e=t.auth,n=await t.getIdToken(),r=await Wc(t,Yh(e,{idToken:n}));re(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(h=i.providerUserInfo)!=null&&h.length?sR(i.providerUserInfo):[],a=A6(t.providerData,s),o=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=o?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Wg(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,f)}async function S6(t){const e=Ut(t);await Xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function A6(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function sR(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x6(t,e){const n=await rR(t,{},async()=>{const r=Cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await iR(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:o,body:r};return t.emulatorConfig&&wl(t.emulatorConfig.host)&&(c.credentials="include"),nR.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function R6(t,e){return Tl(t,"POST","/v2/accounts:revokeToken",Nu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){re(e.length!==0,"internal-error");const n=qw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await x6(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new Co;return r&&(re(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(re(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(re(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Co,this.toJSON())}_performRefresh(){return ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(t,e){re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ir{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new T6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Wg(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Wc(this,this.stsTokenManager.getToken(this.auth,e));return re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return w6(this,e)}reload(){return S6(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ir({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Xh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hn(this.auth.app))return Promise.reject(oi(this.auth));const e=await this.getIdToken();return await Wc(this,b6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,o=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:h,emailVerified:m,isAnonymous:d,providerData:x,stsTokenManager:_}=n;re(h&&_,e,"internal-error");const w=Co.fromJSON(this.name,_);re(typeof h=="string",e,"internal-error"),Pi(r,e.name),Pi(i,e.name),re(typeof m=="boolean",e,"internal-error"),re(typeof d=="boolean",e,"internal-error"),Pi(s,e.name),Pi(a,e.name),Pi(o,e.name),Pi(c,e.name),Pi(u,e.name),Pi(f,e.name);const y=new ir({uid:h,auth:e,email:i,emailVerified:m,displayName:r,isAnonymous:d,photoURL:a,phoneNumber:s,tenantId:o,stsTokenManager:w,createdAt:u,lastLoginAt:f});return x&&Array.isArray(x)&&(y.providerData=x.map(b=>({...b}))),c&&(y._redirectEventId=c),y}static async _fromIdTokenResponse(e,n,r=!1){const i=new Co;i.updateFromServerResponse(n);const s=new ir({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Xh(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];re(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?sR(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new Co;o.updateFromIdToken(r);const c=new ir({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Wg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=new Map;function ii(t){gi(t instanceof Function,"Expected a class definition");let e=Hw.get(t);return e?(gi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Hw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}aR.type="NONE";const Gw=aR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kf(t,e,n){return`firebase:${t}:${e}:${n}`}class Io{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Kf(this.userKey,i.apiKey,s),this.fullPersistenceKey=Kf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Yh(this.auth,{idToken:e}).catch(()=>{});return n?ir._fromGetAccountInfoResponse(this.auth,n,e):null}return ir._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Io(ii(Gw),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||ii(Gw);const a=Kf(r,e.config.apiKey,e.name);let o=null;for(const u of n)try{const f=await u._get(a);if(f){let h;if(typeof f=="string"){const m=await Yh(e,{idToken:f}).catch(()=>{});if(!m)break;h=await ir._fromGetAccountInfoResponse(e,m,f)}else h=ir._fromJSON(e,f);u!==s&&(o=h),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Io(s,e,r):(s=c[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(a)}catch{}})),new Io(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hR(e))return"Blackberry";if(dR(e))return"Webos";if(lR(e))return"Safari";if((e.includes("chrome/")||cR(e))&&!e.includes("edge/"))return"Chrome";if(fR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function oR(t=Qt()){return/firefox\//i.test(t)}function lR(t=Qt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cR(t=Qt()){return/crios\//i.test(t)}function uR(t=Qt()){return/iemobile/i.test(t)}function fR(t=Qt()){return/android/i.test(t)}function hR(t=Qt()){return/blackberry/i.test(t)}function dR(t=Qt()){return/webos/i.test(t)}function Wv(t=Qt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function C6(t=Qt()){var e;return Wv(t)&&!!((e=window.navigator)!=null&&e.standalone)}function I6(){return Hk()&&document.documentMode===10}function mR(t=Qt()){return Wv(t)||fR(t)||dR(t)||hR(t)||/windows phone/i.test(t)||uR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(t,e=[]){let n;switch(t){case"Browser":n=$w(Qt());break;case"Worker":n=`${$w(Qt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${El}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,o)=>{try{const c=e(s);a(c)}catch(c){o(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O6(t,e={}){return Tl(t,"GET","/v2/passwordPolicy",Nu(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6=6;class M6{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??D6,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kw(this),this.idTokenSubscription=new Kw(this),this.beforeStateQueue=new N6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ii(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Io.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Yh(this,{idToken:e}),r=await ir._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Hn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,o=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===o)&&(c!=null&&c.user)&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Xh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=p6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hn(this.app))return Promise.reject(oi(this));const n=e?Ut(e):null;return n&&re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hn(this.app)?Promise.reject(oi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hn(this.app)?Promise.reject(oi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ii(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await O6(this),n=new M6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ru("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await R6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ii(e)||this._popupRedirectResolver;re(n,this,"argument-error"),this.redirectPersistenceManager=await Io.create(this,[ii(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Hn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&h6(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ou(t){return Ut(t)}class Kw{constructor(e){this.auth=e,this.observer=null,this.addObserver=Zk(n=>this.observer=n)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function V6(t){Zv=t}function k6(t){return Zv.loadJS(t)}function L6(){return Zv.gapiScript}function j6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U6(t,e){const n=Gv(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ea(s,e??{}))return i;pi(i,"already-initialized")}return n.initialize({options:e})}function z6(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ii);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function B6(t,e,n){const r=Ou(t);re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=gR(e),{host:a,port:o}=F6(e),c=o===null?"":`:${o}`,u={url:`${s}//${a}${c}/`},f=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),re(Ea(u,r.config.emulator)&&Ea(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,wl(a)?($x(`${s}//${a}${c}`),Kx("Auth",!0)):q6()}function gR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function F6(t){const e=gR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Qw(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:Qw(a)}}}function Qw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function q6(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ri("not implemented")}_getIdTokenResponse(e){return ri("not implemented")}_linkToIdToken(e,n){return ri("not implemented")}_getReauthenticationResolver(e){return ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(t,e){return Yv(t,"POST","/v1/accounts:signInWithIdp",Nu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6="http://localhost";class Sa extends yR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Sa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):pi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const a=new Sa(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return No(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,No(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,No(e,n)}buildRequest(){const e={requestUri:H6,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Cu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends vR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Du{constructor(){super("facebook.com")}static credential(e){return Sa._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ki.credential(e.oauthAccessToken)}catch{return null}}}Ki.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ki.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends Du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Sa._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Qi.credential(n,r)}catch{return null}}}Qi.GOOGLE_SIGN_IN_METHOD="google.com";Qi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends Du{constructor(){super("github.com")}static credential(e){return Sa._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yi.credential(e.oauthAccessToken)}catch{return null}}}Yi.GITHUB_SIGN_IN_METHOD="github.com";Yi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends Du{constructor(){super("twitter.com")}static credential(e,n){return Sa._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Xi.credential(n,r)}catch{return null}}}Xi.TWITTER_SIGN_IN_METHOD="twitter.com";Xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G6(t,e){return Yv(t,"POST","/v1/accounts:signUp",Nu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ir._fromIdTokenResponse(e,r,i),a=Yw(r);return new yi({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Yw(r);return new yi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Yw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xw(t){var i;if(Hn(t.app))return Promise.reject(oi(t));const e=Ou(t);if(await e._initializationPromise,(i=e.currentUser)!=null&&i.isAnonymous)return new yi({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await G6(e,{returnSecureToken:!0}),r=await yi._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh extends wi{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Wh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Wh(e,n,r,i)}}function _R(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Wh._fromErrorAndOperation(t,s,e,r):s})}async function $6(t,e,n=!1){const r=await Wc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return yi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K6(t,e,n=!1){const{auth:r}=t;if(Hn(r.app))return Promise.reject(oi(r));const i="reauthenticate";try{const s=await Wc(t,_R(r,i,e,t),n);re(s.idToken,r,"internal-error");const a=Xv(s.idToken);re(a,r,"internal-error");const{sub:o}=a;return re(t.uid===o,r,"user-mismatch"),yi._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&pi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q6(t,e,n=!1){if(Hn(t.app))return Promise.reject(oi(t));const r="signIn",i=await _R(t,r,e),s=await yi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y6(t,e){return Yv(t,"POST","/v1/accounts:signInWithCustomToken",Nu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X6(t,e){if(Hn(t.app))return Promise.reject(oi(t));const n=Ou(t),r=await Y6(n,{token:e,returnSecureToken:!0}),i=await yi._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}function W6(t,e,n,r){return Ut(t).onIdTokenChanged(e,n,r)}function Z6(t,e,n){return Ut(t).beforeAuthStateChanged(e,n)}function J6(t,e,n,r){return Ut(t).onAuthStateChanged(e,n,r)}const Zh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zh,"1"),this.storage.removeItem(Zh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3=1e3,t3=10;class wR extends bR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);I6()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,t3):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}wR.type="LOCAL";const n3=wR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER extends bR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ER.type="SESSION";const TR=ER;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Fd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async u=>u(n.origin,s)),c=await r3(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,c)=>{const u=Jv("",20);i.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(h){const m=h;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(m.data.response);break;default:clearTimeout(f),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(){return window}function s3(t){Dr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(){return typeof Dr().WorkerGlobalScope<"u"&&typeof Dr().importScripts=="function"}async function a3(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function o3(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function l3(){return SR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR="firebaseLocalStorageDb",c3=1,Jh="firebaseLocalStorage",xR="fbase_key";class Mu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qd(t,e){return t.transaction([Jh],e?"readwrite":"readonly").objectStore(Jh)}function u3(){const t=indexedDB.deleteDatabase(AR);return new Mu(t).toPromise()}function Zg(){const t=indexedDB.open(AR,c3);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Jh,{keyPath:xR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Jh)?e(r):(r.close(),await u3(),e(await Zg()))})})}async function Ww(t,e,n){const r=qd(t,!0).put({[xR]:e,value:n});return new Mu(r).toPromise()}async function f3(t,e){const n=qd(t,!1).get(e),r=await new Mu(n).toPromise();return r===void 0?null:r.value}function Zw(t,e){const n=qd(t,!0).delete(e);return new Mu(n).toPromise()}const h3=800,d3=3;class RR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>d3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return SR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fd._getInstance(l3()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await a3(),!this.activeServiceWorker)return;this.sender=new i3(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||o3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zg();return await Ww(e,Zh,"1"),await Zw(e,Zh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ww(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>f3(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Zw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=qd(i,!1).getAll();return new Mu(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),h3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}RR.type="LOCAL";const m3=RR;new Iu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p3(t,e){return e?ii(e):(re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_ extends yR{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return No(e,this._buildIdpRequest())}_linkToIdToken(e,n){return No(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return No(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function g3(t){return Q6(t.auth,new e_(t),t.bypassAuthState)}function y3(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),K6(n,new e_(t),t.bypassAuthState)}async function v3(t){const{auth:e,user:n}=t;return re(n,e,"internal-error"),$6(n,new e_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return g3;case"linkViaPopup":case"linkViaRedirect":return v3;case"reauthViaPopup":case"reauthViaRedirect":return y3;default:pi(this.auth,"internal-error")}}resolve(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _3=new Iu(2e3,1e4);class mo extends CR{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,mo.currentPopupAction&&mo.currentPopupAction.cancel(),mo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return re(e,this.auth,"internal-error"),e}async onExecution(){gi(this.filter.length===1,"Popup operations only handle one event");const e=Jv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Or(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Or(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Or(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_3.get())};e()}}mo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3="pendingRedirect",Qf=new Map;class w3 extends CR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Qf.get(this.auth._key());if(!e){try{const r=await E3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Qf.set(this.auth._key(),e)}return this.bypassAuthState||Qf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function E3(t,e){const n=A3(e),r=S3(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function T3(t,e){Qf.set(t._key(),e)}function S3(t){return ii(t._redirectPersistence)}function A3(t){return Kf(b3,t.config.apiKey,t.name)}async function x3(t,e,n=!1){if(Hn(t.app))return Promise.reject(oi(t));const r=Ou(t),i=p3(r,e),a=await new w3(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R3=10*60*1e3;class C3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!I3(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!IR(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Or(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=R3&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jw(e))}saveEventToCache(e){this.cachedEventUids.add(Jw(e)),this.lastProcessedEventTime=Date.now()}}function Jw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function IR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function I3(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N3(t,e={}){return Tl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,D3=/^https?/;async function M3(t){if(t.config.emulator)return;const{authorizedDomains:e}=await N3(t);for(const n of e)try{if(P3(n))return}catch{}pi(t,"unauthorized-domain")}function P3(t){const e=Xg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!D3.test(n))return!1;if(O3.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3=new Iu(3e4,6e4);function eE(){const t=Dr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function k3(t){return new Promise((e,n)=>{var i,s,a;function r(){eE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{eE(),n(Or(t,"network-request-failed"))},timeout:V3.get()})}if((s=(i=Dr().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((a=Dr().gapi)!=null&&a.load)r();else{const o=j6("iframefcb");return Dr()[o]=()=>{gapi.load?r():n(Or(t,"network-request-failed"))},k6(`${L6()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw Yf=null,e})}let Yf=null;function L3(t){return Yf=Yf||k3(t),Yf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3=new Iu(5e3,15e3),U3="__/auth/iframe",z3="emulator/auth/iframe",B3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},F3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function q3(t){const e=t.config;re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Qv(e,z3):`https://${t.config.authDomain}/${U3}`,r={apiKey:e.apiKey,appName:t.name,v:El},i=F3.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Cu(r).slice(1)}`}async function H3(t){const e=await L3(t),n=Dr().gapi;return re(n,t,"internal-error"),e.open({where:document.body,url:q3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:B3,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Or(t,"network-request-failed"),o=Dr().setTimeout(()=>{s(a)},j3.get());function c(){Dr().clearTimeout(o),i(r)}r.ping(c).then(c,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$3=500,K3=600,Q3="_blank",Y3="http://localhost";class tE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function X3(t,e,n,r=$3,i=K3){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const c={...G3,width:r.toString(),height:i.toString(),top:s,left:a},u=Qt().toLowerCase();n&&(o=cR(u)?Q3:n),oR(u)&&(e=e||Y3,c.scrollbars="yes");const f=Object.entries(c).reduce((m,[d,x])=>`${m}${d}=${x},`,"");if(C6(u)&&o!=="_self")return W3(e||"",o),new tE(null);const h=window.open(e||"",o,f);re(h,t,"popup-blocked");try{h.focus()}catch{}return new tE(h)}function W3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3="__/auth/handler",J3="emulator/auth/handler",ej=encodeURIComponent("fac");async function nE(t,e,n,r,i,s){re(t.config.authDomain,t,"auth-domain-config-required"),re(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:El,eventId:i};if(e instanceof vR){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",Wk(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries({}))a[f]=h}if(e instanceof Du){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const f of Object.keys(o))o[f]===void 0&&delete o[f];const c=await t._getAppCheckToken(),u=c?`#${ej}=${encodeURIComponent(c)}`:"";return`${tj(t)}?${Cu(o).slice(1)}${u}`}function tj({config:t}){return t.emulator?Qv(t,J3):`https://${t.authDomain}/${Z3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p="webStorageSupport";class nj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=TR,this._completeRedirectFn=x3,this._overrideRedirectResult=T3}async _openPopup(e,n,r,i){var a;gi((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await nE(e,n,r,Xg(),i);return X3(e,s,Jv())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await nE(e,n,r,Xg(),i);return s3(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(gi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await H3(e),r=new C3(e);return n.register("authEvent",i=>(re(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(_p,{type:_p},i=>{var a;const s=(a=i==null?void 0:i[0])==null?void 0:a[_p];s!==void 0&&n(!!s),pi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=M3(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mR()||lR()||Wv()}}const rj=nj;var rE="@firebase/auth",iE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aj(t){tl(new Ta("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;re(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pR(t)},u=new P6(r,i,s,c);return z6(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),tl(new Ta("auth-internal",e=>{const n=Ou(e.getProvider("auth").getImmediate());return(r=>new ij(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_s(rE,iE,sj(t)),_s(rE,iE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oj=5*60,lj=Gx("authIdTokenMaxAge")||oj;let sE=null;const cj=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>lj)return;const i=n==null?void 0:n.token;sE!==i&&(sE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function uj(t=Xx()){const e=Gv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=U6(t,{popupRedirectResolver:rj,persistence:[m3,n3,TR]}),r=Gx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=cj(s.toString());Z6(n,a,()=>a(n.currentUser)),W6(n,o=>a(o))}}const i=qx("auth");return i&&B6(n,`http://${i}`),n}function fj(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}V6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Or("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",fj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aj("Browser");let bp=null,aE=null;const oE=()=>(!bp&&window.__firebase_config&&(bp=$v(window.__firebase_config),aE=uj(bp)),aE),hj=()=>{const[t,e]=T.useState(null),[n,r]=T.useState(!0),[i,s]=T.useState(null);T.useEffect(()=>{console.log("Starting Firebase Auth initialization...");const c=setTimeout(()=>{console.warn("Auth check timed out after 5 seconds"),r(!1),t||(console.log("Auto-signing in anonymously after timeout"),a())},5e3),u=()=>{if(!window.__firebase_config){setTimeout(()=>{if(!window.__firebase_config){console.log("No Firebase config found, using demo mode"),clearTimeout(c),e({uid:"demo-user-"+Date.now(),isAnonymous:!0,email:null,displayName:"Demo User"}),r(!1);return}},2e3),setTimeout(u,100);return}const f=oE();if(!f){console.error("Firebase Auth initialization failed, using demo mode"),clearTimeout(c),e({uid:"demo-user-"+Date.now(),isAnonymous:!0,email:null,displayName:"Demo User"}),r(!1);return}console.log("Firebase Auth initialized, setting up listener...");const h=J6(f,d=>{clearTimeout(c),console.log("Auth state changed:",d?`User signed in: ${d.uid}`:"No user"),e(d),r(!1),s(null)},d=>{clearTimeout(c),console.error("Auth state change error:",d),e({uid:"demo-user-"+Date.now(),isAnonymous:!0,email:null,displayName:"Demo User"}),r(!1)});return(async()=>{try{window.__initial_auth_token?(console.log("Attempting sign-in with custom token..."),await X6(f,window.__initial_auth_token)):(console.log("Attempting anonymous sign-in..."),await Xw(f))}catch(d){console.error("Auto sign-in error:",d),clearTimeout(c),e({uid:"demo-user-"+Date.now(),isAnonymous:!0,email:null,displayName:"Demo User"}),r(!1)}})(),()=>{console.log("Cleaning up auth listener"),clearTimeout(c),h()}};u()},[]);const a=async()=>{try{console.log("Manual anonymous sign-in attempt..."),r(!0),s(null);const c=oE();if(!c)throw new Error("Firebase Auth not initialized");const u=await Xw(c);return console.log("Manual anonymous sign-in successful:",u.user.uid),u.user}catch(c){console.error("Manual anonymous sign-in error:",c),e({uid:"demo-user-"+Date.now(),isAnonymous:!0,email:null,displayName:"Demo User"}),r(!1)}};return{user:t,loading:n,error:i,signInAnonymous:a,forceSkipAuth:()=>{console.log("Forcing skip of authentication - demo mode"),r(!1),s(null),e({uid:"demo-user-"+Date.now(),isAnonymous:!0,email:null,displayName:"Demo User"})}}};var lE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bs,NR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,S){function R(){}R.prototype=S.prototype,A.F=S.prototype,A.prototype=new R,A.prototype.constructor=A,A.D=function(N,M,O){for(var D=Array(arguments.length-2),W=2;W<arguments.length;W++)D[W-2]=arguments[W];return S.prototype[M].apply(N,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,S,R){R||(R=0);const N=Array(16);if(typeof S=="string")for(var M=0;M<16;++M)N[M]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(M=0;M<16;++M)N[M]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=A.g[0],R=A.g[1],M=A.g[2];let O=A.g[3],D;D=S+(O^R&(M^O))+N[0]+3614090360&4294967295,S=R+(D<<7&4294967295|D>>>25),D=O+(M^S&(R^M))+N[1]+3905402710&4294967295,O=S+(D<<12&4294967295|D>>>20),D=M+(R^O&(S^R))+N[2]+606105819&4294967295,M=O+(D<<17&4294967295|D>>>15),D=R+(S^M&(O^S))+N[3]+3250441966&4294967295,R=M+(D<<22&4294967295|D>>>10),D=S+(O^R&(M^O))+N[4]+4118548399&4294967295,S=R+(D<<7&4294967295|D>>>25),D=O+(M^S&(R^M))+N[5]+1200080426&4294967295,O=S+(D<<12&4294967295|D>>>20),D=M+(R^O&(S^R))+N[6]+2821735955&4294967295,M=O+(D<<17&4294967295|D>>>15),D=R+(S^M&(O^S))+N[7]+4249261313&4294967295,R=M+(D<<22&4294967295|D>>>10),D=S+(O^R&(M^O))+N[8]+1770035416&4294967295,S=R+(D<<7&4294967295|D>>>25),D=O+(M^S&(R^M))+N[9]+2336552879&4294967295,O=S+(D<<12&4294967295|D>>>20),D=M+(R^O&(S^R))+N[10]+4294925233&4294967295,M=O+(D<<17&4294967295|D>>>15),D=R+(S^M&(O^S))+N[11]+2304563134&4294967295,R=M+(D<<22&4294967295|D>>>10),D=S+(O^R&(M^O))+N[12]+1804603682&4294967295,S=R+(D<<7&4294967295|D>>>25),D=O+(M^S&(R^M))+N[13]+4254626195&4294967295,O=S+(D<<12&4294967295|D>>>20),D=M+(R^O&(S^R))+N[14]+2792965006&4294967295,M=O+(D<<17&4294967295|D>>>15),D=R+(S^M&(O^S))+N[15]+1236535329&4294967295,R=M+(D<<22&4294967295|D>>>10),D=S+(M^O&(R^M))+N[1]+4129170786&4294967295,S=R+(D<<5&4294967295|D>>>27),D=O+(R^M&(S^R))+N[6]+3225465664&4294967295,O=S+(D<<9&4294967295|D>>>23),D=M+(S^R&(O^S))+N[11]+643717713&4294967295,M=O+(D<<14&4294967295|D>>>18),D=R+(O^S&(M^O))+N[0]+3921069994&4294967295,R=M+(D<<20&4294967295|D>>>12),D=S+(M^O&(R^M))+N[5]+3593408605&4294967295,S=R+(D<<5&4294967295|D>>>27),D=O+(R^M&(S^R))+N[10]+38016083&4294967295,O=S+(D<<9&4294967295|D>>>23),D=M+(S^R&(O^S))+N[15]+3634488961&4294967295,M=O+(D<<14&4294967295|D>>>18),D=R+(O^S&(M^O))+N[4]+3889429448&4294967295,R=M+(D<<20&4294967295|D>>>12),D=S+(M^O&(R^M))+N[9]+568446438&4294967295,S=R+(D<<5&4294967295|D>>>27),D=O+(R^M&(S^R))+N[14]+3275163606&4294967295,O=S+(D<<9&4294967295|D>>>23),D=M+(S^R&(O^S))+N[3]+4107603335&4294967295,M=O+(D<<14&4294967295|D>>>18),D=R+(O^S&(M^O))+N[8]+1163531501&4294967295,R=M+(D<<20&4294967295|D>>>12),D=S+(M^O&(R^M))+N[13]+2850285829&4294967295,S=R+(D<<5&4294967295|D>>>27),D=O+(R^M&(S^R))+N[2]+4243563512&4294967295,O=S+(D<<9&4294967295|D>>>23),D=M+(S^R&(O^S))+N[7]+1735328473&4294967295,M=O+(D<<14&4294967295|D>>>18),D=R+(O^S&(M^O))+N[12]+2368359562&4294967295,R=M+(D<<20&4294967295|D>>>12),D=S+(R^M^O)+N[5]+4294588738&4294967295,S=R+(D<<4&4294967295|D>>>28),D=O+(S^R^M)+N[8]+2272392833&4294967295,O=S+(D<<11&4294967295|D>>>21),D=M+(O^S^R)+N[11]+1839030562&4294967295,M=O+(D<<16&4294967295|D>>>16),D=R+(M^O^S)+N[14]+4259657740&4294967295,R=M+(D<<23&4294967295|D>>>9),D=S+(R^M^O)+N[1]+2763975236&4294967295,S=R+(D<<4&4294967295|D>>>28),D=O+(S^R^M)+N[4]+1272893353&4294967295,O=S+(D<<11&4294967295|D>>>21),D=M+(O^S^R)+N[7]+4139469664&4294967295,M=O+(D<<16&4294967295|D>>>16),D=R+(M^O^S)+N[10]+3200236656&4294967295,R=M+(D<<23&4294967295|D>>>9),D=S+(R^M^O)+N[13]+681279174&4294967295,S=R+(D<<4&4294967295|D>>>28),D=O+(S^R^M)+N[0]+3936430074&4294967295,O=S+(D<<11&4294967295|D>>>21),D=M+(O^S^R)+N[3]+3572445317&4294967295,M=O+(D<<16&4294967295|D>>>16),D=R+(M^O^S)+N[6]+76029189&4294967295,R=M+(D<<23&4294967295|D>>>9),D=S+(R^M^O)+N[9]+3654602809&4294967295,S=R+(D<<4&4294967295|D>>>28),D=O+(S^R^M)+N[12]+3873151461&4294967295,O=S+(D<<11&4294967295|D>>>21),D=M+(O^S^R)+N[15]+530742520&4294967295,M=O+(D<<16&4294967295|D>>>16),D=R+(M^O^S)+N[2]+3299628645&4294967295,R=M+(D<<23&4294967295|D>>>9),D=S+(M^(R|~O))+N[0]+4096336452&4294967295,S=R+(D<<6&4294967295|D>>>26),D=O+(R^(S|~M))+N[7]+1126891415&4294967295,O=S+(D<<10&4294967295|D>>>22),D=M+(S^(O|~R))+N[14]+2878612391&4294967295,M=O+(D<<15&4294967295|D>>>17),D=R+(O^(M|~S))+N[5]+4237533241&4294967295,R=M+(D<<21&4294967295|D>>>11),D=S+(M^(R|~O))+N[12]+1700485571&4294967295,S=R+(D<<6&4294967295|D>>>26),D=O+(R^(S|~M))+N[3]+2399980690&4294967295,O=S+(D<<10&4294967295|D>>>22),D=M+(S^(O|~R))+N[10]+4293915773&4294967295,M=O+(D<<15&4294967295|D>>>17),D=R+(O^(M|~S))+N[1]+2240044497&4294967295,R=M+(D<<21&4294967295|D>>>11),D=S+(M^(R|~O))+N[8]+1873313359&4294967295,S=R+(D<<6&4294967295|D>>>26),D=O+(R^(S|~M))+N[15]+4264355552&4294967295,O=S+(D<<10&4294967295|D>>>22),D=M+(S^(O|~R))+N[6]+2734768916&4294967295,M=O+(D<<15&4294967295|D>>>17),D=R+(O^(M|~S))+N[13]+1309151649&4294967295,R=M+(D<<21&4294967295|D>>>11),D=S+(M^(R|~O))+N[4]+4149444226&4294967295,S=R+(D<<6&4294967295|D>>>26),D=O+(R^(S|~M))+N[11]+3174756917&4294967295,O=S+(D<<10&4294967295|D>>>22),D=M+(S^(O|~R))+N[2]+718787259&4294967295,M=O+(D<<15&4294967295|D>>>17),D=R+(O^(M|~S))+N[9]+3951481745&4294967295,A.g[0]=A.g[0]+S&4294967295,A.g[1]=A.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,A.g[2]=A.g[2]+M&4294967295,A.g[3]=A.g[3]+O&4294967295}r.prototype.v=function(A,S){S===void 0&&(S=A.length);const R=S-this.blockSize,N=this.C;let M=this.h,O=0;for(;O<S;){if(M==0)for(;O<=R;)i(this,A,O),O+=this.blockSize;if(typeof A=="string"){for(;O<S;)if(N[M++]=A.charCodeAt(O++),M==this.blockSize){i(this,N),M=0;break}}else for(;O<S;)if(N[M++]=A[O++],M==this.blockSize){i(this,N),M=0;break}}this.h=M,this.o+=S},r.prototype.A=function(){var A=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);A[0]=128;for(var S=1;S<A.length-8;++S)A[S]=0;S=this.o*8;for(var R=A.length-8;R<A.length;++R)A[R]=S&255,S/=256;for(this.v(A),A=Array(16),S=0,R=0;R<4;++R)for(let N=0;N<32;N+=8)A[S++]=this.g[R]>>>N&255;return A};function s(A,S){var R=o;return Object.prototype.hasOwnProperty.call(R,A)?R[A]:R[A]=S(A)}function a(A,S){this.h=S;const R=[];let N=!0;for(let M=A.length-1;M>=0;M--){const O=A[M]|0;N&&O==S||(R[M]=O,N=!1)}this.g=R}var o={};function c(A){return-128<=A&&A<128?s(A,function(S){return new a([S|0],S<0?-1:0)}):new a([A|0],A<0?-1:0)}function u(A){if(isNaN(A)||!isFinite(A))return h;if(A<0)return w(u(-A));const S=[];let R=1;for(let N=0;A>=R;N++)S[N]=A/R|0,R*=4294967296;return new a(S,0)}function f(A,S){if(A.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(A.charAt(0)=="-")return w(f(A.substring(1),S));if(A.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=u(Math.pow(S,8));let N=h;for(let O=0;O<A.length;O+=8){var M=Math.min(8,A.length-O);const D=parseInt(A.substring(O,O+M),S);M<8?(M=u(Math.pow(S,M)),N=N.j(M).add(u(D))):(N=N.j(R),N=N.add(u(D)))}return N}var h=c(0),m=c(1),d=c(16777216);t=a.prototype,t.m=function(){if(_(this))return-w(this).m();let A=0,S=1;for(let R=0;R<this.g.length;R++){const N=this.i(R);A+=(N>=0?N:4294967296+N)*S,S*=4294967296}return A},t.toString=function(A){if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(x(this))return"0";if(_(this))return"-"+w(this).toString(A);const S=u(Math.pow(A,6));var R=this;let N="";for(;;){const M=I(R,S).g;R=y(R,M.j(S));let O=((R.g.length>0?R.g[0]:R.h)>>>0).toString(A);if(R=M,x(R))return O+N;for(;O.length<6;)O="0"+O;N=O+N}},t.i=function(A){return A<0?0:A<this.g.length?this.g[A]:this.h};function x(A){if(A.h!=0)return!1;for(let S=0;S<A.g.length;S++)if(A.g[S]!=0)return!1;return!0}function _(A){return A.h==-1}t.l=function(A){return A=y(this,A),_(A)?-1:x(A)?0:1};function w(A){const S=A.g.length,R=[];for(let N=0;N<S;N++)R[N]=~A.g[N];return new a(R,~A.h).add(m)}t.abs=function(){return _(this)?w(this):this},t.add=function(A){const S=Math.max(this.g.length,A.g.length),R=[];let N=0;for(let M=0;M<=S;M++){let O=N+(this.i(M)&65535)+(A.i(M)&65535),D=(O>>>16)+(this.i(M)>>>16)+(A.i(M)>>>16);N=D>>>16,O&=65535,D&=65535,R[M]=D<<16|O}return new a(R,R[R.length-1]&-2147483648?-1:0)};function y(A,S){return A.add(w(S))}t.j=function(A){if(x(this)||x(A))return h;if(_(this))return _(A)?w(this).j(w(A)):w(w(this).j(A));if(_(A))return w(this.j(w(A)));if(this.l(d)<0&&A.l(d)<0)return u(this.m()*A.m());const S=this.g.length+A.g.length,R=[];for(var N=0;N<2*S;N++)R[N]=0;for(N=0;N<this.g.length;N++)for(let M=0;M<A.g.length;M++){const O=this.i(N)>>>16,D=this.i(N)&65535,W=A.i(M)>>>16,se=A.i(M)&65535;R[2*N+2*M]+=D*se,b(R,2*N+2*M),R[2*N+2*M+1]+=O*se,b(R,2*N+2*M+1),R[2*N+2*M+1]+=D*W,b(R,2*N+2*M+1),R[2*N+2*M+2]+=O*W,b(R,2*N+2*M+2)}for(A=0;A<S;A++)R[A]=R[2*A+1]<<16|R[2*A];for(A=S;A<2*S;A++)R[A]=0;return new a(R,0)};function b(A,S){for(;(A[S]&65535)!=A[S];)A[S+1]+=A[S]>>>16,A[S]&=65535,S++}function E(A,S){this.g=A,this.h=S}function I(A,S){if(x(S))throw Error("division by zero");if(x(A))return new E(h,h);if(_(A))return S=I(w(A),S),new E(w(S.g),w(S.h));if(_(S))return S=I(A,w(S)),new E(w(S.g),S.h);if(A.g.length>30){if(_(A)||_(S))throw Error("slowDivide_ only works with positive integers.");for(var R=m,N=S;N.l(A)<=0;)R=P(R),N=P(N);var M=k(R,1),O=k(N,1);for(N=k(N,2),R=k(R,2);!x(N);){var D=O.add(N);D.l(A)<=0&&(M=M.add(R),O=D),N=k(N,1),R=k(R,1)}return S=y(A,M.j(S)),new E(M,S)}for(M=h;A.l(S)>=0;){for(R=Math.max(1,Math.floor(A.m()/S.m())),N=Math.ceil(Math.log(R)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),O=u(R),D=O.j(S);_(D)||D.l(A)>0;)R-=N,O=u(R),D=O.j(S);x(O)&&(O=m),M=M.add(O),A=y(A,D)}return new E(M,A)}t.B=function(A){return I(this,A).h},t.and=function(A){const S=Math.max(this.g.length,A.g.length),R=[];for(let N=0;N<S;N++)R[N]=this.i(N)&A.i(N);return new a(R,this.h&A.h)},t.or=function(A){const S=Math.max(this.g.length,A.g.length),R=[];for(let N=0;N<S;N++)R[N]=this.i(N)|A.i(N);return new a(R,this.h|A.h)},t.xor=function(A){const S=Math.max(this.g.length,A.g.length),R=[];for(let N=0;N<S;N++)R[N]=this.i(N)^A.i(N);return new a(R,this.h^A.h)};function P(A){const S=A.g.length+1,R=[];for(let N=0;N<S;N++)R[N]=A.i(N)<<1|A.i(N-1)>>>31;return new a(R,A.h)}function k(A,S){const R=S>>5;S%=32;const N=A.g.length-R,M=[];for(let O=0;O<N;O++)M[O]=S>0?A.i(O+R)>>>S|A.i(O+R+1)<<32-S:A.i(O+R);return new a(M,A.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,NR=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=f,bs=a}).apply(typeof lE<"u"?lE:typeof self<"u"?self:typeof window<"u"?window:{});var Ef=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var OR,sc,DR,Xf,Jg,MR,PR,VR;(function(){var t,e=Object.defineProperty;function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ef=="object"&&Ef];for(var p=0;p<l.length;++p){var v=l[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function i(l,p){if(p)e:{var v=r;l=l.split(".");for(var C=0;C<l.length-1;C++){var V=l[C];if(!(V in v))break e;v=v[V]}l=l[l.length-1],C=v[l],p=p(C),p!=C&&p!=null&&e(v,l,{configurable:!0,writable:!0,value:p})}}i("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(l){return l||function(p){var v=[],C;for(C in p)Object.prototype.hasOwnProperty.call(p,C)&&v.push([C,p[C]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function o(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function c(l,p,v){return l.call.apply(l.bind,arguments)}function u(l,p,v){return u=c,u.apply(null,arguments)}function f(l,p){var v=Array.prototype.slice.call(arguments,1);return function(){var C=v.slice();return C.push.apply(C,arguments),l.apply(this,C)}}function h(l,p){function v(){}v.prototype=p.prototype,l.Z=p.prototype,l.prototype=new v,l.prototype.constructor=l,l.Ob=function(C,V,L){for(var K=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)K[fe-2]=arguments[fe];return p.prototype[V].apply(C,K)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function d(l){const p=l.length;if(p>0){const v=Array(p);for(let C=0;C<p;C++)v[C]=l[C];return v}return[]}function x(l,p){for(let C=1;C<arguments.length;C++){const V=arguments[C];var v=typeof V;if(v=v!="object"?v:V?Array.isArray(V)?"array":v:"null",v=="array"||v=="object"&&typeof V.length=="number"){v=l.length||0;const L=V.length||0;l.length=v+L;for(let K=0;K<L;K++)l[v+K]=V[K]}else l.push(V)}}class _{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function w(l){a.setTimeout(()=>{throw l},0)}function y(){var l=A;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class b{constructor(){this.h=this.g=null}add(p,v){const C=E.get();C.set(p,v),this.h?this.h.next=C:this.g=C,this.h=C}}var E=new _(()=>new I,l=>l.reset());class I{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let P,k=!1,A=new b,S=()=>{const l=Promise.resolve(void 0);P=()=>{l.then(R)}};function R(){for(var l;l=y();){try{l.h.call(l.g)}catch(v){w(v)}var p=E;p.j(l),p.h<100&&(p.h++,l.next=p.g,p.g=l)}k=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const v=()=>{};a.addEventListener("test",v,p),a.removeEventListener("test",v,p)}catch{}return l}();function D(l){return/^[\s\xa0]*$/.test(l)}function W(l,p){M.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,p)}h(W,M),W.prototype.init=function(l,p){const v=this.type=l.type,C=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget,p||(v=="mouseover"?p=l.fromElement:v=="mouseout"&&(p=l.toElement)),this.relatedTarget=p,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&W.Z.h.call(this)},W.prototype.h=function(){W.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var se="closure_listenable_"+(Math.random()*1e6|0),j=0;function $(l,p,v,C,V){this.listener=l,this.proxy=null,this.src=p,this.type=v,this.capture=!!C,this.ha=V,this.key=++j,this.da=this.fa=!1}function q(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function H(l,p,v){for(const C in l)p.call(v,l[C],C,l)}function J(l,p){for(const v in l)p.call(void 0,l[v],v,l)}function Ce(l){const p={};for(const v in l)p[v]=l[v];return p}const ce="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function me(l,p){let v,C;for(let V=1;V<arguments.length;V++){C=arguments[V];for(v in C)l[v]=C[v];for(let L=0;L<ce.length;L++)v=ce[L],Object.prototype.hasOwnProperty.call(C,v)&&(l[v]=C[v])}}function ae(l){this.src=l,this.g={},this.h=0}ae.prototype.add=function(l,p,v,C,V){const L=l.toString();l=this.g[L],l||(l=this.g[L]=[],this.h++);const K=St(l,p,C,V);return K>-1?(p=l[K],v||(p.fa=!1)):(p=new $(p,this.src,L,!!C,V),p.fa=v,l.push(p)),p};function Oe(l,p){const v=p.type;if(v in l.g){var C=l.g[v],V=Array.prototype.indexOf.call(C,p,void 0),L;(L=V>=0)&&Array.prototype.splice.call(C,V,1),L&&(q(p),l.g[v].length==0&&(delete l.g[v],l.h--))}}function St(l,p,v,C){for(let V=0;V<l.length;++V){const L=l[V];if(!L.da&&L.listener==p&&L.capture==!!v&&L.ha==C)return V}return-1}var Q="closure_lm_"+(Math.random()*1e6|0),xe={};function Ge(l,p,v,C,V){if(Array.isArray(p)){for(let L=0;L<p.length;L++)Ge(l,p[L],v,C,V);return null}return v=Ei(v),l&&l[se]?l.J(p,v,o(C)?!!C.capture:!1,V):Re(l,p,v,!1,C,V)}function Re(l,p,v,C,V,L){if(!p)throw Error("Invalid event type");const K=o(V)?!!V.capture:!!V;let fe=Vn(l);if(fe||(l[Q]=fe=new ae(l)),v=fe.add(p,v,C,K,L),v.proxy)return v;if(C=ye(),v.proxy=C,C.src=l,C.listener=v,l.addEventListener)O||(V=K),V===void 0&&(V=!1),l.addEventListener(p.toString(),C,V);else if(l.attachEvent)l.attachEvent(Yt(p.toString()),C);else if(l.addListener&&l.removeListener)l.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ye(){function l(v){return p.call(l.src,l.listener,v)}const p=Fr;return l}function we(l,p,v,C,V){if(Array.isArray(p))for(var L=0;L<p.length;L++)we(l,p[L],v,C,V);else C=o(C)?!!C.capture:!!C,v=Ei(v),l&&l[se]?(l=l.i,L=String(p).toString(),L in l.g&&(p=l.g[L],v=St(p,v,C,V),v>-1&&(q(p[v]),Array.prototype.splice.call(p,v,1),p.length==0&&(delete l.g[L],l.h--)))):l&&(l=Vn(l))&&(p=l.g[p.toString()],l=-1,p&&(l=St(p,v,C,V)),(v=l>-1?p[l]:null)&&ft(v))}function ft(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[se])Oe(p.i,l);else{var v=l.type,C=l.proxy;p.removeEventListener?p.removeEventListener(v,C,l.capture):p.detachEvent?p.detachEvent(Yt(v),C):p.addListener&&p.removeListener&&p.removeListener(C),(v=Vn(p))?(Oe(v,l),v.h==0&&(v.src=null,p[Q]=null)):q(l)}}}function Yt(l){return l in xe?xe[l]:xe[l]="on"+l}function Fr(l,p){if(l.da)l=!0;else{p=new W(p,this);const v=l.listener,C=l.ha||l.src;l.fa&&ft(l),l=v.call(C,p)}return l}function Vn(l){return l=l[Q],l instanceof ae?l:null}var Yn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ei(l){return typeof l=="function"?l:(l[Yn]||(l[Yn]=function(p){return l.handleEvent(p)}),l[Yn])}function et(){N.call(this),this.i=new ae(this),this.M=this,this.G=null}h(et,N),et.prototype[se]=!0,et.prototype.removeEventListener=function(l,p,v,C){we(this,l,p,v,C)};function At(l,p){var v,C=l.G;if(C)for(v=[];C;C=C.G)v.push(C);if(l=l.M,C=p.type||p,typeof p=="string")p=new M(p,l);else if(p instanceof M)p.target=p.target||l;else{var V=p;p=new M(C,l),me(p,V)}V=!0;let L,K;if(v)for(K=v.length-1;K>=0;K--)L=p.g=v[K],V=fr(L,C,!0,p)&&V;if(L=p.g=l,V=fr(L,C,!0,p)&&V,V=fr(L,C,!1,p)&&V,v)for(K=0;K<v.length;K++)L=p.g=v[K],V=fr(L,C,!1,p)&&V}et.prototype.N=function(){if(et.Z.N.call(this),this.i){var l=this.i;for(const p in l.g){const v=l.g[p];for(let C=0;C<v.length;C++)q(v[C]);delete l.g[p],l.h--}}this.G=null},et.prototype.J=function(l,p,v,C){return this.i.add(String(l),p,!1,v,C)},et.prototype.K=function(l,p,v,C){return this.i.add(String(l),p,!0,v,C)};function fr(l,p,v,C){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();let V=!0;for(let L=0;L<p.length;++L){const K=p[L];if(K&&!K.da&&K.capture==v){const fe=K.listener,_t=K.ha||K.src;K.fa&&Oe(l.i,K),V=fe.call(_t,C)!==!1&&V}}return V&&!C.defaultPrevented}function Bu(l,p){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=u(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:a.setTimeout(l,p||0)}function hr(l){l.g=Bu(()=>{l.g=null,l.i&&(l.i=!1,hr(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class hm extends N{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:hr(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bs(l){N.call(this),this.h=l,this.g={}}h(Bs,N);var Xt=[];function qr(l){H(l.g,function(p,v){this.g.hasOwnProperty(v)&&ft(p)},l),l.g={}}Bs.prototype.N=function(){Bs.Z.N.call(this),qr(this)},Bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nl=a.JSON.stringify,dm=a.JSON.parse,ka=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Fu(){}function Ol(){}var Hr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function dr(){M.call(this,"d")}h(dr,M);function La(){M.call(this,"c")}h(La,M);var rn={},qu=null;function ja(){return qu=qu||new et}rn.Ia="serverreachability";function Dl(l){M.call(this,rn.Ia,l)}h(Dl,M);function Ti(l){const p=ja();At(p,new Dl(p))}rn.STAT_EVENT="statevent";function Hu(l,p){M.call(this,rn.STAT_EVENT,l),this.stat=p}h(Hu,M);function vt(l){const p=ja();At(p,new Hu(p,l))}rn.Ja="timingevent";function Xn(l,p){M.call(this,rn.Ja,l),this.size=p}h(Xn,M);function Fs(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},p)}function ee(){this.g=!0}ee.prototype.ua=function(){this.g=!1};function De(l,p,v,C,V,L){l.info(function(){if(l.g)if(L){var K="",fe=L.split("&");for(let Ue=0;Ue<fe.length;Ue++){var _t=fe[Ue].split("=");if(_t.length>1){const Rt=_t[0];_t=_t[1];const gr=Rt.split("_");K=gr.length>=2&&gr[1]=="type"?K+(Rt+"="+_t+"&"):K+(Rt+"=redacted&")}}}else K=null;else K=L;return"XMLHTTP REQ ("+C+") [attempt "+V+"]: "+p+`
`+v+`
`+K})}function Fe(l,p,v,C,V,L,K){l.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+V+"]: "+p+`
`+v+`
`+L+" "+K})}function xt(l,p,v,C){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+mr(l,v)+(C?" "+C:"")})}function gn(l,p){l.info(function(){return"TIMEOUT: "+p})}ee.prototype.info=function(){};function mr(l,p){if(!l.g)return p;if(!p)return null;try{const L=JSON.parse(p);if(L){for(l=0;l<L.length;l++)if(Array.isArray(L[l])){var v=L[l];if(!(v.length<2)){var C=v[1];if(Array.isArray(C)&&!(C.length<1)){var V=C[0];if(V!="noop"&&V!="stop"&&V!="close")for(let K=1;K<C.length;K++)C[K]=""}}}}return Nl(L)}catch{return p}}var kn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},sn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Wn;function mm(){}h(mm,Fu),mm.prototype.g=function(){return new XMLHttpRequest},Wn=new mm;function Ml(l){return encodeURIComponent(String(l))}function R2(l){var p=1;l=l.split(":");const v=[];for(;p>0&&l.length;)v.push(l.shift()),p--;return l.length&&v.push(l.join(":")),v}function Si(l,p,v,C){this.j=l,this.i=p,this.l=v,this.S=C||1,this.V=new Bs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new F_}function F_(){this.i=null,this.g="",this.h=!1}var q_={},pm={};function gm(l,p,v){l.M=1,l.A=$u(pr(p)),l.u=v,l.R=!0,H_(l,null)}function H_(l,p){l.F=Date.now(),Gu(l),l.B=pr(l.A);var v=l.B,C=l.S;Array.isArray(C)||(C=[String(C)]),r0(v.i,"t",C),l.C=0,v=l.j.L,l.h=new F_,l.g=w0(l.j,v?p:null,!l.u),l.P>0&&(l.O=new hm(u(l.Y,l,l.g),l.P)),p=l.V,v=l.g,C=l.ba;var V="readystatechange";Array.isArray(V)||(V&&(Xt[0]=V.toString()),V=Xt);for(let L=0;L<V.length;L++){const K=Ge(v,V[L],C||p.handleEvent,!1,p.h||p);if(!K)break;p.g[K.key]=K}p=l.J?Ce(l.J):{},l.u?(l.v||(l.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,p)):(l.v="GET",l.g.ea(l.B,l.v,null,p)),Ti(),De(l.i,l.v,l.B,l.l,l.S,l.u)}Si.prototype.ba=function(l){l=l.target;const p=this.O;p&&Ri(l)==3?p.j():this.Y(l)},Si.prototype.Y=function(l){try{if(l==this.g)e:{const fe=Ri(this.g),_t=this.g.ya(),Ue=this.g.ca();if(!(fe<3)&&(fe!=3||this.g&&(this.h.h||this.g.la()||u0(this.g)))){this.K||fe!=4||_t==7||(_t==8||Ue<=0?Ti(3):Ti(2)),ym(this);var p=this.g.ca();this.X=p;var v=C2(this);if(this.o=p==200,Fe(this.i,this.v,this.B,this.l,this.S,fe,p),this.o){if(this.U&&!this.L){t:{if(this.g){var C,V=this.g;if((C=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(C)){var L=C;break t}}L=null}if(l=L)xt(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,vm(this,l);else{this.o=!1,this.m=3,vt(12),qs(this),Pl(this);break e}}if(this.R){l=!0;let Rt;for(;!this.K&&this.C<v.length;)if(Rt=I2(this,v),Rt==pm){fe==4&&(this.m=4,vt(14),l=!1),xt(this.i,this.l,null,"[Incomplete Response]");break}else if(Rt==q_){this.m=4,vt(15),xt(this.i,this.l,v,"[Invalid Chunk]"),l=!1;break}else xt(this.i,this.l,Rt,null),vm(this,Rt);if(G_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),fe!=4||v.length!=0||this.h.h||(this.m=1,vt(16),l=!1),this.o=this.o&&l,!l)xt(this.i,this.l,v,"[Invalid Chunked Response]"),qs(this),Pl(this);else if(v.length>0&&!this.W){this.W=!0;var K=this.j;K.g==this&&K.aa&&!K.P&&(K.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),xm(K),K.P=!0,vt(11))}}else xt(this.i,this.l,v,null),vm(this,v);fe==4&&qs(this),this.o&&!this.K&&(fe==4?y0(this.j,this):(this.o=!1,Gu(this)))}else q2(this.g),p==400&&v.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),qs(this),Pl(this)}}}catch{}finally{}};function C2(l){if(!G_(l))return l.g.la();const p=u0(l.g);if(p==="")return"";let v="";const C=p.length,V=Ri(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return qs(l),Pl(l),"";l.h.i=new a.TextDecoder}for(let L=0;L<C;L++)l.h.h=!0,v+=l.h.i.decode(p[L],{stream:!(V&&L==C-1)});return p.length=0,l.h.g+=v,l.C=0,l.h.g}function G_(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function I2(l,p){var v=l.C,C=p.indexOf(`
`,v);return C==-1?pm:(v=Number(p.substring(v,C)),isNaN(v)?q_:(C+=1,C+v>p.length?pm:(p=p.slice(C,C+v),l.C=C+v,p)))}Si.prototype.cancel=function(){this.K=!0,qs(this)};function Gu(l){l.T=Date.now()+l.H,$_(l,l.H)}function $_(l,p){if(l.D!=null)throw Error("WatchDog timer not null");l.D=Fs(u(l.aa,l),p)}function ym(l){l.D&&(a.clearTimeout(l.D),l.D=null)}Si.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(gn(this.i,this.B),this.M!=2&&(Ti(),vt(17)),qs(this),this.m=2,Pl(this)):$_(this,this.T-l)};function Pl(l){l.j.I==0||l.K||y0(l.j,l)}function qs(l){ym(l);var p=l.O;p&&typeof p.dispose=="function"&&p.dispose(),l.O=null,qr(l.V),l.g&&(p=l.g,l.g=null,p.abort(),p.dispose())}function vm(l,p){try{var v=l.j;if(v.I!=0&&(v.g==l||_m(v.h,l))){if(!l.L&&_m(v.h,l)&&v.I==3){try{var C=v.Ba.g.parse(p)}catch{C=null}if(Array.isArray(C)&&C.length==3){var V=C;if(V[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<l.F)Wu(v),Yu(v);else break e;Am(v),vt(18)}}else v.xa=V[1],0<v.xa-v.K&&V[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Fs(u(v.Va,v),6e3));Y_(v.h)<=1&&v.ta&&(v.ta=void 0)}else Gs(v,11)}else if((l.L||v.g==l)&&Wu(v),!D(p))for(V=v.Ba.g.parse(p),p=0;p<V.length;p++){let Ue=V[p];const Rt=Ue[0];if(!(Rt<=v.K))if(v.K=Rt,Ue=Ue[1],v.I==2)if(Ue[0]=="c"){v.M=Ue[1],v.ba=Ue[2];const gr=Ue[3];gr!=null&&(v.ka=gr,v.j.info("VER="+v.ka));const $s=Ue[4];$s!=null&&(v.za=$s,v.j.info("SVER="+v.za));const Ci=Ue[5];Ci!=null&&typeof Ci=="number"&&Ci>0&&(C=1.5*Ci,v.O=C,v.j.info("backChannelRequestTimeoutMs_="+C)),C=v;const Ii=l.g;if(Ii){const Ju=Ii.g?Ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ju){var L=C.h;L.g||Ju.indexOf("spdy")==-1&&Ju.indexOf("quic")==-1&&Ju.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(bm(L,L.h),L.h=null))}if(C.G){const Rm=Ii.g?Ii.g.getResponseHeader("X-HTTP-Session-Id"):null;Rm&&(C.wa=Rm,$e(C.J,C.G,Rm))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-l.F,v.j.info("Handshake RTT: "+v.T+"ms")),C=v;var K=l;if(C.na=b0(C,C.L?C.ba:null,C.W),K.L){X_(C.h,K);var fe=K,_t=C.O;_t&&(fe.H=_t),fe.D&&(ym(fe),Gu(fe)),C.g=K}else p0(C);v.i.length>0&&Xu(v)}else Ue[0]!="stop"&&Ue[0]!="close"||Gs(v,7);else v.I==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Gs(v,7):Sm(v):Ue[0]!="noop"&&v.l&&v.l.qa(Ue),v.A=0)}}Ti(4)}catch{}}var N2=class{constructor(l,p){this.g=l,this.map=p}};function K_(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Q_(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Y_(l){return l.h?1:l.g?l.g.size:0}function _m(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function bm(l,p){l.g?l.g.add(p):l.h=p}function X_(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}K_.prototype.cancel=function(){if(this.i=W_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function W_(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const v of l.g.values())p=p.concat(v.G);return p}return d(l.i)}var Z_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function O2(l,p){if(l){l=l.split("&");for(let v=0;v<l.length;v++){const C=l[v].indexOf("=");let V,L=null;C>=0?(V=l[v].substring(0,C),L=l[v].substring(C+1)):V=l[v],p(V,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Ai(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;l instanceof Ai?(this.l=l.l,Vl(this,l.j),this.o=l.o,this.g=l.g,kl(this,l.u),this.h=l.h,wm(this,i0(l.i)),this.m=l.m):l&&(p=String(l).match(Z_))?(this.l=!1,Vl(this,p[1]||"",!0),this.o=Ll(p[2]||""),this.g=Ll(p[3]||"",!0),kl(this,p[4]),this.h=Ll(p[5]||"",!0),wm(this,p[6]||"",!0),this.m=Ll(p[7]||"")):(this.l=!1,this.i=new Ul(null,this.l))}Ai.prototype.toString=function(){const l=[];var p=this.j;p&&l.push(jl(p,J_,!0),":");var v=this.g;return(v||p=="file")&&(l.push("//"),(p=this.o)&&l.push(jl(p,J_,!0),"@"),l.push(Ml(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&l.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&l.push("/"),l.push(jl(v,v.charAt(0)=="/"?P2:M2,!0))),(v=this.i.toString())&&l.push("?",v),(v=this.m)&&l.push("#",jl(v,k2)),l.join("")},Ai.prototype.resolve=function(l){const p=pr(this);let v=!!l.j;v?Vl(p,l.j):v=!!l.o,v?p.o=l.o:v=!!l.g,v?p.g=l.g:v=l.u!=null;var C=l.h;if(v)kl(p,l.u);else if(v=!!l.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var V=p.h.lastIndexOf("/");V!=-1&&(C=p.h.slice(0,V+1)+C)}if(V=C,V==".."||V==".")C="";else if(V.indexOf("./")!=-1||V.indexOf("/.")!=-1){C=V.lastIndexOf("/",0)==0,V=V.split("/");const L=[];for(let K=0;K<V.length;){const fe=V[K++];fe=="."?C&&K==V.length&&L.push(""):fe==".."?((L.length>1||L.length==1&&L[0]!="")&&L.pop(),C&&K==V.length&&L.push("")):(L.push(fe),C=!0)}C=L.join("/")}else C=V}return v?p.h=C:v=l.i.toString()!=="",v?wm(p,i0(l.i)):v=!!l.m,v&&(p.m=l.m),p};function pr(l){return new Ai(l)}function Vl(l,p,v){l.j=v?Ll(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function kl(l,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);l.u=p}else l.u=null}function wm(l,p,v){p instanceof Ul?(l.i=p,L2(l.i,l.l)):(v||(p=jl(p,V2)),l.i=new Ul(p,l.l))}function $e(l,p,v){l.i.set(p,v)}function $u(l){return $e(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function Ll(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function jl(l,p,v){return typeof l=="string"?(l=encodeURI(l).replace(p,D2),v&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function D2(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var J_=/[#\/\?@]/g,M2=/[#\?:]/g,P2=/[#\?]/g,V2=/[#\?@]/g,k2=/#/g;function Ul(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function Hs(l){l.g||(l.g=new Map,l.h=0,l.i&&O2(l.i,function(p,v){l.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}t=Ul.prototype,t.add=function(l,p){Hs(this),this.i=null,l=Ua(this,l);let v=this.g.get(l);return v||this.g.set(l,v=[]),v.push(p),this.h+=1,this};function e0(l,p){Hs(l),p=Ua(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function t0(l,p){return Hs(l),p=Ua(l,p),l.g.has(p)}t.forEach=function(l,p){Hs(this),this.g.forEach(function(v,C){v.forEach(function(V){l.call(p,V,C,this)},this)},this)};function n0(l,p){Hs(l);let v=[];if(typeof p=="string")t0(l,p)&&(v=v.concat(l.g.get(Ua(l,p))));else for(l=Array.from(l.g.values()),p=0;p<l.length;p++)v=v.concat(l[p]);return v}t.set=function(l,p){return Hs(this),this.i=null,l=Ua(this,l),t0(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},t.get=function(l,p){return l?(l=n0(this,l),l.length>0?String(l[0]):p):p};function r0(l,p,v){e0(l,p),v.length>0&&(l.i=null,l.g.set(Ua(l,p),d(v)),l.h+=v.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(let C=0;C<p.length;C++){var v=p[C];const V=Ml(v);v=n0(this,v);for(let L=0;L<v.length;L++){let K=V;v[L]!==""&&(K+="="+Ml(v[L])),l.push(K)}}return this.i=l.join("&")};function i0(l){const p=new Ul;return p.i=l.i,l.g&&(p.g=new Map(l.g),p.h=l.h),p}function Ua(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function L2(l,p){p&&!l.j&&(Hs(l),l.i=null,l.g.forEach(function(v,C){const V=C.toLowerCase();C!=V&&(e0(this,C),r0(this,V,v))},l)),l.j=p}function j2(l,p){const v=new ee;if(a.Image){const C=new Image;C.onload=f(xi,v,"TestLoadImage: loaded",!0,p,C),C.onerror=f(xi,v,"TestLoadImage: error",!1,p,C),C.onabort=f(xi,v,"TestLoadImage: abort",!1,p,C),C.ontimeout=f(xi,v,"TestLoadImage: timeout",!1,p,C),a.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=l}else p(!1)}function U2(l,p){const v=new ee,C=new AbortController,V=setTimeout(()=>{C.abort(),xi(v,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:C.signal}).then(L=>{clearTimeout(V),L.ok?xi(v,"TestPingServer: ok",!0,p):xi(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(V),xi(v,"TestPingServer: error",!1,p)})}function xi(l,p,v,C,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),C(v)}catch{}}function z2(){this.g=new ka}function Em(l){this.i=l.Sb||null,this.h=l.ab||!1}h(Em,Fu),Em.prototype.g=function(){return new Ku(this.i,this.h)};function Ku(l,p){et.call(this),this.H=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(Ku,et),t=Ku.prototype,t.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=p,this.readyState=1,Bl(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(p.body=l),(this.H||a).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,zl(this)),this.readyState=0},t.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Bl(this)),this.g&&(this.readyState=3,Bl(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;s0(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function s0(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}t.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?zl(this):Bl(this),this.readyState==3&&s0(this)}},t.Oa=function(l){this.g&&(this.response=this.responseText=l,zl(this))},t.Na=function(l){this.g&&(this.response=l,zl(this))},t.ga=function(){this.g&&zl(this)};function zl(l){l.readyState=4,l.l=null,l.j=null,l.B=null,Bl(l)}t.setRequestHeader=function(l,p){this.A.append(l,p)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,l.push(v[0]+": "+v[1]),v=p.next();return l.join(`\r
`)};function Bl(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Ku.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function a0(l){let p="";return H(l,function(v,C){p+=C,p+=":",p+=v,p+=`\r
`}),p}function Tm(l,p,v){e:{for(C in v){var C=!1;break e}C=!0}C||(v=a0(v),typeof l=="string"?v!=null&&Ml(v):$e(l,p,v))}function rt(l){et.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(rt,et);var B2=/^https?$/i,F2=["POST","PUT"];t=rt.prototype,t.Fa=function(l){this.H=l},t.ea=function(l,p,v,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Wn.g(),this.g.onreadystatechange=m(u(this.Ca,this));try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(L){o0(this,L);return}if(l=v||"",v=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var V in C)v.set(V,C[V]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const L of C.keys())v.set(L,C.get(L));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(v.keys()).find(L=>L.toLowerCase()=="content-type"),V=a.FormData&&l instanceof a.FormData,!(Array.prototype.indexOf.call(F2,p,void 0)>=0)||C||V||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,K]of v)this.g.setRequestHeader(L,K);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(L){o0(this,L)}};function o0(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.o=5,l0(l),Qu(l)}function l0(l){l.A||(l.A=!0,At(l,"complete"),At(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,At(this,"complete"),At(this,"abort"),Qu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qu(this,!0)),rt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?c0(this):this.Xa())},t.Xa=function(){c0(this)};function c0(l){if(l.h&&typeof s<"u"){if(l.v&&Ri(l)==4)setTimeout(l.Ca.bind(l),0);else if(At(l,"readystatechange"),Ri(l)==4){l.h=!1;try{const L=l.ca();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var C;if(C=L===0){let K=String(l.D).match(Z_)[1]||null;!K&&a.self&&a.self.location&&(K=a.self.location.protocol.slice(0,-1)),C=!B2.test(K?K.toLowerCase():"")}v=C}if(v)At(l,"complete"),At(l,"success");else{l.o=6;try{var V=Ri(l)>2?l.g.statusText:""}catch{V=""}l.l=V+" ["+l.ca()+"]",l0(l)}}finally{Qu(l)}}}}function Qu(l,p){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const v=l.g;l.g=null,p||At(l,"ready");try{v.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ri(l){return l.g?l.g.readyState:0}t.ca=function(){try{return Ri(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),dm(p)}};function u0(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function q2(l){const p={};l=(l.g&&Ri(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<l.length;C++){if(D(l[C]))continue;var v=R2(l[C]);const V=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const L=p[V]||[];p[V]=L,L.push(v)}J(p,function(C){return C.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fl(l,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[l]||p}function f0(l){this.za=0,this.i=[],this.j=new ee,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Fl("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Fl("baseRetryDelayMs",5e3,l),this.Za=Fl("retryDelaySeedMs",1e4,l),this.Ta=Fl("forwardChannelMaxRetries",2,l),this.va=Fl("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new K_(l&&l.concurrentRequestLimit),this.Ba=new z2,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=f0.prototype,t.ka=8,t.I=1,t.connect=function(l,p,v,C){vt(0),this.W=l,this.H=p||{},v&&C!==void 0&&(this.H.OSID=v,this.H.OAID=C),this.F=this.X,this.J=b0(this,null,this.W),Xu(this)};function Sm(l){if(h0(l),l.I==3){var p=l.V++,v=pr(l.J);if($e(v,"SID",l.M),$e(v,"RID",p),$e(v,"TYPE","terminate"),ql(l,v),p=new Si(l,l.j,p),p.M=2,p.A=$u(pr(v)),v=!1,a.navigator&&a.navigator.sendBeacon)try{v=a.navigator.sendBeacon(p.A.toString(),"")}catch{}!v&&a.Image&&(new Image().src=p.A,v=!0),v||(p.g=w0(p.j,null),p.g.ea(p.A)),p.F=Date.now(),Gu(p)}_0(l)}function Yu(l){l.g&&(xm(l),l.g.cancel(),l.g=null)}function h0(l){Yu(l),l.v&&(a.clearTimeout(l.v),l.v=null),Wu(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&a.clearTimeout(l.m),l.m=null)}function Xu(l){if(!Q_(l.h)&&!l.m){l.m=!0;var p=l.Ea;P||S(),k||(P(),k=!0),A.add(p,l),l.D=0}}function H2(l,p){return Y_(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=p.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=Fs(u(l.Ea,l,p),v0(l,l.D)),l.D++,!0)}t.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const V=new Si(this,this.j,l);let L=this.o;if(this.U&&(L?(L=Ce(L),me(L,this.U)):L=this.U),this.u!==null||this.R||(V.J=L,L=null),this.S)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var C=this.i[v];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(p+=C,p>4096){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=m0(this,V,p),v=pr(this.J),$e(v,"RID",l),$e(v,"CVER",22),this.G&&$e(v,"X-HTTP-Session-Id",this.G),ql(this,v),L&&(this.R?p="headers="+Ml(a0(L))+"&"+p:this.u&&Tm(v,this.u,L)),bm(this.h,V),this.Ra&&$e(v,"TYPE","init"),this.S?($e(v,"$req",p),$e(v,"SID","null"),V.U=!0,gm(V,v,null)):gm(V,v,p),this.I=2}}else this.I==3&&(l?d0(this,l):this.i.length==0||Q_(this.h)||d0(this))};function d0(l,p){var v;p?v=p.l:v=l.V++;const C=pr(l.J);$e(C,"SID",l.M),$e(C,"RID",v),$e(C,"AID",l.K),ql(l,C),l.u&&l.o&&Tm(C,l.u,l.o),v=new Si(l,l.j,v,l.D+1),l.u===null&&(v.J=l.o),p&&(l.i=p.G.concat(l.i)),p=m0(l,v,1e3),v.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),bm(l.h,v),gm(v,C,p)}function ql(l,p){l.H&&H(l.H,function(v,C){$e(p,C,v)}),l.l&&H({},function(v,C){$e(p,C,v)})}function m0(l,p,v){v=Math.min(l.i.length,v);const C=l.l?u(l.l.Ka,l.l,l):null;e:{var V=l.i;let fe=-1;for(;;){const _t=["count="+v];fe==-1?v>0?(fe=V[0].g,_t.push("ofs="+fe)):fe=0:_t.push("ofs="+fe);let Ue=!0;for(let Rt=0;Rt<v;Rt++){var L=V[Rt].g;const gr=V[Rt].map;if(L-=fe,L<0)fe=Math.max(0,V[Rt].g-100),Ue=!1;else try{L="req"+L+"_"||"";try{var K=gr instanceof Map?gr:Object.entries(gr);for(const[$s,Ci]of K){let Ii=Ci;o(Ci)&&(Ii=Nl(Ci)),_t.push(L+$s+"="+encodeURIComponent(Ii))}}catch($s){throw _t.push(L+"type="+encodeURIComponent("_badmap")),$s}}catch{C&&C(gr)}}if(Ue){K=_t.join("&");break e}}K=void 0}return l=l.i.splice(0,v),p.G=l,K}function p0(l){if(!l.g&&!l.v){l.Y=1;var p=l.Da;P||S(),k||(P(),k=!0),A.add(p,l),l.A=0}}function Am(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=Fs(u(l.Da,l),v0(l,l.A)),l.A++,!0)}t.Da=function(){if(this.v=null,g0(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=Fs(u(this.Wa,this),l)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),Yu(this),g0(this))};function xm(l){l.B!=null&&(a.clearTimeout(l.B),l.B=null)}function g0(l){l.g=new Si(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var p=pr(l.na);$e(p,"RID","rpc"),$e(p,"SID",l.M),$e(p,"AID",l.K),$e(p,"CI",l.F?"0":"1"),!l.F&&l.ia&&$e(p,"TO",l.ia),$e(p,"TYPE","xmlhttp"),ql(l,p),l.u&&l.o&&Tm(p,l.u,l.o),l.O&&(l.g.H=l.O);var v=l.g;l=l.ba,v.M=1,v.A=$u(pr(p)),v.u=null,v.R=!0,H_(v,l)}t.Va=function(){this.C!=null&&(this.C=null,Yu(this),Am(this),vt(19))};function Wu(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function y0(l,p){var v=null;if(l.g==p){Wu(l),xm(l),l.g=null;var C=2}else if(_m(l.h,p))v=p.G,X_(l.h,p),C=1;else return;if(l.I!=0){if(p.o)if(C==1){v=p.u?p.u.length:0,p=Date.now()-p.F;var V=l.D;C=ja(),At(C,new Xn(C,v)),Xu(l)}else p0(l);else if(V=p.m,V==3||V==0&&p.X>0||!(C==1&&H2(l,p)||C==2&&Am(l)))switch(v&&v.length>0&&(p=l.h,p.i=p.i.concat(v)),V){case 1:Gs(l,5);break;case 4:Gs(l,10);break;case 3:Gs(l,6);break;default:Gs(l,2)}}}function v0(l,p){let v=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(v*=2),v*p}function Gs(l,p){if(l.j.info("Error code "+p),p==2){var v=u(l.bb,l),C=l.Ua;const V=!C;C=new Ai(C||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Vl(C,"https"),$u(C),V?j2(C.toString(),v):U2(C.toString(),v)}else vt(2);l.I=0,l.l&&l.l.pa(p),_0(l),h0(l)}t.bb=function(l){l?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function _0(l){if(l.I=0,l.ja=[],l.l){const p=W_(l.h);(p.length!=0||l.i.length!=0)&&(x(l.ja,p),x(l.ja,l.i),l.h.i.length=0,d(l.i),l.i.length=0),l.l.oa()}}function b0(l,p,v){var C=v instanceof Ai?pr(v):new Ai(v);if(C.g!="")p&&(C.g=p+"."+C.g),kl(C,C.u);else{var V=a.location;C=V.protocol,p=p?p+"."+V.hostname:V.hostname,V=+V.port;const L=new Ai(null);C&&Vl(L,C),p&&(L.g=p),V&&kl(L,V),v&&(L.h=v),C=L}return v=l.G,p=l.wa,v&&p&&$e(C,v,p),$e(C,"VER",l.ka),ql(l,C),C}function w0(l,p,v){if(p&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Aa&&!l.ma?new rt(new Em({ab:v})):new rt(l.ma),p.Fa(l.L),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function E0(){}t=E0.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Zu(){}Zu.prototype.g=function(l,p){return new yn(l,p)};function yn(l,p){et.call(this),this.g=new f0(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(l?l["X-WebChannel-Client-Profile"]=p.sa:l={"X-WebChannel-Client-Profile":p.sa}),this.g.U=l,(l=p&&p.Qb)&&!D(l)&&(this.g.u=l),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!D(p)&&(this.g.G=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new za(this)}h(yn,et),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Sm(this.g)},yn.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var v={};v.__data__=l,l=v}else this.v&&(v={},v.__data__=Nl(l),l=v);p.i.push(new N2(p.Ya++,l)),p.I==3&&Xu(p)},yn.prototype.N=function(){this.g.l=null,delete this.j,Sm(this.g),delete this.g,yn.Z.N.call(this)};function T0(l){dr.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const v in p){l=v;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}h(T0,dr);function S0(){La.call(this),this.status=1}h(S0,La);function za(l){this.g=l}h(za,E0),za.prototype.ra=function(){At(this.g,"a")},za.prototype.qa=function(l){At(this.g,new T0(l))},za.prototype.pa=function(l){At(this.g,new S0)},za.prototype.oa=function(){At(this.g,"b")},Zu.prototype.createWebChannel=Zu.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,VR=function(){return new Zu},PR=function(){return ja()},MR=rn,Jg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},kn.NO_ERROR=0,kn.TIMEOUT=8,kn.HTTP_ERROR=6,Xf=kn,sn.COMPLETE="complete",DR=sn,Ol.EventType=Hr,Hr.OPEN="a",Hr.CLOSE="b",Hr.ERROR="c",Hr.MESSAGE="d",et.prototype.listen=et.prototype.J,sc=Ol,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,OR=rt}).apply(typeof Ef<"u"?Ef:typeof self<"u"?self:typeof window<"u"?window:{});const cE="@firebase/firestore",uE="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};qt.UNAUTHENTICATED=new qt(null),qt.GOOGLE_CREDENTIALS=new qt("google-credentials-uid"),qt.FIRST_PARTY=new qt("first-party-uid"),qt.MOCK_USER=new qt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa=new qv("@firebase/firestore");function Xa(){return Aa.logLevel}function X(t,...e){if(Aa.logLevel<=ve.DEBUG){const n=e.map(t_);Aa.debug(`Firestore (${Sl}): ${t}`,...n)}}function vi(t,...e){if(Aa.logLevel<=ve.ERROR){const n=e.map(t_);Aa.error(`Firestore (${Sl}): ${t}`,...n)}}function nl(t,...e){if(Aa.logLevel<=ve.WARN){const n=e.map(t_);Aa.warn(`Firestore (${Sl}): ${t}`,...n)}}function t_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,kR(t,r,n)}function kR(t,e,n){let r=`FIRESTORE (${Sl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw vi(r),new Error(r)}function Me(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||kR(e,i,r)}function le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends wi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(qt.UNAUTHENTICATED))}shutdown(){}}class mj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class pj{constructor(e){this.t=e,this.currentUser=qt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Me(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new pa;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new pa,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},o=c=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>o(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?o(c):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new pa)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Me(typeof r.accessToken=="string",31837,{l:r}),new LR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string",2055,{h:e}),new qt(e)}}class gj{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=qt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yj{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new gj(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(qt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vj{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Hn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Me(this.o===void 0,3512);const r=s=>{s.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,X("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new fE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Me(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new fE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _j(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=_j(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function _e(t,e){return t<e?-1:t>e?1:0}function ey(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return wp(i)===wp(s)?_e(i,s):wp(i)?1:-1}return _e(t.length,e.length)}const bj=55296,wj=57343;function wp(t){const e=t.charCodeAt(0);return e>=bj&&e<=wj}function rl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="__name__";class _r{constructor(e,n,r){n===void 0?n=0:n>e.length&&te(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&te(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return _r.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _r?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=_r.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return _e(e.length,n.length)}static compareSegments(e,n){const r=_r.isNumericId(e),i=_r.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?_r.extractNumericId(e).compare(_r.extractNumericId(n)):ey(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bs.fromString(e.substring(4,e.length-2))}}class qe extends _r{construct(e,n,r){return new qe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new qe(n)}static emptyPath(){return new qe([])}}const Ej=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lt extends _r{construct(e,n,r){return new Lt(e,n,r)}static isValidIdentifier(e){return Ej.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hE}static keyField(){return new Lt([hE])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Y(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new Y(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Y(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new Y(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lt(n)}static emptyPath(){return new Lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.path=e}static fromPath(e){return new Z(qe.fromString(e))}static fromName(e){return new Z(qe.fromString(e).popFirst(5))}static empty(){return new Z(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Z(new qe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(t,e,n){if(!n)throw new Y(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Tj(t,e,n,r){if(e===!0&&r===!0)throw new Y(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function dE(t){if(!Z.isDocumentKey(t))throw new Y(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function mE(t){if(Z.isDocumentKey(t))throw new Y(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function UR(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Hd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":te(12329,{type:typeof t})}function ws(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hd(t);throw new Y(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Pu(t,e){if(!UR(t))throw new Y(z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Y(z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=-62135596800,gE=1e6;class Qe{static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*gE);return new Qe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<pE)throw new Y(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gE}_compareTo(e){return this.seconds===e.seconds?_e(this.nanoseconds,e.nanoseconds):_e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Pu(e,Qe._jsonSchema))return new Qe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-pE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qe._jsonSchemaVersion="firestore/timestamp/1.0",Qe._jsonSchema={type:pt("string",Qe._jsonSchemaVersion),seconds:pt("number"),nanoseconds:pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{static fromTimestamp(e){return new oe(e)}static min(){return new oe(new Qe(0,0))}static max(){return new oe(new Qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc=-1;function Sj(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=oe.fromTimestamp(r===1e9?new Qe(n+1,0):new Qe(n,r));return new Is(i,Z.empty(),e)}function Aj(t){return new Is(t.readTime,t.key,Zc)}class Is{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Is(oe.min(),Z.empty(),Zc)}static max(){return new Is(oe.max(),Z.empty(),Zc)}}function xj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Z.comparator(t.documentKey,e.documentKey),n!==0?n:_e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Cj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==Rj)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&n()},c=>r(c))}),a=!0,s===i&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new B((r,i)=>{const s=e.length,a=new Array(s);let o=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(f=>{a[u]=f,++o,o===s&&r(a)},f=>i(f))}})}static doWhile(e,n){return new B((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Ij(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Gd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_=-1;function $d(t){return t==null}function ed(t){return t===0&&1/t==-1/0}function Nj(t){return typeof t=="number"&&Number.isInteger(t)&&!ed(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="";function Oj(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=yE(e)),e=Dj(t.get(n),e);return yE(e)}function Dj(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case zR:n+="";break;default:n+=s}}return n}function yE(t){return t+zR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ls(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function BR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){this.comparator=e,this.root=n||Vt.EMPTY}insert(e,n){return new nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Vt.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Tf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Tf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Tf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Tf(this.root,e,this.comparator,!0)}}class Tf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Vt.RED,this.left=i??Vt.EMPTY,this.right=s??Vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Vt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Vt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw te(27949);return e+(this.isRed()?0:1)}}Vt.EMPTY=null,Vt.RED=!0,Vt.BLACK=!1;Vt.EMPTY=new class{constructor(){this.size=0}get key(){throw te(57766)}get value(){throw te(16141)}get color(){throw te(16727)}get left(){throw te(29726)}get right(){throw te(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Vt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _E(this.data.getIterator())}getIteratorFrom(e){return new _E(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Et(this.comparator);return n.data=e,n}}class _E{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort(Lt.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new Et(Lt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return rl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new FR("Invalid base64 string: "+s):s}}(e);return new zt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const Mj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ns(t){if(Me(!!t,39018),typeof t=="string"){let e=0;const n=Mj.exec(t);if(Me(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ct(t.seconds),nanos:ct(t.nanos)}}function ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Os(t){return typeof t=="string"?zt.fromBase64String(t):zt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="server_timestamp",HR="__type__",GR="__previous_value__",$R="__local_write_time__";function i_(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[HR])==null?void 0:r.stringValue)===qR}function Kd(t){const e=t.mapValue.fields[GR];return i_(e)?Kd(e):e}function Jc(t){const e=Ns(t.mapValue.fields[$R].timestampValue);return new Qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pj{constructor(e,n,r,i,s,a,o,c,u,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=f}}const td="(default)";class eu{constructor(e,n){this.projectId=e,this.database=n||td}static empty(){return new eu("","")}get isDefaultDatabase(){return this.database===td}isEqual(e){return e instanceof eu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="__type__",Vj="__max__",Sf={mapValue:{}},QR="__vector__",nd="value";function Ds(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?i_(t)?4:Lj(t)?9007199254740991:kj(t)?10:11:te(28295,{value:t})}function jr(t,e){if(t===e)return!0;const n=Ds(t);if(n!==Ds(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Jc(t).isEqual(Jc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Ns(i.timestampValue),o=Ns(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Os(i.bytesValue).isEqual(Os(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return ct(i.geoPointValue.latitude)===ct(s.geoPointValue.latitude)&&ct(i.geoPointValue.longitude)===ct(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ct(i.integerValue)===ct(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=ct(i.doubleValue),o=ct(s.doubleValue);return a===o?ed(a)===ed(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return rl(t.arrayValue.values||[],e.arrayValue.values||[],jr);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(vE(a)!==vE(o))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(o[c]===void 0||!jr(a[c],o[c])))return!1;return!0}(t,e);default:return te(52216,{left:t})}}function tu(t,e){return(t.values||[]).find(n=>jr(n,e))!==void 0}function il(t,e){if(t===e)return 0;const n=Ds(t),r=Ds(e);if(n!==r)return _e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return _e(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=ct(s.integerValue||s.doubleValue),c=ct(a.integerValue||a.doubleValue);return o<c?-1:o>c?1:o===c?0:isNaN(o)?isNaN(c)?0:-1:1}(t,e);case 3:return bE(t.timestampValue,e.timestampValue);case 4:return bE(Jc(t),Jc(e));case 5:return ey(t.stringValue,e.stringValue);case 6:return function(s,a){const o=Os(s),c=Os(a);return o.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),c=a.split("/");for(let u=0;u<o.length&&u<c.length;u++){const f=_e(o[u],c[u]);if(f!==0)return f}return _e(o.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=_e(ct(s.latitude),ct(a.latitude));return o!==0?o:_e(ct(s.longitude),ct(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return wE(t.arrayValue,e.arrayValue);case 10:return function(s,a){var m,d,x,_;const o=s.fields||{},c=a.fields||{},u=(m=o[nd])==null?void 0:m.arrayValue,f=(d=c[nd])==null?void 0:d.arrayValue,h=_e(((x=u==null?void 0:u.values)==null?void 0:x.length)||0,((_=f==null?void 0:f.values)==null?void 0:_.length)||0);return h!==0?h:wE(u,f)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===Sf.mapValue&&a===Sf.mapValue)return 0;if(s===Sf.mapValue)return 1;if(a===Sf.mapValue)return-1;const o=s.fields||{},c=Object.keys(o),u=a.fields||{},f=Object.keys(u);c.sort(),f.sort();for(let h=0;h<c.length&&h<f.length;++h){const m=ey(c[h],f[h]);if(m!==0)return m;const d=il(o[c[h]],u[f[h]]);if(d!==0)return d}return _e(c.length,f.length)}(t.mapValue,e.mapValue);default:throw te(23264,{he:n})}}function bE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return _e(t,e);const n=Ns(t),r=Ns(e),i=_e(n.seconds,r.seconds);return i!==0?i:_e(n.nanos,r.nanos)}function wE(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=il(n[i],r[i]);if(s)return s}return _e(n.length,r.length)}function sl(t){return ty(t)}function ty(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ns(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Os(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=ty(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${ty(n.fields[a])}`;return i+"}"}(t.mapValue):te(61005,{value:t})}function Wf(t){switch(Ds(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kd(t);return e?16+Wf(e):16;case 5:return 2*t.stringValue.length;case 6:return Os(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Wf(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ls(r.fields,(s,a)=>{i+=s.length+Wf(a)}),i}(t.mapValue);default:throw te(13486,{value:t})}}function EE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ny(t){return!!t&&"integerValue"in t}function s_(t){return!!t&&"arrayValue"in t}function TE(t){return!!t&&"nullValue"in t}function SE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zf(t){return!!t&&"mapValue"in t}function kj(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[KR])==null?void 0:r.stringValue)===QR}function Rc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ls(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Rc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Rc(t.arrayValue.values[n]);return e}return{...t}}function Lj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Vj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Zf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rc(n)}setAll(e){let n=Lt.emptyPath(),r={},i=[];e.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=o.popLast()}a?r[o.lastSegment()]=Rc(a):i.push(o.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Zf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return jr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Zf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ls(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new hn(Rc(this.value))}}function YR(t){const e=[];return Ls(t.fields,(n,r)=>{const i=new Lt([n]);if(Zf(r)){const s=YR(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n,r,i,s,a,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Ht(e,0,oe.min(),oe.min(),oe.min(),hn.empty(),0)}static newFoundDocument(e,n,r,i){return new Ht(e,1,n,oe.min(),r,i,0)}static newNoDocument(e,n){return new Ht(e,2,n,oe.min(),oe.min(),hn.empty(),0)}static newUnknownDocument(e,n){return new Ht(e,3,n,oe.min(),oe.min(),hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,n){this.position=e,this.inclusive=n}}function AE(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=Z.comparator(Z.fromName(a.referenceValue),n.key):r=il(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function xE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!jr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n="asc"){this.field=e,this.dir=n}}function jj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XR=class{};class mt extends XR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new zj(e,n,r):n==="array-contains"?new qj(e,r):n==="in"?new Hj(e,r):n==="not-in"?new Gj(e,r):n==="array-contains-any"?new $j(e,r):new mt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Bj(e,r):new Fj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(il(n,this.value)):n!==null&&Ds(this.value)===Ds(n)&&this.matchesComparison(il(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cr extends XR{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new cr(e,n)}matches(e){return WR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function WR(t){return t.op==="and"}function ZR(t){return Uj(t)&&WR(t)}function Uj(t){for(const e of t.filters)if(e instanceof cr)return!1;return!0}function ry(t){if(t instanceof mt)return t.field.canonicalString()+t.op.toString()+sl(t.value);if(ZR(t))return t.filters.map(e=>ry(e)).join(",");{const e=t.filters.map(n=>ry(n)).join(",");return`${t.op}(${e})`}}function JR(t,e){return t instanceof mt?function(r,i){return i instanceof mt&&r.op===i.op&&r.field.isEqual(i.field)&&jr(r.value,i.value)}(t,e):t instanceof cr?function(r,i){return i instanceof cr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,o)=>s&&JR(a,i.filters[o]),!0):!1}(t,e):void te(19439)}function eC(t){return t instanceof mt?function(n){return`${n.field.canonicalString()} ${n.op} ${sl(n.value)}`}(t):t instanceof cr?function(n){return n.op.toString()+" {"+n.getFilters().map(eC).join(" ,")+"}"}(t):"Filter"}class zj extends mt{constructor(e,n,r){super(e,n,r),this.key=Z.fromName(r.referenceValue)}matches(e){const n=Z.comparator(e.key,this.key);return this.matchesComparison(n)}}class Bj extends mt{constructor(e,n){super(e,"in",n),this.keys=tC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Fj extends mt{constructor(e,n){super(e,"not-in",n),this.keys=tC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function tC(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Z.fromName(r.referenceValue))}class qj extends mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return s_(n)&&tu(n.arrayValue,this.value)}}class Hj extends mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&tu(this.value.arrayValue,n)}}class Gj extends mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(tu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!tu(this.value.arrayValue,n)}}class $j extends mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!s_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>tu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(e,n=null,r=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.Te=null}}function RE(t,e=null,n=[],r=[],i=null,s=null,a=null){return new Kj(t,e,n,r,i,s,a)}function a_(t){const e=le(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>ry(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),$d(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>sl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>sl(r)).join(",")),e.Te=n}return e.Te}function o_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!jj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!JR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!xE(t.startAt,e.startAt)&&xE(t.endAt,e.endAt)}function iy(t){return Z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n=null,r=[],i=[],s=null,a="F",o=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Qj(t,e,n,r,i,s,a,o){return new Rl(t,e,n,r,i,s,a,o)}function l_(t){return new Rl(t)}function CE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function nC(t){return t.collectionGroup!==null}function Cc(t){const e=le(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new Et(Lt.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new nu(s,r))}),n.has(Lt.keyField().canonicalString())||e.Ie.push(new nu(Lt.keyField(),r))}return e.Ie}function Mr(t){const e=le(t);return e.Ee||(e.Ee=Yj(e,Cc(t))),e.Ee}function Yj(t,e){if(t.limitType==="F")return RE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new nu(i.field,s)});const n=t.endAt?new rd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new rd(t.startAt.position,t.startAt.inclusive):null;return RE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function sy(t,e){const n=t.filters.concat([e]);return new Rl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ay(t,e,n){return new Rl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qd(t,e){return o_(Mr(t),Mr(e))&&t.limitType===e.limitType}function rC(t){return`${a_(Mr(t))}|lt:${t.limitType}`}function Wa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>eC(i)).join(", ")}]`),$d(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>sl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>sl(i)).join(",")),`Target(${r})`}(Mr(t))}; limitType=${t.limitType})`}function Yd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Z.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Cc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,o,c){const u=AE(a,o,c);return a.inclusive?u<=0:u<0}(r.startAt,Cc(r),i)||r.endAt&&!function(a,o,c){const u=AE(a,o,c);return a.inclusive?u>=0:u>0}(r.endAt,Cc(r),i))}(t,e)}function Xj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function iC(t){return(e,n)=>{let r=!1;for(const i of Cc(t)){const s=Wj(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Wj(t,e,n){const r=t.field.isKeyField()?Z.comparator(e.key,n.key):function(s,a,o){const c=a.data.field(s),u=o.data.field(s);return c!==null&&u!==null?il(c,u):te(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return te(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ls(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return BR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zj=new nt(Z.comparator);function _i(){return Zj}const sC=new nt(Z.comparator);function ac(...t){let e=sC;for(const n of t)e=e.insert(n.key,n);return e}function aC(t){let e=sC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Js(){return Ic()}function oC(){return Ic()}function Ic(){return new Ma(t=>t.toString(),(t,e)=>t.isEqual(e))}const Jj=new nt(Z.comparator),eU=new Et(Z.comparator);function be(...t){let e=eU;for(const n of t)e=e.add(n);return e}const tU=new Et(_e);function nU(){return tU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ed(e)?"-0":e}}function lC(t){return{integerValue:""+t}}function rU(t,e){return Nj(e)?lC(e):c_(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(){this._=void 0}}function iU(t,e,n){return t instanceof ru?function(i,s){const a={fields:{[HR]:{stringValue:qR},[$R]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&i_(s)&&(s=Kd(s)),s&&(a.fields[GR]=s),{mapValue:a}}(n,e):t instanceof iu?uC(t,e):t instanceof su?fC(t,e):function(i,s){const a=cC(i,s),o=IE(a)+IE(i.Ae);return ny(a)&&ny(i.Ae)?lC(o):c_(i.serializer,o)}(t,e)}function sU(t,e,n){return t instanceof iu?uC(t,e):t instanceof su?fC(t,e):n}function cC(t,e){return t instanceof id?function(r){return ny(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class ru extends Xd{}class iu extends Xd{constructor(e){super(),this.elements=e}}function uC(t,e){const n=hC(e);for(const r of t.elements)n.some(i=>jr(i,r))||n.push(r);return{arrayValue:{values:n}}}class su extends Xd{constructor(e){super(),this.elements=e}}function fC(t,e){let n=hC(e);for(const r of t.elements)n=n.filter(i=>!jr(i,r));return{arrayValue:{values:n}}}class id extends Xd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function IE(t){return ct(t.integerValue||t.doubleValue)}function hC(t){return s_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(e,n){this.field=e,this.transform=n}}function oU(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof iu&&i instanceof iu||r instanceof su&&i instanceof su?rl(r.elements,i.elements,jr):r instanceof id&&i instanceof id?jr(r.Ae,i.Ae):r instanceof ru&&i instanceof ru}(t.transform,e.transform)}class lU{constructor(e,n){this.version=e,this.transformResults=n}}class ar{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ar}static exists(e){return new ar(void 0,e)}static updateTime(e){return new ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wd{}function dC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new u_(t.key,ar.none()):new Vu(t.key,t.data,ar.none());{const n=t.data,r=hn.empty();let i=new Et(Lt.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new js(t.key,r,new Cn(i.toArray()),ar.none())}}function cU(t,e,n){t instanceof Vu?function(i,s,a){const o=i.value.clone(),c=OE(i.fieldTransforms,s,a.transformResults);o.setAll(c),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,n):t instanceof js?function(i,s,a){if(!Jf(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=OE(i.fieldTransforms,s,a.transformResults),c=s.data;c.setAll(mC(i)),c.setAll(o),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function Nc(t,e,n,r){return t instanceof Vu?function(s,a,o,c){if(!Jf(s.precondition,a))return o;const u=s.value.clone(),f=DE(s.fieldTransforms,c,a);return u.setAll(f),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof js?function(s,a,o,c){if(!Jf(s.precondition,a))return o;const u=DE(s.fieldTransforms,c,a),f=a.data;return f.setAll(mC(s)),f.setAll(u),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,a,o){return Jf(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,n)}function uU(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=cC(r.transform,i||null);s!=null&&(n===null&&(n=hn.empty()),n.set(r.field,s))}return n||null}function NE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&rl(r,i,(s,a)=>oU(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vu extends Wd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class js extends Wd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function mC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function OE(t,e,n){const r=new Map;Me(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);r.set(s.field,sU(a,o,n[i]))}return r}function DE(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,iU(s,a,e))}return r}class u_ extends Wd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fU extends Wd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&cU(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Nc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Nc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=oC();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=n.has(i.key)?null:o;const c=dC(a,o);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),be())}isEqual(e){return this.batchId===e.batchId&&rl(this.mutations,e.mutations,(n,r)=>NE(n,r))&&rl(this.baseMutations,e.baseMutations,(n,r)=>NE(n,r))}}class f_{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Me(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return Jj}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new f_(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mU{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht,Se;function pU(t){switch(t){case z.OK:return te(64938);case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return te(15467,{code:t})}}function pC(t){if(t===void 0)return vi("GRPC error has no .code"),z.UNKNOWN;switch(t){case ht.OK:return z.OK;case ht.CANCELLED:return z.CANCELLED;case ht.UNKNOWN:return z.UNKNOWN;case ht.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case ht.INTERNAL:return z.INTERNAL;case ht.UNAVAILABLE:return z.UNAVAILABLE;case ht.UNAUTHENTICATED:return z.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case ht.NOT_FOUND:return z.NOT_FOUND;case ht.ALREADY_EXISTS:return z.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return z.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case ht.ABORTED:return z.ABORTED;case ht.OUT_OF_RANGE:return z.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return z.UNIMPLEMENTED;case ht.DATA_LOSS:return z.DATA_LOSS;default:return te(39323,{code:t})}}(Se=ht||(ht={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gU(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU=new bs([4294967295,4294967295],0);function ME(t){const e=gU().encode(t),n=new NR;return n.update(e),new Uint8Array(n.digest())}function PE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new bs([n,r],0),new bs([i,s],0)]}class h_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new oc(`Invalid padding: ${n}`);if(r<0)throw new oc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new oc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new oc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=bs.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(bs.fromNumber(r)));return i.compare(yU)===1&&(i=new bs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=ME(e),[r,i]=PE(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new h_(s,i,n);return r.forEach(o=>a.insert(o)),a}insert(e){if(this.ge===0)return;const n=ME(e),[r,i]=PE(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class oc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ku.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Zd(oe.min(),i,new nt(_e),_i(),be())}}class ku{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ku(r,n,be(),be(),be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class gC{constructor(e,n){this.targetId=e,this.Ce=n}}class yC{constructor(e,n,r=zt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class VE{constructor(){this.ve=0,this.Fe=kE(),this.Me=zt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=be(),n=be(),r=be();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:te(38017,{changeType:s})}}),new ku(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=kE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Me(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class vU{constructor(e){this.Ge=e,this.ze=new Map,this.je=_i(),this.Je=Af(),this.He=Af(),this.Ye=new nt(_e)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:te(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(iy(s))if(r===0){const a=new Z(s.path);this.et(n,a,Ht.newNoDocument(a,oe.min()))}else Me(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const o=this.ut(e),c=o?this.ct(o,e,a):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,o;try{a=Os(r).toUint8Array()}catch(c){if(c instanceof FR)return nl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{o=new h_(a,i,s)}catch(c){return nl(c instanceof oc?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Ge.ht(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,a)=>{const o=this.ot(a);if(o){if(s.current&&iy(o.target)){const c=new Z(o.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,Ht.newNoDocument(c,e))}s.Be&&(n.set(a,s.ke()),s.qe())}});let r=be();this.He.forEach((s,a)=>{let o=!0;a.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(s))}),this.je.forEach((s,a)=>a.setReadTime(e));const i=new Zd(e,n,this.Ye,this.je,r);return this.je=_i(),this.Je=Af(),this.He=Af(),this.Ye=new nt(_e),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new VE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Et(_e),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Et(_e),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new VE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Af(){return new nt(Z.comparator)}function kE(){return new nt(Z.comparator)}const _U={asc:"ASCENDING",desc:"DESCENDING"},bU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wU={and:"AND",or:"OR"};class EU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function oy(t,e){return t.useProto3Json||$d(e)?e:{value:e}}function sd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function TU(t,e){return sd(t,e.toTimestamp())}function Pr(t){return Me(!!t,49232),oe.fromTimestamp(function(n){const r=Ns(n);return new Qe(r.seconds,r.nanos)}(t))}function d_(t,e){return ly(t,e).canonicalString()}function ly(t,e){const n=function(i){return new qe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function _C(t){const e=qe.fromString(t);return Me(SC(e),10190,{key:e.toString()}),e}function cy(t,e){return d_(t.databaseId,e.path)}function Ep(t,e){const n=_C(e);if(n.get(1)!==t.databaseId.projectId)throw new Y(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Z(wC(n))}function bC(t,e){return d_(t.databaseId,e)}function SU(t){const e=_C(t);return e.length===4?qe.emptyPath():wC(e)}function uy(t){return new qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wC(t){return Me(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function LE(t,e,n){return{name:cy(t,e),fields:n.value.mapValue.fields}}function AU(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:te(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,f){return u.useProto3Json?(Me(f===void 0||typeof f=="string",58123),zt.fromBase64String(f||"")):(Me(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),zt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(u){const f=u.code===void 0?z.UNKNOWN:pC(u.code);return new Y(f,u.message||"")}(a);n=new yC(r,i,s,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ep(t,r.document.name),s=Pr(r.document.updateTime),a=r.document.createTime?Pr(r.document.createTime):oe.min(),o=new hn({mapValue:{fields:r.document.fields}}),c=Ht.newFoundDocument(i,s,a,o),u=r.targetIds||[],f=r.removedTargetIds||[];n=new eh(u,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ep(t,r.document),s=r.readTime?Pr(r.readTime):oe.min(),a=Ht.newNoDocument(i,s),o=r.removedTargetIds||[];n=new eh([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ep(t,r.document),s=r.removedTargetIds||[];n=new eh([],s,i,null)}else{if(!("filter"in e))return te(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new mU(i,s),o=r.targetId;n=new gC(o,a)}}return n}function xU(t,e){let n;if(e instanceof Vu)n={update:LE(t,e.key,e.value)};else if(e instanceof u_)n={delete:cy(t,e.key)};else if(e instanceof js)n={update:LE(t,e.key,e.data),updateMask:VU(e.fieldMask)};else{if(!(e instanceof fU))return te(16599,{Vt:e.type});n={verify:cy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const o=a.transform;if(o instanceof ru)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof iu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof su)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof id)return{fieldPath:a.field.canonicalString(),increment:o.Ae};throw te(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:TU(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:te(27497)}(t,e.precondition)),n}function RU(t,e){return t&&t.length>0?(Me(e!==void 0,14353),t.map(n=>function(i,s){let a=i.updateTime?Pr(i.updateTime):Pr(s);return a.isEqual(oe.min())&&(a=Pr(s)),new lU(a,i.transformResults||[])}(n,e))):[]}function CU(t,e){return{documents:[bC(t,e.path)]}}function IU(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=bC(t,i);const s=function(u){if(u.length!==0)return TC(cr.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(u){if(u.length!==0)return u.map(f=>function(m){return{field:Za(m.field),direction:DU(m.dir)}}(f))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=oy(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function NU(t){let e=SU(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Me(r===1,65062);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=function(h){const m=EC(h);return m instanceof cr&&ZR(m)?m.getFilters():[m]}(n.where));let a=[];n.orderBy&&(a=function(h){return h.map(m=>function(x){return new nu(Ja(x.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(m))}(n.orderBy));let o=null;n.limit&&(o=function(h){let m;return m=typeof h=="object"?h.value:h,$d(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(h){const m=!!h.before,d=h.values||[];return new rd(d,m)}(n.startAt));let u=null;return n.endAt&&(u=function(h){const m=!h.before,d=h.values||[];return new rd(d,m)}(n.endAt)),Qj(e,i,a,s,o,"F",c,u)}function OU(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return te(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function EC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ja(n.unaryFilter.field);return mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ja(n.unaryFilter.field);return mt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ja(n.unaryFilter.field);return mt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Ja(n.unaryFilter.field);return mt.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return te(61313);default:return te(60726)}}(t):t.fieldFilter!==void 0?function(n){return mt.create(Ja(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return te(58110);default:return te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return cr.create(n.compositeFilter.filters.map(r=>EC(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return te(1026)}}(n.compositeFilter.op))}(t):te(30097,{filter:t})}function DU(t){return _U[t]}function MU(t){return bU[t]}function PU(t){return wU[t]}function Za(t){return{fieldPath:t.canonicalString()}}function Ja(t){return Lt.fromServerFormat(t.fieldPath)}function TC(t){return t instanceof mt?function(n){if(n.op==="=="){if(SE(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NAN"}};if(TE(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(SE(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NAN"}};if(TE(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Za(n.field),op:MU(n.op),value:n.value}}}(t):t instanceof cr?function(n){const r=n.getFilters().map(i=>TC(i));return r.length===1?r[0]:{compositeFilter:{op:PU(n.op),filters:r}}}(t):te(54877,{filter:t})}function VU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function SC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,n,r,i,s=oe.min(),a=oe.min(),o=zt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=c}withSequenceNumber(e){return new ls(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ls(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(e){this.yt=e}}function LU(t){const e=NU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ay(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(){this.Cn=new UU}addToCollectionParentIndex(e,n){return this.Cn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Is.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Is.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class UU{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Et(qe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Et(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AC=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(AC,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new al(0)}static cr(){return new al(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="LruGarbageCollector",zU=1048576;function zE([t,e],[n,r]){const i=_e(t,n);return i===0?_e(e,r):i}class BU{constructor(e){this.Ir=e,this.buffer=new Et(zE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();zE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class FU{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){X(UE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xl(n)?X(UE,"Ignoring IndexedDB error during garbage collection: ",n):await Al(n)}await this.Vr(3e5)})}}class qU{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(Gd.ce);const r=new BU(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(jE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jE):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,a,o,c,u;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,a=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,o=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),Xa()<=ve.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(c-o)+`ms
	Removed ${h} documents in `+(u-c)+`ms
Total Duration: ${u-f}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function HU(t,e){return new qU(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(){this.changes=new Ma(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Nc(r.mutation,i,Cn.empty(),Qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,be()).next(()=>r))}getLocalViewOfDocuments(e,n,r=be()){const i=Js();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=ac();return s.forEach((o,c)=>{a=a.insert(o,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Js();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,be()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{n.set(a,o)})})}computeViews(e,n,r,i){let s=_i();const a=Ic(),o=function(){return Ic()}();return n.forEach((c,u)=>{const f=r.get(u.key);i.has(u.key)&&(f===void 0||f.mutation instanceof js)?s=s.insert(u.key,u):f!==void 0?(a.set(u.key,f.mutation.getFieldMask()),Nc(f.mutation,u,f.mutation.getFieldMask(),Qe.now())):a.set(u.key,Cn.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,f)=>a.set(u,f)),n.forEach((u,f)=>o.set(u,new $U(f,a.get(u)??null))),o))}recalculateAndSaveOverlays(e,n){const r=Ic();let i=new nt((a,o)=>a-o),s=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const o of a)o.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let f=r.get(c)||Cn.empty();f=o.applyToLocalView(u,f),r.set(c,f);const h=(i.get(o.batchId)||be()).add(c);i=i.insert(o.batchId,h)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const c=o.getNext(),u=c.key,f=c.value,h=oC();f.forEach(m=>{if(!s.has(m)){const d=dC(n.get(m),r.get(m));d!==null&&h.set(m,d),s=s.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,h))}return B.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return Z.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):nC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):B.resolve(Js());let o=Zc,c=s;return a.next(u=>B.forEach(u,(f,h)=>(o<h.largestBatchId&&(o=h.largestBatchId),s.get(f)?B.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{c=c.insert(f,m)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,be())).next(f=>({batchId:o,changes:aC(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Z(n)).next(r=>{let i=ac();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=ac();return this.indexManager.getCollectionParents(e,s).next(o=>B.forEach(o,c=>{const u=function(h,m){return new Rl(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(f=>{f.forEach((h,m)=>{a=a.insert(h,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((c,u)=>{const f=u.getKey();a.get(f)===null&&(a=a.insert(f,Ht.newInvalidDocument(f)))});let o=ac();return a.forEach((c,u)=>{const f=s.get(c);f!==void 0&&Nc(f.mutation,u,Cn.empty(),Qe.now()),Yd(n,u)&&(o=o.insert(c,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return B.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Pr(i.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:LU(i.bundledQuery),readTime:Pr(i.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(){this.overlays=new nt(Z.comparator),this.qr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Js();return B.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const i=Js(),s=n.length+1,a=new Z(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const c=o.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return B.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new nt((u,f)=>u-f);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let f=s.get(u.largestBatchId);f===null&&(f=Js(),s=s.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const o=Js(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,f)=>o.set(u,f)),!(o.size()>=i)););return B.resolve(o)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new dU(n,r));let s=this.qr.get(n);s===void 0&&(s=be(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(){this.sessionToken=zt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(){this.Qr=new Et(It.$r),this.Ur=new Et(It.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new It(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new It(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Z(new qe([])),r=new It(n,e),i=new It(n,e+1),s=[];return this.Ur.forEachInRange([r,i],a=>{this.Gr(a),s.push(a.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Z(new qe([])),r=new It(n,e),i=new It(n,e+1);let s=be();return this.Ur.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new It(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class It{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Z.comparator(e.key,n.key)||_e(e.Yr,n.Yr)}static Kr(e,n){return _e(e.Yr,n.Yr)||Z.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Et(It.$r)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new hU(s,n,r,i);this.mutationQueue.push(a);for(const o of i)this.Zr=this.Zr.add(new It(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return B.resolve(a)}lookupMutationBatch(e,n){return B.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return B.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?r_:this.tr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new It(n,0),i=new It(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],a=>{const o=this.Xr(a.Yr);s.push(o)}),B.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Et(_e);return n.forEach(i=>{const s=new It(i,0),a=new It(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],o=>{r=r.add(o.Yr)})}),B.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Z.isDocumentKey(s)||(s=s.child(""));const a=new It(new Z(s),0);let o=new Et(_e);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(o=o.add(c.Yr)),!0)},a),B.resolve(this.ti(o))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Me(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return B.forEach(n.mutations,i=>{const s=new It(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new It(n,0),i=this.Zr.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(e){this.ri=e,this.docs=function(){return new nt(Z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Ht.newInvalidDocument(n))}getEntries(e,n){let r=_i();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ht.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=_i();const a=n.path,o=new Z(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(o);for(;c.hasNext();){const{key:u,value:{document:f}}=c.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||xj(Aj(f),r)<=0||(i.has(f.key)||Yd(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return B.resolve(s)}getAllFromCollectionGroup(e,n,r,i){te(9500)}ii(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new JU(this)}getSize(e){return B.resolve(this.size)}}class JU extends GU{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(e){this.persistence=e,this.si=new Ma(n=>a_(n),o_),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this.oi=0,this._i=new m_,this.targetCount=0,this.ai=al.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),B.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new al(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Pr(n),B.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),B.waitFor(s).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),B.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,n){this.ui={},this.overlays={},this.ci=new Gd(0),this.li=!1,this.li=!0,this.hi=new XU,this.referenceDelegate=e(this),this.Pi=new e5(this),this.indexManager=new jU,this.remoteDocumentCache=function(i){return new ZU(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new kU(n),this.Ii=new QU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new YU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new WU(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const i=new t5(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return B.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class t5 extends Cj{constructor(e){super(),this.currentSequenceNumber=e}}class p_{constructor(e){this.persistence=e,this.Ri=new m_,this.Vi=null}static mi(e){return new p_(e)}get fi(){if(this.Vi)return this.Vi;throw te(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),B.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.fi,r=>{const i=Z.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,oe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return B.or([()=>B.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class ad{constructor(e,n){this.persistence=e,this.pi=new Ma(r=>Oj(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=HU(this,n)}static mi(e,n){return new ad(e,n)}Ei(){}di(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return B.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?B.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,a=>this.br(e,a,n).next(o=>{o||(r++,s.removeEntry(a,oe.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),B.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Wf(e.data.value)),n}br(e,n,r){return B.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return B.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=be(),i=be();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new g_(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Gk()?8:Ij(Qt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new n5;return this.Ss(e,n,a).next(o=>{if(s.result=o,this.Vs)return this.bs(e,n,a,o.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(Xa()<=ve.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",Wa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),B.resolve()):(Xa()<=ve.DEBUG&&X("QueryEngine","Query:",Wa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Xa()<=ve.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",Wa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mr(n))):B.resolve())}ys(e,n){if(CE(n))return B.resolve(null);let r=Mr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ay(n,null,"F"),r=Mr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=be(...s);return this.ps.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Ds(n,o);return this.Cs(n,u,a,c.readTime)?this.ys(e,ay(n,null,"F")):this.vs(e,u,n,c)}))})))}ws(e,n,r,i){return CE(n)||i.isEqual(oe.min())?B.resolve(null):this.ps.getDocuments(e,r).next(s=>{const a=this.Ds(n,s);return this.Cs(n,a,r,i)?B.resolve(null):(Xa()<=ve.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Wa(n)),this.vs(e,a,n,Sj(i,Zc)).next(o=>o))})}Ds(e,n){let r=new Et(iC(e));return n.forEach((i,s)=>{Yd(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return Xa()<=ve.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",Wa(n)),this.ps.getDocumentsMatchingQuery(e,n,Is.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="LocalStore",i5=3e8;class s5{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new nt(_e),this.xs=new Ma(s=>a_(s),o_),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KU(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function a5(t,e,n,r){return new s5(t,e,n,r)}async function RC(t,e){const n=le(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],o=[];let c=be();for(const u of i){a.push(u.batchId);for(const f of u.mutations)c=c.add(f.key)}for(const u of s){o.push(u.batchId);for(const f of u.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Ls:u,removedBatchIds:a,addedBatchIds:o}))})})}function o5(t,e){const n=le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(o,c,u,f){const h=u.batch,m=h.keys();let d=B.resolve();return m.forEach(x=>{d=d.next(()=>f.getEntry(c,x)).next(_=>{const w=u.docVersions.get(x);Me(w!==null,48541),_.version.compareTo(w)<0&&(h.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),f.addEntry(_)))})}),d.next(()=>o.mutationQueue.removeMutationBatch(c,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let c=be();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(c=c.add(o.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function CC(t){const e=le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function l5(t,e){const n=le(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const o=[];e.targetChanges.forEach((f,h)=>{const m=i.get(h);if(!m)return;o.push(n.Pi.removeMatchingKeys(s,f.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(s,f.addedDocuments,h)));let d=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?d=d.withResumeToken(zt.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):f.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(f.resumeToken,r)),i=i.insert(h,d),function(_,w,y){return _.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=i5?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(m,d,f)&&o.push(n.Pi.updateTargetData(s,d))});let c=_i(),u=be();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))}),o.push(c5(s,a,e.documentUpdates).next(f=>{c=f.ks,u=f.qs})),!r.isEqual(oe.min())){const f=n.Pi.getLastRemoteSnapshotVersion(s).next(h=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));o.push(f)}return B.waitFor(o).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.Ms=i,s))}function c5(t,e,n){let r=be(),i=be();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=_i();return n.forEach((o,c)=>{const u=s.get(o);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),c.isNoDocument()&&c.version.isEqual(oe.min())?(e.removeEntry(o,c.readTime),a=a.insert(o,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),a=a.insert(o,c)):X(y_,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",c.version)}),{ks:a,qs:i}})}function u5(t,e){const n=le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=r_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function f5(t,e){const n=le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,B.resolve(i)):n.Pi.allocateTargetId(r).next(a=>(i=new ls(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function fy(t,e,n){const r=le(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!xl(a))throw a;X(y_,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function BE(t,e,n){const r=le(t);let i=oe.min(),s=be();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,u,f){const h=le(c),m=h.xs.get(f);return m!==void 0?B.resolve(h.Ms.get(m)):h.Pi.getTargetData(u,f)}(r,a,Mr(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,o.targetId).next(c=>{s=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(a,e,n?i:oe.min(),n?s:be())).next(o=>(h5(r,Xj(e),o),{documents:o,Qs:s})))}function h5(t,e,n){let r=t.Os.get(e)||oe.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class FE{constructor(){this.activeTargetIds=nU()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class d5{constructor(){this.Mo=new FE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new FE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="ConnectivityMonitor";class HE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){X(qE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){X(qE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xf=null;function hy(){return xf===null?xf=function(){return 268435456+Math.round(2147483648*Math.random())}():xf++,"0x"+xf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="RestConnection",p5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class g5{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===td?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const a=hy(),o=this.zo(e,n.toUriEncodedString());X(Tp,`Sending RPC '${e}' ${a}:`,o,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,s);const{host:u}=new URL(o),f=wl(u);return this.Jo(e,o,c,r,f).then(h=>(X(Tp,`Received RPC '${e}' ${a}: `,h),h),h=>{throw nl(Tp,`RPC '${e}' ${a} failed with error: `,h,"url: ",o,"request:",r),h})}Ho(e,n,r,i,s,a){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Sl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=p5[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="WebChannelConnection";class v5 extends g5{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const a=hy();return new Promise((o,c)=>{const u=new OR;u.setWithCredentials(!0),u.listenOnce(DR.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Xf.NO_ERROR:const h=u.getResponseJson();X(Ft,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(h)),o(h);break;case Xf.TIMEOUT:X(Ft,`RPC '${e}' ${a} timed out`),c(new Y(z.DEADLINE_EXCEEDED,"Request time out"));break;case Xf.HTTP_ERROR:const m=u.getStatus();if(X(Ft,`RPC '${e}' ${a} failed with status:`,m,"response text:",u.getResponseText()),m>0){let d=u.getResponseJson();Array.isArray(d)&&(d=d[0]);const x=d==null?void 0:d.error;if(x&&x.status&&x.message){const _=function(y){const b=y.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(b)>=0?b:z.UNKNOWN}(x.status);c(new Y(_,x.message))}else c(new Y(z.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new Y(z.UNAVAILABLE,"Connection failed."));break;default:te(9055,{l_:e,streamId:a,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{X(Ft,`RPC '${e}' ${a} completed.`)}});const f=JSON.stringify(i);X(Ft,`RPC '${e}' ${a} sending request:`,i),u.send(n,"POST",f,r,15)})}T_(e,n,r){const i=hy(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=VR(),o=PR(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const f=s.join("");X(Ft,`Creating RPC '${e}' stream ${i}: ${f}`,c);const h=a.createWebChannel(f,c);this.I_(h);let m=!1,d=!1;const x=new y5({Yo:w=>{d?X(Ft,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(m||(X(Ft,`Opening RPC '${e}' stream ${i} transport.`),h.open(),m=!0),X(Ft,`RPC '${e}' stream ${i} sending:`,w),h.send(w))},Zo:()=>h.close()}),_=(w,y,b)=>{w.listen(y,E=>{try{b(E)}catch(I){setTimeout(()=>{throw I},0)}})};return _(h,sc.EventType.OPEN,()=>{d||(X(Ft,`RPC '${e}' stream ${i} transport opened.`),x.o_())}),_(h,sc.EventType.CLOSE,()=>{d||(d=!0,X(Ft,`RPC '${e}' stream ${i} transport closed`),x.a_(),this.E_(h))}),_(h,sc.EventType.ERROR,w=>{d||(d=!0,nl(Ft,`RPC '${e}' stream ${i} transport errored. Name:`,w.name,"Message:",w.message),x.a_(new Y(z.UNAVAILABLE,"The operation could not be completed")))}),_(h,sc.EventType.MESSAGE,w=>{var y;if(!d){const b=w.data[0];Me(!!b,16349);const E=b,I=(E==null?void 0:E.error)||((y=E[0])==null?void 0:y.error);if(I){X(Ft,`RPC '${e}' stream ${i} received error:`,I);const P=I.status;let k=function(R){const N=ht[R];if(N!==void 0)return pC(N)}(P),A=I.message;k===void 0&&(k=z.INTERNAL,A="Unknown error status: "+P+" with message "+I.message),d=!0,x.a_(new Y(k,A)),h.close()}else X(Ft,`RPC '${e}' stream ${i} received:`,b),x.u_(b)}}),_(o,MR.STAT_EVENT,w=>{w.stat===Jg.PROXY?X(Ft,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===Jg.NOPROXY&&X(Ft,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.__()},0),x}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function Sp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jd(t){return new EU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="PersistentStream";class NC{constructor(e,n,r,i,s,a,o,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new IC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(vi(n.toString()),vi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new Y(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return X(GE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(X(GE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _5 extends NC{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=AU(this.serializer,e),r=function(s){if(!("targetChange"in s))return oe.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?oe.min():a.readTime?Pr(a.readTime):oe.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=uy(this.serializer),n.addTarget=function(s,a){let o;const c=a.target;if(o=iy(c)?{documents:CU(s,c)}:{query:IU(s,c).ft},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=vC(s,a.resumeToken);const u=oy(s,a.expectedCount);u!==null&&(o.expectedCount=u)}else if(a.snapshotVersion.compareTo(oe.min())>0){o.readTime=sd(s,a.snapshotVersion.toTimestamp());const u=oy(s,a.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const r=OU(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=uy(this.serializer),n.removeTarget=e,this.q_(n)}}class b5 extends NC{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Me(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Me(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Me(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=RU(e.writeResults,e.commitTime),r=Pr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=uy(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>xU(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{}class E5 extends w5{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Y(z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Go(e,ly(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y(z.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Ho(e,ly(n,r),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Y(z.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class T5{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vi(n),this.aa=!1):X("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="RemoteStore";class S5{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(a=>{r.enqueueAndForget(async()=>{Pa(this)&&(X(xa,"Restarting streams for network reachability change."),await async function(c){const u=le(c);u.Ea.add(4),await Lu(u),u.Ra.set("Unknown"),u.Ea.delete(4),await em(u)}(this))})}),this.Ra=new T5(r,i)}}async function em(t){if(Pa(t))for(const e of t.da)await e(!0)}async function Lu(t){for(const e of t.da)await e(!1)}function OC(t,e){const n=le(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),w_(n)?b_(n):Cl(n).O_()&&__(n,e))}function v_(t,e){const n=le(t),r=Cl(n);n.Ia.delete(e),r.O_()&&DC(n,e),n.Ia.size===0&&(r.O_()?r.L_():Pa(n)&&n.Ra.set("Unknown"))}function __(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Cl(t).Y_(e)}function DC(t,e){t.Va.Ue(e),Cl(t).Z_(e)}function b_(t){t.Va=new vU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Cl(t).start(),t.Ra.ua()}function w_(t){return Pa(t)&&!Cl(t).x_()&&t.Ia.size>0}function Pa(t){return le(t).Ea.size===0}function MC(t){t.Va=void 0}async function A5(t){t.Ra.set("Online")}async function x5(t){t.Ia.forEach((e,n)=>{__(t,e)})}async function R5(t,e){MC(t),w_(t)?(t.Ra.ha(e),b_(t)):t.Ra.set("Unknown")}async function C5(t,e,n){if(t.Ra.set("Online"),e instanceof yC&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.Ia.delete(o),i.Va.removeTarget(o))}(t,e)}catch(r){X(xa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await od(t,r)}else if(e instanceof eh?t.Va.Ze(e):e instanceof gC?t.Va.st(e):t.Va.tt(e),!n.isEqual(oe.min()))try{const r=await CC(t.localStore);n.compareTo(r)>=0&&await function(s,a){const o=s.Va.Tt(a);return o.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const f=s.Ia.get(u);f&&s.Ia.set(u,f.withResumeToken(c.resumeToken,a))}}),o.targetMismatches.forEach((c,u)=>{const f=s.Ia.get(c);if(!f)return;s.Ia.set(c,f.withResumeToken(zt.EMPTY_BYTE_STRING,f.snapshotVersion)),DC(s,c);const h=new ls(f.target,c,u,f.sequenceNumber);__(s,h)}),s.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){X(xa,"Failed to raise snapshot:",r),await od(t,r)}}async function od(t,e,n){if(!xl(e))throw e;t.Ea.add(1),await Lu(t),t.Ra.set("Offline"),n||(n=()=>CC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X(xa,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await em(t)})}function PC(t,e){return e().catch(n=>od(t,n,e))}async function tm(t){const e=le(t),n=Ms(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:r_;for(;I5(e);)try{const i=await u5(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,N5(e,i)}catch(i){await od(e,i)}VC(e)&&kC(e)}function I5(t){return Pa(t)&&t.Ta.length<10}function N5(t,e){t.Ta.push(e);const n=Ms(t);n.O_()&&n.X_&&n.ea(e.mutations)}function VC(t){return Pa(t)&&!Ms(t).x_()&&t.Ta.length>0}function kC(t){Ms(t).start()}async function O5(t){Ms(t).ra()}async function D5(t){const e=Ms(t);for(const n of t.Ta)e.ea(n.mutations)}async function M5(t,e,n){const r=t.Ta.shift(),i=f_.from(r,e,n);await PC(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await tm(t)}async function P5(t,e){e&&Ms(t).X_&&await async function(r,i){if(function(a){return pU(a)&&a!==z.ABORTED}(i.code)){const s=r.Ta.shift();Ms(r).B_(),await PC(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await tm(r)}}(t,e),VC(t)&&kC(t)}async function $E(t,e){const n=le(t);n.asyncQueue.verifyOperationInProgress(),X(xa,"RemoteStore received new credentials");const r=Pa(n);n.Ea.add(3),await Lu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await em(n)}async function V5(t,e){const n=le(t);e?(n.Ea.delete(2),await em(n)):e||(n.Ea.add(2),await Lu(n),n.Ra.set("Unknown"))}function Cl(t){return t.ma||(t.ma=function(n,r,i){const s=le(n);return s.sa(),new _5(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:A5.bind(null,t),t_:x5.bind(null,t),r_:R5.bind(null,t),H_:C5.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),w_(t)?b_(t):t.Ra.set("Unknown")):(await t.ma.stop(),MC(t))})),t.ma}function Ms(t){return t.fa||(t.fa=function(n,r,i){const s=le(n);return s.sa(),new b5(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:O5.bind(null,t),r_:P5.bind(null,t),ta:D5.bind(null,t),na:M5.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await tm(t)):(await t.fa.stop(),t.Ta.length>0&&(X(xa,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new pa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,o=new E_(e,n,a,i,s);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function T_(t,e){if(vi("AsyncQueue",`${e}: ${t}`),xl(t))return new Y(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{static emptySet(e){return new Oo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Z.comparator(n.key,r.key):(n,r)=>Z.comparator(n.key,r.key),this.keyedMap=ac(),this.sortedSet=new nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Oo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Oo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(){this.ga=new nt(Z.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):te(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class ol{constructor(e,n,r,i,s,a,o,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new ol(e,n,Oo.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k5{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class L5{constructor(){this.queries=QE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=le(n),s=i.queries;i.queries=QE(),s.forEach((a,o)=>{for(const c of o.Sa)c.onError(r)})})(this,new Y(z.ABORTED,"Firestore shutting down"))}}function QE(){return new Ma(t=>rC(t),Qd)}async function j5(t,e){const n=le(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new k5,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const o=T_(a,`Initialization of query '${Wa(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&S_(n)}async function U5(t,e){const n=le(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function z5(t,e){const n=le(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const o of a.Sa)o.Fa(i)&&(r=!0);a.wa=i}}r&&S_(n)}function B5(t,e,n){const r=le(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function S_(t){t.Ca.forEach(e=>{e.next()})}var dy,YE;(YE=dy||(dy={})).Ma="default",YE.Cache="cache";class F5{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ol(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ol.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==dy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e){this.key=e}}class jC{constructor(e){this.key=e}}class q5{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=be(),this.mutatedKeys=be(),this.eu=iC(e),this.tu=new Oo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new KE,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,o=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,h)=>{const m=i.get(f),d=Yd(this.query,h)?h:null,x=!!m&&this.mutatedKeys.has(m.key),_=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let w=!1;m&&d?m.data.isEqual(d.data)?x!==_&&(r.track({type:3,doc:d}),w=!0):this.su(m,d)||(r.track({type:2,doc:d}),w=!0,(c&&this.eu(d,c)>0||u&&this.eu(d,u)<0)&&(o=!0)):!m&&d?(r.track({type:0,doc:d}),w=!0):m&&!d&&(r.track({type:1,doc:m}),w=!0,(c||u)&&(o=!0)),w&&(d?(a=a.add(d),s=_?s.add(f):s.delete(f)):(a=a.delete(f),s=s.delete(f)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{tu:a,iu:r,Cs:o,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((f,h)=>function(d,x){const _=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te(20277,{Rt:w})}};return _(d)-_(x)}(f.type,h.type)||this.eu(f.doc,h.doc)),this.ou(r),i=i??!1;const o=n&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,u=c!==this.Za;return this.Za=c,a.length!==0||u?{snapshot:new ol(this.query,e.tu,s,a,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new KE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=be(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new jC(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new LC(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=be();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ol.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const A_="SyncEngine";class H5{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class G5{constructor(e){this.key=e,this.hu=!1}}class $5{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Ma(o=>rC(o),Qd),this.Iu=new Map,this.Eu=new Set,this.du=new nt(Z.comparator),this.Au=new Map,this.Ru=new m_,this.Vu={},this.mu=new Map,this.fu=al.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function K5(t,e,n=!0){const r=HC(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await UC(r,e,n,!0),i}async function Q5(t,e){const n=HC(t);await UC(n,e,!0,!1)}async function UC(t,e,n,r){const i=await f5(t.localStore,Mr(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await Y5(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&OC(t.remoteStore,i),o}async function Y5(t,e,n,r,i){t.pu=(h,m,d)=>async function(_,w,y,b){let E=w.view.ru(y);E.Cs&&(E=await BE(_.localStore,w.query,!1).then(({documents:A})=>w.view.ru(A,E)));const I=b&&b.targetChanges.get(w.targetId),P=b&&b.targetMismatches.get(w.targetId)!=null,k=w.view.applyChanges(E,_.isPrimaryClient,I,P);return WE(_,w.targetId,k.au),k.snapshot}(t,h,m,d);const s=await BE(t.localStore,e,!0),a=new q5(e,s.Qs),o=a.ru(s.documents),c=ku.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(o,t.isPrimaryClient,c);WE(t,n,u.au);const f=new H5(e,n,a);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function X5(t,e,n){const r=le(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(a=>!Qd(a,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await fy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&v_(r.remoteStore,i.targetId),my(r,i.targetId)}).catch(Al)):(my(r,i.targetId),await fy(r.localStore,i.targetId,!0))}async function W5(t,e){const n=le(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),v_(n.remoteStore,r.targetId))}async function Z5(t,e,n){const r=s9(t);try{const i=await function(a,o){const c=le(a),u=Qe.now(),f=o.reduce((d,x)=>d.add(x.key),be());let h,m;return c.persistence.runTransaction("Locally write mutations","readwrite",d=>{let x=_i(),_=be();return c.Ns.getEntries(d,f).next(w=>{x=w,x.forEach((y,b)=>{b.isValidDocument()||(_=_.add(y))})}).next(()=>c.localDocuments.getOverlayedDocuments(d,x)).next(w=>{h=w;const y=[];for(const b of o){const E=uU(b,h.get(b.key).overlayedDocument);E!=null&&y.push(new js(b.key,E,YR(E.value.mapValue),ar.exists(!0)))}return c.mutationQueue.addMutationBatch(d,u,y,o)}).next(w=>{m=w;const y=w.applyToLocalDocumentSet(h,_);return c.documentOverlayCache.saveOverlays(d,w.batchId,y)})}).then(()=>({batchId:m.batchId,changes:aC(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,o,c){let u=a.Vu[a.currentUser.toKey()];u||(u=new nt(_e)),u=u.insert(o,c),a.Vu[a.currentUser.toKey()]=u}(r,i.batchId,n),await ju(r,i.changes),await tm(r.remoteStore)}catch(i){const s=T_(i,"Failed to persist write");n.reject(s)}}async function zC(t,e){const n=le(t);try{const r=await l5(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Au.get(s);a&&(Me(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?Me(a.hu,14607):i.removedDocuments.size>0&&(Me(a.hu,42227),a.hu=!1))}),await ju(n,r,e)}catch(r){await Al(r)}}function XE(t,e,n){const r=le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,a)=>{const o=a.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const c=le(a);c.onlineState=o;let u=!1;c.queries.forEach((f,h)=>{for(const m of h.Sa)m.va(o)&&(u=!0)}),u&&S_(c)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function J5(t,e,n){const r=le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let a=new nt(Z.comparator);a=a.insert(s,Ht.newNoDocument(s,oe.min()));const o=be().add(s),c=new Zd(oe.min(),new Map,new nt(_e),a,o);await zC(r,c),r.du=r.du.remove(s),r.Au.delete(e),x_(r)}else await fy(r.localStore,e,!1).then(()=>my(r,e,n)).catch(Al)}async function e9(t,e){const n=le(t),r=e.batch.batchId;try{const i=await o5(n.localStore,e);FC(n,r,null),BC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ju(n,i)}catch(i){await Al(i)}}async function t9(t,e,n){const r=le(t);try{const i=await function(a,o){const c=le(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let f;return c.mutationQueue.lookupMutationBatch(u,o).next(h=>(Me(h!==null,37113),f=h.keys(),c.mutationQueue.removeMutationBatch(u,h))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,f,o)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f)).next(()=>c.localDocuments.getDocuments(u,f))})}(r.localStore,e);FC(r,e,n),BC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ju(r,i)}catch(i){await Al(i)}}function BC(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function FC(t,e,n){const r=le(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function my(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||qC(t,r)})}function qC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(v_(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),x_(t))}function WE(t,e,n){for(const r of n)r instanceof LC?(t.Ru.addReference(r.key,e),n9(t,r)):r instanceof jC?(X(A_,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||qC(t,r.key)):te(19791,{wu:r})}function n9(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(X(A_,"New document in limbo: "+n),t.Eu.add(r),x_(t))}function x_(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Z(qe.fromString(e)),r=t.fu.next();t.Au.set(r,new G5(n)),t.du=t.du.insert(n,r),OC(t.remoteStore,new ls(Mr(l_(n.path)),r,"TargetPurposeLimboResolution",Gd.ce))}}async function ju(t,e,n){const r=le(t),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((o,c)=>{a.push(r.pu(c,e,n).then(u=>{var f;if((u||n)&&r.isPrimaryClient){const h=u?!u.fromCache:(f=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:f.current;r.sharedClientState.updateQueryState(c.targetId,h?"current":"not-current")}if(u){i.push(u);const h=g_.As(c.targetId,u);s.push(h)}}))}),await Promise.all(a),r.Pu.H_(i),await async function(c,u){const f=le(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>B.forEach(u,m=>B.forEach(m.Es,d=>f.persistence.referenceDelegate.addReference(h,m.targetId,d)).next(()=>B.forEach(m.ds,d=>f.persistence.referenceDelegate.removeReference(h,m.targetId,d)))))}catch(h){if(!xl(h))throw h;X(y_,"Failed to update sequence numbers: "+h)}for(const h of u){const m=h.targetId;if(!h.fromCache){const d=f.Ms.get(m),x=d.snapshotVersion,_=d.withLastLimboFreeSnapshotVersion(x);f.Ms=f.Ms.insert(m,_)}}}(r.localStore,s))}async function r9(t,e){const n=le(t);if(!n.currentUser.isEqual(e)){X(A_,"User change. New user:",e.toKey());const r=await RC(n.localStore,e);n.currentUser=e,function(s,a){s.mu.forEach(o=>{o.forEach(c=>{c.reject(new Y(z.CANCELLED,a))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ju(n,r.Ls)}}function i9(t,e){const n=le(t),r=n.Au.get(e);if(r&&r.hu)return be().add(r.key);{let i=be();const s=n.Iu.get(e);if(!s)return i;for(const a of s){const o=n.Tu.get(a);i=i.unionWith(o.view.nu)}return i}}function HC(t){const e=le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=zC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=i9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=J5.bind(null,e),e.Pu.H_=z5.bind(null,e.eventManager),e.Pu.yu=B5.bind(null,e.eventManager),e}function s9(t){const e=le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=e9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=t9.bind(null,e),e}class ld{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return a5(this.persistence,new r5,e.initialUser,this.serializer)}Cu(e){return new xC(p_.mi,this.serializer)}Du(e){return new d5}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ld.provider={build:()=>new ld};class a9 extends ld{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Me(this.persistence.referenceDelegate instanceof ad,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new FU(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new xC(r=>ad.mi(r,n),this.serializer)}}class py{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>XE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=r9.bind(null,this.syncEngine),await V5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new L5}()}createDatastore(e){const n=Jd(e.databaseInfo.databaseId),r=function(s){return new v5(s)}(e.databaseInfo);return function(s,a,o,c){return new E5(s,a,o,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,o){return new S5(r,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,n=>XE(this.syncEngine,n,0),function(){return HE.v()?new HE:new m5}())}createSyncEngine(e,n){return function(i,s,a,o,c,u,f){const h=new $5(i,s,a,o,c,u);return f&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=le(i);X(xa,"RemoteStore shutting down."),s.Ea.add(5),await Lu(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}py.provider={build:()=>new py};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):vi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="FirestoreClient";class l9{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=qt.UNAUTHENTICATED,this.clientId=n_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{X(Ps,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(X(Ps,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=T_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ap(t,e){t.asyncQueue.verifyOperationInProgress(),X(Ps,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await RC(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ZE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await c9(t);X(Ps,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>$E(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>$E(e.remoteStore,i)),t._onlineComponents=e}async function c9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X(Ps,"Using user provided OfflineComponentProvider");try{await Ap(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===z.FAILED_PRECONDITION||i.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;nl("Error using user provided cache. Falling back to memory cache: "+n),await Ap(t,new ld)}}else X(Ps,"Using default OfflineComponentProvider"),await Ap(t,new a9(void 0));return t._offlineComponents}async function GC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X(Ps,"Using user provided OnlineComponentProvider"),await ZE(t,t._uninitializedComponentsProvider._online)):(X(Ps,"Using default OnlineComponentProvider"),await ZE(t,new py))),t._onlineComponents}function u9(t){return GC(t).then(e=>e.syncEngine)}async function JE(t){const e=await GC(t),n=e.eventManager;return n.onListen=K5.bind(null,e.syncEngine),n.onUnlisten=X5.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Q5.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=W5.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC="firestore.googleapis.com",tT=!0;class nT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Y(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KC,this.ssl=tT}else this.host=e.host,this.ssl=e.ssl??tT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=AC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<zU)throw new Y(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Tj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$C(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Y(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Y(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Y(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new dj;switch(r.type){case"firstParty":return new yj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=eT.get(n);r&&(X("ComponentProvider","Removing Datastore"),eT.delete(n),r.terminate())}(this),Promise.resolve()}}function f9(t,e,n,r={}){var u;t=ws(t,nm);const i=wl(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;i&&($x(`https://${o}`),Kx("Firestore",!0)),s.host!==KC&&s.host!==o&&nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...s,host:o,ssl:i,emulatorOptions:r};if(!Ea(c,a)&&(t._setSettings(c),r.mockUserToken)){let f,h;if(typeof r.mockUserToken=="string")f=r.mockUserToken,h=qt.MOCK_USER;else{f=kk(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Y(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new qt(m)}t._authCredentials=new mj(new LR(f,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Va(this.firestore,e,this._query)}}class gt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Es(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gt(this.firestore,e,this._key)}toJSON(){return{type:gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Pu(n,gt._jsonSchema))return new gt(e,r||null,new Z(qe.fromString(n.referencePath)))}}gt._jsonSchemaVersion="firestore/documentReference/1.0",gt._jsonSchema={type:pt("string",gt._jsonSchemaVersion),referencePath:pt("string")};class Es extends Va{constructor(e,n,r){super(e,n,l_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gt(this.firestore,null,new Z(e))}withConverter(e){return new Es(this.firestore,e,this._path)}}function th(t,e,...n){if(t=Ut(t),jR("collection","path",e),t instanceof nm){const r=qe.fromString(e,...n);return mE(r),new Es(t,null,r)}{if(!(t instanceof gt||t instanceof Es))throw new Y(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qe.fromString(e,...n));return mE(r),new Es(t.firestore,null,r)}}function Zs(t,e,...n){if(t=Ut(t),arguments.length===1&&(e=n_.newId()),jR("doc","path",e),t instanceof nm){const r=qe.fromString(e,...n);return dE(r),new gt(t,null,new Z(r))}{if(!(t instanceof gt||t instanceof Es))throw new Y(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qe.fromString(e,...n));return dE(r),new gt(t.firestore,t instanceof Es?t.converter:null,new Z(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="AsyncQueue";class iT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new IC(this,"async_queue_retry"),this._c=()=>{const r=Sp();r&&X(rT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Sp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Sp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new pa;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!xl(e))throw e;X(rT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,vi("INTERNAL UNHANDLED ERROR: ",sT(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=E_.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&te(47125,{Pc:sT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function sT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class ll extends nm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new iT,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new iT(e),this._firestoreClient=void 0,await e}}}function h9(t,e){const n=typeof t=="object"?t:Xx(),r=typeof t=="string"?t:td,i=Gv(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Pk("firestore");s&&f9(i,...s)}return i}function QC(t){if(t._terminated)throw new Y(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||d9(t),t._firestoreClient}function d9(t){var r,i,s;const e=t._freezeSettings(),n=function(o,c,u,f){return new Pj(o,c,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,$C(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new l9(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(o){const c=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gn(zt.fromBase64String(e))}catch(n){throw new Y(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gn(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Pu(e,Gn._jsonSchema))return Gn.fromBase64String(e.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:pt("string",Gn._jsonSchemaVersion),bytes:pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return _e(this._lat,e._lat)||_e(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vr._jsonSchemaVersion}}static fromJSON(e){if(Pu(e,Vr._jsonSchema))return new Vr(e.latitude,e.longitude)}}Vr._jsonSchemaVersion="firestore/geoPoint/1.0",Vr._jsonSchema={type:pt("string",Vr._jsonSchemaVersion),latitude:pt("number"),longitude:pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:kr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Pu(e,kr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new kr(e.vectorValues);throw new Y(z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}kr._jsonSchemaVersion="firestore/vectorValue/1.0",kr._jsonSchema={type:pt("string",kr._jsonSchemaVersion),vectorValues:pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9=/^__.*__$/;class p9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new js(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vu(e,this.data,n,this.fieldTransforms)}}class YC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new js(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function XC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te(40011,{Ac:t})}}class R_{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new R_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return cd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(XC(this.Ac)&&m9.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class g9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Jd(e)}Cc(e,n,r,i=!1){return new R_({Ac:e,methodName:n,Dc:r,path:Lt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function C_(t){const e=t._freezeSettings(),n=Jd(t._databaseId);return new g9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function y9(t,e,n,r,i,s={}){const a=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);N_("Data must be an object, but it was:",a,r);const o=WC(r,a);let c,u;if(s.merge)c=new Cn(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const f=[];for(const h of s.mergeFields){const m=gy(e,h,n);if(!a.contains(m))throw new Y(z.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);JC(f,m)||f.push(m)}c=new Cn(f),u=a.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=a.fieldTransforms;return new p9(new hn(o),c,u)}class sm extends im{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sm}}class I_ extends im{_toFieldTransform(e){return new aU(e.path,new ru)}isEqual(e){return e instanceof I_}}function v9(t,e,n,r){const i=t.Cc(1,e,n);N_("Data must be an object, but it was:",i,r);const s=[],a=hn.empty();Ls(r,(c,u)=>{const f=O_(e,c,n);u=Ut(u);const h=i.yc(f);if(u instanceof sm)s.push(f);else{const m=Uu(u,h);m!=null&&(s.push(f),a.set(f,m))}});const o=new Cn(s);return new YC(a,o,i.fieldTransforms)}function _9(t,e,n,r,i,s){const a=t.Cc(1,e,n),o=[gy(e,r,n)],c=[i];if(s.length%2!=0)throw new Y(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)o.push(gy(e,s[m])),c.push(s[m+1]);const u=[],f=hn.empty();for(let m=o.length-1;m>=0;--m)if(!JC(u,o[m])){const d=o[m];let x=c[m];x=Ut(x);const _=a.yc(d);if(x instanceof sm)u.push(d);else{const w=Uu(x,_);w!=null&&(u.push(d),f.set(d,w))}}const h=new Cn(u);return new YC(f,h,a.fieldTransforms)}function b9(t,e,n,r=!1){return Uu(n,t.Cc(r?4:3,e))}function Uu(t,e){if(ZC(t=Ut(t)))return N_("Unsupported field value:",e,t),WC(t,e);if(t instanceof im)return function(r,i){if(!XC(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const o of r){let c=Uu(o,i.wc(a));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ut(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return rU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Qe.fromDate(r);return{timestampValue:sd(i.serializer,s)}}if(r instanceof Qe){const s=new Qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sd(i.serializer,s)}}if(r instanceof Vr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Gn)return{bytesValue:vC(i.serializer,r._byteString)};if(r instanceof gt){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:d_(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof kr)return function(a,o){return{mapValue:{fields:{[KR]:{stringValue:QR},[nd]:{arrayValue:{values:a.toArray().map(u=>{if(typeof u!="number")throw o.Sc("VectorValues must only contain numeric values.");return c_(o.serializer,u)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${Hd(r)}`)}(t,e)}function WC(t,e){const n={};return BR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ls(t,(r,i)=>{const s=Uu(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function ZC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qe||t instanceof Vr||t instanceof Gn||t instanceof gt||t instanceof im||t instanceof kr)}function N_(t,e,n){if(!ZC(n)||!UR(n)){const r=Hd(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function gy(t,e,n){if((e=Ut(e))instanceof rm)return e._internalPath;if(typeof e=="string")return O_(t,e);throw cd("Field path arguments must be of type string or ",t,!1,void 0,n)}const w9=new RegExp("[~\\*/\\[\\]]");function O_(t,e,n){if(e.search(w9)>=0)throw cd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new rm(...e.split("."))._internalPath}catch{throw cd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function cd(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new Y(z.INVALID_ARGUMENT,o+t+c)}function JC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new E9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(D_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class E9 extends eI{data(){return super.data()}}function D_(t,e){return typeof e=="string"?O_(t,e):e instanceof rm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class M_{}class tI extends M_{}function yy(t,e,...n){let r=[];e instanceof M_&&r.push(e),r=r.concat(n),function(s){const a=s.filter(c=>c instanceof V_).length,o=s.filter(c=>c instanceof P_).length;if(a>1||a>0&&o>0)throw new Y(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class P_ extends tI{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new P_(e,n,r)}_apply(e){const n=this._parse(e);return nI(e._query,n),new Va(e.firestore,e.converter,sy(e._query,n))}_parse(e){const n=C_(e.firestore);return function(s,a,o,c,u,f,h){let m;if(u.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new Y(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){cT(h,f);const x=[];for(const _ of h)x.push(lT(c,s,_));m={arrayValue:{values:x}}}else m=lT(c,s,h)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||cT(h,f),m=b9(o,a,h,f==="in"||f==="not-in");return mt.create(u,f,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class V_ extends M_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new V_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:cr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let a=i;const o=s.getFlattenedFilters();for(const c of o)nI(a,c),a=sy(a,c)}(e._query,n),new Va(e.firestore,e.converter,sy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class k_ extends tI{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new k_(e,n)}_apply(e){const n=function(i,s,a){if(i.startAt!==null)throw new Y(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Y(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nu(s,a)}(e._query,this._field,this._direction);return new Va(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new Rl(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function oT(t,e="asc"){const n=e,r=D_("orderBy",t);return k_._create(r,n)}function lT(t,e,n){if(typeof(n=Ut(n))=="string"){if(n==="")throw new Y(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nC(e)&&n.indexOf("/")!==-1)throw new Y(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(qe.fromString(n));if(!Z.isDocumentKey(r))throw new Y(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return EE(t,new Z(r))}if(n instanceof gt)return EE(t,n._key);throw new Y(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hd(n)}.`)}function cT(t,e){if(!Array.isArray(t)||t.length===0)throw new Y(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nI(t,e){const n=function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Y(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Y(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class S9{convertValue(e,n="none"){switch(Ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ls(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[nd].arrayValue)==null?void 0:i.values)==null?void 0:s.map(a=>ct(a.doubleValue));return new kr(n)}convertGeoPoint(e){return new Vr(ct(e.latitude),ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Kd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Jc(e));default:return null}}convertTimestamp(e){const n=Ns(e);return new Qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=qe.fromString(e);Me(SC(r),9688,{name:e});const i=new eu(r.get(1),r.get(3)),s=new Z(r.popFirst(5));return i.isEqual(n)||vi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A9(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class lc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ga extends eI{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new nh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(D_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ga._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ga._jsonSchemaVersion="firestore/documentSnapshot/1.0",ga._jsonSchema={type:pt("string",ga._jsonSchemaVersion),bundleSource:pt("string","DocumentSnapshot"),bundleName:pt("string"),bundle:pt("string")};class nh extends ga{data(e={}){return super.data(e)}}class Do{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new lc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new nh(this._firestore,this._userDataWriter,r.key,r,new lc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const c=new nh(i._firestore,i._userDataWriter,o.doc.key,o.doc,new lc(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const c=new nh(i._firestore,i._userDataWriter,o.doc.key,o.doc,new lc(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,f=-1;return o.type!==0&&(u=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),f=a.indexOf(o.doc.key)),{type:x9(o.type),doc:c,oldIndex:u,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Do._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=n_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function x9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return te(61501,{type:t})}}Do._jsonSchemaVersion="firestore/querySnapshot/1.0",Do._jsonSchema={type:pt("string",Do._jsonSchemaVersion),bundleSource:pt("string","QuerySnapshot"),bundleName:pt("string"),bundle:pt("string")};class rI extends S9{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gt(this.firestore,null,n)}}function ec(t,e,n,...r){t=ws(t,gt);const i=ws(t.firestore,ll),s=C_(i);let a;return a=typeof(e=Ut(e))=="string"||e instanceof rm?_9(s,"updateDoc",t._key,e,n,r):v9(s,"updateDoc",t._key,e),L_(i,[a.toMutation(t._key,ar.exists(!0))])}function R9(t){return L_(ws(t.firestore,ll),[new u_(t._key,ar.none())])}function C9(t,e){const n=ws(t.firestore,ll),r=Zs(t),i=A9(t.converter,e);return L_(n,[y9(C_(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ar.exists(!1))]).then(()=>r)}function iI(t,...e){var c,u,f;t=Ut(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||aT(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(aT(e[r])){const h=e[r];e[r]=(c=h.next)==null?void 0:c.bind(h),e[r+1]=(u=h.error)==null?void 0:u.bind(h),e[r+2]=(f=h.complete)==null?void 0:f.bind(h)}let s,a,o;if(t instanceof gt)a=ws(t.firestore,ll),o=l_(t._key.path),s={next:h=>{e[r]&&e[r](I9(a,t,h))},error:e[r+1],complete:e[r+2]};else{const h=ws(t,Va);a=ws(h.firestore,ll),o=h._query;const m=new rI(a);s={next:d=>{e[r]&&e[r](new Do(a,m,h,d))},error:e[r+1],complete:e[r+2]},T9(t._query)}return function(m,d,x,_){const w=new o9(_),y=new F5(d,w,x);return m.asyncQueue.enqueueAndForget(async()=>j5(await JE(m),y)),()=>{w.Nu(),m.asyncQueue.enqueueAndForget(async()=>U5(await JE(m),y))}}(QC(a),o,i,s)}function L_(t,e){return function(r,i){const s=new pa;return r.asyncQueue.enqueueAndForget(async()=>Z5(await u9(r),i,s)),s.promise}(QC(t),e)}function I9(t,e,n){const r=n.docs.get(e._key),i=new rI(t);return new ga(t,i,e._key,r,new lc(n.hasPendingWrites,n.fromCache),e.converter)}function Vi(){return new I_("serverTimestamp")}(function(e,n=!0){(function(i){Sl=i})(El),tl(new Ta("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),o=new ll(new pj(r.getProvider("auth-internal")),new vj(a,r.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Y(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eu(u.options.projectId,f)}(a,i),a);return s={useFetchStreams:n,...s},o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),_s(cE,uE,e),_s(cE,uE,"esm2020")})();const am="AIzaSyAIXEsy0O_sIbiRtabItJh5DIL137WW0N0",N9=async(t,e,n)=>{var r,i,s,a,o;try{const c=`
Analyze this feature request and provide a JSON response with the following structure:

{
  "category": "enhancement|bug-fix|new-feature|ui-ux|performance|integration",
  "complexity": 1-5,
  "clarityScore": 1-10,
  "sentiment": "frustrated|neutral|excited",
  "keywords": ["keyword1", "keyword2"],
  "confidence": 0.0-1.0,
  "enhancementSuggestions": ["suggestion1", "suggestion2"]
}

Feature Request:
Title: ${t}
Description: ${e}
App Context: ${n||"General application"}

Analysis Guidelines:
- Category: Classify the type of request
- Complexity: Technical implementation difficulty (1=very simple, 5=very complex)
- Clarity Score: How well-defined the request is (1=very vague, 10=crystal clear)
- Sentiment: User's emotional tone
- Keywords: Key technical terms and concepts
- Confidence: How confident you are in this analysis
- Enhancement Suggestions: Ways to improve or clarify the request

Respond with valid JSON only.
    `,u=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${am}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:c}]}]})});if(!u.ok)throw new Error(`Gemini API request failed: ${u.status}`);const h=(o=(a=(s=(i=(r=(await u.json()).candidates)==null?void 0:r[0])==null?void 0:i.content)==null?void 0:s.parts)==null?void 0:a[0])==null?void 0:o.text;if(!h)throw new Error("No response from AI");const m=h.replace(/```json\n?|\n?```/g,"").trim(),d=JSON.parse(m);return{category:d.category||"enhancement",complexity:Math.min(Math.max(d.complexity||3,1),5),clarityScore:Math.min(Math.max(d.clarityScore||5,1),10),sentiment:d.sentiment||"neutral",keywords:d.keywords||[],confidence:Math.min(Math.max(d.confidence||.7,0),1),enhancementSuggestions:d.enhancementSuggestions||[]}}catch(c){return console.error("AI Analysis error:",c),{category:"enhancement",complexity:3,clarityScore:5,sentiment:"neutral",keywords:vy(t+" "+e),confidence:.3,enhancementSuggestions:["Consider providing more specific details about the expected behavior","Include use cases or examples to clarify the request"]}}},O9=async(t,e,n=1)=>{var r,i,s,a,o;try{const c=`
Calculate priority scores for this feature request. Return JSON with this structure:

{
  "businessImpact": 1-10,
  "userDemand": 1-10,
  "strategicAlignment": 1-10,
  "implementationFeasibility": 1-10,
  "overall": 1-10
}

Feature Request Analysis:
- Title: ${t.title}
- Description: ${t.description}
- Category: ${e.category}
- Complexity: ${e.complexity}/5
- User Priority: ${t.userPriority}
- User Role: ${t.submitterRole}
- Sentiment: ${e.sentiment}
- Clarity: ${e.clarityScore}/10

Scoring Guidelines:
- Business Impact: Revenue, retention, competitive advantage potential
- User Demand: How many users would benefit (factor in user role importance)
- Strategic Alignment: Fits with product roadmap and company goals
- Implementation Feasibility: Considering complexity and resources
- Overall: Weighted combination of above factors

Respond with valid JSON only.
    `,u=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${am}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:c}]}]})});if(!u.ok)throw new Error(`Priority calculation failed: ${u.status}`);const m=((o=(a=(s=(i=(r=(await u.json()).candidates)==null?void 0:r[0])==null?void 0:i.content)==null?void 0:s.parts)==null?void 0:a[0])==null?void 0:o.text).replace(/```json\n?|\n?```/g,"").trim(),d=JSON.parse(m),x=Math.min(d.userDemand*n,10),_=d.businessImpact*.4+x*.25+d.strategicAlignment*.2+d.implementationFeasibility*.15;return{businessImpact:Math.min(Math.max(d.businessImpact||5,1),10),userDemand:Math.min(Math.max(x,1),10),strategicAlignment:Math.min(Math.max(d.strategicAlignment||5,1),10),implementationFeasibility:Math.min(Math.max(d.implementationFeasibility||5,1),10),overall:Math.min(Math.max(_,1),10)}}catch(c){console.error("Priority calculation error:",c);const f={low:3,medium:5,high:7,critical:9}[t.userPriority]||5;return{businessImpact:f,userDemand:f*n,strategicAlignment:f,implementationFeasibility:Math.max(10-e.complexity,1),overall:f}}},D9=async(t,e)=>{var n,r,i,s,a;try{const o=`
Estimate development effort for this feature request. Return JSON with this structure:

{
  "totalHours": number,
  "frontendHours": number,
  "backendHours": number,
  "designHours": number,
  "qaHours": number,
  "riskFactors": ["risk1", "risk2"],
  "dependencies": ["dependency1", "dependency2"],
  "teamMembers": ["Frontend Developer", "Backend Developer"]
}

Feature Analysis:
- Title: ${t.title}
- Description: ${t.description}
- Category: ${e.category}
- Complexity: ${e.complexity}/5

Estimation Guidelines:
- Consider all phases: design, development, testing, deployment
- Factor in complexity and category type
- Identify potential risks and blockers
- List required team members and skills
- Include time for code review and documentation

Respond with valid JSON only.
    `,c=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${am}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:o}]}]})});if(!c.ok)throw new Error(`Effort estimation failed: ${c.status}`);const h=((a=(s=(i=(r=(n=(await c.json()).candidates)==null?void 0:n[0])==null?void 0:r.content)==null?void 0:i.parts)==null?void 0:s[0])==null?void 0:a.text).replace(/```json\n?|\n?```/g,"").trim(),m=JSON.parse(h);return{totalHours:m.totalHours||e.complexity*8,frontendHours:m.frontendHours||0,backendHours:m.backendHours||0,designHours:m.designHours||0,qaHours:m.qaHours||0,riskFactors:m.riskFactors||[],dependencies:m.dependencies||[],teamMembers:m.teamMembers||["Developer"]}}catch(o){console.error("Effort estimation error:",o);const c=e.complexity*8;return{totalHours:c,frontendHours:Math.floor(c*.4),backendHours:Math.floor(c*.4),designHours:Math.floor(c*.1),qaHours:Math.floor(c*.1),riskFactors:["Complexity may be higher than estimated"],dependencies:["Requirements clarification needed"],teamMembers:["Frontend Developer","Backend Developer"]}}},M9=async(t,e)=>{var n,r,i,s,a;try{const o=`
Assess business impact for this feature request. Return JSON with this structure:

{
  "retentionImpact": 1-10,
  "revenueImpact": 1-10,
  "competitiveAdvantage": 1-10,
  "uxImprovement": 1-10,
  "operationalEfficiency": 1-10
}

Feature Details:
- Title: ${t.title}
- Description: ${t.description}
- Category: ${e.category}
- User Role: ${t.submitterRole}
- Sentiment: ${e.sentiment}

Assessment Guidelines:
- Retention Impact: How likely this keeps users engaged
- Revenue Impact: Potential to drive revenue growth
- Competitive Advantage: Market differentiation value
- UX Improvement: User experience enhancement
- Operational Efficiency: Internal process improvements

Respond with valid JSON only.
    `,c=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash-exp:generateContent?key=${am}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:o}]}]})});if(!c.ok)throw new Error(`Business impact assessment failed: ${c.status}`);const h=((a=(s=(i=(r=(n=(await c.json()).candidates)==null?void 0:n[0])==null?void 0:r.content)==null?void 0:i.parts)==null?void 0:s[0])==null?void 0:a.text).replace(/```json\n?|\n?```/g,"").trim(),m=JSON.parse(h);return{retentionImpact:Math.min(Math.max(m.retentionImpact||5,1),10),revenueImpact:Math.min(Math.max(m.revenueImpact||5,1),10),competitiveAdvantage:Math.min(Math.max(m.competitiveAdvantage||5,1),10),uxImprovement:Math.min(Math.max(m.uxImprovement||5,1),10),operationalEfficiency:Math.min(Math.max(m.operationalEfficiency||5,1),10)}}catch(o){return console.error("Business impact assessment error:",o),{retentionImpact:5,revenueImpact:5,competitiveAdvantage:5,uxImprovement:5,operationalEfficiency:5}}},P9=async(t,e)=>{var i;const n=vy(t.title+" "+t.description),r=[];for(const s of e){const a=((i=s.aiAnalysis)==null?void 0:i.keywords)||vy(s.title+" "+s.description);n.filter(u=>a.includes(u)).length/Math.max(n.length,a.length)>.6&&r.push(s.id)}return r},vy=t=>{const e=t.toLowerCase().replace(/[^\w\s]/g,"").split(/\s+/).filter(r=>r.length>3),n=["this","that","with","have","will","from","they","been","were","said","each","which","their","time","would","there","could","other"];return[...new Set(e.filter(r=>!n.includes(r)))]};let xp=null,uT=null;const ji=()=>(!xp&&window.__firebase_config&&(xp=$v(window.__firebase_config),uT=h9(xp)),uT),V9=(t,e="external")=>{const[n,r]=T.useState([]),[i,s]=T.useState(!0),[a,o]=T.useState(null);T.useEffect(()=>{if(!t)return;(()=>{const x=ji();if(!x){console.log("Using demo data - Firestore not available"),r([]),s(!1);return}const _=window.__app_id?`artifacts/${window.__app_id}/feature-requests`:"feature-requests";let w;w=yy(th(x,_),oT("timestamp","desc"));const y=iI(w,b=>{const E=[];b.forEach(I=>{const P=I.data();E.push({id:I.id,...P,timestamp:P.timestamp||null,aiAnalysis:P.aiAnalysis?{...P.aiAnalysis,analysisTimestamp:P.aiAnalysis.analysisTimestamp||null}:void 0,priorityScore:P.priorityScore?{...P.priorityScore,calculatedAt:P.priorityScore.calculatedAt||null}:void 0,effortEstimate:P.effortEstimate?{...P.effortEstimate,estimatedAt:P.effortEstimate.estimatedAt||null}:void 0,businessImpact:P.businessImpact?{...P.businessImpact,assessedAt:P.businessImpact.assessedAt||null}:void 0})}),r(E),s(!1)},b=>{console.error("Firestore error:",b),o("Failed to load feature requests"),s(!1)});return()=>y()})()},[t,e]);const c=async d=>{if(!t)throw new Error("User not authenticated");const x=ji();if(!x){console.log("Creating demo request - Firestore not available");const _={id:"demo-"+Date.now(),title:d.title,description:d.description,submittedBy:t,submitterName:d.testerInfo.name,submitterRole:d.testerInfo.role,appId:d.appId,appName:d.appName,status:"submitted",userPriority:d.userPriority,timestamp:{toDate:()=>new Date},votes:0,comments:[],watchers:[t],tags:d.tags||[],aiAnalysis:{category:"enhancement",complexity:Math.floor(Math.random()*5)+1,clarityScore:Math.floor(Math.random()*10)+1,sentiment:"positive",keywords:d.tags||[],confidence:.8,duplicates:[],enhancementSuggestions:["Consider adding more specific requirements","Include user impact metrics"],analysisTimestamp:{toDate:()=>new Date}},priorityScore:{overall:Math.random()*10,businessImpact:Math.random()*10,userDemand:Math.random()*10,technicalFeasibility:Math.random()*10,strategicAlignment:Math.random()*10,calculatedAt:{toDate:()=>new Date}}};return r(w=>[_,...w]),_.id}try{const _={title:d.title,description:d.description,submittedBy:t,submitterName:d.testerInfo.name,submitterRole:d.testerInfo.role,appId:d.appId,appName:d.appName,status:"analyzing",userPriority:d.userPriority,timestamp:Vi(),votes:0,comments:[],watchers:[t],tags:d.tags||[],testerEmail:d.testerInfo.email},w=window.__app_id?`artifacts/${window.__app_id}/feature-requests`:"feature-requests",y=await C9(th(x,w),_);return u(y.id,d.title,d.description,d.appName),y.id}catch(_){throw console.error("Error submitting request:",_),new Error("Failed to submit feature request")}},u=async(d,x,_,w)=>{try{const y=ji();if(!y)return;const b=await N9(x,_,w),E=await P9({title:x,description:_},n),P=`${window.__app_id?`artifacts/${window.__app_id}/feature-requests`:"feature-requests"}/${d}`;await ec(Zs(y,P),{aiAnalysis:{...b,duplicates:E,analysisTimestamp:Vi()},status:"reviewed"});const k=n.find(N=>N.id===d);if(!k)return;const A=await O9({...k,aiAnalysis:{...b,duplicates:E,analysisTimestamp:Vi()}},b,1),S=await D9(k,b),R=await M9(k,b);await ec(Zs(y,P),{priorityScore:{...A,calculatedAt:Vi()},effortEstimate:{...S,estimatedAt:Vi()},businessImpact:{...R,assessedAt:Vi()}})}catch(y){console.error("AI Analysis failed:",y);const b=ji();if(b){const I=`${window.__app_id?`artifacts/${window.__app_id}/feature-requests`:"feature-requests"}/${d}`;await ec(Zs(b,I),{status:"submitted",aiAnalysis:{category:"enhancement",complexity:3,clarityScore:5,sentiment:"neutral",keywords:[],confidence:.3,duplicates:[],enhancementSuggestions:["AI analysis failed - manual review needed"],analysisTimestamp:Vi()}})}}};return{requests:n,loading:i,error:a,submitRequest:c,updateRequestStatus:async(d,x)=>{if(!t)throw new Error("User not authenticated");const _=ji();if(!_){r(w=>w.map(y=>y.id===d?{...y,status:x,...x==="completed"&&{actualCompletion:{toDate:()=>new Date}}}:y));return}try{const y=`${window.__app_id?`artifacts/${window.__app_id}/feature-requests`:"feature-requests"}/${d}`;await ec(Zs(_,y),{status:x,...x==="completed"&&{actualCompletion:Vi()}})}catch(w){throw console.error("Error updating status:",w),new Error("Failed to update request status")}},voteOnRequest:async(d,x=!0)=>{if(!t)throw new Error("User not authenticated");const _=ji();if(!_){r(w=>w.map(y=>y.id===d?{...y,votes:Math.max(0,y.votes+(x?1:-1))}:y));return}try{const w=n.find(E=>E.id===d);if(!w)return;const b=`${window.__app_id?`artifacts/${window.__app_id}/feature-requests`:"feature-requests"}/${d}`;await ec(Zs(_,b),{votes:Math.max(0,w.votes+(x?1:-1))})}catch(w){throw console.error("Error voting on request:",w),new Error("Failed to vote on request")}},deleteRequest:async d=>{if(!t)throw new Error("User not authenticated");const x=ji();if(!x){r(_=>_.filter(w=>w.id!==d));return}try{const w=`${window.__app_id?`artifacts/${window.__app_id}/feature-requests`:"feature-requests"}/${d}`;await R9(Zs(x,w))}catch(_){throw console.error("Error deleting request:",_),new Error("Failed to delete request")}}}},k9=t=>{const[e,n]=T.useState(null),[r,i]=T.useState(!0);return T.useEffect(()=>{if(!t)return;(()=>{const a=ji();if(!a){n({totalRequests:0,requestsByCategory:{},requestsByStatus:{},averagePriorityScore:0,topRequestedFeatures:[],trendData:[]}),i(!1);return}const o=window.__app_id?`artifacts/${window.__app_id}/feature-requests`:"feature-requests",c=yy(th(a,o)),u=iI(c,f=>{const h=[];f.forEach(y=>{h.push({id:y.id,...y.data()})});const m=h.length,d=h.reduce((y,b)=>{var I;const E=((I=b.aiAnalysis)==null?void 0:I.category)||"uncategorized";return y[E]=(y[E]||0)+1,y},{}),x=h.reduce((y,b)=>(y[b.status]=(y[b.status]||0)+1,y),{}),_=h.filter(y=>y.priorityScore).reduce((y,b)=>{var E;return y+(((E=b.priorityScore)==null?void 0:E.overall)||0)},0)/Math.max(h.filter(y=>y.priorityScore).length,1),w=h.sort((y,b)=>{var E,I;return(((E=b.priorityScore)==null?void 0:E.overall)||0)-(((I=y.priorityScore)==null?void 0:I.overall)||0)}).slice(0,5);n({totalRequests:m,requestsByCategory:d,requestsByStatus:x,averagePriorityScore:_,topRequestedFeatures:w,trendData:[]}),i(!1)});return()=>u()})()},[t]),{analytics:e,loading:r}},bn=T.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Je("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));bn.displayName="Card";const wn=T.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Je("flex flex-col space-y-1.5 p-6",t),...e}));wn.displayName="CardHeader";const En=T.forwardRef(({className:t,...e},n)=>g.jsx("h3",{ref:n,className:Je("text-2xl font-semibold leading-none tracking-tight",t),...e}));En.displayName="CardTitle";const L9=T.forwardRef(({className:t,...e},n)=>g.jsx("p",{ref:n,className:Je("text-sm text-muted-foreground",t),...e}));L9.displayName="CardDescription";const Tn=T.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Je("p-6 pt-0",t),...e}));Tn.displayName="CardContent";const j9=T.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:Je("flex items-center p-6 pt-0",t),...e}));j9.displayName="CardFooter";const fT=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,hT=_x,j_=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return hT(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(u=>{const f=n==null?void 0:n[u],h=s==null?void 0:s[u];if(f===null)return null;const m=fT(f)||fT(h);return i[u][m]}),o=n&&Object.entries(n).reduce((u,f)=>{let[h,m]=f;return m===void 0||(u[h]=m),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,f)=>{let{class:h,className:m,...d}=f;return Object.entries(d).every(x=>{let[_,w]=x;return Array.isArray(w)?w.includes({...s,...o}[_]):{...s,...o}[_]===w})?[...u,h,m]:u},[]);return hT(t,a,c,n==null?void 0:n.class,n==null?void 0:n.className)},U9=j_("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),An=T.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const a=r?bM:"button";return g.jsx(a,{className:Je(U9({variant:e,size:n,className:t})),ref:s,...i})});An.displayName="Button";const Fi=T.forwardRef(({className:t,type:e,...n},r)=>g.jsx("input",{type:e,className:Je("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Fi.displayName="Input";function sI(t){const e=t+"CollectionProvider",[n,r]=yl(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=_=>{const{scope:w,children:y}=_,b=G.useRef(null),E=G.useRef(new Map).current;return g.jsx(i,{scope:w,itemMap:E,collectionRef:b,children:y})};a.displayName=e;const o=t+"CollectionSlot",c=Gc(o),u=G.forwardRef((_,w)=>{const{scope:y,children:b}=_,E=s(o,y),I=ut(w,E.collectionRef);return g.jsx(c,{ref:I,children:b})});u.displayName=o;const f=t+"CollectionItemSlot",h="data-radix-collection-item",m=Gc(f),d=G.forwardRef((_,w)=>{const{scope:y,children:b,...E}=_,I=G.useRef(null),P=ut(w,I),k=s(f,y);return G.useEffect(()=>(k.itemMap.set(I,{ref:I,...E}),()=>void k.itemMap.delete(I))),g.jsx(m,{[h]:"",ref:P,children:b})});d.displayName=f;function x(_){const w=s(t+"CollectionConsumer",_);return G.useCallback(()=>{const b=w.collectionRef.current;if(!b)return[];const E=Array.from(b.querySelectorAll(`[${h}]`));return Array.from(w.itemMap.values()).sort((k,A)=>E.indexOf(k.ref.current)-E.indexOf(A.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:a,Slot:u,ItemSlot:d},x,r]}var z9=T.createContext(void 0);function U_(t){const e=T.useContext(z9);return t||e||"ltr"}var Rp="rovingFocusGroup.onEntryFocus",B9={bubbles:!1,cancelable:!0},zu="RovingFocusGroup",[_y,aI,F9]=sI(zu),[q9,oI]=yl(zu,[F9]),[H9,G9]=q9(zu),lI=T.forwardRef((t,e)=>g.jsx(_y.Provider,{scope:t.__scopeRovingFocusGroup,children:g.jsx(_y.Slot,{scope:t.__scopeRovingFocusGroup,children:g.jsx($9,{...t,ref:e})})}));lI.displayName=zu;var $9=T.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...h}=t,m=T.useRef(null),d=ut(e,m),x=U_(s),[_,w]=Fh({prop:a,defaultProp:o??null,onChange:c,caller:zu}),[y,b]=T.useState(!1),E=xs(u),I=aI(n),P=T.useRef(!1),[k,A]=T.useState(0);return T.useEffect(()=>{const S=m.current;if(S)return S.addEventListener(Rp,E),()=>S.removeEventListener(Rp,E)},[E]),g.jsx(H9,{scope:n,orientation:r,dir:x,loop:i,currentTabStopId:_,onItemFocus:T.useCallback(S=>w(S),[w]),onItemShiftTab:T.useCallback(()=>b(!0),[]),onFocusableItemAdd:T.useCallback(()=>A(S=>S+1),[]),onFocusableItemRemove:T.useCallback(()=>A(S=>S-1),[]),children:g.jsx(Pe.div,{tabIndex:y||k===0?-1:0,"data-orientation":r,...h,ref:d,style:{outline:"none",...t.style},onMouseDown:Te(t.onMouseDown,()=>{P.current=!0}),onFocus:Te(t.onFocus,S=>{const R=!P.current;if(S.target===S.currentTarget&&R&&!y){const N=new CustomEvent(Rp,B9);if(S.currentTarget.dispatchEvent(N),!N.defaultPrevented){const M=I().filter(j=>j.focusable),O=M.find(j=>j.active),D=M.find(j=>j.id===_),se=[O,D,...M].filter(Boolean).map(j=>j.ref.current);fI(se,f)}}P.current=!1}),onBlur:Te(t.onBlur,()=>b(!1))})})}),cI="RovingFocusGroupItem",uI=T.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:a,...o}=t,c=Au(),u=s||c,f=G9(cI,n),h=f.currentTabStopId===u,m=aI(n),{onFocusableItemAdd:d,onFocusableItemRemove:x,currentTabStopId:_}=f;return T.useEffect(()=>{if(r)return d(),()=>x()},[r,d,x]),g.jsx(_y.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:g.jsx(Pe.span,{tabIndex:h?0:-1,"data-orientation":f.orientation,...o,ref:e,onMouseDown:Te(t.onMouseDown,w=>{r?f.onItemFocus(u):w.preventDefault()}),onFocus:Te(t.onFocus,()=>f.onItemFocus(u)),onKeyDown:Te(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){f.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const y=Y9(w,f.orientation,f.dir);if(y!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let E=m().filter(I=>I.focusable).map(I=>I.ref.current);if(y==="last")E.reverse();else if(y==="prev"||y==="next"){y==="prev"&&E.reverse();const I=E.indexOf(w.currentTarget);E=f.loop?X9(E,I+1):E.slice(I+1)}setTimeout(()=>fI(E))}}),children:typeof a=="function"?a({isCurrentTabStop:h,hasTabStop:_!=null}):a})})});uI.displayName=cI;var K9={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Q9(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Y9(t,e,n){const r=Q9(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return K9[r]}function fI(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function X9(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var W9=lI,Z9=uI,om="Tabs",[J9]=yl(om,[oI]),hI=oI(),[ez,z_]=J9(om),dI=T.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:o,activationMode:c="automatic",...u}=t,f=U_(o),[h,m]=Fh({prop:r,onChange:i,defaultProp:s??"",caller:om});return g.jsx(ez,{scope:n,baseId:Au(),value:h,onValueChange:m,orientation:a,dir:f,activationMode:c,children:g.jsx(Pe.div,{dir:f,"data-orientation":a,...u,ref:e})})});dI.displayName=om;var mI="TabsList",pI=T.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=z_(mI,n),a=hI(n);return g.jsx(W9,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:r,children:g.jsx(Pe.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});pI.displayName=mI;var gI="TabsTrigger",yI=T.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,a=z_(gI,n),o=hI(n),c=bI(a.baseId,r),u=wI(a.baseId,r),f=r===a.value;return g.jsx(Z9,{asChild:!0,...o,focusable:!i,active:f,children:g.jsx(Pe.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:e,onMouseDown:Te(t.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?a.onValueChange(r):h.preventDefault()}),onKeyDown:Te(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&a.onValueChange(r)}),onFocus:Te(t.onFocus,()=>{const h=a.activationMode!=="manual";!f&&!i&&h&&a.onValueChange(r)})})})});yI.displayName=gI;var vI="TabsContent",_I=T.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...a}=t,o=z_(vI,n),c=bI(o.baseId,r),u=wI(o.baseId,r),f=r===o.value,h=T.useRef(f);return T.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),g.jsx(Lv,{present:i||f,children:({present:m})=>g.jsx(Pe.div,{"data-state":f?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!m,id:u,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:m&&s})})});_I.displayName=vI;function bI(t,e){return`${t}-trigger-${e}`}function wI(t,e){return`${t}-content-${e}`}var tz=dI,EI=pI,TI=yI,SI=_I;const nz=tz,AI=T.forwardRef(({className:t,...e},n)=>g.jsx(EI,{ref:n,className:Je("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));AI.displayName=EI.displayName;const rh=T.forwardRef(({className:t,...e},n)=>g.jsx(TI,{ref:n,className:Je("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));rh.displayName=TI.displayName;const ih=T.forwardRef(({className:t,...e},n)=>g.jsx(SI,{ref:n,className:Je("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));ih.displayName=SI.displayName;function dT(t,[e,n]){return Math.min(n,Math.max(e,t))}var Cp=0;function rz(){T.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??mT()),document.body.insertAdjacentElement("beforeend",t[1]??mT()),Cp++,()=>{Cp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Cp--}},[])}function mT(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ip="focusScope.autoFocusOnMount",Np="focusScope.autoFocusOnUnmount",pT={bubbles:!1,cancelable:!0},iz="FocusScope",xI=T.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[o,c]=T.useState(null),u=xs(i),f=xs(s),h=T.useRef(null),m=ut(e,_=>c(_)),d=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(r){let _=function(E){if(d.paused||!o)return;const I=E.target;o.contains(I)?h.current=I:Ui(h.current,{select:!0})},w=function(E){if(d.paused||!o)return;const I=E.relatedTarget;I!==null&&(o.contains(I)||Ui(h.current,{select:!0}))},y=function(E){if(document.activeElement===document.body)for(const P of E)P.removedNodes.length>0&&Ui(o)};document.addEventListener("focusin",_),document.addEventListener("focusout",w);const b=new MutationObserver(y);return o&&b.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",w),b.disconnect()}}},[r,o,d.paused]),T.useEffect(()=>{if(o){yT.add(d);const _=document.activeElement;if(!o.contains(_)){const y=new CustomEvent(Ip,pT);o.addEventListener(Ip,u),o.dispatchEvent(y),y.defaultPrevented||(sz(uz(RI(o)),{select:!0}),document.activeElement===_&&Ui(o))}return()=>{o.removeEventListener(Ip,u),setTimeout(()=>{const y=new CustomEvent(Np,pT);o.addEventListener(Np,f),o.dispatchEvent(y),y.defaultPrevented||Ui(_??document.body,{select:!0}),o.removeEventListener(Np,f),yT.remove(d)},0)}}},[o,u,f,d]);const x=T.useCallback(_=>{if(!n&&!r||d.paused)return;const w=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,y=document.activeElement;if(w&&y){const b=_.currentTarget,[E,I]=az(b);E&&I?!_.shiftKey&&y===I?(_.preventDefault(),n&&Ui(E,{select:!0})):_.shiftKey&&y===E&&(_.preventDefault(),n&&Ui(I,{select:!0})):y===b&&_.preventDefault()}},[n,r,d.paused]);return g.jsx(Pe.div,{tabIndex:-1,...a,ref:m,onKeyDown:x})});xI.displayName=iz;function sz(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ui(r,{select:e}),document.activeElement!==n)return}function az(t){const e=RI(t),n=gT(e,t),r=gT(e.reverse(),t);return[n,r]}function RI(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function gT(t,e){for(const n of t)if(!oz(n,{upTo:e}))return n}function oz(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function lz(t){return t instanceof HTMLInputElement&&"select"in t}function Ui(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&lz(t)&&e&&t.select()}}var yT=cz();function cz(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=vT(t,e),t.unshift(e)},remove(e){var n;t=vT(t,e),(n=t[0])==null||n.resume()}}}function vT(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function uz(t){return t.filter(e=>e.tagName!=="A")}function fz(t){const e=T.useRef({value:t,previous:t});return T.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var hz=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},qa=new WeakMap,Rf=new WeakMap,Cf={},Op=0,CI=function(t){return t&&(t.host||CI(t.parentNode))},dz=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=CI(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},mz=function(t,e,n,r){var i=dz(e,Array.isArray(t)?t:[t]);Cf[n]||(Cf[n]=new WeakMap);var s=Cf[n],a=[],o=new Set,c=new Set(i),u=function(h){!h||o.has(h)||(o.add(h),u(h.parentNode))};i.forEach(u);var f=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(m){if(o.has(m))f(m);else try{var d=m.getAttribute(r),x=d!==null&&d!=="false",_=(qa.get(m)||0)+1,w=(s.get(m)||0)+1;qa.set(m,_),s.set(m,w),a.push(m),_===1&&x&&Rf.set(m,!0),w===1&&m.setAttribute(n,"true"),x||m.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",m,y)}})};return f(e),o.clear(),Op++,function(){a.forEach(function(h){var m=qa.get(h)-1,d=s.get(h)-1;qa.set(h,m),s.set(h,d),m||(Rf.has(h)||h.removeAttribute(r),Rf.delete(h)),d||h.removeAttribute(n)}),Op--,Op||(qa=new WeakMap,qa=new WeakMap,Rf=new WeakMap,Cf={})}},pz=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=hz(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),mz(r,i,n,"aria-hidden")):function(){return null}},Sr=function(){return Sr=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Sr.apply(this,arguments)};function II(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function gz(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var sh="right-scroll-bar-position",ah="width-before-scroll-bar",yz="with-scroll-bars-hidden",vz="--removed-body-scroll-bar-size";function Dp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function _z(t,e){var n=T.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var bz=typeof window<"u"?T.useLayoutEffect:T.useEffect,_T=new WeakMap;function wz(t,e){var n=_z(null,function(r){return t.forEach(function(i){return Dp(i,r)})});return bz(function(){var r=_T.get(n);if(r){var i=new Set(r),s=new Set(t),a=n.current;i.forEach(function(o){s.has(o)||Dp(o,null)}),s.forEach(function(o){i.has(o)||Dp(o,a)})}_T.set(n,t)},[t]),n}function Ez(t){return t}function Tz(t,e){e===void 0&&(e=Ez);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var a=e(s,r);return n.push(a),function(){n=n.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(o){return s(o)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var o=n;n=[],o.forEach(s),a=n}var c=function(){var f=a;a=[],f.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(f){a.push(f),u()},filter:function(f){return a=a.filter(f),n}}}};return i}function Sz(t){t===void 0&&(t={});var e=Tz(null);return e.options=Sr({async:!0,ssr:!1},t),e}var NI=function(t){var e=t.sideCar,n=II(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return T.createElement(r,Sr({},n))};NI.isSideCarExport=!0;function Az(t,e){return t.useMedium(e),NI}var OI=Sz(),Mp=function(){},lm=T.forwardRef(function(t,e){var n=T.useRef(null),r=T.useState({onScrollCapture:Mp,onWheelCapture:Mp,onTouchMoveCapture:Mp}),i=r[0],s=r[1],a=t.forwardProps,o=t.children,c=t.className,u=t.removeScrollBar,f=t.enabled,h=t.shards,m=t.sideCar,d=t.noRelative,x=t.noIsolation,_=t.inert,w=t.allowPinchZoom,y=t.as,b=y===void 0?"div":y,E=t.gapMode,I=II(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=m,k=wz([n,e]),A=Sr(Sr({},I),i);return T.createElement(T.Fragment,null,f&&T.createElement(P,{sideCar:OI,removeScrollBar:u,shards:h,noRelative:d,noIsolation:x,inert:_,setCallbacks:s,allowPinchZoom:!!w,lockRef:n,gapMode:E}),a?T.cloneElement(T.Children.only(o),Sr(Sr({},A),{ref:k})):T.createElement(b,Sr({},A,{className:c,ref:k}),o))});lm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};lm.classNames={fullWidth:ah,zeroRight:sh};var xz=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Rz(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=xz();return e&&t.setAttribute("nonce",e),t}function Cz(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Iz(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Nz=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Rz())&&(Cz(e,n),Iz(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Oz=function(){var t=Nz();return function(e,n){T.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},DI=function(){var t=Oz(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Dz={left:0,top:0,right:0,gap:0},Pp=function(t){return parseInt(t||"",10)||0},Mz=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Pp(n),Pp(r),Pp(i)]},Pz=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Dz;var e=Mz(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Vz=DI(),Mo="data-scroll-locked",kz=function(t,e,n,r){var i=t.left,s=t.top,a=t.right,o=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(yz,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(Mo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(sh,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(ah,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(sh," .").concat(sh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ah," .").concat(ah,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Mo,`] {
    `).concat(vz,": ").concat(o,`px;
  }
`)},bT=function(){var t=parseInt(document.body.getAttribute(Mo)||"0",10);return isFinite(t)?t:0},Lz=function(){T.useEffect(function(){return document.body.setAttribute(Mo,(bT()+1).toString()),function(){var t=bT()-1;t<=0?document.body.removeAttribute(Mo):document.body.setAttribute(Mo,t.toString())}},[])},jz=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Lz();var s=T.useMemo(function(){return Pz(i)},[i]);return T.createElement(Vz,{styles:kz(s,!e,i,n?"":"!important")})},by=!1;if(typeof window<"u")try{var If=Object.defineProperty({},"passive",{get:function(){return by=!0,!0}});window.addEventListener("test",If,If),window.removeEventListener("test",If,If)}catch{by=!1}var Ha=by?{passive:!1}:!1,Uz=function(t){return t.tagName==="TEXTAREA"},MI=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Uz(t)&&n[e]==="visible")},zz=function(t){return MI(t,"overflowY")},Bz=function(t){return MI(t,"overflowX")},wT=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=PI(t,r);if(i){var s=VI(t,r),a=s[1],o=s[2];if(a>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Fz=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},qz=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},PI=function(t,e){return t==="v"?zz(e):Bz(e)},VI=function(t,e){return t==="v"?Fz(e):qz(e)},Hz=function(t,e){return t==="h"&&e==="rtl"?-1:1},Gz=function(t,e,n,r,i){var s=Hz(t,window.getComputedStyle(e).direction),a=s*r,o=n.target,c=e.contains(o),u=!1,f=a>0,h=0,m=0;do{if(!o)break;var d=VI(t,o),x=d[0],_=d[1],w=d[2],y=_-w-s*x;(x||y)&&PI(t,o)&&(h+=y,m+=x);var b=o.parentNode;o=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!c&&o!==document.body||c&&(e.contains(o)||e===o));return(f&&Math.abs(h)<1||!f&&Math.abs(m)<1)&&(u=!0),u},Nf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},ET=function(t){return[t.deltaX,t.deltaY]},TT=function(t){return t&&"current"in t?t.current:t},$z=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Kz=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Qz=0,Ga=[];function Yz(t){var e=T.useRef([]),n=T.useRef([0,0]),r=T.useRef(),i=T.useState(Qz++)[0],s=T.useState(DI)[0],a=T.useRef(t);T.useEffect(function(){a.current=t},[t]),T.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var _=gz([t.lockRef.current],(t.shards||[]).map(TT),!0).filter(Boolean);return _.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),_.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var o=T.useCallback(function(_,w){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!a.current.allowPinchZoom;var y=Nf(_),b=n.current,E="deltaX"in _?_.deltaX:b[0]-y[0],I="deltaY"in _?_.deltaY:b[1]-y[1],P,k=_.target,A=Math.abs(E)>Math.abs(I)?"h":"v";if("touches"in _&&A==="h"&&k.type==="range")return!1;var S=wT(A,k);if(!S)return!0;if(S?P=A:(P=A==="v"?"h":"v",S=wT(A,k)),!S)return!1;if(!r.current&&"changedTouches"in _&&(E||I)&&(r.current=P),!P)return!0;var R=r.current||P;return Gz(R,w,_,R==="h"?E:I)},[]),c=T.useCallback(function(_){var w=_;if(!(!Ga.length||Ga[Ga.length-1]!==s)){var y="deltaY"in w?ET(w):Nf(w),b=e.current.filter(function(P){return P.name===w.type&&(P.target===w.target||w.target===P.shadowParent)&&$z(P.delta,y)})[0];if(b&&b.should){w.cancelable&&w.preventDefault();return}if(!b){var E=(a.current.shards||[]).map(TT).filter(Boolean).filter(function(P){return P.contains(w.target)}),I=E.length>0?o(w,E[0]):!a.current.noIsolation;I&&w.cancelable&&w.preventDefault()}}},[]),u=T.useCallback(function(_,w,y,b){var E={name:_,delta:w,target:y,should:b,shadowParent:Xz(y)};e.current.push(E),setTimeout(function(){e.current=e.current.filter(function(I){return I!==E})},1)},[]),f=T.useCallback(function(_){n.current=Nf(_),r.current=void 0},[]),h=T.useCallback(function(_){u(_.type,ET(_),_.target,o(_,t.lockRef.current))},[]),m=T.useCallback(function(_){u(_.type,Nf(_),_.target,o(_,t.lockRef.current))},[]);T.useEffect(function(){return Ga.push(s),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",c,Ha),document.addEventListener("touchmove",c,Ha),document.addEventListener("touchstart",f,Ha),function(){Ga=Ga.filter(function(_){return _!==s}),document.removeEventListener("wheel",c,Ha),document.removeEventListener("touchmove",c,Ha),document.removeEventListener("touchstart",f,Ha)}},[]);var d=t.removeScrollBar,x=t.inert;return T.createElement(T.Fragment,null,x?T.createElement(s,{styles:Kz(i)}):null,d?T.createElement(jz,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Xz(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Wz=Az(OI,Yz);var kI=T.forwardRef(function(t,e){return T.createElement(lm,Sr({},t,{ref:e,sideCar:Wz}))});kI.classNames=lm.classNames;var Zz=[" ","Enter","ArrowUp","ArrowDown"],Jz=[" ","Enter"],Ra="Select",[cm,um,eB]=sI(Ra),[Il]=yl(Ra,[eB,Md]),fm=Md(),[tB,Us]=Il(Ra),[nB,rB]=Il(Ra),LI=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:a,defaultValue:o,onValueChange:c,dir:u,name:f,autoComplete:h,disabled:m,required:d,form:x}=t,_=fm(e),[w,y]=T.useState(null),[b,E]=T.useState(null),[I,P]=T.useState(!1),k=U_(u),[A,S]=Fh({prop:r,defaultProp:i??!1,onChange:s,caller:Ra}),[R,N]=Fh({prop:a,defaultProp:o,onChange:c,caller:Ra}),M=T.useRef(null),O=w?x||!!w.closest("form"):!0,[D,W]=T.useState(new Set),se=Array.from(D).map(j=>j.props.value).join(";");return g.jsx(rV,{..._,children:g.jsxs(tB,{required:d,scope:e,trigger:w,onTriggerChange:y,valueNode:b,onValueNodeChange:E,valueNodeHasChildren:I,onValueNodeHasChildrenChange:P,contentId:Au(),value:R,onValueChange:N,open:A,onOpenChange:S,dir:k,triggerPointerDownPosRef:M,disabled:m,children:[g.jsx(cm.Provider,{scope:e,children:g.jsx(nB,{scope:t.__scopeSelect,onNativeOptionAdd:T.useCallback(j=>{W($=>new Set($).add(j))},[]),onNativeOptionRemove:T.useCallback(j=>{W($=>{const q=new Set($);return q.delete(j),q})},[]),children:n})}),O?g.jsxs(o2,{"aria-hidden":!0,required:d,tabIndex:-1,name:f,autoComplete:h,value:R,onChange:j=>N(j.target.value),disabled:m,form:x,children:[R===void 0?g.jsx("option",{value:""}):null,Array.from(D)]},se):null]})})};LI.displayName=Ra;var jI="SelectTrigger",UI=T.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=fm(n),a=Us(jI,n),o=a.disabled||r,c=ut(e,a.onTriggerChange),u=um(n),f=T.useRef("touch"),[h,m,d]=c2(_=>{const w=u().filter(E=>!E.disabled),y=w.find(E=>E.value===a.value),b=u2(w,_,y);b!==void 0&&a.onValueChange(b.value)}),x=_=>{o||(a.onOpenChange(!0),d()),_&&(a.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return g.jsx(ix,{asChild:!0,...s,children:g.jsx(Pe.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":l2(a.value)?"":void 0,...i,ref:c,onClick:Te(i.onClick,_=>{_.currentTarget.focus(),f.current!=="mouse"&&x(_)}),onPointerDown:Te(i.onPointerDown,_=>{f.current=_.pointerType;const w=_.target;w.hasPointerCapture(_.pointerId)&&w.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(x(_),_.preventDefault())}),onKeyDown:Te(i.onKeyDown,_=>{const w=h.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&m(_.key),!(w&&_.key===" ")&&Zz.includes(_.key)&&(x(),_.preventDefault())})})})});UI.displayName=jI;var zI="SelectValue",BI=T.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:a="",...o}=t,c=Us(zI,n),{onValueNodeHasChildrenChange:u}=c,f=s!==void 0,h=ut(e,c.onValueNodeChange);return Kt(()=>{u(f)},[u,f]),g.jsx(Pe.span,{...o,ref:h,style:{pointerEvents:"none"},children:l2(c.value)?g.jsx(g.Fragment,{children:a}):s})});BI.displayName=zI;var iB="SelectIcon",FI=T.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return g.jsx(Pe.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});FI.displayName=iB;var sB="SelectPortal",qI=t=>g.jsx(ox,{asChild:!0,...t});qI.displayName=sB;var Ca="SelectContent",HI=T.forwardRef((t,e)=>{const n=Us(Ca,t.__scopeSelect),[r,i]=T.useState();if(Kt(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?ul.createPortal(g.jsx(GI,{scope:t.__scopeSelect,children:g.jsx(cm.Slot,{scope:t.__scopeSelect,children:g.jsx("div",{children:t.children})})}),s):null}return g.jsx($I,{...t,ref:e})});HI.displayName=Ca;var Jn=10,[GI,zs]=Il(Ca),aB="SelectContentImpl",oB=Gc("SelectContent.RemoveScroll"),$I=T.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:o,sideOffset:c,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:d,sticky:x,hideWhenDetached:_,avoidCollisions:w,...y}=t,b=Us(Ca,n),[E,I]=T.useState(null),[P,k]=T.useState(null),A=ut(e,Q=>I(Q)),[S,R]=T.useState(null),[N,M]=T.useState(null),O=um(n),[D,W]=T.useState(!1),se=T.useRef(!1);T.useEffect(()=>{if(E)return pz(E)},[E]),rz();const j=T.useCallback(Q=>{const[xe,...Ge]=O().map(we=>we.ref.current),[Re]=Ge.slice(-1),ye=document.activeElement;for(const we of Q)if(we===ye||(we==null||we.scrollIntoView({block:"nearest"}),we===xe&&P&&(P.scrollTop=0),we===Re&&P&&(P.scrollTop=P.scrollHeight),we==null||we.focus(),document.activeElement!==ye))return},[O,P]),$=T.useCallback(()=>j([S,E]),[j,S,E]);T.useEffect(()=>{D&&$()},[D,$]);const{onOpenChange:q,triggerPointerDownPosRef:H}=b;T.useEffect(()=>{if(E){let Q={x:0,y:0};const xe=Re=>{var ye,we;Q={x:Math.abs(Math.round(Re.pageX)-(((ye=H.current)==null?void 0:ye.x)??0)),y:Math.abs(Math.round(Re.pageY)-(((we=H.current)==null?void 0:we.y)??0))}},Ge=Re=>{Q.x<=10&&Q.y<=10?Re.preventDefault():E.contains(Re.target)||q(!1),document.removeEventListener("pointermove",xe),H.current=null};return H.current!==null&&(document.addEventListener("pointermove",xe),document.addEventListener("pointerup",Ge,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",xe),document.removeEventListener("pointerup",Ge,{capture:!0})}}},[E,q,H]),T.useEffect(()=>{const Q=()=>q(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[q]);const[J,Ce]=c2(Q=>{const xe=O().filter(ye=>!ye.disabled),Ge=xe.find(ye=>ye.ref.current===document.activeElement),Re=u2(xe,Q,Ge);Re&&setTimeout(()=>Re.ref.current.focus())}),ce=T.useCallback((Q,xe,Ge)=>{const Re=!se.current&&!Ge;(b.value!==void 0&&b.value===xe||Re)&&(R(Q),Re&&(se.current=!0))},[b.value]),me=T.useCallback(()=>E==null?void 0:E.focus(),[E]),ae=T.useCallback((Q,xe,Ge)=>{const Re=!se.current&&!Ge;(b.value!==void 0&&b.value===xe||Re)&&M(Q)},[b.value]),Oe=r==="popper"?wy:KI,St=Oe===wy?{side:o,sideOffset:c,align:u,alignOffset:f,arrowPadding:h,collisionBoundary:m,collisionPadding:d,sticky:x,hideWhenDetached:_,avoidCollisions:w}:{};return g.jsx(GI,{scope:n,content:E,viewport:P,onViewportChange:k,itemRefCallback:ce,selectedItem:S,onItemLeave:me,itemTextRefCallback:ae,focusSelectedItem:$,selectedItemText:N,position:r,isPositioned:D,searchRef:J,children:g.jsx(kI,{as:oB,allowPinchZoom:!0,children:g.jsx(xI,{asChild:!0,trapped:b.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:Te(i,Q=>{var xe;(xe=b.trigger)==null||xe.focus({preventScroll:!0}),Q.preventDefault()}),children:g.jsx(Cv,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:g.jsx(Oe,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:Q=>Q.preventDefault(),...y,...St,onPlaced:()=>W(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:Te(y.onKeyDown,Q=>{const xe=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!xe&&Q.key.length===1&&Ce(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let Re=O().filter(ye=>!ye.disabled).map(ye=>ye.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(Re=Re.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const ye=Q.target,we=Re.indexOf(ye);Re=Re.slice(we+1)}setTimeout(()=>j(Re)),Q.preventDefault()}})})})})})})});$I.displayName=aB;var lB="SelectItemAlignedPosition",KI=T.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=Us(Ca,n),a=zs(Ca,n),[o,c]=T.useState(null),[u,f]=T.useState(null),h=ut(e,A=>f(A)),m=um(n),d=T.useRef(!1),x=T.useRef(!0),{viewport:_,selectedItem:w,selectedItemText:y,focusSelectedItem:b}=a,E=T.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&u&&_&&w&&y){const A=s.trigger.getBoundingClientRect(),S=u.getBoundingClientRect(),R=s.valueNode.getBoundingClientRect(),N=y.getBoundingClientRect();if(s.dir!=="rtl"){const ye=N.left-S.left,we=R.left-ye,ft=A.left-we,Yt=A.width+ft,Fr=Math.max(Yt,S.width),Vn=window.innerWidth-Jn,Yn=dT(we,[Jn,Math.max(Jn,Vn-Fr)]);o.style.minWidth=Yt+"px",o.style.left=Yn+"px"}else{const ye=S.right-N.right,we=window.innerWidth-R.right-ye,ft=window.innerWidth-A.right-we,Yt=A.width+ft,Fr=Math.max(Yt,S.width),Vn=window.innerWidth-Jn,Yn=dT(we,[Jn,Math.max(Jn,Vn-Fr)]);o.style.minWidth=Yt+"px",o.style.right=Yn+"px"}const M=m(),O=window.innerHeight-Jn*2,D=_.scrollHeight,W=window.getComputedStyle(u),se=parseInt(W.borderTopWidth,10),j=parseInt(W.paddingTop,10),$=parseInt(W.borderBottomWidth,10),q=parseInt(W.paddingBottom,10),H=se+j+D+q+$,J=Math.min(w.offsetHeight*5,H),Ce=window.getComputedStyle(_),ce=parseInt(Ce.paddingTop,10),me=parseInt(Ce.paddingBottom,10),ae=A.top+A.height/2-Jn,Oe=O-ae,St=w.offsetHeight/2,Q=w.offsetTop+St,xe=se+j+Q,Ge=H-xe;if(xe<=ae){const ye=M.length>0&&w===M[M.length-1].ref.current;o.style.bottom="0px";const we=u.clientHeight-_.offsetTop-_.offsetHeight,ft=Math.max(Oe,St+(ye?me:0)+we+$),Yt=xe+ft;o.style.height=Yt+"px"}else{const ye=M.length>0&&w===M[0].ref.current;o.style.top="0px";const ft=Math.max(ae,se+_.offsetTop+(ye?ce:0)+St)+Ge;o.style.height=ft+"px",_.scrollTop=xe-ae+_.offsetTop}o.style.margin=`${Jn}px 0`,o.style.minHeight=J+"px",o.style.maxHeight=O+"px",r==null||r(),requestAnimationFrame(()=>d.current=!0)}},[m,s.trigger,s.valueNode,o,u,_,w,y,s.dir,r]);Kt(()=>E(),[E]);const[I,P]=T.useState();Kt(()=>{u&&P(window.getComputedStyle(u).zIndex)},[u]);const k=T.useCallback(A=>{A&&x.current===!0&&(E(),b==null||b(),x.current=!1)},[E,b]);return g.jsx(uB,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:d,onScrollButtonChange:k,children:g.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:g.jsx(Pe.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});KI.displayName=lB;var cB="SelectPopperPosition",wy=T.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Jn,...s}=t,a=fm(n);return g.jsx(sx,{...a,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});wy.displayName=cB;var[uB,B_]=Il(Ca,{}),Ey="SelectViewport",QI=T.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=zs(Ey,n),a=B_(Ey,n),o=ut(e,s.onViewportChange),c=T.useRef(0);return g.jsxs(g.Fragment,{children:[g.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),g.jsx(cm.Slot,{scope:n,children:g.jsx(Pe.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Te(i.onScroll,u=>{const f=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=a;if(m!=null&&m.current&&h){const d=Math.abs(c.current-f.scrollTop);if(d>0){const x=window.innerHeight-Jn*2,_=parseFloat(h.style.minHeight),w=parseFloat(h.style.height),y=Math.max(_,w);if(y<x){const b=y+d,E=Math.min(x,b),I=b-E;h.style.height=E+"px",h.style.bottom==="0px"&&(f.scrollTop=I>0?I:0,h.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});QI.displayName=Ey;var YI="SelectGroup",[fB,hB]=Il(YI),dB=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Au();return g.jsx(fB,{scope:n,id:i,children:g.jsx(Pe.div,{role:"group","aria-labelledby":i,...r,ref:e})})});dB.displayName=YI;var XI="SelectLabel",WI=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=hB(XI,n);return g.jsx(Pe.div,{id:i.id,...r,ref:e})});WI.displayName=XI;var ud="SelectItem",[mB,ZI]=Il(ud),JI=T.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...a}=t,o=Us(ud,n),c=zs(ud,n),u=o.value===r,[f,h]=T.useState(s??""),[m,d]=T.useState(!1),x=ut(e,b=>{var E;return(E=c.itemRefCallback)==null?void 0:E.call(c,b,r,i)}),_=Au(),w=T.useRef("touch"),y=()=>{i||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return g.jsx(mB,{scope:n,value:r,disabled:i,textId:_,isSelected:u,onItemTextChange:T.useCallback(b=>{h(E=>E||((b==null?void 0:b.textContent)??"").trim())},[]),children:g.jsx(cm.ItemSlot,{scope:n,value:r,disabled:i,textValue:f,children:g.jsx(Pe.div,{role:"option","aria-labelledby":_,"data-highlighted":m?"":void 0,"aria-selected":u&&m,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:x,onFocus:Te(a.onFocus,()=>d(!0)),onBlur:Te(a.onBlur,()=>d(!1)),onClick:Te(a.onClick,()=>{w.current!=="mouse"&&y()}),onPointerUp:Te(a.onPointerUp,()=>{w.current==="mouse"&&y()}),onPointerDown:Te(a.onPointerDown,b=>{w.current=b.pointerType}),onPointerMove:Te(a.onPointerMove,b=>{var E;w.current=b.pointerType,i?(E=c.onItemLeave)==null||E.call(c):w.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Te(a.onPointerLeave,b=>{var E;b.currentTarget===document.activeElement&&((E=c.onItemLeave)==null||E.call(c))}),onKeyDown:Te(a.onKeyDown,b=>{var I;((I=c.searchRef)==null?void 0:I.current)!==""&&b.key===" "||(Jz.includes(b.key)&&y(),b.key===" "&&b.preventDefault())})})})})});JI.displayName=ud;var cc="SelectItemText",e2=T.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,a=Us(cc,n),o=zs(cc,n),c=ZI(cc,n),u=rB(cc,n),[f,h]=T.useState(null),m=ut(e,y=>h(y),c.onItemTextChange,y=>{var b;return(b=o.itemTextRefCallback)==null?void 0:b.call(o,y,c.value,c.disabled)}),d=f==null?void 0:f.textContent,x=T.useMemo(()=>g.jsx("option",{value:c.value,disabled:c.disabled,children:d},c.value),[c.disabled,c.value,d]),{onNativeOptionAdd:_,onNativeOptionRemove:w}=u;return Kt(()=>(_(x),()=>w(x)),[_,w,x]),g.jsxs(g.Fragment,{children:[g.jsx(Pe.span,{id:c.textId,...s,ref:m}),c.isSelected&&a.valueNode&&!a.valueNodeHasChildren?ul.createPortal(s.children,a.valueNode):null]})});e2.displayName=cc;var t2="SelectItemIndicator",n2=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return ZI(t2,n).isSelected?g.jsx(Pe.span,{"aria-hidden":!0,...r,ref:e}):null});n2.displayName=t2;var Ty="SelectScrollUpButton",r2=T.forwardRef((t,e)=>{const n=zs(Ty,t.__scopeSelect),r=B_(Ty,t.__scopeSelect),[i,s]=T.useState(!1),a=ut(e,r.onScrollButtonChange);return Kt(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=c.scrollTop>0;s(u)};const c=n.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?g.jsx(s2,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=n;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});r2.displayName=Ty;var Sy="SelectScrollDownButton",i2=T.forwardRef((t,e)=>{const n=zs(Sy,t.__scopeSelect),r=B_(Sy,t.__scopeSelect),[i,s]=T.useState(!1),a=ut(e,r.onScrollButtonChange);return Kt(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;s(f)};const c=n.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?g.jsx(s2,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=n;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});i2.displayName=Sy;var s2=T.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=zs("SelectScrollButton",n),a=T.useRef(null),o=um(n),c=T.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return T.useEffect(()=>()=>c(),[c]),Kt(()=>{var f;const u=o().find(h=>h.ref.current===document.activeElement);(f=u==null?void 0:u.ref.current)==null||f.scrollIntoView({block:"nearest"})},[o]),g.jsx(Pe.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Te(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:Te(i.onPointerMove,()=>{var u;(u=s.onItemLeave)==null||u.call(s),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:Te(i.onPointerLeave,()=>{c()})})}),pB="SelectSeparator",a2=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return g.jsx(Pe.div,{"aria-hidden":!0,...r,ref:e})});a2.displayName=pB;var Ay="SelectArrow",gB=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=fm(n),s=Us(Ay,n),a=zs(Ay,n);return s.open&&a.position==="popper"?g.jsx(ax,{...i,...r,ref:e}):null});gB.displayName=Ay;var yB="SelectBubbleInput",o2=T.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=T.useRef(null),s=ut(r,i),a=fz(e);return T.useEffect(()=>{const o=i.current;if(!o)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(a!==e&&f){const h=new Event("change",{bubbles:!0});f.call(o,e),o.dispatchEvent(h)}},[a,e]),g.jsx(Pe.select,{...n,style:{...lx,...n.style},ref:s,defaultValue:e})});o2.displayName=yB;function l2(t){return t===""||t===void 0}function c2(t){const e=xs(t),n=T.useRef(""),r=T.useRef(0),i=T.useCallback(a=>{const o=n.current+a;e(o),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(o)},[e]),s=T.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return T.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function u2(t,e,n){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=vB(t,Math.max(s,0));i.length===1&&(a=a.filter(u=>u!==n));const c=a.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function vB(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var _B=LI,f2=UI,bB=BI,wB=FI,EB=qI,h2=HI,TB=QI,d2=WI,m2=JI,SB=e2,AB=n2,p2=r2,g2=i2,y2=a2;/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),v2=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},c)=>T.createElement("svg",{ref:c,...RB,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:v2("lucide",i),...o},[...a.map(([u,f])=>T.createElement(u,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=(t,e)=>{const n=T.forwardRef(({className:r,...i},s)=>T.createElement(CB,{ref:s,iconNode:e,className:v2(`lucide-${xB(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=nn("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=nn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=nn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=nn("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=nn("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=nn("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=nn("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=nn("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=nn("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=nn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VB=nn("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=nn("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=nn("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=nn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=nn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),po=_B,go=bB,ea=T.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(f2,{ref:r,className:Je("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,g.jsx(wB,{asChild:!0,children:g.jsx(_2,{className:"h-4 w-4 opacity-50"})})]}));ea.displayName=f2.displayName;const b2=T.forwardRef(({className:t,...e},n)=>g.jsx(p2,{ref:n,className:Je("flex cursor-default items-center justify-center py-1",t),...e,children:g.jsx(OB,{className:"h-4 w-4"})}));b2.displayName=p2.displayName;const w2=T.forwardRef(({className:t,...e},n)=>g.jsx(g2,{ref:n,className:Je("flex cursor-default items-center justify-center py-1",t),...e,children:g.jsx(_2,{className:"h-4 w-4"})}));w2.displayName=g2.displayName;const ta=T.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>g.jsx(EB,{children:g.jsxs(h2,{ref:i,className:Je("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[g.jsx(b2,{}),g.jsx(TB,{className:Je("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),g.jsx(w2,{})]})}));ta.displayName=h2.displayName;const UB=T.forwardRef(({className:t,...e},n)=>g.jsx(d2,{ref:n,className:Je("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));UB.displayName=d2.displayName;const ze=T.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(m2,{ref:r,className:Je("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[g.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:g.jsx(AB,{children:g.jsx(NB,{className:"h-4 w-4"})})}),g.jsx(SB,{children:e})]}));ze.displayName=m2.displayName;const zB=T.forwardRef(({className:t,...e},n)=>g.jsx(y2,{ref:n,className:Je("-mx-1 my-1 h-px bg-muted",t),...e}));zB.displayName=y2.displayName;const BB=j_("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function an({className:t,variant:e,...n}){return g.jsx("div",{className:Je(BB({variant:e}),t),...n})}var FB="Separator",AT="horizontal",qB=["horizontal","vertical"],E2=T.forwardRef((t,e)=>{const{decorative:n,orientation:r=AT,...i}=t,s=HB(r)?r:AT,o=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return g.jsx(Pe.div,{"data-orientation":s,...o,...i,ref:e})});E2.displayName=FB;function HB(t){return qB.includes(t)}var T2=E2;const eo=T.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>g.jsx(T2,{ref:i,decorative:n,orientation:e,className:Je("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));eo.displayName=T2.displayName;const S2=T.forwardRef(({className:t,...e},n)=>g.jsx("textarea",{className:Je("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));S2.displayName="Textarea";var GB="Label",A2=T.forwardRef((t,e)=>g.jsx(Pe.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));A2.displayName=GB;var x2=A2;const $B=j_("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),vr=T.forwardRef(({className:t,...e},n)=>g.jsx(x2,{ref:n,className:Je($B(),t),...e}));vr.displayName=x2.displayName;const Vp=[{id:"mobile-ios",name:"iOS Mobile App",icon:"📱",description:"iPhone and iPad application"},{id:"mobile-android",name:"Android Mobile App",icon:"🤖",description:"Android smartphone and tablet app"},{id:"web-dashboard",name:"Web Dashboard",icon:"💻",description:"Admin and analytics web interface"},{id:"web-customer",name:"Customer Portal",icon:"🌐",description:"Customer-facing web application"},{id:"api-backend",name:"Backend API",icon:"⚙️",description:"Server-side API and services"},{id:"desktop-app",name:"Desktop Application",icon:"🖥️",description:"Windows/Mac desktop software"}],KB=({onSubmit:t})=>{const[e,n]=T.useState(""),[r,i]=T.useState(""),[s,a]=T.useState("medium"),[o,c]=T.useState(""),[u,f]=T.useState([]),[h,m]=T.useState(""),[d,x]=T.useState(!1),[_,w]=T.useState(""),[y,b]=T.useState(""),[E,I]=T.useState(""),[P,k]=T.useState(""),A=async O=>{if(O.preventDefault(),!e.trim()||!r.trim()||!o||!_.trim()||!y.trim())return;const D=Vp.find(W=>W.id===o);if(D){x(!0);try{await t({title:e.trim(),description:r.trim(),userPriority:s,appId:o,appName:D.name,tags:u,testerInfo:{name:_.trim(),email:y.trim(),role:E.trim()||"Beta Tester",company:P.trim()||void 0}}),n(""),i(""),a("medium"),c(""),f([]),w(""),b(""),I(""),k("")}catch(W){console.error("Failed to submit request:",W)}finally{x(!1)}}},S=()=>{h.trim()&&!u.includes(h.trim())&&(f([...u,h.trim()]),m(""))},R=O=>{f(u.filter(D=>D!==O))},N=O=>{O.key==="Enter"&&O.target===O.currentTarget&&(O.preventDefault(),S())},M=Vp.find(O=>O.id===o);return g.jsxs(bn,{children:[g.jsx(wn,{children:g.jsxs(En,{className:"flex items-center",children:[g.jsx(PB,{className:"mr-2 h-5 w-5"}),"Submit Feature Request"]})}),g.jsx(Tn,{children:g.jsxs("form",{onSubmit:A,className:"space-y-6",children:[g.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg space-y-4",children:[g.jsx("h3",{className:"font-medium text-blue-900",children:"Tester Information"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(vr,{htmlFor:"tester-name",children:"Full Name *"}),g.jsx(Fi,{id:"tester-name",value:_,onChange:O=>w(O.target.value),placeholder:"Your full name",required:!0})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(vr,{htmlFor:"tester-email",children:"Email Address *"}),g.jsx(Fi,{id:"tester-email",type:"email",value:y,onChange:O=>b(O.target.value),placeholder:"your.email@company.com",required:!0})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(vr,{htmlFor:"tester-role",children:"Role/Title"}),g.jsx(Fi,{id:"tester-role",value:E,onChange:O=>I(O.target.value),placeholder:"e.g., Product Manager, QA Engineer, Beta Tester"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(vr,{htmlFor:"tester-company",children:"Company (Optional)"}),g.jsx(Fi,{id:"tester-company",value:P,onChange:O=>k(O.target.value),placeholder:"Your company name"})]})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(vr,{htmlFor:"app",children:"Which Application? *"}),g.jsxs(po,{value:o,onValueChange:c,required:!0,children:[g.jsx(ea,{children:g.jsx(go,{placeholder:"Select the app you're providing feedback on"})}),g.jsx(ta,{children:Vp.map(O=>g.jsx(ze,{value:O.id,children:g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("span",{children:O.icon}),g.jsxs("div",{children:[g.jsx("div",{className:"font-medium",children:O.name}),g.jsx("div",{className:"text-xs text-gray-500",children:O.description})]})]})},O.id))})]}),M&&g.jsx("div",{className:"flex items-center space-x-2 mt-2",children:g.jsxs(an,{variant:"outline",children:[M.icon," ",M.name]})})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(vr,{htmlFor:"title",children:"Feature Request Title *"}),g.jsx(Fi,{id:"title",value:e,onChange:O=>n(O.target.value),placeholder:"Brief, descriptive title for your feature request",required:!0})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(vr,{htmlFor:"description",children:"Detailed Description *"}),g.jsx(S2,{id:"description",value:r,onChange:O=>i(O.target.value),placeholder:`Please provide a detailed description including:\r
\r
• What problem does this solve?\r
• How should it work?\r
• Who would benefit from this feature?\r
• Any specific requirements or constraints?\r
• Steps to reproduce (if it's a bug fix)\r
• Expected vs actual behavior\r
\r
The more detail you provide, the better our AI can analyze and prioritize your request!`,rows:8,required:!0})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(vr,{htmlFor:"priority",children:"Priority Level"}),g.jsxs(po,{value:s,onValueChange:O=>a(O),children:[g.jsx(ea,{children:g.jsx(go,{})}),g.jsxs(ta,{children:[g.jsx(ze,{value:"low",children:"🟢 Low - Nice to have enhancement"}),g.jsx(ze,{value:"medium",children:"🟡 Medium - Would improve my workflow"}),g.jsx(ze,{value:"high",children:"🟠 High - Important for productivity"}),g.jsx(ze,{value:"critical",children:"🔴 Critical - Blocking my work completely"})]})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(vr,{htmlFor:"tags",children:"Tags (Optional)"}),g.jsxs("div",{className:"flex space-x-2",children:[g.jsx(Fi,{id:"tags",value:h,onChange:O=>m(O.target.value),onKeyPress:N,placeholder:"Add tags (e.g., mobile, performance, ui, login, dashboard)"}),g.jsx(An,{type:"button",onClick:S,variant:"outline",size:"sm",children:g.jsx(xy,{className:"h-4 w-4"})})]}),u.length>0&&g.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:u.map(O=>g.jsxs(an,{variant:"secondary",className:"flex items-center gap-1",children:[O,g.jsx(jB,{className:"h-3 w-3 cursor-pointer",onClick:()=>R(O)})]},O))})]}),g.jsx(An,{type:"submit",disabled:d||!e.trim()||!r.trim()||!o||!_.trim()||!y.trim(),className:"w-full",children:d?g.jsxs(g.Fragment,{children:[g.jsx(oh,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting & Running AI Analysis..."]}):g.jsxs(g.Fragment,{children:[g.jsx(xy,{className:"mr-2 h-4 w-4"}),"Submit Feature Request"]})}),g.jsxs("div",{className:"text-sm text-gray-600 bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-lg border border-blue-200",children:[g.jsx("strong",{children:"🤖 AI-Powered Analysis:"}),g.jsxs("ul",{className:"mt-2 space-y-1 list-disc list-inside",children:[g.jsx("li",{children:"Our AI will automatically categorize your request (Enhancement, Bug Fix, New Feature, etc.)"}),g.jsx("li",{children:"Complexity and clarity scores will be calculated"}),g.jsx("li",{children:"Priority scoring based on business impact and user demand"}),g.jsx("li",{children:"Effort estimation for development planning"}),g.jsx("li",{children:"Duplicate detection to avoid redundant requests"}),g.jsx("li",{children:"Enhancement suggestions to improve your request"})]})]})]})})]})};function QB(){const{user:t,loading:e,error:n,signInAnonymous:r,forceSkipAuth:i}=hj(),s=t!=null&&t.uid.includes("demo")?"external":"admin",{requests:a,loading:o,error:c,submitRequest:u,updateRequestStatus:f,voteOnRequest:h}=V9((t==null?void 0:t.uid)||null,s),{loading:m}=k9((t==null?void 0:t.uid)||null),[d,x]=T.useState("requests"),[_,w]=T.useState("all"),[y,b]=T.useState("all"),[E,I]=T.useState("all"),[P,k]=T.useState("");if(n)return g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-6",children:g.jsxs(bn,{className:"w-full max-w-md",children:[g.jsx(wn,{className:"text-center",children:g.jsxs(En,{className:"flex items-center justify-center text-red-600",children:[g.jsx(ST,{className:"mr-2 h-5 w-5"}),"Authentication Error"]})}),g.jsxs(Tn,{className:"space-y-4",children:[g.jsx("p",{className:"text-sm text-gray-600 text-center",children:n}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs(An,{onClick:r,className:"w-full",children:[g.jsx(Of,{className:"mr-2 h-4 w-4"}),"Try Anonymous Sign-In"]}),g.jsx(An,{onClick:i,variant:"outline",className:"w-full",children:"Continue as Demo User"}),g.jsxs(An,{onClick:()=>window.location.reload(),variant:"ghost",className:"w-full",children:[g.jsx(VB,{className:"mr-2 h-4 w-4"}),"Reload Page"]})]})]})]})});if(e)return g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-6",children:g.jsxs(bn,{className:"w-full max-w-md",children:[g.jsx(wn,{className:"text-center",children:g.jsxs(En,{className:"flex items-center justify-center",children:[g.jsx(oh,{className:"mr-2 h-5 w-5 animate-spin"}),"Loading System"]})}),g.jsxs(Tn,{className:"space-y-4",children:[g.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Initializing AI-Enhanced Feature Request System..."}),g.jsxs("div",{className:"flex items-center justify-center space-x-2 text-xs text-gray-500",children:[g.jsx(DB,{className:"h-3 w-3"}),g.jsx("span",{children:"Taking too long? Try demo mode below"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs(An,{onClick:i,className:"w-full",size:"lg",children:[g.jsx(Of,{className:"mr-2 h-4 w-4"}),"Continue with Demo Mode"]}),g.jsx(An,{onClick:r,variant:"outline",className:"w-full",children:"Try Authentication"})]}),g.jsx("div",{className:"text-xs text-gray-500 text-center",children:"Demo mode provides full functionality without authentication"})]})]})});if(!t)return setTimeout(()=>{!t&&!e&&i()},2e3),g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-6",children:g.jsxs(bn,{className:"w-full max-w-md",children:[g.jsx(wn,{className:"text-center",children:g.jsx(En,{children:"AI-Enhanced Feature Request System"})}),g.jsxs(Tn,{className:"space-y-4",children:[g.jsx("p",{className:"text-sm text-gray-600 text-center",children:"Advanced feature request management with AI-powered analysis, priority scoring, and business impact assessment"}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs(An,{onClick:i,className:"w-full",size:"lg",children:[g.jsx(Of,{className:"mr-2 h-4 w-4"}),"Start Demo Mode"]}),g.jsx(An,{onClick:r,variant:"outline",className:"w-full",children:"Sign In as Beta Tester"})]}),g.jsx("div",{className:"text-xs text-gray-500 text-center",children:"Auto-starting demo mode in 2 seconds..."})]})]})});const A=a.filter(R=>{var N;return!(_!=="all"&&R.status!==_||y!=="all"&&((N=R.aiAnalysis)==null?void 0:N.category)!==y||E!=="all"&&R.userPriority!==E||P&&!R.title.toLowerCase().includes(P.toLowerCase())&&!R.description.toLowerCase().includes(P.toLowerCase()))}),S=[...new Set(a.map(R=>{var N;return(N=R.aiAnalysis)==null?void 0:N.category}).filter(Boolean))];return g.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6",children:g.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[g.jsxs("div",{className:"text-center space-y-4",children:[g.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"AI-Enhanced Feature Request System"}),g.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[g.jsxs(an,{variant:"secondary",className:"px-3 py-1",children:[g.jsx(Of,{className:"mr-1 h-3 w-3"}),s==="admin"?"Admin":"Beta Tester",": ",t.uid.substring(0,8),"..."]}),t.uid.includes("demo")&&g.jsx(an,{variant:"outline",className:"px-3 py-1",children:"Demo Mode - Fully Functional"})]}),g.jsx("p",{className:"text-sm text-gray-600 max-w-2xl mx-auto",children:"Submit feature requests with automatic AI analysis, priority scoring, and comprehensive tracking. Select your specific app/platform for targeted feedback management."})]}),g.jsxs(nz,{value:d,onValueChange:x,className:"w-full",children:[g.jsxs(AI,{className:"grid w-full grid-cols-3",children:[g.jsxs(rh,{value:"requests",className:"flex items-center",children:[g.jsx(xy,{className:"mr-2 h-4 w-4"}),"Feature Requests"]}),g.jsxs(rh,{value:"dashboard",className:"flex items-center",children:[g.jsx(IB,{className:"mr-2 h-4 w-4"}),"Analytics"]}),g.jsxs(rh,{value:"settings",className:"flex items-center",children:[g.jsx(LB,{className:"mr-2 h-4 w-4"}),"Settings"]})]}),g.jsxs(ih,{value:"requests",className:"space-y-6",children:[g.jsx(KB,{onSubmit:u}),g.jsx(eo,{}),g.jsxs(bn,{children:[g.jsx(wn,{children:g.jsxs(En,{className:"flex items-center",children:[g.jsx(MB,{className:"mr-2 h-5 w-5"}),"Filter & Search Requests"]})}),g.jsx(Tn,{children:g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-sm font-medium",children:"Search"}),g.jsxs("div",{className:"relative",children:[g.jsx(kB,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),g.jsx(Fi,{placeholder:"Search requests...",value:P,onChange:R=>k(R.target.value),className:"pl-10"})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-sm font-medium",children:"Status"}),g.jsxs(po,{value:_,onValueChange:w,children:[g.jsx(ea,{children:g.jsx(go,{})}),g.jsxs(ta,{children:[g.jsx(ze,{value:"all",children:"All Statuses"}),g.jsx(ze,{value:"submitted",children:"Submitted"}),g.jsx(ze,{value:"analyzing",children:"Analyzing"}),g.jsx(ze,{value:"reviewed",children:"Reviewed"}),g.jsx(ze,{value:"approved",children:"Approved"}),g.jsx(ze,{value:"in-progress",children:"In Progress"}),g.jsx(ze,{value:"completed",children:"Completed"}),g.jsx(ze,{value:"rejected",children:"Rejected"})]})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-sm font-medium",children:"Category"}),g.jsxs(po,{value:y,onValueChange:b,children:[g.jsx(ea,{children:g.jsx(go,{})}),g.jsxs(ta,{children:[g.jsx(ze,{value:"all",children:"All Categories"}),S.map(R=>g.jsx(ze,{value:R,children:R},R))]})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{className:"text-sm font-medium",children:"Priority"}),g.jsxs(po,{value:E,onValueChange:I,children:[g.jsx(ea,{children:g.jsx(go,{})}),g.jsxs(ta,{children:[g.jsx(ze,{value:"all",children:"All Priorities"}),g.jsx(ze,{value:"low",children:"Low"}),g.jsx(ze,{value:"medium",children:"Medium"}),g.jsx(ze,{value:"high",children:"High"}),g.jsx(ze,{value:"critical",children:"Critical"})]})]})]})]})})]}),g.jsxs(bn,{children:[g.jsx(wn,{children:g.jsxs(En,{children:["Feature Requests (",A.length," of ",a.length,")"]})}),g.jsx(Tn,{children:o?g.jsxs("div",{className:"flex items-center justify-center py-8",children:[g.jsx(oh,{className:"h-6 w-6 animate-spin mr-2"}),g.jsx("span",{children:"Loading requests..."})]}):c?g.jsxs("div",{className:"text-center py-8 text-red-500",children:[g.jsx(ST,{className:"h-8 w-8 mx-auto mb-2"}),g.jsxs("p",{children:["Error: ",c]})]}):A.length===0?g.jsxs("div",{className:"text-center py-8 text-gray-500",children:[g.jsx("p",{children:"No feature requests found"}),g.jsx("p",{className:"text-sm",children:"Submit your first request above or adjust filters"})]}):g.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:A.map(R=>g.jsxs(bn,{className:"border-l-4 border-l-blue-500",children:[g.jsx(wn,{className:"pb-3",children:g.jsx("div",{className:"flex items-start justify-between",children:g.jsxs("div",{className:"flex-1",children:[g.jsx(En,{className:"text-lg",children:R.title}),g.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[g.jsx(an,{variant:"outline",children:R.status}),g.jsx(an,{variant:"secondary",children:R.userPriority}),g.jsx(an,{variant:"outline",children:R.appName})]})]})})}),g.jsxs(Tn,{children:[g.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-3",children:R.description}),R.aiAnalysis&&g.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg mb-4",children:[g.jsx("h4",{className:"text-sm font-medium mb-2",children:"AI Analysis"}),g.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[g.jsxs("div",{children:["Category: ",R.aiAnalysis.category]}),g.jsxs("div",{children:["Complexity: ",R.aiAnalysis.complexity,"/5"]}),g.jsxs("div",{children:["Clarity: ",R.aiAnalysis.clarityScore,"/10"]}),g.jsxs("div",{children:["Sentiment: ",R.aiAnalysis.sentiment]})]})]}),g.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[g.jsxs("div",{children:["By: ",R.submitterName||"Anonymous"]}),g.jsxs("div",{children:["Votes: ",R.votes]})]}),g.jsxs("div",{className:"flex items-center space-x-2 mt-4",children:[g.jsx(An,{size:"sm",variant:"outline",onClick:()=>h(R.id,!0),children:"👍 Vote"}),s==="admin"&&g.jsxs(po,{value:R.status,onValueChange:N=>f(R.id,N),children:[g.jsx(ea,{className:"w-32",children:g.jsx(go,{})}),g.jsxs(ta,{children:[g.jsx(ze,{value:"submitted",children:"Submitted"}),g.jsx(ze,{value:"reviewed",children:"Reviewed"}),g.jsx(ze,{value:"approved",children:"Approved"}),g.jsx(ze,{value:"in-progress",children:"In Progress"}),g.jsx(ze,{value:"completed",children:"Completed"}),g.jsx(ze,{value:"rejected",children:"Rejected"})]})]})]})]})]},R.id))})})]})]}),g.jsx(ih,{value:"dashboard",children:g.jsxs(bn,{children:[g.jsx(wn,{children:g.jsx(En,{children:"Analytics Dashboard"})}),g.jsx(Tn,{children:m?g.jsxs("div",{className:"flex items-center justify-center py-12",children:[g.jsx(oh,{className:"h-8 w-8 animate-spin mr-2"}),g.jsx("span",{children:"Loading analytics..."})]}):g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[g.jsxs(bn,{children:[g.jsx(wn,{className:"pb-2",children:g.jsx(En,{className:"text-sm font-medium",children:"Total Requests"})}),g.jsx(Tn,{children:g.jsx("div",{className:"text-2xl font-bold",children:a.length})})]}),g.jsxs(bn,{children:[g.jsx(wn,{className:"pb-2",children:g.jsx(En,{className:"text-sm font-medium",children:"Pending Review"})}),g.jsx(Tn,{children:g.jsx("div",{className:"text-2xl font-bold text-orange-600",children:a.filter(R=>["submitted","analyzing","reviewed"].includes(R.status)).length})})]}),g.jsxs(bn,{children:[g.jsx(wn,{className:"pb-2",children:g.jsx(En,{className:"text-sm font-medium",children:"Completed"})}),g.jsx(Tn,{children:g.jsx("div",{className:"text-2xl font-bold text-green-600",children:a.filter(R=>R.status==="completed").length})})]})]})})]})}),g.jsx(ih,{value:"settings",children:g.jsxs(bn,{children:[g.jsx(wn,{children:g.jsx(En,{children:"System Settings & Status"})}),g.jsxs(Tn,{className:"space-y-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("h3",{className:"font-medium",children:"User Role & Access"}),g.jsx(an,{variant:s==="admin"?"default":"secondary",children:s==="admin"?"Administrator":"Beta Tester"}),g.jsx("p",{className:"text-sm text-gray-600",children:s==="admin"?"You have full access to manage all feature requests, view analytics, and use admin tools.":"You can submit feature requests, vote on existing ones, and view public analytics."})]}),g.jsx(eo,{}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("h3",{className:"font-medium",children:"Authentication Status"}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(an,{variant:"outline",className:"text-green-600",children:"✅ System Active"}),g.jsx(an,{variant:"outline",className:t.uid.includes("demo")?"text-blue-600":"text-green-600",children:t.uid.includes("demo")?"🔄 Demo Mode":"🔐 Authenticated"})]}),g.jsx("p",{className:"text-sm text-gray-600",children:t.uid.includes("demo")?"Running in demo mode with full functionality. All data is stored locally.":"Connected to live database with real-time synchronization."})]}),g.jsx(eo,{}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("h3",{className:"font-medium",children:"Enhanced Features Implemented"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("h4",{className:"text-sm font-medium text-green-600",children:"✅ Completed"}),g.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[g.jsx("li",{children:"• Enhanced app selection with 6 platform options"}),g.jsx("li",{children:"• Comprehensive admin interface"}),g.jsx("li",{children:"• Complete status workflow tracking"}),g.jsx("li",{children:"• Detailed user identification system"}),g.jsx("li",{children:"• Fixed authentication loading issues"}),g.jsx("li",{children:"• Demo mode with full functionality"})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("h4",{className:"text-sm font-medium text-blue-600",children:"🔄 Available Features"}),g.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[g.jsx("li",{children:"• Bulk status updates and management"}),g.jsx("li",{children:"• Advanced priority filtering and sorting"}),g.jsx("li",{children:"• Tester contact information tracking"}),g.jsx("li",{children:"• Complete request lifecycle management"}),g.jsx("li",{children:"• Real-time analytics and reporting"}),g.jsx("li",{children:"• AI-powered request analysis"})]})]})]})]}),g.jsx(eo,{}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("h3",{className:"font-medium",children:"AI Analysis Features"}),g.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[g.jsx("li",{children:"✅ Automated request categorization"}),g.jsx("li",{children:"✅ Complexity and clarity scoring"}),g.jsx("li",{children:"✅ Priority calculation algorithm"}),g.jsx("li",{children:"✅ Effort estimation"}),g.jsx("li",{children:"✅ Business impact assessment"}),g.jsx("li",{children:"✅ Duplicate detection"}),g.jsx("li",{children:"✅ Enhancement suggestions"})]})]}),g.jsx(eo,{}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("h3",{className:"font-medium",children:"System Status"}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(an,{variant:"outline",className:"text-green-600",children:"✅ AI Analysis Engine"}),g.jsx(an,{variant:"outline",className:"text-green-600",children:"✅ Request Management"}),g.jsx(an,{variant:"outline",className:"text-green-600",children:"✅ Analytics Dashboard"}),g.jsx(an,{variant:"outline",className:"text-green-600",children:"✅ Demo Mode Active"})]})]})]})]})})]})]})})}function YB(){return g.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-gray-50 to-blue-50 p-6 text-center",children:g.jsxs("div",{className:"space-y-6 max-w-md",children:[g.jsxs("div",{className:"space-y-3",children:[g.jsx("h1",{className:"text-8xl font-bold text-blue-600",children:"404"}),g.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Page Not Found"}),g.jsx("p",{className:"text-muted-foreground",children:"The page you're looking for doesn't exist or may have been moved."})]}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[g.jsx(An,{asChild:!0,children:g.jsx("a",{href:"/",children:"Return Home"})}),g.jsx(An,{variant:"outline",onClick:()=>window.history.back(),children:"Go Back"})]})]})})}const XB=new V4,WB=()=>g.jsx(L4,{client:XB,children:g.jsxs(l4,{children:[g.jsx(vM,{}),g.jsx(Ak,{children:g.jsxs(Ek,{children:[g.jsx(qg,{path:"/",element:g.jsx(QB,{})}),g.jsx(qg,{path:"*",element:g.jsx(YB,{})})]})})]})});zD.createRoot(document.getElementById("root")).render(g.jsx(WB,{}));
